# إعداد ميزات التاجر (Merchant Features Setup)

## المطلوب إضافته في Appwrite Console

لتفعيل نظام التجار بالكامل، يجب إضافة الـ attributes التالية في Appwrite Console:

### 1. إضافة Attributes لـ Products Collection

افتح **Appwrite Console** → **Databases** → **products collection** → **Attributes** وأضف:

#### merchantId (معرف التاجر)
- **Type**: String
- **Size**: 36
- **Required**: No (لتوافق مع المنتجات الحالية)
- **Default**: null
- **Array**: No

#### colors (الألوان المتاحة)
- **Type**: String  
- **Size**: 50
- **Required**: No
- **Array**: Yes (✅ مهم)
- **Default**: []

#### sizes (المقاسات المتاحة)
- **Type**: String
- **Size**: 50
- **Required**: No
- **Array**: Yes (✅ مهم)
- **Default**: []

### 2. إنشاء Index لـ merchantId

بعد إضافة الـ merchantId attribute، أضف index جديد:

- **Key**: `merchant_index`
- **Type**: key
- **Attributes**: [`merchantId`]

هذا يسرع البحث عن منتجات تاجر معين.

---

## الميزات اللي هتشتغل بعد الإضافة

### ✅ للتاجر (Merchant):
1. **عرض منتجاته فقط** - كل تاجر يشوف منتجاته بس
2. **تعديل منتجاته** - يقدر يعدل السعر، الوصف، الصور، إلخ
3. **عرض الطلبات على منتجاته** - يشوف مين طلب من عنده
4. **تحديث حالة الطلبات** - قبول/رفض/شحن الطلبات
5. **إحصائيات مبيعاته** - إجمالي المبيعات والأرباح

### ✅ للعميل (Customer):
1. **اختيار اللون المطلوب** - من الألوان اللي التاجر حددها
2. **اختيار المقاس** - من المقاسات المتاحة (S, M, L, XL أو أرقام)
3. **تجربة شراء أفضل** - معرفة الخيارات المتاحة بوضوح

---

## خطوات الإضافة في Appwrite Console

1. افتح https://cloud.appwrite.io/console
2. اختر المشروع: **egygo-ecommerce**
3. روح على **Databases** → اختر الـ Database
4. اختر **products** collection
5. اضغط **Attributes** → **Create Attribute**
6. أضف كل attribute من اللي فوق واحدة واحدة
7. بعد إضافة `merchantId`، روح على **Indexes** → **Create Index**
8. أضف الـ index للبحث السريع

---

## ملاحظات مهمة

⚠️ **المنتجات الحالية**: 
- المنتجات اللي موجودة حالياً مش هيكون ليها `merchantId`
- هتظهر للكل لحد ما يتعمل لها assign لتاجر معين
- ممكن الأدمن يعمل bulk update لتحديد التاجر لكل منتج

⚠️ **Permissions**:
- لازم تتأكد إن التاجر عنده permission للـ update على منتجاته بس
- الأدمن عنده full access على كل المنتجات

⚠️ **Colors & Sizes**:
- الألوان: مثال `["أحمر", "أزرق", "أخضر"]` أو `["Red", "Blue", "Green"]`
- المقاسات: مثال `["S", "M", "L", "XL"]` أو `["38", "40", "42", "44"]`
- يمكن خلطهم حسب نوع المنتج

---

## بعد الإضافة

بعد ما تضيف الـ attributes، الكود الموجود هيشتغل تلقائياً:
- ✅ Merchant Dashboard سيعمل بشكل كامل
- ✅ نموذج إضافة المنتجات سيحتوي على حقول الألوان والمقاسات
- ✅ صفحة المنتج ستعرض خيارات الألوان والمقاسات للعميل
- ✅ سلة التسوق ستحفظ اللون والمقاس المختار

---

## هل تحتاج مساعدة؟

إذا واجهت أي مشكلة:
1. تأكد من كتابة أسماء الـ attributes بشكل صحيح (حساسة لحالة الأحرف)
2. تأكد من تحديد Array = Yes للـ colors و sizes
3. تأكد من إضافة الـ index بعد الـ merchantId attribute
4. جرب تحديث الصفحة بعد الإضافة

🚀 **بالتوفيق!**

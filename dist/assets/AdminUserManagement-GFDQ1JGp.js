import{r as n,j as e,U as fe,bC as ve,k as be,bG as ye,a$ as Ne,a0 as V}from"./vendor-react-BMq-IxHG.js";import{T as Ce}from"./LoadingSkeletons-DAs8Sw-3.js";import{o as ke,u as we,d as N,e as o,C as _,f as J,L as i,I as m,r as De,s as Se,D as A,t as M,v as I,w as $,x as O,y as T,B as G}from"./index-DuObFWLq.js";import{Q as K,I as Pe}from"./vendor-appwrite-BGb_FC-V.js";import{T as Fe,a as Ae,b as W,c as g,d as Me,e as f}from"./table--PfvcEZL.js";import{S as X,a as Y,b as Z,c as ee,d as x}from"./select-MBjfD9dX.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-GexG3wnZ.js";import"./vendor-other-C5r3s8Py.js";import"./vendor-animations-W1Z2cmit.js";import"./skeleton-DMaUp_11.js";const C=void 0;function Ge(){const{user:Ie}=ke(),{toast:d}=we(),[se,ae]=n.useState([]),[le,Q]=n.useState(!1),[k,re]=n.useState(""),[R,te]=n.useState("all"),[ne,w]=n.useState(!1),[r,v]=n.useState({email:"",password:"",name:"",phone:"",role:"customer",defaultMarkupPercentage:"20"}),[ie,D]=n.useState(!1),[c,E]=n.useState(null),[L,B]=n.useState("20"),[S,P]=n.useState(!1),[a,H]=n.useState(null),[l,p]=n.useState({name:"",email:"",phone:"",role:"customer",defaultMarkupPercentage:"20"}),[ce,F]=n.useState(!1),[j,q]=n.useState(null);n.useEffect(()=>{b()},[]),n.useEffect(()=>{console.log("ðŸ“Š Edit Dialog State Changed:",S),console.log("ðŸ‘¤ Editing User:",a),S&&a&&(console.log("âœ… Dialog should be visible now"),console.log("ðŸ“ Edit User Data:",l))},[S,a,l]);const b=async()=>{Q(!0);try{const s=await N.listDocuments(C,"userPreferences",[K.limit(100),K.orderDesc("$createdAt")]);console.log("ðŸ“¥ Loaded users:",s.documents.length),console.log("ðŸ“‹ First user sample:",s.documents[0]);const t=s.documents.reduce((h,y)=>(h[y.role]=(h[y.role]||0)+1,h),{});console.log("ðŸ“Š Users by role:",t);const u=s.documents.filter(h=>h.role==="customer"&&!h.isIntermediary);console.log("ðŸŸ£ Customers eligible for intermediary:",u.length),u.length>0&&console.log("ðŸ“ Sample eligible customer:",u[0]),ae(s.documents)}catch(s){console.error("âŒ Error loading users:",s),d({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†",variant:"destructive"})}finally{Q(!1)}},oe=async()=>{if(!r.email||!r.password||!r.name){d({title:"ØªØ­Ø°ÙŠØ±",description:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",variant:"destructive"});return}try{const s=Pe.unique();await N.createDocument(C,"userPreferences",s,{userId:s,email:r.email,name:r.name,phone:r.phone||"",role:r.role,isAdmin:r.role==="admin",isAffiliate:r.role==="affiliate",isMerchant:r.role==="merchant",isIntermediary:!1,affiliateCode:r.role==="affiliate"?`AFF${Date.now()}`:"",intermediaryCode:"",defaultMarkupPercentage:0,commissionRate:r.role==="affiliate"?10:0}),d({title:"Ù†Ø¬Ø­!",description:`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ${r.name} Ø¨Ù†Ø¬Ø§Ø­`}),w(!1),v({email:"",password:"",name:"",phone:"",role:"customer",defaultMarkupPercentage:"20"}),b()}catch(s){d({title:"Ø®Ø·Ø£",description:s.message||"ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨",variant:"destructive"})}},de=async()=>{if(!(!c||!L))try{const s=`INT${Date.now()}`;await N.updateDocument(C,"userPreferences",c.$id,{role:"intermediary",isIntermediary:!0,intermediaryCode:s,defaultMarkupPercentage:parseFloat(L)}),d({title:"ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„!",description:`ØªÙ… ØªÙØ¹ÙŠÙ„ Ø¯ÙˆØ± Ø§Ù„ÙˆØ³ÙŠØ· Ù„Ù€ ${c.name}`}),D(!1),E(null),B("20"),b()}catch(s){d({title:"Ø®Ø·Ø£",description:s.message||"ÙØ´Ù„ ØªÙØ¹ÙŠÙ„ Ø¯ÙˆØ± Ø§Ù„ÙˆØ³ÙŠØ·",variant:"destructive"})}},me=s=>{E(s),D(!0)},xe=s=>{var t;console.log("ðŸ” Opening edit dialog for user:",s),H(s),p({name:s.name||"",email:s.email||"",phone:s.phone||"",role:s.role||"customer",defaultMarkupPercentage:((t=s.defaultMarkupPercentage)==null?void 0:t.toString())||"20"}),P(!0),console.log("âœ… Edit dialog state set to true")},he=s=>{s!==(a==null?void 0:a.role)?(q(s),F(!0)):p({...l,role:s})},ue=()=>{j&&(p({...l,role:j}),F(!1),q(null))},pe=async()=>{if(!a||!l.name||!l.email){d({title:"ØªØ­Ø°ÙŠØ±",description:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©",variant:"destructive"});return}try{const s={name:l.name,email:l.email,phone:l.phone||"",role:l.role,isAdmin:l.role==="admin",isAffiliate:l.role==="affiliate",isMerchant:l.role==="merchant",isIntermediary:l.role==="intermediary",accountStatus:"approved"};l.role!==a.role?(s.affiliateCode=l.role==="affiliate"?`AFF${Date.now()}`:"",s.intermediaryCode=l.role==="intermediary"?`INT${Date.now()}`:"",s.defaultMarkupPercentage=l.role==="intermediary"?parseFloat(l.defaultMarkupPercentage):0,s.commissionRate=l.role==="affiliate"?10:0):s.defaultMarkupPercentage=a.isIntermediary?parseFloat(l.defaultMarkupPercentage):a.defaultMarkupPercentage||0,await N.updateDocument(C,"userPreferences",a.$id,s),d({title:"Ù†Ø¬Ø­!",description:`ØªÙ… ØªØ­Ø¯ÙŠØ« ${l.name} Ø¨Ù†Ø¬Ø§Ø­`}),P(!1),H(null),b()}catch(s){d({title:"Ø®Ø·Ø£",description:s.message||"ÙØ´Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",variant:"destructive"})}},je=async(s,t)=>{if(confirm(`Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ${t}ØŸ`))try{await N.deleteDocument(C,"userPreferences",s),d({title:"ØªÙ… Ø§Ù„Ø­Ø°Ù",description:`ØªÙ… Ø­Ø°Ù ${t}`}),b()}catch{d({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",variant:"destructive"})}},ge=s=>{const t={admin:"bg-red-100 text-red-800",intermediary:"bg-purple-100 text-purple-800",merchant:"bg-blue-100 text-blue-800",affiliate:"bg-green-100 text-green-800",customer:"bg-gray-100 text-gray-800"},u={admin:"Ù…Ø¯ÙŠØ±",intermediary:"ÙˆØ³ÙŠØ·",merchant:"ØªØ§Ø¬Ø±",affiliate:"Ù…Ø³ÙˆÙ‚",customer:"Ø¹Ù…ÙŠÙ„"};return e.jsx(G,{className:t[s]||t.customer,children:u[s]||s})},z=se.filter(s=>{var h,y,U;const t=((h=s.name)==null?void 0:h.toLowerCase().includes(k.toLowerCase()))||((y=s.email)==null?void 0:y.toLowerCase().includes(k.toLowerCase()))||((U=s.phone)==null?void 0:U.includes(k)),u=R==="all"||s.role===R;return t&&u});return e.jsx("div",{className:"container mx-auto p-6",dir:"rtl",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(fe,{className:"h-8 w-8"}),"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†"]}),e.jsx("p",{className:"text-muted-foreground",children:"Ø¥Ø¯Ø§Ø±Ø© Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ÙˆØ³Ø·Ø§Ø¡"})]}),e.jsxs(o,{onClick:()=>w(!0),children:[e.jsx(ve,{className:"h-4 w-4 ml-2"}),"Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…"]})]}),e.jsx(_,{children:e.jsx(J,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Ø¨Ø­Ø«"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(m,{placeholder:"Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ØŒ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ...",value:k,onChange:s=>re(s.target.value),className:"pr-10"})]})]}),e.jsxs("div",{children:[e.jsx(i,{children:"ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±"}),e.jsxs(X,{value:R,onValueChange:te,children:[e.jsx(Y,{children:e.jsx(Z,{})}),e.jsxs(ee,{children:[e.jsx(x,{value:"all",children:"Ø§Ù„ÙƒÙ„"}),e.jsx(x,{value:"admin",children:"Ù…Ø¯ÙŠØ±"}),e.jsx(x,{value:"intermediary",children:"ÙˆØ³ÙŠØ·"}),e.jsx(x,{value:"merchant",children:"ØªØ§Ø¬Ø±"}),e.jsx(x,{value:"affiliate",children:"Ù…Ø³ÙˆÙ‚"}),e.jsx(x,{value:"customer",children:"Ø¹Ù…ÙŠÙ„"})]})]})]})]})})}),e.jsxs(_,{children:[e.jsx(De,{children:e.jsxs(Se,{children:["Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ† (",z.length,")"]})}),e.jsx(J,{children:le?e.jsx(Ce,{rows:8,cols:7}):z.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Fe,{children:[e.jsx(Ae,{children:e.jsxs(W,{children:[e.jsx(g,{children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx(g,{children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx(g,{children:"Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx(g,{children:"Ø§Ù„Ø¯ÙˆØ±"}),e.jsx(g,{children:"Ø§Ù„ÙƒÙˆØ¯"}),e.jsx(g,{children:"ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡"}),e.jsx(g,{children:"Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"})]})}),e.jsx(Me,{children:z.map(s=>e.jsxs(W,{children:[e.jsx(f,{className:"font-medium",children:s.name}),e.jsx(f,{children:s.email}),e.jsx(f,{children:s.phone||"-"}),e.jsx(f,{children:ge(s.role)}),e.jsx(f,{children:e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:s.affiliateCode||s.intermediaryCode||"-"})}),e.jsx(f,{children:new Date(s.$createdAt).toLocaleDateString("ar-EG")}),e.jsx(f,{children:e.jsxs("div",{className:"flex gap-2 items-center",children:[s.role==="customer"&&!s.isIntermediary&&e.jsx(o,{size:"sm",variant:"default",className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("ðŸŸ£ Activating intermediary for:",s.name),me(s)},children:"ØªÙØ¹ÙŠÙ„ ÙˆØ³ÙŠØ·"}),e.jsx(o,{size:"sm",variant:"outline",onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("âœï¸ Edit button clicked for:",s.name),console.log("User data:",s),xe(s)},title:"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",children:e.jsx(ye,{className:"h-4 w-4"})}),e.jsx(o,{size:"sm",variant:"destructive",onClick:t=>{t.preventDefault(),t.stopPropagation(),je(s.$id,s.name)},title:"Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…",children:e.jsx(Ne,{className:"h-4 w-4"})})]})})]},s.$id))})]})})})]}),e.jsx(A,{open:ne,onOpenChange:w,children:e.jsxs(M,{className:"sm:max-w-[500px]",dir:"rtl",children:[e.jsxs(I,{children:[e.jsx($,{children:"Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯"}),e.jsx(O,{children:"Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Ø§Ù„Ø§Ø³Ù… *"}),e.jsx(m,{id:"name",value:r.name,onChange:s=>v({...r,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ *"}),e.jsx(m,{id:"email",type:"email",value:r.email,onChange:s=>v({...r,email:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:"ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± *"}),e.jsx(m,{id:"password",type:"password",value:r.password,onChange:s=>v({...r,password:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx(m,{id:"phone",type:"tel",value:r.phone,onChange:s=>v({...r,phone:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"role",children:"Ø§Ù„Ø¯ÙˆØ± *"}),e.jsxs(X,{value:r.role,onValueChange:s=>v({...r,role:s}),children:[e.jsx(Y,{children:e.jsx(Z,{})}),e.jsxs(ee,{children:[e.jsx(x,{value:"customer",children:"Ø¹Ù…ÙŠÙ„"}),e.jsx(x,{value:"affiliate",children:"Ù…Ø³ÙˆÙ‚"}),e.jsx(x,{value:"merchant",children:"ØªØ§Ø¬Ø±"}),e.jsx(x,{value:"admin",children:"Ù…Ø¯ÙŠØ±"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¯ÙˆØ± Ø§Ù„ÙˆØ³ÙŠØ· ÙŠÙ…ÙƒÙ† ØªÙØ¹ÙŠÙ„Ù‡ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¬Ø¯ÙˆÙ„"})]})]}),e.jsxs(T,{children:[e.jsx(o,{variant:"outline",onClick:()=>w(!1),children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(o,{onClick:oe,children:"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨"})]})]})}),e.jsx(A,{open:ie,onOpenChange:D,children:e.jsxs(M,{className:"sm:max-w-[500px]",dir:"rtl",children:[e.jsxs(I,{children:[e.jsx($,{children:"ØªÙØ¹ÙŠÙ„ Ø¯ÙˆØ± Ø§Ù„ÙˆØ³ÙŠØ·"}),e.jsxs(O,{children:["ØªÙØ¹ÙŠÙ„ Ø¯ÙˆØ± Ø§Ù„ÙˆØ³ÙŠØ· Ù„Ù€ ",c==null?void 0:c.name]})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[e.jsx("strong",{children:"Ø§Ù„Ø¹Ù…ÙŠÙ„:"})," ",c==null?void 0:c.name]}),e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[e.jsx("strong",{children:"Ø§Ù„Ø¨Ø±ÙŠØ¯:"})," ",c==null?void 0:c.email]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"intermediary-markup",children:"Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ±Ù…ÙŠØ² Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (%)"}),e.jsx(m,{id:"intermediary-markup",type:"number",min:"0",max:"100",value:L,onChange:s=>B(s.target.value),placeholder:"Ù…Ø«Ø§Ù„: 20"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ØµÙ„ÙŠ"})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"â„¹ï¸ Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ ÙˆØ³ÙŠØ· ÙØ±ÙŠØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹"}),e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"â„¹ï¸ Ø³ÙŠØªÙ…ÙƒÙ† Ø§Ù„ÙˆØ³ÙŠØ· Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Ø±ÙˆØ§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠØ©"})]})]}),e.jsxs(T,{children:[e.jsx(o,{variant:"outline",onClick:()=>{D(!1),E(null),B("20")},children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(o,{onClick:de,className:"bg-purple-600 hover:bg-purple-700",children:"ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ³ÙŠØ·"})]})]})}),e.jsx(A,{open:S,onOpenChange:s=>{console.log("ðŸ”„ Dialog onOpenChange called:",s),P(s)},children:e.jsxs(M,{className:"max-w-md",onOpenAutoFocus:()=>{console.log("ðŸŽ¯ Dialog content rendered and focused")},children:[e.jsxs(I,{children:[e.jsx($,{children:"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"}),e.jsx(O,{children:"Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-name",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx(m,{id:"edit-name",value:l.name,onChange:s=>p({...l,name:s.target.value}),placeholder:"Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-email",children:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}),e.jsx(m,{id:"edit-email",type:"email",value:l.email,onChange:s=>p({...l,email:s.target.value}),placeholder:"user@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-phone",children:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"}),e.jsx(m,{id:"edit-phone",value:l.phone,onChange:s=>p({...l,phone:s.target.value}),placeholder:"+20 123 456 7890"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-role",children:"Ø§Ù„Ø¯ÙˆØ±"}),e.jsxs("select",{id:"edit-role",className:"w-full p-2 border rounded-md bg-background",value:l.role,onChange:s=>he(s.target.value),children:[e.jsx("option",{value:"customer",children:"Ø¹Ù…ÙŠÙ„"}),e.jsx("option",{value:"affiliate",children:"Ù…Ø³ÙˆÙ‚ Ø¨Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©"}),e.jsx("option",{value:"merchant",children:"ØªØ§Ø¬Ø±"}),e.jsx("option",{value:"intermediary",children:"ÙˆØ³ÙŠØ·"}),e.jsx("option",{value:"admin",children:"Ù…Ø¯ÙŠØ±"})]}),l.role!==(a==null?void 0:a.role)&&e.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3"}),"Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙˆØ±Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ù…Ø±Ø§Ø¬Ø¹Ø©"]})]}),(a==null?void 0:a.isIntermediary)&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"edit-markup",children:"Ù†Ø³Ø¨Ø© Ø§Ù„Ù‡Ø§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ÙŠ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (%)"}),e.jsx(m,{id:"edit-markup",type:"number",min:"0",max:"100",value:l.defaultMarkupPercentage,onChange:s=>p({...l,defaultMarkupPercentage:s.target.value}),placeholder:"20"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ø¹Ù„Ù‰ Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ØµÙ„ÙŠ"})]})]}),e.jsxs(T,{children:[e.jsx(o,{variant:"outline",onClick:()=>{P(!1),H(null)},children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(o,{onClick:pe,className:"bg-blue-600 hover:bg-blue-700",children:"Ø­ÙØ¸ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª"})]})]})}),e.jsx(A,{open:ce,onOpenChange:F,children:e.jsxs(M,{className:"sm:max-w-[500px]",dir:"rtl",children:[e.jsxs(I,{children:[e.jsxs($,{className:"flex items-center gap-2 text-orange-600",children:[e.jsx(V,{className:"h-6 w-6"}),"ØªØ­Ø°ÙŠØ±: ØªØºÙŠÙŠØ± Ø§Ù„Ø¯ÙˆØ±"]}),e.jsx(O,{children:"ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ØªØ­Ø°ÙŠØ± Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ù†Ø§ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-red-800 dark:text-red-200 mb-2 flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"ØªØ­Ø°ÙŠØ± Ù‡Ø§Ù…"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-red-700 dark:text-red-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"â€¢"}),e.jsx("span",{children:"Ø³ÙŠÙÙ‚Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"â€¢"}),e.jsx("span",{children:"Ø³ÙŠØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§ØªØŒ Ø§Ù„Ø·Ù„Ø¨Ø§ØªØŒ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"â€¢"}),e.jsx("span",{children:"Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-600 font-bold",children:"â€¢"}),e.jsx("span",{children:"Ø³ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ ÙÙˆØ±Ø§Ù‹ Ø¨Ø¯ÙˆÙ† Ù…Ø±Ø§Ø¬Ø¹Ø©"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-bold text-blue-800 dark:text-blue-200 mb-2",children:"Ø§Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:"}),e.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ"}),e.jsxs(G,{className:"text-base px-4 py-1",children:[(a==null?void 0:a.role)==="customer"&&"Ø¹Ù…ÙŠÙ„",(a==null?void 0:a.role)==="affiliate"&&"Ù…Ø³ÙˆÙ‚",(a==null?void 0:a.role)==="merchant"&&"ØªØ§Ø¬Ø±",(a==null?void 0:a.role)==="intermediary"&&"ÙˆØ³ÙŠØ·",(a==null?void 0:a.role)==="admin"&&"Ù…Ø¯ÙŠØ±"]})]}),e.jsx("div",{className:"text-2xl text-muted-foreground",children:"â†’"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-1",children:"Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯"}),e.jsxs(G,{className:"text-base px-4 py-1 bg-green-100 text-green-800",children:[j==="customer"&&"Ø¹Ù…ÙŠÙ„",j==="affiliate"&&"Ù…Ø³ÙˆÙ‚",j==="merchant"&&"ØªØ§Ø¬Ø±",j==="intermediary"&&"ÙˆØ³ÙŠØ·",j==="admin"&&"Ù…Ø¯ÙŠØ±"]})]})]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["â„¹ï¸ ",e.jsx("strong",{children:"Ù…Ù„Ø§Ø­Ø¸Ø©:"})," Ø³ÙŠØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø£Ø¯Ù…Ù†"]})})]}),e.jsxs(T,{children:[e.jsx(o,{variant:"outline",onClick:()=>{F(!1),q(null)},children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(o,{onClick:ue,className:"bg-red-600 hover:bg-red-700",children:"ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØºÙŠÙŠØ±"})]})]})})]})})}export{Ge as default};

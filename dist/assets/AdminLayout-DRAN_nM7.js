import{af as d,r as o,a8 as p,a9 as h,a0 as m,j as e,aX as j,aY as v,B as u,aZ as y,a_ as N,a$ as b,p as k,w,o as C,aw as S,J as A,ab as I,ac as L,n as _,ay as O,ao as B,d as E,a as H,b0 as T,b1 as $,b2 as q,b3 as D}from"./index-Ce-RwxJS.js";import{T as F}from"./tag-BB9opunb.js";import{S as U}from"./settings-DdUeHZqS.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],M=d("folder-open",z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],J=d("layout-dashboard",P);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R=d("user-check",Q);function V(){const[a,t]=o.useState(0),[n,c]=o.useState(!0);return o.useEffect(()=>{const i=async()=>{try{const r=await p.listDocuments(h.databaseId,h.collections.users,[m.equal("accountStatus","pending"),m.limit(1)]);t(r.total)}catch(r){console.error("Error fetching pending accounts count:",r),t(0)}finally{c(!1)}};i();const l=setInterval(i,6e4);return()=>clearInterval(l)},[]),{count:a,loading:n}}const X=[{title:"لوحة التحكم",href:"/admin",icon:J,roles:["admin"]},{title:"إدارة المنتجات",href:"/admin/products",icon:C,roles:["admin","merchant"]},{title:"إدارة الفئات",href:"/admin/categories",icon:M,roles:["admin","merchant"]},{title:"إدارة المستخدمين والشركاء",href:"/admin/users",icon:S,roles:["admin"]},{title:"الحسابات المعلقة",href:"/admin/pending-accounts",icon:R,roles:["admin"]},{title:"إدارة الطلبات",href:"/admin/orders",icon:A,roles:["admin"]},{title:"إدارة الكوبونات",href:"/admin/coupons",icon:F,roles:["admin"]},{title:"إدارة العمولات",href:"/admin/commissions",icon:I,roles:["admin"]},{title:"التحليلات المتقدمة",href:"/admin/analytics",icon:L,roles:["admin"]},{title:"إدارة الشحن",href:"/admin/shipping",icon:_,roles:["admin"]},{title:"الإعدادات المتقدمة",href:"/admin/advanced-settings",icon:O,roles:["admin"]},{title:"الإشعارات",href:"/admin/notifications",icon:B,roles:["admin"]},{title:"الإعدادات",href:"/admin/settings",icon:U,roles:["admin"]}],x=({onLinkClick:a})=>{const t=b(),n=k(),{user:c}=w(),{count:i}=V(),l=()=>{n("/login"),a?.()},r=X.filter(s=>s.roles.includes(c?.role||"customer"));return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsx("h2",{className:"text-xl font-bold text-primary",children:c?.role==="merchant"?"لوحة تحكم التاجر":"لوحة تحكم الإدارة"})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:r.map(s=>{const f=s.icon,g=t.pathname===s.href;return e.jsxs(E,{to:s.href,onClick:a,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors hover:bg-accent ${g?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:"flex-1",children:s.title}),s.href==="/admin/pending-accounts"&&i>0&&e.jsx(H,{variant:"destructive",className:"h-5 min-w-5 flex items-center justify-center px-1.5",children:i})]},s.href)})}),e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs(T,{className:"h-8 w-8",children:[e.jsx($,{src:""}),e.jsx(q,{children:"أدمن"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium",children:"المدير العام"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@example.com"})]})]}),e.jsxs(u,{variant:"outline",size:"sm",className:"w-full justify-start gap-2",onClick:l,children:[e.jsx(D,{className:"h-4 w-4"}),"تسجيل الخروج"]})]})]})},K=({children:a})=>{const[t,n]=o.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(j,{open:t,onOpenChange:n,children:[e.jsx("div",{className:"lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"لوحة التحكم"}),e.jsx(v,{asChild:!0,children:e.jsx(u,{variant:"outline",size:"icon",children:e.jsx(y,{className:"h-4 w-4"})})})]})}),e.jsx(N,{side:"right",className:"w-[280px] p-0",children:e.jsx(x,{onLinkClick:()=>n(!1)})})]}),e.jsxs("div",{className:"lg:flex",children:[e.jsx("div",{className:"hidden lg:block lg:w-[280px] lg:border-r lg:bg-muted/30",children:e.jsx("div",{className:"sticky top-0 h-screen",children:e.jsx(x,{})})}),e.jsx("div",{className:"flex-1 lg:max-w-[calc(100vw-280px)]",children:e.jsx("main",{className:"p-4 lg:p-6",children:a})})]})]})};export{K as A,M as F,R as U};

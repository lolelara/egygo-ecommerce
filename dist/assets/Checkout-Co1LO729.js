import{l as T,r as t,j as e,a_ as R,ae as V,al as $,bw as y,bx as z,by as w,n as C,az as A,a8 as E,bz as B}from"./vendor-react-CCFRLLzk.js";import{u as G,a as Y,C as d,x as i,y as n,h as x,L as s,I as r,T as k,r as F,f as D}from"./index-D7NOjX7I.js";import{R as H,a as v}from"./radio-group-oV1d0SCI.js";import{P as U}from"./progress-BMoObgzu.js";import"./vendor-appwrite-CuqfvTq9.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-j_rPqiug.js";import"./vendor-other-CzBBjgu5.js";import"./vendor-animations-CPHPqPXb.js";function ie(){const p=T(),{toast:u}=G(),{items:m}=Y(),[g,b]=t.useState(!1),[S,o]=t.useState(0),[_,J]=t.useState(1),[l,q]=t.useState("cash"),[K,O]=t.useState(""),[h,Q]=t.useState(null),[W,X]=t.useState(!1);t.useEffect(()=>{m.length===0&&(u({title:"السلة فارغة",description:"الرجاء إضافة منتجات للسلة أولاً",variant:"destructive"}),p("/products"))},[m,p,u]);const j=m.reduce((a,c)=>a+c.price*c.quantity,0),N=j>=500?0:50;let f=0;h&&(h.type==="percentage"?f=j*h.value/100:f=h.value);const P=j+N-f,M=async a=>{a.preventDefault(),b(!0),o(0);let c=0;const I=setInterval(()=>{c+=Math.random()*30,o(Math.min(c,100))},200);await new Promise(L=>setTimeout(L,2e3)),clearInterval(I),o(100),u({title:"تم إرسال الطلب بنجاح!",description:"سيتم التواصل معك قريباً لتأكيد الطلب"}),setTimeout(()=>{b(!1),o(0),p("/orders")},800)};return e.jsx("div",{className:"min-h-screen bg-background",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إتمام الطلب 💳"}),e.jsx("p",{className:"text-muted-foreground",children:"أكمل البيانات لإتمام طلبك بأمان"})]}),e.jsxs("form",{onSubmit:M,children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-green-500 text-white mb-2",children:e.jsx(R,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-sm font-semibold text-green-600",children:"السلة"})]}),e.jsx("div",{className:"flex-1 h-1 bg-primary -mx-2"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-primary text-white mb-2 animate-pulse",children:"2"}),e.jsx("span",{className:"text-sm font-semibold text-primary",children:"البيانات"})]}),e.jsx("div",{className:"flex-1 h-1 bg-gray-200 -mx-2"}),e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"h-10 w-10 rounded-full flex items-center justify-center bg-gray-200 text-gray-600 mb-2",children:"3"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"التأكيد"})]})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(d,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5"}),"المعلومات الشخصية"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"firstName",children:"الاسم الأول *"}),e.jsx(r,{id:"firstName",placeholder:"محمد",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"lastName",children:"اسم العائلة *"}),e.jsx(r,{id:"lastName",placeholder:"أحمد",required:!0})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"email",children:"البريد الإلكتروني *"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground rtl:right-auto rtl:left-3"}),e.jsx(r,{id:"email",type:"email",placeholder:"email@example.com",className:"pr-10 rtl:pr-3 rtl:pl-10",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"phone",children:"رقم الهاتف *"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground rtl:right-auto rtl:left-3"}),e.jsx(r,{id:"phone",type:"tel",placeholder:"+20 123 456 7890",className:"pr-10 rtl:pr-3 rtl:pl-10",required:!0})]})]})]})]})]}),e.jsxs(d,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5"}),"عنوان الشحن"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"city",children:"المدينة *"}),e.jsx(r,{id:"city",placeholder:"القاهرة",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"state",children:"المحافظة *"}),e.jsx(r,{id:"state",placeholder:"القاهرة",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"address",children:"العنوان التفصيلي *"}),e.jsx(k,{id:"address",placeholder:"الشارع، رقم المبنى، الدور، الشقة",rows:3,required:!0})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"postalCode",children:"الرمز البريدي"}),e.jsx(r,{id:"postalCode",placeholder:"12345"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"landmark",children:"علامة مميزة"}),e.jsx(r,{id:"landmark",placeholder:"بجوار المسجد / المدرسة"})]})]})]})]}),e.jsxs(d,{children:[e.jsx(i,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"طريقة الدفع"]})}),e.jsxs(x,{children:[e.jsxs(H,{value:l,onValueChange:q,className:"space-y-3",children:[e.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${l==="cash"?"border-green-500 bg-green-50 dark:bg-green-950/20":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{value:"cash",id:"cash"}),e.jsx(s,{htmlFor:"cash",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"الدفع عند الاستلام 📦"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ادفع نقداً عند استلام الطلب"})]})]})})]})}),e.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${l==="vodafone"?"border-red-500 bg-red-50 dark:bg-red-950/20":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{value:"vodafone",id:"vodafone"}),e.jsx(s,{htmlFor:"vodafone",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:e.jsx(y,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"فودافون كاش 📱"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"تحويل فوري عبر فودافون كاش"})]})]})})]})}),e.jsx("div",{className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${l==="card"?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{value:"card",id:"card"}),e.jsx(s,{htmlFor:"card",className:"flex-1 cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(w,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"بطاقة ائتمان 💳"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Visa, Mastercard, Amex"})]})]})})]})})]}),l==="card"&&e.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"cardNumber",children:"رقم البطاقة"}),e.jsx(r,{id:"cardNumber",placeholder:"1234 5678 9012 3456",required:l==="card"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"expiry",children:"تاريخ الانتهاء"}),e.jsx(r,{id:"expiry",placeholder:"MM/YY",required:l==="card"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"cvv",children:"CVV"}),e.jsx(r,{id:"cvv",placeholder:"123",maxLength:4,required:l==="card"})]})]})]})]})]}),e.jsxs(d,{children:[e.jsx(i,{children:e.jsx(n,{children:"ملاحظات إضافية"})}),e.jsx(x,{children:e.jsx(k,{placeholder:"أي ملاحظات خاصة بالطلب...",rows:3})})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(d,{className:"sticky top-4",children:[e.jsx(i,{children:e.jsx(n,{children:"ملخص الطلب"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:m.map(a=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm line-clamp-2",children:a.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["الكمية: ",a.quantity]})]}),e.jsx("div",{className:"text-left",children:e.jsxs("p",{className:"font-semibold text-sm",children:[(a.price*a.quantity).toLocaleString()," ج.م"]})})]},a.id))}),e.jsx(F,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"المجموع الفرعي"}),e.jsxs("span",{className:"font-semibold",children:[j.toLocaleString()," ج.م"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"الشحن"}),e.jsx("span",{className:"font-semibold",children:N===0?"مجاني":`${N} ج.م`})]}),e.jsx(F,{}),e.jsxs("div",{className:"flex justify-between text-lg",children:[e.jsx("span",{className:"font-bold",children:"الإجمالي"}),e.jsxs("span",{className:"font-bold text-primary text-2xl",children:[P.toLocaleString()," ج.م"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(D,{type:"submit",size:"lg",className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",disabled:g,children:g?"جاري المعالجة...":e.jsxs(e.Fragment,{children:["تأكيد الطلب",e.jsx(A,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),g&&e.jsx(U,{value:S,className:"h-2 bg-muted"})]}),e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(E,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"دفع آمن ومشفر 100%"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(B,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{children:"التواصل خلال 24 ساعة"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(C,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{children:"توصيل سريع وآمن"})]})]})]})]})})]})]})]})})}export{ie as default};

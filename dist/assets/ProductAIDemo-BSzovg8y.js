var ce=Object.defineProperty;var oe=(a,s,c)=>s in a?ce(a,s,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[s]=c;var B=(a,s,c)=>oe(a,typeof s!="symbol"?s+"":s,c);import{r as p,j as e,aa as A,aE as $,bq as de,ae,s as W,i as L,bs as C,U as me,b8 as ne,aT as P,cF as G,ah as D,aL as R,aJ as M,aj as Q,ai as V,ag as X,aK as H,a9 as pe,M as he,cG as xe,bu as ge,by as ue,Q as je,b5 as be,g as fe,bH as ye}from"./vendor-react-BTCGZZAN.js";import{u as K,e as b,C as v,r as E,s as O,f as k,B as U,R as Ne,I as F,L as T}from"./index-DAwEpow4.js";import{T as we}from"./textarea-DC34-8pe.js";import{T as ve,a as ke,b as z,c as J}from"./tabs-43GTZMZA.js";import{e as _}from"./env-DxkJ_7NB.js";import{A as Se,a as Ie,b as Ce,c as Ae}from"./accordion-BuzOCl5F.js";import{S as q,a as Z,b as ee,c as se,d as te}from"./select-DcBOtlUf.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-GexG3wnZ.js";import"./vendor-other-ws_0vYaO.js";import"./vendor-animations-W1Z2cmit.js";import"./vendor-appwrite-BQhTxLk4.js";class Te{constructor(){B(this,"apiKey");B(this,"apiEndpoint","https://api.openai.com/v1/chat/completions");this.apiKey=_.OPENAI_API_KEY}async enhanceProductDescription(s){if(!this.apiKey)throw new Error("OpenAI API key not configured");const c=`أنت خبير في كتابة أوصاف المنتجات الجذابة والاحترافية.

المنتج:
- الاسم: ${s.name}
- الوصف الحالي: ${s.description||"لا يوجد وصف"}
- الفئة: ${s.category||"غير محدد"}
- السعر: ${s.price?`${s.price} جنيه`:"غير محدد"}

المطلوب:
1. اكتب وصفاً محسّناً وجذاباً للمنتج (3-4 فقرات)
2. استخرج 5-7 كلمات مفتاحية SEO
3. اذكر 4-5 نقاط بارزة (highlights) للمنتج

قواعد الكتابة:
- استخدم لغة عربية فصحى مبسطة
- ركز على الفوائد وليس فقط المميزات
- اجعل الوصف مقنعاً ومحفزاً للشراء
- استخدم أسلوب تسويقي احترافي

أرجع النتيجة بصيغة JSON:
{
  "enhanced": "الوصف المحسّن",
  "seoKeywords": ["كلمة1", "كلمة2", ...],
  "highlights": ["نقطة1", "نقطة2", ...]
}`;try{const t=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:"أنت خبير في التسويق الإلكتروني وكتابة المحتوى التسويقي باللغة العربية."},{role:"user",content:c}],temperature:.7,max_tokens:1e3})});if(!t.ok)throw new Error(`OpenAI API error: ${t.status}`);const o=(await t.json()).choices[0].message.content.match(/\{[\s\S]*\}/);if(!o)throw new Error("Invalid AI response format");const i=JSON.parse(o[0]);return{original:s.description||"",enhanced:i.enhanced,seoKeywords:i.seoKeywords||[],highlights:i.highlights||[]}}catch(t){throw console.error("Error enhancing product description:",t),t}}async getMarketingSuggestions(s){if(!this.apiKey)throw new Error("OpenAI API key not configured");const c=`أنت خبير في التسويق الإلكتروني والتسويق بالعمولة في السوق المصري.

المنتج:
- الاسم: ${s.name}
- الوصف: ${s.description||"لا يوجد"}
- الفئة: ${s.category||"غير محدد"}
- السعر: ${s.price?`${s.price} جنيه`:"غير محدد"}

المطلوب:
اقترح 5-6 منصات تسويقية مناسبة لهذا المنتج مع استراتيجية تسويق لكل منصة.

المنصات المتاحة:
- فيسبوك (Facebook)
- إنستجرام (Instagram)
- تيك توك (TikTok)
- يوتيوب (YouTube)
- واتساب (WhatsApp Business)
- تليجرام (Telegram)
- تويتر/X (Twitter/X)
- لينكد إن (LinkedIn)
- سناب شات (Snapchat)

لكل منصة، قدم:
1. استراتيجية التسويق المناسبة
2. الجمهور المستهدف
3. الوصول المتوقع (تقديري)
4. 3-4 نصائح عملية للتسويق

أرجع النتيجة بصيغة JSON array:
[
  {
    "platform": "اسم المنصة",
    "strategy": "الاستراتيجية",
    "targetAudience": "الجمهور المستهدف",
    "estimatedReach": "الوصول المتوقع",
    "tips": ["نصيحة1", "نصيحة2", "نصيحة3"]
  }
]`;try{const t=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:"أنت خبير في التسويق الإلكتروني والتسويق بالعمولة في السوق المصري والعربي."},{role:"user",content:c}],temperature:.8,max_tokens:1500})});if(!t.ok)throw new Error(`OpenAI API error: ${t.status}`);const o=(await t.json()).choices[0].message.content.match(/\[[\s\S]*\]/);if(!o)throw new Error("Invalid AI response format");return JSON.parse(o[0])}catch(t){throw console.error("Error getting marketing suggestions:",t),t}}async generateProductTags(s){if(!this.apiKey)throw new Error("OpenAI API key not configured");const c=`استخرج 8-10 تاجات (tags) مناسبة لهذا المنتج:

المنتج:
- الاسم: ${s.name}
- الوصف: ${s.description||"لا يوجد"}
- الفئة: ${s.category||"غير محدد"}

التاجات يجب أن تكون:
- كلمات بحث شائعة
- مرتبطة بالمنتج
- مفيدة لـ SEO
- باللغة العربية والإنجليزية

أرجع النتيجة كـ JSON array: ["tag1", "tag2", ...]`;try{const t=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:c}],temperature:.6,max_tokens:200})});if(!t.ok)throw new Error(`OpenAI API error: ${t.status}`);const o=(await t.json()).choices[0].message.content.match(/\[[\s\S]*\]/);if(!o)throw new Error("Invalid AI response format");return JSON.parse(o[0])}catch(t){throw console.error("Error generating product tags:",t),t}}}const le=new Te;function $e({product:a,onApply:s}){const[c,t]=p.useState(!1),[n,d]=p.useState(null),{toast:o}=K(),i=async()=>{t(!0);try{const x=await le.enhanceProductDescription(a);d(x),o({title:"✨ تم تحسين الوصف بنجاح",description:"يمكنك الآن مراجعة الوصف المحسّن وتطبيقه"})}catch(x){o({title:"❌ خطأ",description:x.message||"فشل تحسين الوصف",variant:"destructive"})}finally{t(!1)}},h=()=>{n&&(s(n),o({title:"✅ تم التطبيق",description:"تم تطبيق الوصف المحسّن"}))},y=()=>{n&&(navigator.clipboard.writeText(n.enhanced),o({title:"📋 تم النسخ",description:"تم نسخ الوصف المحسّن"}))};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{onClick:i,disabled:c||!a.name,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:c?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري التحسين بالذكاء الاصطناعي..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"تحسين الوصف بالذكاء الاصطناعي"]})}),n&&e.jsxs(v,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsx(E,{children:e.jsxs(O,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-purple-600"}),"الوصف المحسّن"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:y,children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),"نسخ"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:i,children:[e.jsx(ae,{className:"h-4 w-4 mr-1"}),"إعادة التوليد"]})]})]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-purple-900",children:"📝 الوصف:"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.enhanced})]}),n.seoKeywords.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-purple-900",children:"🔍 كلمات SEO:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.seoKeywords.map((x,g)=>e.jsx(U,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:x},g))})]}),n.highlights.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2 text-purple-900",children:"✨ النقاط البارزة:"}),e.jsx("ul",{className:"space-y-1",children:n.highlights.map((x,g)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx(W,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:x})]},g))})]}),e.jsxs(b,{onClick:h,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"تطبيق الوصف المحسّن"]})]})]})]})}const Ee={Facebook:X,فيسبوك:X,Instagram:V,إنستجرام:V,TikTok:P,"تيك توك":P,YouTube:Q,يوتيوب:Q,WhatsApp:M,واتساب:M,Telegram:R,تليجرام:R,Twitter:D,X:D,تويتر:D,LinkedIn:G,"لينكد إن":G,Snapchat:P,"سناب شات":P},Oe={Facebook:"bg-blue-100 text-blue-800 border-blue-200",فيسبوك:"bg-blue-100 text-blue-800 border-blue-200",Instagram:"bg-pink-100 text-pink-800 border-pink-200",إنستجرام:"bg-pink-100 text-pink-800 border-pink-200",TikTok:"bg-purple-100 text-purple-800 border-purple-200","تيك توك":"bg-purple-100 text-purple-800 border-purple-200",YouTube:"bg-red-100 text-red-800 border-red-200",يوتيوب:"bg-red-100 text-red-800 border-red-200",WhatsApp:"bg-green-100 text-green-800 border-green-200",واتساب:"bg-green-100 text-green-800 border-green-200",Telegram:"bg-cyan-100 text-cyan-800 border-cyan-200",تليجرام:"bg-cyan-100 text-cyan-800 border-cyan-200",Twitter:"bg-sky-100 text-sky-800 border-sky-200",X:"bg-sky-100 text-sky-800 border-sky-200",تويتر:"bg-sky-100 text-sky-800 border-sky-200",LinkedIn:"bg-indigo-100 text-indigo-800 border-indigo-200","لينكد إن":"bg-indigo-100 text-indigo-800 border-indigo-200",Snapchat:"bg-yellow-100 text-yellow-800 border-yellow-200","سناب شات":"bg-yellow-100 text-yellow-800 border-yellow-200"};function Pe(a){for(const[s,c]of Object.entries(Ee))if(a.includes(s))return c;return P}function Fe(a){for(const[s,c]of Object.entries(Oe))if(a.includes(s))return c;return"bg-gray-100 text-gray-800 border-gray-200"}function Le({product:a}){const[s,c]=p.useState(!1),[t,n]=p.useState([]),{toast:d}=K(),o=async()=>{c(!0);try{const i=await le.getMarketingSuggestions(a);n(i),d({title:"✨ تم إنشاء الاقتراحات بنجاح",description:`تم إنشاء ${i.length} اقتراح تسويقي`})}catch(i){d({title:"❌ خطأ",description:i.message||"فشل إنشاء الاقتراحات",variant:"destructive"})}finally{c(!1)}};return e.jsxs("div",{className:"space-y-4",children:[t.length===0&&e.jsx(v,{className:"border-2 border-dashed border-purple-300 bg-gradient-to-br from-purple-50 to-pink-50",children:e.jsx(k,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-purple-100 rounded-full",children:e.jsx(L,{className:"h-8 w-8 text-purple-600"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"اقتراحات تسويقية ذكية"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"احصل على اقتراحات تسويقية مخصصة لهذا المنتج باستخدام الذكاء الاصطناعي"})]}),e.jsx(b,{onClick:o,disabled:s||!a.name,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:s?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري إنشاء الاقتراحات..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"احصل على اقتراحات تسويقية"]})})]})})}),t.length>0&&e.jsxs(v,{className:"border-2 border-purple-200",children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-purple-600"}),"اقتراحات تسويقية (",t.length,")"]}),e.jsx(b,{variant:"outline",size:"sm",onClick:o,disabled:s,children:s?e.jsx(A,{className:"h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-1"}),"تحديث"]})})]})}),e.jsx(k,{children:e.jsx(Se,{type:"single",collapsible:!0,className:"w-full",children:t.map((i,h)=>{const y=Pe(i.platform),x=Fe(i.platform);return e.jsxs(Ie,{value:`item-${h}`,children:[e.jsx(Ce,{className:"hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3 text-right",children:[e.jsx("div",{className:`p-2 rounded-lg ${x}`,children:e.jsx(y,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-right",children:i.platform}),e.jsx("p",{className:"text-xs text-muted-foreground text-right",children:i.targetAudience})]})]})}),e.jsx(Ae,{children:e.jsxs("div",{className:"space-y-4 pt-4 pr-14",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(C,{className:"h-4 w-4 text-purple-600"}),e.jsx("h5",{className:"font-semibold text-sm",children:"الاستراتيجية:"})]}),e.jsx("p",{className:"text-sm text-gray-700 pr-6",children:i.strategy})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(me,{className:"h-4 w-4 text-blue-600"}),e.jsx("h5",{className:"font-semibold text-sm",children:"الجمهور المستهدف:"})]}),e.jsx("p",{className:"text-sm text-gray-700 pr-6",children:i.targetAudience})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("h5",{className:"font-semibold text-sm",children:"الوصول المتوقع:"})]}),e.jsx(U,{variant:"secondary",className:"bg-green-100 text-green-800",children:i.estimatedReach})]}),i.tips&&i.tips.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{className:"h-4 w-4 text-yellow-600"}),e.jsx("h5",{className:"font-semibold text-sm",children:"نصائح عملية:"})]}),e.jsx("ul",{className:"space-y-2 pr-6",children:i.tips.map((g,w)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("span",{className:"text-purple-600 font-bold mt-0.5",children:"•"}),e.jsx("span",{children:g})]},w))})]})]})})]},h)})})})]})]})}const Ke=[{icon:he,text:"ما السعر المناسب؟",prompt:"ما هو السعر المناسب لهذا المنتج في السوق المصري؟"},{icon:L,text:"كيف أزيد المبيعات؟",prompt:"ما هي أفضل استراتيجيات لزيادة مبيعات هذا المنتج؟"},{icon:C,text:"من الجمهور المستهدف؟",prompt:"من هو الجمهور المستهدف الأمثل لهذا المنتج؟"},{icon:ne,text:"أفكار تسويقية",prompt:"أعطني 5 أفكار تسويقية إبداعية لهذا المنتج"}];function ze({productName:a,productDescription:s,productPrice:c,productCategory:t}){const[n,d]=p.useState([{role:"assistant",content:`مرحباً! 👋 أنا مساعدك الذكي للمنتجات. يمكنني مساعدتك في:

• تحسين الوصف والعنوان
• اقتراح السعر المناسب
• استراتيجيات التسويق
• تحليل المنافسين
• SEO والكلمات المفتاحية

كيف يمكنني مساعدتك اليوم؟`,timestamp:new Date}]),[o,i]=p.useState(""),[h,y]=p.useState(!1),{toast:x}=K(),g=p.useRef(null);p.useEffect(()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)},[n]);const w=async r=>{if(!r.trim())return;const m={role:"user",content:r,timestamp:new Date};d(l=>[...l,m]),i(""),y(!0);try{const l=_.OPENAI_API_KEY;if(!l)throw new Error("OpenAI API key not configured");const N=`أنت خبير في التجارة الإلكترونية والتسويق الرقمي في السوق المصري والعربي.

معلومات المنتج الحالي:
- الاسم: ${a}
- الوصف: ${s||"غير متوفر"}
- السعر: ${c?`${c} جنيه`:"غير محدد"}
- الفئة: ${t||"غير محدد"}

قدم نصائح عملية ومحددة بناءً على السوق المصري. استخدم لغة عربية واضحة ومهنية.`,u=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:N},...n.slice(-5).map(f=>({role:f.role,content:f.content})),{role:"user",content:r}],temperature:.7,max_tokens:800})});if(!u.ok)throw new Error(`API error: ${u.status}`);const I={role:"assistant",content:(await u.json()).choices[0].message.content,timestamp:new Date};d(f=>[...f,I])}catch(l){x({title:"❌ خطأ",description:l.message||"فشل إرسال الرسالة",variant:"destructive"})}finally{y(!1)}},S=r=>{w(r)};return e.jsxs(v,{className:"border-2 border-purple-200",children:[e.jsx(E,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(M,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg",children:"مساعد المنتجات الذكي"}),e.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:"اسأل عن أي شيء متعلق بالمنتج"})]})]})}),e.jsxs(k,{className:"p-0",children:[e.jsx(Ne,{className:"h-[400px] p-4",ref:g,children:e.jsxs("div",{className:"space-y-4",children:[n.map((r,m)=>e.jsxs("div",{className:`flex gap-3 ${r.role==="user"?"justify-end":"justify-start"}`,children:[r.role==="assistant"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${r.role==="user"?"bg-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:r.content}),e.jsx("p",{className:`text-xs mt-2 ${r.role==="user"?"text-purple-200":"text-gray-500"}`,children:r.timestamp.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]}),r.role==="user"&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"h-4 w-4 text-white"})})]},m)),h&&e.jsxs("div",{className:"flex gap-3 justify-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"h-4 w-4 text-white"})}),e.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:e.jsx(A,{className:"h-4 w-4 animate-spin text-purple-600"})})]})]})}),e.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"أسئلة سريعة:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ke.map((r,m)=>{const l=r.icon;return e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>S(r.prompt),disabled:h,className:"text-xs",children:[e.jsx(l,{className:"h-3 w-3 mr-1"}),r.text]},m)})})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{value:o,onChange:r=>i(r.target.value),onKeyPress:r=>r.key==="Enter"&&!h&&w(o),placeholder:"اكتب سؤالك هنا...",disabled:h,className:"flex-1"}),e.jsx(b,{onClick:()=>w(o),disabled:h||!o.trim(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:h?e.jsx(A,{className:"h-4 w-4 animate-spin"}):e.jsx(R,{className:"h-4 w-4"})})]})})]})]})}const re=[{value:"realistic",label:"واقعي",prompt:"photorealistic, high quality, professional product photography"},{value:"minimalist",label:"بسيط",prompt:"minimalist, clean background, modern, simple"},{value:"lifestyle",label:"نمط حياة",prompt:"lifestyle photography, in use, natural setting"},{value:"studio",label:"استوديو",prompt:"studio lighting, white background, professional"},{value:"artistic",label:"فني",prompt:"artistic, creative, colorful, eye-catching"}],Je=[{value:"1024x1024",label:"مربع (1024×1024)"},{value:"1792x1024",label:"عريض (1792×1024)"},{value:"1024x1792",label:"طويل (1024×1792)"}];function Me({productName:a,productDescription:s,onImageGenerated:c}){const[t,n]=p.useState(!1),[d,o]=p.useState(null),[i,h]=p.useState("realistic"),[y,x]=p.useState("1024x1024"),[g,w]=p.useState(""),{toast:S}=K(),r=async()=>{n(!0);try{const l=_.OPENAI_API_KEY;if(!l)throw new Error("OpenAI API key not configured");const N=re.find(ie=>ie.value===i),u=`${a}${s?`, ${s}`:""}`,j=(N==null?void 0:N.prompt)||"",I=g||`${u}, ${j}`,f=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l}`},body:JSON.stringify({model:"dall-e-3",prompt:I,n:1,size:y,quality:"standard"})});if(!f.ok)throw new Error(`API error: ${f.status}`);const Y=(await f.json()).data[0].url;o(Y),c&&c(Y),S({title:"✨ تم إنشاء الصورة بنجاح",description:"يمكنك الآن تحميل الصورة أو إعادة التوليد"})}catch(l){S({title:"❌ خطأ",description:l.message||"فشل إنشاء الصورة",variant:"destructive"})}finally{n(!1)}},m=async()=>{if(d)try{const N=await(await fetch(d)).blob(),u=window.URL.createObjectURL(N),j=document.createElement("a");j.href=u,j.download=`${a.replace(/\s+/g,"-")}-${Date.now()}.png`,document.body.appendChild(j),j.click(),document.body.removeChild(j),window.URL.revokeObjectURL(u),S({title:"✅ تم التحميل",description:"تم تحميل الصورة بنجاح"})}catch{S({title:"❌ خطأ",description:"فشل تحميل الصورة",variant:"destructive"})}};return e.jsxs(v,{className:"border-2 border-purple-200",children:[e.jsx(E,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-purple-600"}),"توليد صور بالذكاء الاصطناعي"]})}),e.jsxs(k,{className:"space-y-4 pt-6",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"style",children:"نمط الصورة"}),e.jsxs(q,{value:i,onValueChange:h,children:[e.jsx(Z,{id:"style",children:e.jsx(ee,{})}),e.jsx(se,{children:re.map(l=>e.jsx(te,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"size",children:"حجم الصورة"}),e.jsxs(q,{value:y,onValueChange:x,children:[e.jsx(Z,{id:"size",children:e.jsx(ee,{})}),e.jsx(se,{children:Je.map(l=>e.jsx(te,{value:l.value,children:l.label},l.value))})]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"customPrompt",children:"وصف مخصص (اختياري)"}),e.jsx(F,{id:"customPrompt",value:g,onChange:l=>w(l.target.value),placeholder:"اكتب وصفاً مخصصاً للصورة..."}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"اترك فارغاً لاستخدام الوصف التلقائي"})]}),e.jsx(b,{onClick:r,disabled:t||!a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:t?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري إنشاء الصورة..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"توليد صورة بالذكاء الاصطناعي"]})}),d&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative rounded-lg overflow-hidden border-2 border-purple-200",children:e.jsx("img",{src:d,alt:a,className:"w-full h-auto"})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{onClick:m,variant:"outline",className:"flex-1",children:[e.jsx(ge,{className:"mr-2 h-4 w-4"}),"تحميل الصورة"]}),e.jsxs(b,{onClick:r,variant:"outline",className:"flex-1",disabled:t,children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"إعادة التوليد"]})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"💡 الصورة متاحة لمدة ساعة واحدة. قم بتحميلها الآن!"})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"💰 التكلفة:"})," ~$0.04 لكل صورة (DALL-E 3)"]})})]})]})}function _e({productName:a,productPrice:s,productCategory:c}){const[t,n]=p.useState(!1),[d,o]=p.useState([]),{toast:i}=K(),h=async()=>{n(!0);try{const r=_.OPENAI_API_KEY;if(!r)throw new Error("OpenAI API key not configured");const m=`أنت محلل منافسة خبير في السوق المصري.

المنتج:
- الاسم: ${a}
- السعر: ${s?`${s} جنيه`:"غير محدد"}
- الفئة: ${c||"غير محدد"}

قم بتحليل SWOT (نقاط القوة، الضعف، الفرص، التهديدات) للمنتج في السوق المصري.

أرجع النتيجة بصيغة JSON array:
[
  {
    "category": "strength|weakness|opportunity|threat",
    "title": "عنوان قصير",
    "content": "شرح تفصيلي"
  }
]

قدم 3-4 نقاط لكل فئة.`,l=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:"أنت محلل منافسة خبير في السوق المصري والعربي."},{role:"user",content:m}],temperature:.7,max_tokens:1500})});if(!l.ok)throw new Error(`API error: ${l.status}`);const j=(await l.json()).choices[0].message.content.match(/\[[\s\S]*\]/);if(!j)throw new Error("Invalid AI response format");const I=JSON.parse(j[0]);o(I.map(f=>({...f,type:f.category,icon:y(f.category)}))),i({title:"✨ تم التحليل بنجاح",description:`تم تحليل ${I.length} نقطة`})}catch(r){i({title:"❌ خطأ",description:r.message||"فشل التحليل",variant:"destructive"})}finally{n(!1)}},y=r=>{switch(r){case"strength":return"CheckCircle";case"weakness":return"AlertCircle";case"opportunity":return"TrendingUp";case"threat":return"Target";default:return"Zap"}},x=r=>{switch(r){case"strength":return"نقاط القوة";case"weakness":return"نقاط الضعف";case"opportunity":return"الفرص";case"threat":return"التهديدات";default:return r}},g=r=>{switch(r){case"strength":return"bg-green-100 text-green-800 border-green-200";case"weakness":return"bg-red-100 text-red-800 border-red-200";case"opportunity":return"bg-blue-100 text-blue-800 border-blue-200";case"threat":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=r=>{switch(r){case"CheckCircle":return be;case"AlertCircle":return je;case"TrendingUp":return L;case"Target":return C;default:return ue}},S=d.reduce((r,m)=>(r[m.type]||(r[m.type]=[]),r[m.type].push(m),r),{});return e.jsxs(v,{className:"border-2 border-purple-200",children:[e.jsx(E,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-purple-600"}),"تحليل المنافسة (SWOT)"]})}),e.jsx(k,{className:"space-y-4 pt-6",children:d.length===0?e.jsxs("div",{className:"text-center space-y-4 py-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-purple-100 rounded-full",children:e.jsx(C,{className:"h-8 w-8 text-purple-600"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-2",children:"تحليل شامل للمنافسة"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"احصل على تحليل SWOT كامل لمنتجك في السوق المصري"})]}),e.jsx(b,{onClick:h,disabled:t||!a,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:t?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"جاري التحليل..."]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"تحليل المنافسة"]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{onClick:h,disabled:t,variant:"outline",className:"w-full",children:t?e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"تحديث التحليل"]})}),e.jsx("div",{className:"space-y-6",children:Object.entries(S).map(([r,m])=>{const l=g(r),N=x(r);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:`${l} border`,children:N}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",m.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:m.map((u,j)=>{const I=w(u.icon);return e.jsx(v,{className:`border-2 ${l.replace("bg-","border-").replace("text-","bg-").replace("800","50")}`,children:e.jsx(k,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${l}`,children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:u.title}),e.jsx("p",{className:"text-sm text-gray-700",children:u.content})]})]})})},j)})})]},r)})})]})})]})}function ss(){const[a,s]=p.useState({name:"",description:"",category:"",price:0}),c=t=>{s(n=>({...n,description:t.enhanced}))};return e.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-6xl",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx($,{className:"h-8 w-8 text-purple-600"}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"تحسين المنتجات بالذكاء الاصطناعي"})]}),e.jsx("p",{className:"text-muted-foreground",children:"استخدم الذكاء الاصطناعي لتحسين أوصاف المنتجات والحصول على اقتراحات تسويقية"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(E,{children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"معلومات المنتج"]})}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"name",children:"اسم المنتج *"}),e.jsx(F,{id:"name",value:a.name,onChange:t=>s(n=>({...n,name:t.target.value})),placeholder:"مثال: ساعة ذكية رياضية"})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"description",children:"الوصف الحالي"}),e.jsx(we,{id:"description",value:a.description,onChange:t=>s(n=>({...n,description:t.target.value})),placeholder:"اكتب وصفاً مختصراً للمنتج...",rows:6})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"category",children:"الفئة"}),e.jsx(F,{id:"category",value:a.category,onChange:t=>s(n=>({...n,category:t.target.value})),placeholder:"مثال: إلكترونيات"})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"price",children:"السعر (جنيه)"}),e.jsx(F,{id:"price",type:"number",value:a.price||"",onChange:t=>s(n=>({...n,price:parseFloat(t.target.value)||0})),placeholder:"0"})]})]})]})]}),e.jsx($e,{product:a,onApply:c})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs(ve,{defaultValue:"marketing",className:"w-full",children:[e.jsxs(ke,{className:"grid w-full grid-cols-4",children:[e.jsxs(z,{value:"marketing",className:"text-xs",children:[e.jsx(L,{className:"h-3 w-3 mr-1"}),"تسويق"]}),e.jsxs(z,{value:"chat",className:"text-xs",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),"محادثة"]}),e.jsxs(z,{value:"images",className:"text-xs",children:[e.jsx(ye,{className:"h-3 w-3 mr-1"}),"صور"]}),e.jsxs(z,{value:"analysis",className:"text-xs",children:[e.jsx(C,{className:"h-3 w-3 mr-1"}),"تحليل"]})]}),e.jsx(J,{value:"marketing",className:"space-y-4",children:e.jsx(Le,{product:a})}),e.jsx(J,{value:"chat",className:"space-y-4",children:e.jsx(ze,{productName:a.name,productDescription:a.description,productPrice:a.price,productCategory:a.category})}),e.jsx(J,{value:"images",className:"space-y-4",children:e.jsx(Me,{productName:a.name,productDescription:a.description})}),e.jsx(J,{value:"analysis",className:"space-y-4",children:e.jsx(_e,{productName:a.name,productPrice:a.price,productCategory:a.category})})]})})]}),e.jsxs(v,{className:"mt-8 border-2 border-blue-200 bg-blue-50",children:[e.jsx(E,{children:e.jsx(O,{className:"text-blue-900",children:"📚 كيفية الاستخدام"})}),e.jsxs(k,{className:"space-y-3 text-sm text-blue-800",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"1. تحسين الوصف:"}),e.jsx("p",{children:'أدخل اسم المنتج ووصف مختصر، ثم اضغط "تحسين الوصف بالذكاء الاصطناعي" للحصول على وصف محسّن وكلمات SEO'})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"2. الاقتراحات التسويقية:"}),e.jsx("p",{children:'اضغط "احصل على اقتراحات تسويقية" للحصول على استراتيجيات تسويق مخصصة لكل منصة'})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"3. التطبيق:"}),e.jsx("p",{children:'راجع النتائج واضغط "تطبيق" لاستخدام الوصف المحسّن في منتجك'})]}),e.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[e.jsx("strong",{children:"💡 نصيحة:"})," كلما كانت معلومات المنتج أكثر تفصيلاً، كانت النتائج أفضل!"]})]})]})]})}export{ss as default};

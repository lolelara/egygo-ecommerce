import{W as ie,r as c,m as G,Y as B,j as e,av as I,a_ as le,a$ as xe,aX as he,a6 as T,b0 as ue,z as ge,b1 as pe,o as je,ae as fe,ab as ve,aW as Ne,aw as Q,aA as be,a7 as ye,n as we,X as Ce}from"./vendor-react-wP-gPk8e.js";import{o as re,u as ne,C,f as k,r as ke,s as Se,l as f,e as u,D as Pe,t as $e,v as Fe,w as qe,x as ze,y as Le,z as X,q as P,a as Me,A as Te,B as te,E as U,p as Ie}from"./index-BjwBfcA6.js";import{T as Re,a as Ae,b as H,c as Z}from"./tabs-W766L0g2.js";import{T as De}from"./textarea-DqtwzpPR.js";import{A as Ee,a as Oe}from"./avatar-DWfEzynm.js";import{P as Be}from"./progress-B9TYhn7i.js";import{P as We}from"./loading-screen-DVDSM9z_.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-GexG3wnZ.js";import"./vendor-other-DcnDEVts.js";import"./vendor-animations-W1Z2cmit.js";import"./vendor-appwrite-BGb_FC-V.js";function Ke({productId:o}){const{user:l}=re(),{toast:n}=ne(),R=ie(),[A,x]=c.useState(!1),[S,v]=c.useState(5),[q,g]=c.useState(""),{data:N,isLoading:b}=G({queryKey:P.reviews(o),queryFn:()=>X.getProductReviews(o)}),z=(N==null?void 0:N.reviews)||[],$=(N==null?void 0:N.stats)||{totalReviews:0,averageRating:0,ratingDistribution:[]},y=B({mutationFn:X.createReview,onSuccess:()=>{R.invalidateQueries({queryKey:P.reviews(o)}),x(!1),g(""),v(5),n({title:"✅ تمت إضافة التقييم",description:"شكراً لتقييمك! تم إضافة مراجعتك بنجاح"})},onError:i=>{n({title:"خطأ",description:i.message||"فشل في إضافة المراجعة",variant:"destructive"})}}),D=B({mutationFn:({id:i,userId:w})=>X.deleteReview(i,w),onSuccess:()=>{R.invalidateQueries({queryKey:P.reviews(o)}),n({title:"تم الحذف",description:"تم حذف التقييم بنجاح"})},onError:i=>{n({title:"خطأ",description:i.message||"فشل في حذف المراجعة",variant:"destructive"})}}),E=()=>{if(!l){n({title:"يجب تسجيل الدخول",description:"الرجاء تسجيل الدخول لإضافة تقييم",variant:"destructive"});return}y.mutate({productId:o,userId:l.$id,rating:S,comment:q.trim()||void 0})},F=i=>{l&&confirm("هل أنت متأكد من حذف التقييم؟")&&D.mutate({id:i,userId:l.$id})},L=z.find(i=>l&&i.userEmail===l.email);return b?e.jsx(C,{children:e.jsx(k,{className:"p-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"جاري تحميل التقييمات..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(C,{children:[e.jsx(ke,{children:e.jsx(Se,{children:"تقييمات المنتج"})}),e.jsxs(k,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold mb-2",children:$.averageRating.toFixed(1)}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[1,2,3,4,5].map(i=>e.jsx(I,{className:`h-6 w-6 ${i<=Math.round($.averageRating)?"fill-yellow-400 text-yellow-400":"text-muted"}`},i))}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["بناءً على ",$.totalReviews," تقييم"]})]}),e.jsx("div",{className:"space-y-2",children:$.ratingDistribution.map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-16",children:[e.jsx("span",{className:"text-sm font-medium",children:i.stars}),e.jsx(I,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),e.jsx(Be,{value:i.percentage,className:"flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:i.count})]},i.stars))})]}),e.jsx(f,{className:"my-6"}),l&&!L&&e.jsxs(u,{onClick:()=>x(!0),className:"w-full",children:[e.jsx(le,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"أضف تقييمك"]}),!l&&e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"يجب تسجيل الدخول لإضافة تقييم"})]})]}),e.jsx("div",{className:"space-y-4",children:z.length===0?e.jsx(C,{children:e.jsx(k,{className:"p-6 text-center text-muted-foreground",children:"لا توجد تقييمات لهذا المنتج بعد. كن أول من يقيم!"})}):z.map(i=>e.jsx(C,{children:e.jsxs(k,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ee,{children:e.jsx(Oe,{children:i.userName.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:i.userName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(w=>e.jsx(I,{className:`h-4 w-4 ${w<=i.rating?"fill-yellow-400 text-yellow-400":"text-muted"}`},w))}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.date})]})]})]}),l&&i.userEmail===l.email&&e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>F(i.id),disabled:D.isPending,children:e.jsx(xe,{className:"h-4 w-4 text-destructive"})})]}),i.comment&&e.jsx("p",{className:"text-muted-foreground",children:i.comment})]})},i.id))}),e.jsx(Pe,{open:A,onOpenChange:x,children:e.jsxs($e,{children:[e.jsxs(Fe,{children:[e.jsx(qe,{children:"أضف تقييمك"}),e.jsx(ze,{children:"شاركنا رأيك حول هذا المنتج"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"التقييم"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(i=>e.jsx("button",{type:"button",onClick:()=>v(i),className:"focus:outline-none",children:e.jsx(I,{className:`h-8 w-8 cursor-pointer transition-colors ${i<=S?"fill-yellow-400 text-yellow-400":"text-muted hover:text-yellow-200"}`})},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"التعليق (اختياري)"}),e.jsx(De,{placeholder:"اكتب تعليقك هنا...",value:q,onChange:i=>g(i.target.value),rows:4})]})]}),e.jsxs(Le,{children:[e.jsx(u,{variant:"outline",onClick:()=>x(!1),disabled:y.isPending,children:"إلغاء"}),e.jsx(u,{onClick:E,disabled:y.isPending,children:y.isPending?"جاري الإضافة...":"إضافة التقييم"})]})]})})]})}const _={black:{name:"أسود",hex:"#000000"},white:{name:"أبيض",hex:"#FFFFFF",border:!0},blue:{name:"أزرق",hex:"#3B82F6"},red:{name:"أحمر",hex:"#EF4444"},green:{name:"أخضر",hex:"#10B981"},yellow:{name:"أصفر",hex:"#FBBF24"},purple:{name:"بنفسجي",hex:"#A855F7"},pink:{name:"وردي",hex:"#EC4899"},gray:{name:"رمادي",hex:"#6B7280"},brown:{name:"بني",hex:"#92400E"}};function as(){var V,Y,ee,se,ae;const{id:o}=he(),{user:l}=re(),{toast:n}=ne(),{addItem:R}=Me(),A=ie(),[x,S]=c.useState(0),[v,q]=c.useState(1),[g,N]=c.useState(""),[b,z]=c.useState(""),[$,y]=c.useState(!1),[D,E]=c.useState(!1),{data:F=[]}=G({queryKey:P.wishlist((l==null?void 0:l.$id)||""),queryFn:()=>U.getUserWishlist((l==null?void 0:l.$id)||""),enabled:!!(l!=null&&l.$id)}),L=c.useMemo(()=>F.some(a=>a.productId===o),[F,o]),i=c.useMemo(()=>F.find(a=>a.productId===o),[F,o]),w=B({mutationFn:()=>U.addToWishlist((l==null?void 0:l.$id)||"",o||""),onSuccess:()=>{A.invalidateQueries({queryKey:P.wishlist((l==null?void 0:l.$id)||"")}),n({title:"✅ تمت الإضافة للمفضلة",description:"تم إضافة المنتج إلى قائمة المفضلة"})},onError:a=>{n({title:"خطأ",description:a.message||"فشل في إضافة المنتج للمفضلة",variant:"destructive"})}}),W=B({mutationFn:()=>U.removeFromWishlist((i==null?void 0:i.id)||"",(l==null?void 0:l.$id)||""),onSuccess:()=>{A.invalidateQueries({queryKey:P.wishlist((l==null?void 0:l.$id)||"")}),n({title:"تمت الإزالة",description:"تم إزالة المنتج من قائمة المفضلة"})},onError:a=>{n({title:"خطأ",description:a.message||"فشل في إزالة المنتج من المفضلة",variant:"destructive"})}}),{data:s,isLoading:ce}=G({queryKey:[...P.products,o],queryFn:()=>Ie.getById(o),enabled:!!o,retry:1,refetchOnWindowFocus:!1}),h=c.useMemo(()=>{if(!s)return[];try{const a=s.colorSizeInventory;if(a&&a!=="[]"&&a!==""){const t=JSON.parse(a);if(t.length>0)return console.log("📦 Product inventory loaded:",{inventory:t}),t}}catch(a){console.error("❌ Error parsing inventory:",a)}return[]},[s==null?void 0:s.id,s==null?void 0:s.colorSizeInventory]),d=c.useMemo(()=>{if(!s)return 0;if(h.length>0){const p=h.reduce((j,O)=>j+(O.quantity||0),0);return console.log("📦 Total stock from inventory:",p),p}const a=s.colors||[],t=s.sizes||[];if(a.length>0||t.length>0)return console.log("✅ Product has colors/sizes, defaulting to stock: 999"),999;const r=s.stock||s.stockQuantity||0;return console.log("📦 Using old stock or default:",r||999),r>0?r:999},[s==null?void 0:s.id,h]),M=c.useMemo(()=>!h||h.length===0?[]:[...new Set(h.filter(t=>t.quantity>0&&t.color).map(t=>t.color.toLowerCase()))].map(t=>{var r,p,j;return{name:((r=_[t])==null?void 0:r.name)||t,value:t,hex:((p=_[t])==null?void 0:p.hex)||"#999999",border:(j=_[t])==null?void 0:j.border}}),[h]),K=c.useMemo(()=>{if(!h||h.length===0)return[];const a=[...new Set(h.filter(r=>r.quantity>0&&r.size).map(r=>r.size.toUpperCase()))],t=["XS","S","M","L","XL","XXL","XXXL"];return a.sort((r,p)=>{const j=t.indexOf(r),O=t.indexOf(p);return j===-1?1:O===-1?-1:j-O})},[h]);if(ce)return e.jsx(We,{message:"جاري تحميل تفاصيل المنتج..."});if(!s)return e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"المنتج غير موجود"}),e.jsx(u,{asChild:!0,children:e.jsx(T,{to:"/products",children:"العودة للمنتجات"})})]});const m=(V=s.images)!=null&&V.length?s.images:[{url:Te.product(s==null?void 0:s.name),alt:(s==null?void 0:s.name)||"منتج"}],J=s.originalPrice?Math.round((s.originalPrice-s.price)/s.originalPrice*100):0,oe=()=>{var r,p;if(M.length>0&&!g){n({title:"يرجى اختيار اللون",description:"الرجاء اختيار لون المنتج قبل الإضافة للسلة",variant:"destructive"});return}if(K.length>0&&!b){n({title:"يرجى اختيار المقاس",description:"الرجاء اختيار مقاس المنتج قبل الإضافة للسلة",variant:"destructive"});return}const a=g?(r=M.find(j=>j.value===g))==null?void 0:r.name:void 0;R({productId:s.id,name:s.name,price:s.price,originalPrice:s.originalPrice,image:((p=m[0])==null?void 0:p.url)||"",quantity:v,stockQuantity:d,inStock:d>0,color:a,size:b||void 0});const t=[a,b].filter(Boolean).join(" - ");n({title:"✅ تمت الإضافة لسلة التسوق",description:`تم إضافة ${v} من ${s.name}${t?` (${t})`:""} إلى سلة التسوق`})},de=()=>{if(!l){n({title:"يجب تسجيل الدخول",description:"يرجى تسجيل الدخول لإضافة المنتجات إلى المفضلة",variant:"destructive"});return}L?W.mutate():w.mutate()},me=()=>{navigator.share?navigator.share({title:s.name,text:s.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),n({title:"تم النسخ",description:"تم نسخ رابط المنتج إلى الحافظة"}))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(T,{to:"/",className:"hover:text-foreground",children:"الرئيسية"}),e.jsx("span",{children:"/"}),e.jsx(T,{to:"/products",className:"hover:text-foreground",children:"المنتجات"}),e.jsx("span",{children:"/"}),(Y=s.category)!=null&&Y.slug?e.jsx(T,{to:`/category/${s.category.slug}`,className:"hover:text-foreground",children:s.category.name}):e.jsx("span",{className:"text-muted-foreground",children:((ee=s.category)==null?void 0:ee.name)||"غير محدد"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-foreground",children:s.name})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-zoom-in",onClick:()=>y(!0),onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[e.jsx("img",{src:m[x].url,alt:m[x].alt||s.name,className:`w-full h-full object-cover transition-transform duration-300 ${D?"scale-110":"scale-100"}`}),J>0&&e.jsxs(te,{className:"absolute top-4 left-4 bg-red-500",children:["خصم ",J,"%"]}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:e.jsx(ue,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),m.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:m.map((a,t)=>e.jsx("button",{onClick:()=>S(t),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors ${x===t?"border-primary":"border-transparent hover:border-muted-foreground"}`,children:e.jsx("img",{src:a.url,alt:a.alt||`${s.name} ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((a,t)=>e.jsx(I,{className:`h-5 w-5 ${t<Math.floor(s.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},t)),e.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:["(",s.reviewCount," تقييم)"]})]}),e.jsx(f,{orientation:"vertical",className:"h-5"}),e.jsx(te,{variant:d>0?"default":"destructive",children:d>0?`متوفر (${d})`:"غير متوفر"})]})]}),e.jsx(f,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"text-4xl font-bold text-primary",children:[s.price.toLocaleString()," ج.م"]}),s.originalPrice&&e.jsxs("span",{className:"text-2xl text-muted-foreground line-through",children:[s.originalPrice.toLocaleString()," ج.م"]})]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-green-600",children:["وفّر ",(s.originalPrice-s.price).toLocaleString()," ج.م"]})]}),e.jsx(f,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"وصف المنتج"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]}),e.jsx(f,{}),M.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold",children:["اللون: ",g&&e.jsx("span",{className:"text-primary",children:(se=M.find(a=>a.value===g))==null?void 0:se.name})]}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:M.map(a=>e.jsx("button",{onClick:()=>N(a.value),className:`relative w-12 h-12 rounded-full transition-all ${g===a.value?"ring-2 ring-primary ring-offset-2 scale-110":"hover:scale-105"} ${a.border?"border-2 border-gray-300":""}`,style:{backgroundColor:a.hex},title:a.name,children:g===a.value&&e.jsx(ge,{className:"h-6 w-6 absolute inset-0 m-auto text-white drop-shadow-lg",style:{color:a.value==="white"?"#000000":"#ffffff"}})},a.value))})]}),K.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold",children:["المقاس: ",b&&e.jsx("span",{className:"text-primary",children:b})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:K.map(a=>e.jsx("button",{onClick:()=>z(a),className:`px-6 py-3 rounded-lg border-2 font-medium transition-all ${b===a?"border-primary bg-primary text-primary-foreground":"border-muted hover:border-primary/50"}`,children:a},a))})]}),e.jsx(f,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-semibold",children:"الكمية:"}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>q(Math.max(1,v-1)),disabled:d===0,children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-4 font-semibold min-w-[3rem] text-center",children:v}),e.jsx(u,{variant:"ghost",size:"icon",onClick:()=>q(Math.min(d,v+1)),disabled:d===0,children:e.jsx(le,{className:"h-4 w-4"})})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",d," متوفر)"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(u,{size:"lg",className:"flex-1 btn-hover-lift",onClick:oe,disabled:d===0,children:[e.jsx(je,{className:"ml-2 h-5 w-5 rtl:ml-0 rtl:mr-2"}),"أضف إلى السلة"]}),e.jsx(u,{size:"lg",variant:L?"default":"outline",onClick:de,disabled:w.isPending||W.isPending,children:w.isPending||W.isPending?e.jsx(fe,{className:"h-5 w-5 animate-spin"}):e.jsx(ve,{className:`h-5 w-5 ${L?"fill-current":""}`})}),e.jsx(u,{size:"lg",variant:"outline",onClick:me,children:e.jsx(Ne,{className:"h-5 w-5"})})]}),e.jsx(u,{size:"lg",variant:"secondary",className:"w-full",asChild:!0,disabled:d===0,children:e.jsxs(T,{to:"/cart",children:["اشتر الآن",e.jsx(Q,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})]}),e.jsx(C,{children:e.jsxs(k,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"شحن مجاني"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"للطلبات فوق 500 ج.م"})]})]}),e.jsx(f,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"ضمان الجودة"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ضمان استرجاع المال لمدة 14 يوم"})]})]}),e.jsx(f,{}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(we,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"توصيل سريع"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"يصلك خلال 2-5 أيام عمل"})]})]})]})}),(l==null?void 0:l.role)!=="customer"&&e.jsx(C,{className:"bg-gradient-to-br from-primary/10 to-brand-purple/10",children:e.jsxs(k,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"عمولة الشركاء"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:[s.affiliateCommission,"%"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["اكسب ",(s.price*s.affiliateCommission/100).toLocaleString()," ","ج.م على كل عملية بيع"]})]})})]})]}),e.jsxs(Re,{defaultValue:"reviews",className:"space-y-8",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-3",children:[e.jsxs(H,{value:"reviews",children:["التقييمات (",s.reviewCount,")"]}),e.jsx(H,{value:"specs",children:"المواصفات"}),e.jsx(H,{value:"shipping",children:"الشحن والإرجاع"})]}),e.jsx(Z,{value:"reviews",className:"space-y-6",children:e.jsx(Ke,{productId:s.id})}),e.jsx(Z,{value:"specs",children:e.jsx(C,{children:e.jsx(k,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"رمز المنتج (SKU)"}),e.jsx("span",{children:s.sku||"غير متوفر"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"الفئة"}),e.jsx("span",{children:((ae=s.category)==null?void 0:ae.name)||"غير محدد"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"الحالة"}),e.jsx("span",{children:d>0?"متوفر":"غير متوفر"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[e.jsx("span",{className:"font-semibold",children:"الكمية المتوفرة"}),e.jsx("span",{children:d})]})]})})})}),e.jsx(Z,{value:"shipping",children:e.jsx(C,{children:e.jsxs(k,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"سياسة الشحن"}),e.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"• شحن مجاني للطلبات فوق 500 ج.م"}),e.jsx("li",{children:"• التوصيل خلال 2-5 أيام عمل"}),e.jsx("li",{children:"• الدفع عند الاستلام متاح"}),e.jsx("li",{children:"• تتبع الشحنة متاح لجميع الطلبات"})]})]}),e.jsx(f,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"سياسة الإرجاع"}),e.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"• إمكانية الإرجاع خلال 14 يوم من تاريخ الاستلام"}),e.jsx("li",{children:"• يجب أن يكون المنتج في حالته الأصلية"}),e.jsx("li",{children:"• استرجاع كامل المبلغ أو استبدال المنتج"}),e.jsx("li",{children:"• تكلفة الشحن على العميل في حالة الإرجاع"})]})]})]})})})]})]}),$&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>y(!1),children:[e.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10",children:e.jsx(Ce,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"absolute top-4 left-4 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[x+1," / ",m.length]}),e.jsx("div",{className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center justify-center",children:e.jsx("img",{src:m[x].url,alt:m[x].alt||s.name,className:"max-w-full max-h-full object-contain",onClick:a=>a.stopPropagation()})}),m.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),S(t=>t>0?t-1:m.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(Q,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),S(t=>t<m.length-1?t+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(Q,{className:"w-6 h-6 text-white rotate-180"})})]}),m.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/50 p-2 rounded-lg",children:m.map((a,t)=>e.jsx("button",{onClick:r=>{r.stopPropagation(),S(t)},className:`w-16 h-16 rounded overflow-hidden border-2 transition-all ${x===t?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:a.url,alt:a.alt||"",className:"w-full h-full object-cover"})},t))})]})]})}export{as as default};

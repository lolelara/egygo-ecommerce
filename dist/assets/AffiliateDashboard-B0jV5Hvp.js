import{j as e,b1 as ce,am as de,an as me,b3 as xe,al as he,bC as Z,r as h,a0 as W,bD as ue,bE as J,_ as M,ax as G,p as R,a7 as re,b9 as ge,bB as pe,bF as ae,aA as ne,bz as U,bG as je,o as fe,bH as B,bI as K,bJ as H,bK as be,l as Ne,X as we,a6 as ve,Z as ye,ae as ke,a$ as $e,bL as Ce}from"./vendor-react-CCFRLLzk.js";import{A as X}from"./AffiliateSidebar-DQOqKqks.js";import{d as P,e as N,u as V,f as y,c as z,C as S,x as E,y as D,h as A,Q as le,R as ie,J as Se,L as T,I as q,g as Ae,B as F,r as Y,S as Ee,i as De,j as Fe,k as Ie,l as O,U as Pe,V as Le,W as Te,X as Re,Y as ee,Z as Q}from"./index-CtsYZAzS.js";import{D as Ue}from"./LoadingSkeletons-CR-zcJD3.js";import{T as Me,a as ze,b as se,c as te}from"./tabs-Boky9FfO.js";import{Q as b,I as Oe}from"./vendor-appwrite-CuqfvTq9.js";import{at as We,au as qe}from"./vendor-other-CzBBjgu5.js";import{P as Ve}from"./progress-CYuOOZOb.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-j_rPqiug.js";import"./vendor-animations-CPHPqPXb.js";import"./skeleton-CNtgH3zu.js";async function _e(s){try{const a=await P.listDocuments(N.databaseId,N.collections.affiliateStats,[b.equal("affiliateId",s),b.limit(1)]);if(a.documents.length>0){const o=a.documents[0];return{totalClicks:o.totalClicks||0,totalOrders:o.totalOrders||0,totalEarnings:o.totalEarnings||0,pendingEarnings:o.pendingEarnings||0,thisMonthEarnings:o.thisMonthEarnings||0,conversionRate:o.conversionRate||0,clicks:o.totalClicks||0,conversions:o.totalOrders||0,referralCount:o.totalOrders||0,commissionRate:15,affiliateCode:`AFF${s.slice(0,6).toUpperCase()}`,rank:o.rank||null}}const t={affiliateId:s,totalClicks:0,totalOrders:0,totalEarnings:0,pendingEarnings:0,thisMonthEarnings:0,updatedAt:new Date().toISOString()};try{await P.createDocument(N.databaseId,N.collections.affiliateStats,"unique()",t)}catch(o){console.error("Error creating stats:",o)}return{...t,clicks:0,conversions:0,referralCount:0,commissionRate:15,affiliateCode:`AFF${s.slice(0,6).toUpperCase()}`,rank:null}}catch(a){throw console.error("Error getting affiliate stats:",a),a}}async function Be(s,a=10){try{return(await P.listDocuments(N.databaseId,N.collections.affiliateActivities,[b.equal("affiliateId",s),b.orderDesc("$createdAt"),b.limit(a)])).documents.map(o=>({id:o.$id,type:o.type,title:o.title,description:o.description,amount:o.amount,time:new Date(o.createdAt),productName:o.productName}))}catch(t){return console.error("Error getting activities:",t),[]}}async function He(s){try{return(await P.listDocuments(N.databaseId,N.collections.withdrawalRequests,[b.equal("affiliateId",s),b.orderDesc("$createdAt"),b.limit(10)])).documents.map(t=>({id:t.$id,amount:t.amount,fee:t.fee,netAmount:t.netAmount,paymentMethod:t.paymentMethod,status:t.status,createdAt:t.createdAt,processedAt:t.processedAt}))}catch(a){return console.error("Error getting withdrawal requests:",a),[]}}async function Qe(s=10){try{return(await P.listDocuments(N.databaseId,N.collections.products,[b.equal("isActive",!0),b.orderDesc("$createdAt"),b.limit(s)])).documents}catch(a){return console.error("Error getting products:",a),[]}}async function Ze(s=10){try{return(await P.listDocuments(N.databaseId,N.collections.affiliateStats,[b.orderDesc("totalEarnings"),b.limit(s)])).documents.map((t,o)=>({rank:o+1,affiliateId:t.affiliateId,earnings:t.totalEarnings||0,clicks:t.totalClicks||0,orders:t.totalOrders||0}))}catch(a){return console.error("Error getting leaderboard:",a),[]}}function Ge({link:s,productName:a="Ù…Ù†ØªØ¬ Ø±Ø§Ø¦Ø¹"}){const{toast:t}=V(),o=()=>{const d=`ğŸ›ï¸ ${a}

ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±!
${s}`;window.open(`https://wa.me/?text=${encodeURIComponent(d)}`,"_blank")},j=()=>{window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}`,"_blank")},p=()=>{const d=`ğŸ›ï¸ ${a} - ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†!`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(d)}&url=${encodeURIComponent(s)}`,"_blank")},m=()=>{const d=`ğŸ›ï¸ ${a}

ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±!`;window.open(`https://t.me/share/url?url=${encodeURIComponent(s)}&text=${encodeURIComponent(d)}`,"_blank")},n=()=>{const d=`ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†: ${a}`,f=`Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ

Ø£ÙˆØ¯ Ø£Ù† Ø£Ø´Ø§Ø±Ùƒ Ù…Ø¹Ùƒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø±Ø§Ø¦Ø¹:

${a}

Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†ØªØ¬: ${s}

ØªØ³ÙˆÙ‚ Ø³Ø¹ÙŠØ¯!`;window.open(`mailto:?subject=${encodeURIComponent(d)}&body=${encodeURIComponent(f)}`)},x=()=>{navigator.clipboard.writeText(s),t({title:"âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®",description:"ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­"})};return e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(y,{size:"sm",variant:"outline",onClick:o,className:"hover:bg-green-50 hover:border-green-500 transition-all",title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙˆØ§ØªØ³Ø§Ø¨",children:e.jsx(ce,{className:"h-4 w-4 text-green-600"})}),e.jsx(y,{size:"sm",variant:"outline",onClick:j,className:"hover:bg-blue-50 hover:border-blue-500 transition-all",title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ",children:e.jsx(de,{className:"h-4 w-4 text-blue-600"})}),e.jsx(y,{size:"sm",variant:"outline",onClick:p,className:"hover:bg-sky-50 hover:border-sky-500 transition-all",title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ±",children:e.jsx(me,{className:"h-4 w-4 text-sky-500"})}),e.jsx(y,{size:"sm",variant:"outline",onClick:m,className:"hover:bg-blue-50 hover:border-blue-400 transition-all",title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù„Ù‰ ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…",children:e.jsx(xe,{className:"h-4 w-4 text-blue-500"})}),e.jsx(y,{size:"sm",variant:"outline",onClick:n,className:"hover:bg-gray-50 hover:border-gray-500 transition-all",title:"Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯",children:e.jsx(he,{className:"h-4 w-4 text-gray-600"})}),e.jsx(y,{size:"sm",variant:"outline",onClick:x,className:"hover:bg-purple-50 hover:border-purple-500 transition-all",title:"Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",children:e.jsx(Z,{className:"h-4 w-4 text-purple-600"})})]})}function Je(){const{user:s}=z(),{toast:a}=V(),[t,o]=h.useState([]),[j,p]=h.useState(!0),[m,n]=h.useState({}),[x,d]=h.useState(null);h.useEffect(()=>{s&&f()},[s]);const f=async()=>{try{p(!0);const g=(await P.listDocuments(N.databaseId,N.collections.products,[b.equal("isActive",!0),b.orderDesc("$createdAt"),b.limit(50)])).documents.map(c=>({$id:c.$id,name:c.name,basePrice:c.basePrice||c.price||0,minCommissionPrice:c.minCommissionPrice||c.price||0,images:c.images||[],merchantId:c.merchantId,isActive:c.isActive}));o(g);const i={};g.forEach(c=>{i[c.$id]=c.minCommissionPrice}),n(i)}catch(r){console.error("Error loading products:",r),a({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª",variant:"destructive"})}finally{p(!1)}},w=(r,g)=>{const i=g-r.basePrice,c=(i/r.basePrice*100).toFixed(1);return{commission:i,commissionPercentage:c}},l=r=>{const g=(s==null?void 0:s.affiliateCode)||`AFF${s==null?void 0:s.$id.slice(0,6).toUpperCase()}`,i=m[r]||0;return`${window.location.origin}/#/product/${r}?ref=${g}&price=${i}`},v=async(r,g)=>{try{await navigator.clipboard.writeText(r),d(g),a({title:"ØªÙ… Ø§Ù„Ù†Ø³Ø®!",description:"ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±Ø§ÙƒØ© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©"}),setTimeout(()=>d(null),2e3)}catch{a({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·",variant:"destructive"})}},$=(r,g)=>{const i=parseFloat(g)||0;n(c=>({...c,[r]:i}))},k=(r,g)=>g>=r.minCommissionPrice;return j?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(S,{children:[e.jsxs(E,{children:[e.jsx(D,{children:"Ø¥Ù†Ø´Ø§Ø¡ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø´Ø±Ø§ÙƒØ©"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø±ÙˆØ§Ø¨Ø· Ø´Ø±Ø§ÙƒØ© Ù…Ø®ØµØµØ© Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø³Ø¹Ø±Ùƒ Ø§Ù„Ø®Ø§Øµ (ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰)"})]}),e.jsxs(A,{children:[e.jsxs(le,{className:"mb-6",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsxs(ie,{children:[e.jsx("strong",{children:"ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù†Ø¸Ø§Ù…:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ: Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© (ÙŠØ­Ø¯Ø¯Ù‡ Ø§Ù„ØªØ§Ø¬Ø±)"}),e.jsx("li",{children:"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø¹Ø±: Ø£Ù‚Ù„ Ø³Ø¹Ø± ÙŠÙ…ÙƒÙ†Ùƒ Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù‡ (ÙŠØ­Ø¯Ø¯Ù‡ Ø§Ù„ØªØ§Ø¬Ø±)"}),e.jsx("li",{children:"Ø³Ø¹Ø±Ùƒ Ø§Ù„Ù…Ø®ØµØµ: ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù‚ÙŠÙ…Ø© Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰"}),e.jsx("li",{children:"Ø¹Ù…ÙˆÙ„ØªÙƒ = Ø³Ø¹Ø±Ùƒ Ø§Ù„Ù…Ø®ØµØµ - Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ"})]})]})]}),e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})}):t.map(r=>{const g=m[r.$id]||r.minCommissionPrice,{commission:i,commissionPercentage:c}=w(r,g),C=k(r,g);return e.jsxs("div",{className:`p-4 border rounded-lg ${C?"":"border-destructive"}`,children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("img",{src:r.images[0]||Se.product(r.name),alt:r.name,className:"w-16 h-16 object-cover rounded"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium mb-2",children:r.name}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ:"}),e.jsxs("p",{className:"font-semibold",children:["$",r.basePrice.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰:"}),e.jsxs("p",{className:"font-semibold text-orange-600",children:["$",r.minCommissionPrice.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø¹Ù…ÙˆÙ„ØªÙƒ:"}),e.jsxs("p",{className:"font-semibold text-green-600",children:["$",i.toFixed(2)," (",c,"%)"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Ø³Ø¹Ø±Ùƒ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:"}),e.jsxs("p",{className:"font-semibold text-blue-600",children:["$",g.toFixed(2)]})]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs(T,{htmlFor:`price-${r.$id}`,children:["Ø³Ø¹Ø±Ùƒ Ø§Ù„Ù…Ø®ØµØµ (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰: $",r.minCommissionPrice.toFixed(2),")"]}),e.jsx(q,{id:`price-${r.$id}`,type:"number",step:"0.01",min:r.minCommissionPrice,value:g,onChange:I=>$(r.$id,I.target.value),className:C?"":"border-destructive"}),!C&&e.jsxs("p",{className:"text-xs text-destructive mt-1",children:["Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£Ø¹Ù„Ù‰ Ù…Ù† Ø£Ùˆ ÙŠØ³Ø§ÙˆÙŠ $",r.minCommissionPrice.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:`link-${r.$id}`,children:"Ø±Ø§Ø¨Ø· Ø§Ù„Ø´Ø±Ø§ÙƒØ©"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{id:`link-${r.$id}`,value:l(r.$id),readOnly:!0,className:"flex-1"}),e.jsx(y,{variant:"outline",size:"icon",onClick:()=>v(l(r.$id),r.$id),disabled:!C,children:x===r.$id?e.jsx("span",{className:"text-xs",children:"âœ“"}):e.jsx(Z,{className:"h-4 w-4"})}),e.jsx(y,{variant:"outline",size:"icon",asChild:!0,disabled:!C,children:e.jsx("a",{href:l(r.$id),target:"_blank",rel:"noopener noreferrer",children:e.jsx(ue,{className:"h-4 w-4"})})})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx(T,{className:"mb-2 block",children:"Ù…Ø´Ø§Ø±ÙƒØ© Ø³Ø±ÙŠØ¹Ø©"}),e.jsx(Ge,{link:l(r.$id),productName:r.name})]})]},r.$id)})})]})]})})}function Ke(){const[s,a]=h.useState([]),[t,o]=h.useState(!0);h.useEffect(()=>{j()},[]);const j=async()=>{try{const p=await P.listDocuments(N.databaseId,N.collections.products,[b.equal("isActive",!0),b.orderDesc("$createdAt"),b.limit(5)]),m=await Promise.all(p.documents.map(async n=>{var v;const x=n.basePrice||n.price||0,d=n.minCommissionPrice||n.price||0,f=d-x;let w=0,l=0;try{const $=await P.listDocuments(N.databaseId,N.collections.affiliateClicks,[b.equal("productId",n.$id),b.limit(1e3)]);w=$.total,l=$.documents.filter(k=>k.converted).length}catch($){console.error("Error loading product stats:",$)}return{id:n.$id,name:n.name,image:Ae((v=n.images)==null?void 0:v[0]),basePrice:x,minCommissionPrice:d,commission:f,clicks:w,sales:l}}));m.sort((n,x)=>x.commission-n.commission),a(m)}catch(p){console.error("Error loading top products:",p)}finally{o(!1)}};return t?e.jsx(S,{children:e.jsx(E,{children:e.jsx(D,{children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„..."})})}):e.jsxs(S,{className:"border-yellow-200 shadow-lg",children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-yellow-500"}),"Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„ØªØ±ÙˆÙŠØ¬"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø¹Ù…ÙˆÙ„Ø© ÙˆØ§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹"})]}),e.jsxs(A,{className:"space-y-3",children:[s.map((p,m)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted rounded-lg transition-all group",children:[e.jsx(F,{className:`w-8 h-8 flex items-center justify-center text-sm font-bold ${m===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":m===1?"bg-gradient-to-br from-gray-300 to-gray-500":m===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-blue-400 to-blue-600"}`,children:m+1}),e.jsx("img",{src:p.image,alt:p.name,className:"w-14 h-14 rounded-lg object-cover border-2 border-muted group-hover:border-primary transition-all"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm line-clamp-1 group-hover:text-primary transition-colors",children:p.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(M,{className:"h-3 w-3 text-green-600"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[p.commission.toFixed(0)," Ø¬.Ù…"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(G,{className:"h-3 w-3"}),p.clicks]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(R,{className:"h-3 w-3"}),p.sales," Ù…Ø¨ÙŠØ¹Ø©"]})]})]}),e.jsx(y,{size:"sm",variant:"outline",className:"group-hover:bg-primary group-hover:text-white transition-all",asChild:!0,children:e.jsx(re,{to:`#product-${p.id}`,children:"Ø±ÙˆÙ‘Ø¬ Ø§Ù„Ø¢Ù†"})})]},p.id)),s.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(J,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})]})]})]})}function Xe({stats:s}){const a=(s==null?void 0:s.conversionRate)||0,t=(s==null?void 0:s.totalClicks)||0,o=(s==null?void 0:s.totalOrders)||0,j=(s==null?void 0:s.totalEarnings)||0,m=a>=5?{level:"Ù…Ù…ØªØ§Ø²",color:"green",percentage:90}:a>=3?{level:"Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹",color:"blue",percentage:70}:a>=2?{level:"Ø¬ÙŠØ¯",color:"yellow",percentage:50}:{level:"ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†",color:"orange",percentage:30},n=[];a>=3?n.push({icon:R,color:"green",title:"Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø²!",description:`Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ${a.toFixed(1)}% Ø£Ø¹Ù„Ù‰ Ù…Ù† ${m.percentage}% Ù…Ù† Ø§Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ†`,type:"success"}):a<2&&n.push({icon:W,color:"orange",title:"ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡",description:"Ø¬Ø±Ø¨ Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø¬Ù…Ù‡ÙˆØ± Ø£ÙƒØ«Ø± ØªØ­Ø¯ÙŠØ¯Ø§Ù‹ Ù„Ø²ÙŠØ§Ø¯Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„",type:"warning"}),t>100&&n.push({icon:ge,color:"blue",title:"Ù†Ø´Ø§Ø· Ø±Ø§Ø¦Ø¹!",description:`Ø­Ù‚Ù‚Øª ${t} Ù†Ù‚Ø±Ø© - Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†Ø´Ø·Ø©`,type:"info"}),n.push({icon:pe,color:"purple",title:"Ù†ØµÙŠØ­Ø© Ø°ÙƒÙŠØ©",description:"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ ÙØ¦Ø© 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª' ØªØ­Ù‚Ù‚ Ø£Ø¹Ù„Ù‰ Ø¹Ù…ÙˆÙ„Ø© Ø¨Ù…ØªÙˆØ³Ø· 15%",type:"tip"}),j<1e3?n.push({icon:ae,color:"pink",title:"Ù‡Ø¯ÙÙƒ Ø§Ù„Ù‚Ø§Ø¯Ù…",description:`ØªØ­ØªØ§Ø¬ ${(1e3-j).toFixed(0)} Ø¬.Ù… Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù…Ø³ØªÙˆÙ‰ 'Ø§Ù„Ù…Ø³ÙˆÙ‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ'`,type:"goal"}):n.push({icon:ne,color:"yellow",title:"Ø¥Ù†Ø¬Ø§Ø² Ø±Ø§Ø¦Ø¹!",description:"ÙˆØµÙ„Øª Ù„Ù…Ø³ØªÙˆÙ‰ 'Ø§Ù„Ù…Ø³ÙˆÙ‚ Ø§Ù„Ø°Ù‡Ø¨ÙŠ' - Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ…ÙŠØ²",type:"achievement"});const x=(d,f)=>{var l;const w={green:{bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-600",border:"border-green-200"},blue:{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-600",border:"border-blue-200"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-600",border:"border-orange-200"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",text:"text-purple-600",border:"border-purple-200"},pink:{bg:"bg-pink-50 dark:bg-pink-900/20",text:"text-pink-600",border:"border-pink-200"},yellow:{bg:"bg-yellow-50 dark:bg-yellow-900/20",text:"text-yellow-600",border:"border-yellow-200"}};return((l=w[d])==null?void 0:l[f])||w.blue[f]};return e.jsxs(S,{className:"border-purple-200 shadow-lg",children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-5 w-5 text-purple-600"}),"Ø±Ø¤Ù‰ Ø§Ù„Ø£Ø¯Ø§Ø¡"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ Ù„Ø£Ø¯Ø§Ø¦Ùƒ ÙˆÙ†ØµØ§Ø¦Ø­ Ù„Ù„ØªØ­Ø³ÙŠÙ†"})]}),e.jsxs(A,{className:"space-y-3",children:[e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 ${x(m.color,"bg")} ${x(m.color,"border")}`,children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¯Ø§Ø¡"}),e.jsx("p",{className:`text-2xl font-bold ${x(m.color,"text")}`,children:m.level})]}),e.jsxs(F,{className:`${x(m.color,"bg")} ${x(m.color,"text")} text-lg px-4 py-2`,children:[a.toFixed(1),"%"]})]}),n.map((d,f)=>{const w=d.icon;return e.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${x(d.color,"bg")} ${x(d.color,"border")} transition-all hover:shadow-md`,children:[e.jsx("div",{className:`p-2 rounded-lg ${x(d.color,"bg")}`,children:e.jsx(w,{className:`h-5 w-5 ${x(d.color,"text")}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm",children:d.title}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})]},f)}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ù†Ù‚Ø±Ø§Øª"}),e.jsx("p",{className:"text-lg font-bold",children:t})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"}),e.jsx("p",{className:"text-lg font-bold",children:o})]}),e.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„ØªØ­ÙˆÙŠÙ„"}),e.jsxs("p",{className:"text-lg font-bold",children:[a.toFixed(1),"%"]})]})]})]})]})}function Ye({activities:s}){const{user:a}=z(),[t,o]=h.useState(s||[]),[j,p]=h.useState(!s);h.useEffect(()=>{if(!s&&(a!=null&&a.$id)){m();const l=setInterval(()=>{m()},3e4);return()=>clearInterval(l)}},[a,s]);const m=async()=>{if(a!=null&&a.$id)try{p(!0);const l=await Be(a.$id,10);o(l)}catch(l){console.error("Error loading activities:",l),o([])}finally{p(!1)}},n=[{id:"1",type:"sale",title:"Ù…Ø¨ÙŠØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©",description:"ØªÙ… Ø´Ø±Ø§Ø¡ Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø·Ùƒ",amount:45.5,time:new Date(Date.now()-1e3*60*30),productName:"Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ù…ØªØ·ÙˆØ±Ø©"},{id:"2",type:"earning",title:"Ø¹Ù…ÙˆÙ„Ø© Ù…Ø¶Ø§ÙØ©",description:"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆÙ„Ø© Ø¥Ù„Ù‰ Ø±ØµÙŠØ¯Ùƒ",amount:45.5,time:new Date(Date.now()-1e3*60*45)},{id:"3",type:"click",title:"Ù†Ù‚Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©",description:"15 Ù†Ù‚Ø±Ø© Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ©",time:new Date(Date.now()-1e3*60*60*2),productName:"Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Pro"},{id:"4",type:"link_created",title:"Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙŠØ¯",description:"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Ù„Ù…Ù†ØªØ¬ ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ©",time:new Date(Date.now()-1e3*60*60*5),productName:"ÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ© 4K"},{id:"5",type:"sale",title:"Ù…Ø¨ÙŠØ¹Ø© Ø¬Ø¯ÙŠØ¯Ø©",description:"ØªÙ… Ø´Ø±Ø§Ø¡ Ù„Ø§Ø¨ØªÙˆØ¨ Ø£Ù„Ø¹Ø§Ø¨ Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø·Ùƒ",amount:120,time:new Date(Date.now()-1e3*60*60*24),productName:"Ù„Ø§Ø¨ØªÙˆØ¨ Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ·ÙˆØ±"},{id:"6",type:"click",title:"Ù†Ù‚Ø±Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©",description:"8 Ù†Ù‚Ø±Ø§Øª Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø· ØªØ§Ø¨Ù„Øª Ø±Ø³Ù…",time:new Date(Date.now()-1e3*60*60*24*2),productName:"ØªØ§Ø¨Ù„Øª Ø±Ø³Ù… Ø±Ù‚Ù…ÙŠ"}],x=t.length>0?t:j?[]:n,d=l=>{switch(l){case"sale":return fe;case"click":return G;case"link_created":return je;case"earning":return M;default:return R}},f=l=>{switch(l){case"sale":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"click":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"link_created":return"text-purple-600 bg-purple-100 dark:bg-purple-900/20";case"earning":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},w=l=>l==="sale"||l==="earning"?"default":"secondary";return e.jsxs(S,{className:"shadow-lg",children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5 text-primary"}),"Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªØªØ¨Ø¹ Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ"})]}),e.jsx(A,{children:j?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-4",children:[x.map((l,v)=>{const $=d(l.type),k=f(l.type);return e.jsxs("div",{className:"flex gap-3 items-start group",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${k} group-hover:scale-110 transition-transform`,children:e.jsx($,{className:"h-5 w-5"})}),v<t.length-1&&e.jsx("div",{className:"w-0.5 h-12 bg-muted mt-2"})]}),e.jsx("div",{className:"flex-1 pb-4",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm group-hover:text-primary transition-colors",children:l.title}),l.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:l.description}),l.productName&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"Ø§Ù„Ù…Ù†ØªØ¬:"}),l.productName]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),We(l.time,{addSuffix:!0,locale:qe})]})]}),l.amount&&e.jsxs(F,{variant:w(l.type),className:"text-sm font-bold whitespace-nowrap",children:["+",l.amount.toFixed(2)," Ø¬.Ù…"]})]})})]},l.id)}),x.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ø­Ø¯ÙŠØ«Ø©"}),e.jsx("p",{className:"text-xs mt-1",children:"Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø±ÙˆØ§Ø¨Ø· ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡Ø§"})]})]})})]})}function es({currentUserRank:s,currentUserEarnings:a}){const{user:t}=z(),[o,j]=h.useState([]),[p,m]=h.useState(!0),[n,x]=h.useState(s||0),[d,f]=h.useState(a||0);h.useEffect(()=>{w()},[]);const w=async()=>{try{m(!0);const i=await Ze(10);if(j(i),t!=null&&t.$id){const c=i.findIndex(C=>C.affiliateId===t.$id);c!==-1&&(x(c+1),f(i[c].earnings))}}catch(i){console.error("Error loading leaderboard:",i),j([])}finally{m(!1)}},l=o.slice(0,5).map((i,c)=>({rank:c+1,affiliateId:i.affiliateId,name:i.affiliateId===(t==null?void 0:t.$id)?"Ø£Ù†Øª":`Ù…Ø³ÙˆÙ‚ ${c+1}`,earnings:i.earnings||0,avatar:c===0?"ğŸ‘‘":c===1?"ğŸŒŸ":c===2?"ğŸ¯":c===3?"â­":"ğŸ’",isCurrentUser:i.affiliateId===(t==null?void 0:t.$id)})),v=l.find(i=>i.rank===n-1),$=v?v.earnings-d:0,k=v?d/v.earnings*100:100,r=i=>{switch(i){case 1:return e.jsx(B,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(K,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(K,{className:"h-5 w-5 text-orange-500"});default:return e.jsx(ne,{className:"h-5 w-5 text-blue-500"})}},g=i=>{switch(i){case 1:return"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white";case 2:return"bg-gradient-to-r from-gray-300 to-gray-500 text-white";case 3:return"bg-gradient-to-r from-orange-400 to-orange-600 text-white";default:return"bg-gradient-to-r from-blue-400 to-blue-600 text-white"}};return e.jsxs(S,{className:"border-yellow-200 shadow-lg bg-gradient-to-br from-white to-yellow-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-yellow-500"}),"Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ØªÙ†Ø§ÙØ³ Ù…Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ† Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"})]}),e.jsx(A,{className:"space-y-4",children:p?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs(e.Fragment,{children:[n>0&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border-2 border-yellow-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{className:`${g(n)} text-lg px-3 py-1`,children:["#",n]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:"Ø£Ù†Øª ğŸ¯"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ù…Ø±ÙƒØ²Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-2xl text-orange-600",children:d.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø¬.Ù…"})]})]}),v&&$>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„Ù…Ø±ÙƒØ² ",v.rank]}),e.jsxs("span",{className:"font-semibold",children:[k.toFixed(0),"%"]})]}),e.jsx(Ve,{value:k,className:"h-2"}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["ØªØ­ØªØ§Ø¬ ",e.jsxs("strong",{className:"text-primary",children:[$.toLocaleString()," Ø¬.Ù…"]})," Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù…Ø±ÙƒØ² ",v.rank]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-3",children:["Ø£ÙØ¶Ù„ ",l.length," Ù…Ø³ÙˆÙ‚ÙŠÙ†"]}),l.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(B,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ§Ø­Ø©"}),e.jsx("p",{className:"text-xs mt-1",children:"ÙƒÙ† Ø£ÙˆÙ„ Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†!"})]}):l.map(i=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-all ${i.isCurrentUser?"bg-primary/10 border-2 border-primary":"bg-muted/50 hover:bg-muted"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:`${g(i.rank)} w-8 h-8 flex items-center justify-center`,children:i.rank}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:i.avatar}),e.jsxs("div",{children:[e.jsx("p",{className:`font-semibold text-sm ${i.isCurrentUser?"text-primary":""}`,children:i.name}),i.rank<=3&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[r(i.rank),e.jsx("span",{className:"text-xs text-muted-foreground",children:i.rank===1?"Ø§Ù„Ø¨Ø·Ù„":i.rank===2?"Ø§Ù„ÙˆØµÙŠÙ":"Ø§Ù„Ø«Ø§Ù„Ø«"})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-lg",children:i.earnings.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø¬.Ù…"})]})]},i.rank))]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:[e.jsx(R,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),e.jsx("p",{className:"text-sm font-semibold",children:"Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªÙ…ÙŠØ²!"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"ÙƒÙ„ Ù…Ø¨ÙŠØ¹Ø© ØªÙ‚Ø±Ø¨Ùƒ Ù…Ù† Ø§Ù„Ù‚Ù…Ø© ğŸš€"})]})]})})]})}function ss({availableBalance:s=0,pendingWithdrawals:a=0}){const{user:t}=z(),{toast:o}=V(),[j,p]=h.useState(""),[m,n]=h.useState(""),[x,d]=h.useState(""),[f,w]=h.useState(!1),[l,v]=h.useState([]),[$,k]=h.useState(!0),r=100,g=s>=r;h.useEffect(()=>{t!=null&&t.$id&&i()},[t]);const i=async()=>{if(t!=null&&t.$id)try{k(!0);const u=await He(t.$id);v(u)}catch(u){console.error("Error loading withdrawal history:",u)}finally{k(!1)}},c=async()=>{if(!(t!=null&&t.$id)){o({title:"Ø®Ø·Ø£",description:"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹",variant:"destructive"});return}const u=parseFloat(j);if(!u||u<r){o({title:"Ø®Ø·Ø£",description:`Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø­Ø¨ Ù‡Ùˆ ${r} Ø¬.Ù…`,variant:"destructive"});return}if(u>s){o({title:"Ø®Ø·Ø£",description:"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­",variant:"destructive"});return}if(!m){o({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹",variant:"destructive"});return}if(!x){o({title:"Ø®Ø·Ø£",description:"ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨",variant:"destructive"});return}w(!0);try{const _=parseFloat(C(u)),oe=parseFloat(I(u));await P.createDocument(N.databaseId,N.collections.withdrawalRequests,Oe.unique(),{affiliateId:t.$id,amount:u,fee:_,netAmount:oe,paymentMethod:m,accountDetails:x,status:"pending",createdAt:new Date().toISOString()}),o({title:"âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨",description:`ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø³Ø­Ø¨ ${u} Ø¬.Ù… Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø®Ù„Ø§Ù„ 2-3 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„.`}),p(""),n(""),d(""),await i()}catch(_){console.error("Error submitting withdrawal:",_),o({title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",variant:"destructive"})}finally{w(!1)}},C=u=>(u*.02).toFixed(2),I=u=>(u-parseFloat(C(u))).toFixed(2),L=u=>{switch(u){case"pending":return e.jsxs(F,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[e.jsx(U,{className:"h-3 w-3 mr-1"})," Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"]});case"approved":return e.jsxs(F,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(be,{className:"h-3 w-3 mr-1"})," ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„"]});case"rejected":return e.jsxs(F,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(W,{className:"h-3 w-3 mr-1"})," Ù…Ø±ÙÙˆØ¶"]});default:return e.jsx(F,{variant:"outline",children:u})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(S,{className:"border-green-200 shadow-lg",children:[e.jsxs(E,{children:[e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-green-600"}),"Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø§Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­Ùƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ£Ù…Ø§Ù†"})]}),e.jsxs(A,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"h-4 w-4 text-green-600"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[s.toLocaleString()," Ø¬.Ù…"]})]}),e.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg border-2 border-orange-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:"h-4 w-4 text-orange-600"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©"})]}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.toLocaleString()," Ø¬.Ù…"]})]})]}),!g&&e.jsxs(le,{className:"bg-yellow-50 border-yellow-200",children:[e.jsx(W,{className:"h-4 w-4 text-yellow-600"}),e.jsxs(ie,{className:"text-yellow-800",children:["Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø³Ø­Ø¨ Ù‡Ùˆ ",r," Ø¬.Ù…. Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ: ",s," Ø¬.Ù…"]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"amount",children:"Ø§Ù„Ù…Ø¨Ù„Øº (Ø¬.Ù…)"}),e.jsx(q,{id:"amount",type:"number",placeholder:`Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ ${r} Ø¬.Ù…`,value:j,onChange:u=>p(u.target.value),disabled:!g||f,min:r,max:s})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"payment-method",children:"Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹"}),e.jsxs(Ee,{value:m,onValueChange:n,disabled:!g||f,children:[e.jsx(De,{children:e.jsx(Fe,{placeholder:"Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹"})}),e.jsxs(Ie,{children:[e.jsx(O,{value:"bank",children:"ØªØ­ÙˆÙŠÙ„ Ø¨Ù†ÙƒÙŠ"}),e.jsx(O,{value:"vodafone-cash",children:"ÙÙˆØ¯Ø§ÙÙˆÙ† ÙƒØ§Ø´"}),e.jsx(O,{value:"instapay",children:"Ø¥Ù†Ø³ØªØ§Ø¨Ø§ÙŠ"}),e.jsx(O,{value:"paypal",children:"PayPal"})]})]})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"account-details",children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨"}),e.jsx(q,{id:"account-details",placeholder:"Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ù…Ø­ÙØ¸Ø©",value:x,onChange:u=>d(u.target.value),disabled:!g||f})]}),j&&parseFloat(j)>=r&&e.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:"}),e.jsxs("span",{className:"font-semibold",children:[parseFloat(j).toLocaleString()," Ø¬.Ù…"]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:"Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ (2%):"}),e.jsxs("span",{children:["-",C(parseFloat(j))," Ø¬.Ù…"]})]}),e.jsx(Y,{}),e.jsxs("div",{className:"flex justify-between text-base font-bold",children:[e.jsx("span",{children:"Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„ØµØ§ÙÙŠ:"}),e.jsxs("span",{className:"text-green-600",children:[I(parseFloat(j))," Ø¬.Ù…"]})]})]}),e.jsx(y,{onClick:c,disabled:!g||f||!j||!m||!x,className:"w-full",size:"lg",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),"Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨"]})})]})]})]}),e.jsxs(S,{children:[e.jsx(E,{children:e.jsx(D,{className:"text-lg",children:"Ø³Ø¬Ù„ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨"})}),e.jsx(A,{children:$?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l.length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(H,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø³Ø­Ø¨ Ø³Ø§Ø¨Ù‚Ø©"})]}):e.jsx("div",{className:"space-y-3",children:l.map(u=>e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"font-semibold",children:[u.amount.toLocaleString()," Ø¬.Ù…"]})]}),L(u.status)]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("p",{children:["Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©: ",u.paymentMethod]}),e.jsxs("p",{children:["Ø§Ù„ØµØ§ÙÙŠ: ",u.netAmount.toLocaleString()," Ø¬.Ù…"]}),e.jsxs("p",{children:["Ø§Ù„ØªØ§Ø±ÙŠØ®: ",new Date(u.createdAt).toLocaleDateString("ar-EG")]})]})]},u.id))})})]})]})}function us(){var i,c,C;const{user:s}=z(),{toast:a}=V(),t=Ne(),[o,j]=h.useState([]),[p,m]=h.useState(null),[n,x]=h.useState(null),[d,f]=h.useState(!0),[w,l]=h.useState(null),[v,$]=h.useState(!1),[k,r]=h.useState(!1);h.useEffect(()=>{g()},[s]);const g=async()=>{try{if(f(!0),l(null),!s){l("ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");return}if(!s.isAffiliate&&s.role!=="affiliate"&&s.role!=="admin"){l("Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©. ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…Ø³ÙˆÙ‚ Ø¨Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©.");return}const I=await Qe(6);if(j(I||[]),s!=null&&s.$id)try{const L=await _e(s.$id);x(L)}catch(L){console.error("Error loading stats:",L),x({totalClicks:0,totalOrders:0,totalEarnings:0,pendingEarnings:0,thisMonthEarnings:0,affiliateCode:s.affiliateCode||`AFF${s.$id.slice(0,6).toUpperCase()}`,conversionRate:0,clicks:0,conversions:0,referralCount:0,commissionRate:15})}}catch(I){console.error("Error loading data:",I),l("ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰."),a({variant:"destructive",title:"Ø®Ø·Ø£",description:"ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"})}finally{f(!1)}};return e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(X,{})}),k&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>r(!1)}),e.jsx("div",{className:"absolute right-0 top-0 h-full",children:e.jsx(X,{})})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!k),children:k?e.jsx(we,{className:"h-5 w-5"}):e.jsx(ve,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ",s==null?void 0:s.name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø©: ",(s==null?void 0:s.affiliateCode)||`AFF${(i=s==null?void 0:s.$id)==null?void 0:i.slice(0,6).toUpperCase()}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(y,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(ye,{className:"h-5 w-5"}),e.jsx(F,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center",children:"3"})]}),e.jsxs(Pe,{children:[e.jsx(Le,{asChild:!0,children:e.jsx(y,{variant:"ghost",size:"icon",children:e.jsx(ke,{className:"h-5 w-5"})})}),e.jsxs(Te,{align:"end",children:[e.jsx(Re,{children:"Ø­Ø³Ø§Ø¨ÙŠ"}),e.jsx(ee,{}),e.jsx(Q,{children:"Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ"}),e.jsx(Q,{children:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª"}),e.jsx(ee,{}),e.jsx(Q,{onClick:()=>t("/logout"),children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬"})]})]})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto bg-muted/40",children:e.jsx("div",{className:"container mx-auto px-4 py-8 space-y-8",children:d?e.jsx("div",{className:"py-8",children:e.jsx(Ue,{count:4})}):w?e.jsx(S,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx($e,{className:"h-12 w-12 text-red-500 mx-auto"}),e.jsx("h2",{className:"text-xl font-semibold text-red-700 dark:text-red-400",children:w}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(y,{onClick:()=>t("/login"),variant:"outline",children:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„"}),e.jsx(y,{onClick:()=>t("/affiliate"),children:"Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙƒÙ…Ø³ÙˆÙ‚"})]})]})})}):n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-orange-600 to-yellow-500 bg-clip-text text-transparent",children:["Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ",(s==null?void 0:s.name)||"Ø§Ù„Ø´Ø±ÙŠÙƒ"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Ø¥Ù„ÙŠÙƒ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø´Ø±Ø§ÙƒØªÙƒ"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(F,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg",children:"Ø´Ø±ÙŠÙƒ Ù†Ø´Ø·"})})]}),e.jsx(S,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-orange-50/50 dark:from-primary/10 dark:to-neutral-800",children:e.jsx(A,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:e.jsx(Ce,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx(T,{className:"text-sm font-medium text-muted-foreground",children:"ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ"}),e.jsx("p",{className:"text-2xl font-bold text-primary mt-1",children:(s==null?void 0:s.affiliateCode)||`AFF${(c=s==null?void 0:s.$id)==null?void 0:c.slice(0,6).toUpperCase()}`})]})]}),e.jsxs(y,{onClick:()=>{var L;const I=(s==null?void 0:s.affiliateCode)||`AFF${(L=s==null?void 0:s.$id)==null?void 0:L.slice(0,6).toUpperCase()}`;navigator.clipboard.writeText(I),a({title:"ØªÙ… Ø§Ù„Ù†Ø³Ø®!",description:"ØªÙ… Ù†Ø³Ø® ÙƒÙˆØ¯ Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­"})},variant:"outline",className:"gap-2",children:[e.jsx(Z,{className:"h-4 w-4"}),"Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯"]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(S,{className:"border-orange-200 dark:border-orange-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-orange-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­"}),e.jsx(M,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(n.totalEarnings||0).toFixed(2)," Ø¬.Ù…"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ"})]})]}),e.jsxs(S,{className:"border-green-200 dark:border-green-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-green-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Ø£Ø±Ø¨Ø§Ø­ Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"}),e.jsx(R,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[(n.thisMonthEarnings||0).toFixed(2)," Ø¬.Ù…"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+8.2% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ"})]})]}),e.jsxs(S,{className:"border-blue-200 dark:border-blue-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-blue-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Ø§Ù„Ù†Ù‚Ø±Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±"}),e.jsx(G,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(A,{children:[e.jsx("div",{className:"text-2xl font-bold",children:((C=n.clicks)==null?void 0:C.toLocaleString())||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø±Ø§Øª"})]})]}),e.jsxs(S,{className:"border-purple-200 dark:border-purple-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-purple-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„"}),e.jsx(ae,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(A,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[n.conversionRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+0.8% Ù…Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsx(Ye,{}),e.jsx(ss,{availableBalance:(n==null?void 0:n.totalEarnings)||0,pendingWithdrawals:(n==null?void 0:n.pendingEarnings)||0})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsx(Xe,{stats:n}),e.jsx(Ke,{})]}),e.jsxs(Me,{defaultValue:"links",className:"space-y-6",children:[e.jsxs(ze,{className:"grid w-full grid-cols-2",children:[e.jsx(se,{value:"links",children:"Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø´Ø±Ø§ÙƒØ©"}),e.jsx(se,{value:"leaderboard",children:"Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†"})]}),e.jsx(te,{value:"links",className:"space-y-6",children:e.jsx(Je,{})}),e.jsx(te,{value:"leaderboard",className:"space-y-6",children:e.jsx(es,{currentUserRank:3,currentUserEarnings:(n==null?void 0:n.totalEarnings)||0})})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙŠÙƒ"}),e.jsx(y,{asChild:!0,children:e.jsx(re,{to:"/",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"})})]})})})]})]})}export{us as default};

function the(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var G1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function In(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cC={exports:{}},gy={},uC={exports:{}},Nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i$;function nhe(){if(i$)return Nn;i$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function h($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function v($,W,le){this.props=$,this.context=W,this.refs=g,this.updater=le||p}v.prototype.isReactComponent={},v.prototype.setState=function($,W){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,W,"setState")},v.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function b(){}b.prototype=v.prototype;function w($,W,le){this.props=$,this.context=W,this.refs=g,this.updater=le||p}var _=w.prototype=new b;_.constructor=w,y(_,v.prototype),_.isPureReactComponent=!0;var S=Array.isArray,j=Object.prototype.hasOwnProperty,A={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N($,W,le){var ie,re={},_e=null,pe=null;if(W!=null)for(ie in W.ref!==void 0&&(pe=W.ref),W.key!==void 0&&(_e=""+W.key),W)j.call(W,ie)&&!C.hasOwnProperty(ie)&&(re[ie]=W[ie]);var Ne=arguments.length-2;if(Ne===1)re.children=le;else if(1<Ne){for(var je=Array(Ne),Oe=0;Oe<Ne;Oe++)je[Oe]=arguments[Oe+2];re.children=je}if($&&$.defaultProps)for(ie in Ne=$.defaultProps,Ne)re[ie]===void 0&&(re[ie]=Ne[ie]);return{$$typeof:t,type:$,key:_e,ref:pe,props:re,_owner:A.current}}function T($,W){return{$$typeof:t,type:$.type,key:W,ref:$.ref,props:$.props,_owner:$._owner}}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function D($){var W={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(le){return W[le]})}var O=/\/+/g;function I($,W){return typeof $=="object"&&$!==null&&$.key!=null?D(""+$.key):W.toString(36)}function L($,W,le,ie,re){var _e=typeof $;(_e==="undefined"||_e==="boolean")&&($=null);var pe=!1;if($===null)pe=!0;else switch(_e){case"string":case"number":pe=!0;break;case"object":switch($.$$typeof){case t:case e:pe=!0}}if(pe)return pe=$,re=re(pe),$=ie===""?"."+I(pe,0):ie,S(re)?(le="",$!=null&&(le=$.replace(O,"$&/")+"/"),L(re,W,le,"",function(Oe){return Oe})):re!=null&&(P(re)&&(re=T(re,le+(!re.key||pe&&pe.key===re.key?"":(""+re.key).replace(O,"$&/")+"/")+$)),W.push(re)),1;if(pe=0,ie=ie===""?".":ie+":",S($))for(var Ne=0;Ne<$.length;Ne++){_e=$[Ne];var je=ie+I(_e,Ne);pe+=L(_e,W,le,je,re)}else if(je=h($),typeof je=="function")for($=je.call($),Ne=0;!(_e=$.next()).done;)_e=_e.value,je=ie+I(_e,Ne++),pe+=L(_e,W,le,je,re);else if(_e==="object")throw W=String($),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return pe}function z($,W,le){if($==null)return $;var ie=[],re=0;return L($,ie,"","",function(_e){return W.call(le,_e,re++)}),ie}function q($){if($._status===-1){var W=$._result;W=W(),W.then(function(le){($._status===0||$._status===-1)&&($._status=1,$._result=le)},function(le){($._status===0||$._status===-1)&&($._status=2,$._result=le)}),$._status===-1&&($._status=0,$._result=W)}if($._status===1)return $._result.default;throw $._result}var V={current:null},F={transition:null},U={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function H(){throw Error("act(...) is not supported in production builds of React.")}return Nn.Children={map:z,forEach:function($,W,le){z($,function(){W.apply(this,arguments)},le)},count:function($){var W=0;return z($,function(){W++}),W},toArray:function($){return z($,function(W){return W})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Nn.Component=v,Nn.Fragment=n,Nn.Profiler=i,Nn.PureComponent=w,Nn.StrictMode=r,Nn.Suspense=c,Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Nn.act=H,Nn.cloneElement=function($,W,le){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ie=y({},$.props),re=$.key,_e=$.ref,pe=$._owner;if(W!=null){if(W.ref!==void 0&&(_e=W.ref,pe=A.current),W.key!==void 0&&(re=""+W.key),$.type&&$.type.defaultProps)var Ne=$.type.defaultProps;for(je in W)j.call(W,je)&&!C.hasOwnProperty(je)&&(ie[je]=W[je]===void 0&&Ne!==void 0?Ne[je]:W[je])}var je=arguments.length-2;if(je===1)ie.children=le;else if(1<je){Ne=Array(je);for(var Oe=0;Oe<je;Oe++)Ne[Oe]=arguments[Oe+2];ie.children=Ne}return{$$typeof:t,type:$.type,key:re,ref:_e,props:ie,_owner:pe}},Nn.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Nn.createElement=N,Nn.createFactory=function($){var W=N.bind(null,$);return W.type=$,W},Nn.createRef=function(){return{current:null}},Nn.forwardRef=function($){return{$$typeof:l,render:$}},Nn.isValidElement=P,Nn.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:q}},Nn.memo=function($,W){return{$$typeof:u,type:$,compare:W===void 0?null:W}},Nn.startTransition=function($){var W=F.transition;F.transition={};try{$()}finally{F.transition=W}},Nn.unstable_act=H,Nn.useCallback=function($,W){return V.current.useCallback($,W)},Nn.useContext=function($){return V.current.useContext($)},Nn.useDebugValue=function(){},Nn.useDeferredValue=function($){return V.current.useDeferredValue($)},Nn.useEffect=function($,W){return V.current.useEffect($,W)},Nn.useId=function(){return V.current.useId()},Nn.useImperativeHandle=function($,W,le){return V.current.useImperativeHandle($,W,le)},Nn.useInsertionEffect=function($,W){return V.current.useInsertionEffect($,W)},Nn.useLayoutEffect=function($,W){return V.current.useLayoutEffect($,W)},Nn.useMemo=function($,W){return V.current.useMemo($,W)},Nn.useReducer=function($,W,le){return V.current.useReducer($,W,le)},Nn.useRef=function($){return V.current.useRef($)},Nn.useState=function($){return V.current.useState($)},Nn.useSyncExternalStore=function($,W,le){return V.current.useSyncExternalStore($,W,le)},Nn.useTransition=function(){return V.current.useTransition()},Nn.version="18.3.1",Nn}var s$;function ax(){return s$||(s$=1,uC.exports=nhe()),uC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a$;function rhe(){if(a$)return gy;a$=1;var t=ax(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},h=null,p=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)r.call(c,d)&&!a.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:h,ref:p,props:f,_owner:i.current}}return gy.Fragment=n,gy.jsx=o,gy.jsxs=o,gy}var o$;function ihe(){return o$||(o$=1,cC.exports=rhe()),cC.exports}var s=ihe(),W1={},dC={exports:{}},Na={},fC={exports:{}},hC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$;function she(){return l$||(l$=1,(function(t){function e(F,U){var H=F.length;F.push(U);e:for(;0<H;){var $=H-1>>>1,W=F[$];if(0<i(W,U))F[$]=U,F[H]=W,H=$;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],H=F.pop();if(H!==U){F[0]=H;e:for(var $=0,W=F.length,le=W>>>1;$<le;){var ie=2*($+1)-1,re=F[ie],_e=ie+1,pe=F[_e];if(0>i(re,H))_e<W&&0>i(pe,re)?(F[$]=pe,F[_e]=H,$=_e):(F[$]=re,F[ie]=H,$=ie);else if(_e<W&&0>i(pe,H))F[$]=pe,F[_e]=H,$=_e;else break e}}return U}function i(F,U){var H=F.sortIndex-U.sortIndex;return H!==0?H:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=F)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function S(F){if(g=!1,_(F),!y)if(n(c)!==null)y=!0,q(j);else{var U=n(u);U!==null&&V(S,U.startTime-F)}}function j(F,U){y=!1,g&&(g=!1,b(N),N=-1),p=!0;var H=h;try{for(_(U),f=n(c);f!==null&&(!(f.expirationTime>U)||F&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var W=$(f.expirationTime<=U);U=t.unstable_now(),typeof W=="function"?f.callback=W:f===n(c)&&r(c),_(U)}else r(c);f=n(c)}if(f!==null)var le=!0;else{var ie=n(u);ie!==null&&V(S,ie.startTime-U),le=!1}return le}finally{f=null,h=H,p=!1}}var A=!1,C=null,N=-1,T=5,P=-1;function D(){return!(t.unstable_now()-P<T)}function O(){if(C!==null){var F=t.unstable_now();P=F;var U=!0;try{U=C(!0,F)}finally{U?I():(A=!1,C=null)}}else A=!1}var I;if(typeof w=="function")I=function(){w(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=O,I=function(){z.postMessage(null)}}else I=function(){v(O,0)};function q(F){C=F,A||(A=!0,I())}function V(F,U){N=v(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,q(j))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var H=h;h=U;try{return F()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return U()}finally{h=H}},t.unstable_scheduleCallback=function(F,U,H){var $=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?$+H:$):H=$,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,F={id:d++,callback:U,priorityLevel:F,startTime:H,expirationTime:W,sortIndex:-1},H>$?(F.sortIndex=H,e(u,F),n(c)===null&&F===n(u)&&(g?(b(N),N=-1):g=!0,V(S,H-$))):(F.sortIndex=W,e(c,F),y||p||(y=!0,q(j))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var U=h;return function(){var H=h;h=U;try{return F.apply(this,arguments)}finally{h=H}}}})(hC)),hC}var c$;function ahe(){return c$||(c$=1,fC.exports=she()),fC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u$;function ohe(){if(u$)return Na;u$=1;var t=ax(),e=ahe();function n(m){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+m,E=1;E<arguments.length;E++)x+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+m+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(m,x){o(m,x),o(m+"Capture",x)}function o(m,x){for(i[m]=x,m=0;m<x.length;m++)r.add(x[m])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function h(m){return c.call(f,m)?!0:c.call(d,m)?!1:u.test(m)?f[m]=!0:(d[m]=!0,!1)}function p(m,x,E,R){if(E!==null&&E.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return R?!1:E!==null?!E.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function y(m,x,E,R){if(x===null||typeof x>"u"||p(m,x,E,R))return!0;if(R)return!1;if(E!==null)switch(E.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function g(m,x,E,R,k,B,Q){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=R,this.attributeNamespace=k,this.mustUseProperty=E,this.propertyName=m,this.type=x,this.sanitizeURL=B,this.removeEmptyString=Q}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){v[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var x=m[0];v[x]=new g(x,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){v[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){v[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){v[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){v[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){v[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){v[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){v[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function w(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var x=m.replace(b,w);v[x]=new g(x,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var x=m.replace(b,w);v[x]=new g(x,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var x=m.replace(b,w);v[x]=new g(x,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){v[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){v[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function _(m,x,E,R){var k=v.hasOwnProperty(x)?v[x]:null;(k!==null?k.type!==0:R||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(y(x,E,k,R)&&(E=null),R||k===null?h(x)&&(E===null?m.removeAttribute(x):m.setAttribute(x,""+E)):k.mustUseProperty?m[k.propertyName]=E===null?k.type===3?!1:"":E:(x=k.attributeName,R=k.attributeNamespace,E===null?m.removeAttribute(x):(k=k.type,E=k===3||k===4&&E===!0?"":""+E,R?m.setAttributeNS(R,x,E):m.setAttribute(x,E))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),F=Symbol.iterator;function U(m){return m===null||typeof m!="object"?null:(m=F&&m[F]||m["@@iterator"],typeof m=="function"?m:null)}var H=Object.assign,$;function W(m){if($===void 0)try{throw Error()}catch(E){var x=E.stack.trim().match(/\n( *(at )?)/);$=x&&x[1]||""}return`
`+$+m}var le=!1;function ie(m,x){if(!m||le)return"";le=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(nt){var R=nt}Reflect.construct(m,[],x)}else{try{x.call()}catch(nt){R=nt}m.call(x.prototype)}else{try{throw Error()}catch(nt){R=nt}m()}}catch(nt){if(nt&&R&&typeof nt.stack=="string"){for(var k=nt.stack.split(`
`),B=R.stack.split(`
`),Q=k.length-1,we=B.length-1;1<=Q&&0<=we&&k[Q]!==B[we];)we--;for(;1<=Q&&0<=we;Q--,we--)if(k[Q]!==B[we]){if(Q!==1||we!==1)do if(Q--,we--,0>we||k[Q]!==B[we]){var De=`
`+k[Q].replace(" at new "," at ");return m.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",m.displayName)),De}while(1<=Q&&0<=we);break}}}finally{le=!1,Error.prepareStackTrace=E}return(m=m?m.displayName||m.name:"")?W(m):""}function re(m){switch(m.tag){case 5:return W(m.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return m=ie(m.type,!1),m;case 11:return m=ie(m.type.render,!1),m;case 1:return m=ie(m.type,!0),m;default:return""}}function _e(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case C:return"Fragment";case A:return"Portal";case T:return"Profiler";case N:return"StrictMode";case I:return"Suspense";case L:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case D:return(m.displayName||"Context")+".Consumer";case P:return(m._context.displayName||"Context")+".Provider";case O:var x=m.render;return m=m.displayName,m||(m=x.displayName||x.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case z:return x=m.displayName||null,x!==null?x:_e(m.type)||"Memo";case q:x=m._payload,m=m._init;try{return _e(m(x))}catch{}}return null}function pe(m){var x=m.type;switch(m.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=x.render,m=m.displayName||m.name||"",x.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(x);case 8:return x===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function Ne(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function je(m){var x=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function Oe(m){var x=je(m)?"checked":"value",E=Object.getOwnPropertyDescriptor(m.constructor.prototype,x),R=""+m[x];if(!m.hasOwnProperty(x)&&typeof E<"u"&&typeof E.get=="function"&&typeof E.set=="function"){var k=E.get,B=E.set;return Object.defineProperty(m,x,{configurable:!0,get:function(){return k.call(this)},set:function(Q){R=""+Q,B.call(this,Q)}}),Object.defineProperty(m,x,{enumerable:E.enumerable}),{getValue:function(){return R},setValue:function(Q){R=""+Q},stopTracking:function(){m._valueTracker=null,delete m[x]}}}}function Ge(m){m._valueTracker||(m._valueTracker=Oe(m))}function Pe(m){if(!m)return!1;var x=m._valueTracker;if(!x)return!0;var E=x.getValue(),R="";return m&&(R=je(m)?m.checked?"true":"false":m.value),m=R,m!==E?(x.setValue(m),!0):!1}function Fe(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function Y(m,x){var E=x.checked;return H({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:E??m._wrapperState.initialChecked})}function Ie(m,x){var E=x.defaultValue==null?"":x.defaultValue,R=x.checked!=null?x.checked:x.defaultChecked;E=Ne(x.value!=null?x.value:E),m._wrapperState={initialChecked:R,initialValue:E,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Xe(m,x){x=x.checked,x!=null&&_(m,"checked",x,!1)}function ue(m,x){Xe(m,x);var E=Ne(x.value),R=x.type;if(E!=null)R==="number"?(E===0&&m.value===""||m.value!=E)&&(m.value=""+E):m.value!==""+E&&(m.value=""+E);else if(R==="submit"||R==="reset"){m.removeAttribute("value");return}x.hasOwnProperty("value")?rt(m,x.type,E):x.hasOwnProperty("defaultValue")&&rt(m,x.type,Ne(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(m.defaultChecked=!!x.defaultChecked)}function Be(m,x,E){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var R=x.type;if(!(R!=="submit"&&R!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+m._wrapperState.initialValue,E||x===m.value||(m.value=x),m.defaultValue=x}E=m.name,E!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,E!==""&&(m.name=E)}function rt(m,x,E){(x!=="number"||Fe(m.ownerDocument)!==m)&&(E==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+E&&(m.defaultValue=""+E))}var me=Array.isArray;function X(m,x,E,R){if(m=m.options,x){x={};for(var k=0;k<E.length;k++)x["$"+E[k]]=!0;for(E=0;E<m.length;E++)k=x.hasOwnProperty("$"+m[E].value),m[E].selected!==k&&(m[E].selected=k),k&&R&&(m[E].defaultSelected=!0)}else{for(E=""+Ne(E),x=null,k=0;k<m.length;k++){if(m[k].value===E){m[k].selected=!0,R&&(m[k].defaultSelected=!0);return}x!==null||m[k].disabled||(x=m[k])}x!==null&&(x.selected=!0)}}function G(m,x){if(x.dangerouslySetInnerHTML!=null)throw Error(n(91));return H({},x,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function de(m,x){var E=x.value;if(E==null){if(E=x.children,x=x.defaultValue,E!=null){if(x!=null)throw Error(n(92));if(me(E)){if(1<E.length)throw Error(n(93));E=E[0]}x=E}x==null&&(x=""),E=x}m._wrapperState={initialValue:Ne(E)}}function fe(m,x){var E=Ne(x.value),R=Ne(x.defaultValue);E!=null&&(E=""+E,E!==m.value&&(m.value=E),x.defaultValue==null&&m.defaultValue!==E&&(m.defaultValue=E)),R!=null&&(m.defaultValue=""+R)}function ne(m){var x=m.textContent;x===m._wrapperState.initialValue&&x!==""&&x!==null&&(m.value=x)}function J(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ve(m,x){return m==null||m==="http://www.w3.org/1999/xhtml"?J(x):m==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var be,Ve=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,E,R,k){MSApp.execUnsafeLocalFunction(function(){return m(x,E,R,k)})}:m})(function(m,x){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=x;else{for(be=be||document.createElement("div"),be.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=be.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;x.firstChild;)m.appendChild(x.firstChild)}});function Qe(m,x){if(x){var E=m.firstChild;if(E&&E===m.lastChild&&E.nodeType===3){E.nodeValue=x;return}}m.textContent=x}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(m){xe.forEach(function(x){x=x+m.charAt(0).toUpperCase()+m.substring(1),We[x]=We[m]})});function Te(m,x,E){return x==null||typeof x=="boolean"||x===""?"":E||typeof x!="number"||x===0||We.hasOwnProperty(m)&&We[m]?(""+x).trim():x+"px"}function te(m,x){m=m.style;for(var E in x)if(x.hasOwnProperty(E)){var R=E.indexOf("--")===0,k=Te(E,x[E],R);E==="float"&&(E="cssFloat"),R?m.setProperty(E,k):m[E]=k}}var oe=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function K(m,x){if(x){if(oe[m]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(n(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(n(61))}if(x.style!=null&&typeof x.style!="object")throw Error(n(62))}}function ae(m,x){if(m.indexOf("-")===-1)return typeof x.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Re=null;function Z(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Me=null,ye=null,Ae=null;function Ue(m){if(m=ty(m)){if(typeof Me!="function")throw Error(n(280));var x=m.stateNode;x&&(x=o1(x),Me(m.stateNode,m.type,x))}}function Je(m){ye?Ae?Ae.push(m):Ae=[m]:ye=m}function Ke(){if(ye){var m=ye,x=Ae;if(Ae=ye=null,Ue(m),x)for(m=0;m<x.length;m++)Ue(x[m])}}function lt(m,x){return m(x)}function yt(){}var at=!1;function vt(m,x,E){if(at)return m(x,E);at=!0;try{return lt(m,x,E)}finally{at=!1,(ye!==null||Ae!==null)&&(yt(),Ke())}}function Ct(m,x){var E=m.stateNode;if(E===null)return null;var R=o1(E);if(R===null)return null;E=R[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(m=m.type,R=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!R;break e;default:m=!1}if(m)return null;if(E&&typeof E!="function")throw Error(n(231,x,typeof E));return E}var ht=!1;if(l)try{var Pt={};Object.defineProperty(Pt,"passive",{get:function(){ht=!0}}),window.addEventListener("test",Pt,Pt),window.removeEventListener("test",Pt,Pt)}catch{ht=!1}function bt(m,x,E,R,k,B,Q,we,De){var nt=Array.prototype.slice.call(arguments,3);try{x.apply(E,nt)}catch(gt){this.onError(gt)}}var Bt=!1,$n=null,en=!1,Yn=null,ni={onError:function(m){Bt=!0,$n=m}};function tr(m,x,E,R,k,B,Q,we,De){Bt=!1,$n=null,bt.apply(ni,arguments)}function nr(m,x,E,R,k,B,Q,we,De){if(tr.apply(this,arguments),Bt){if(Bt){var nt=$n;Bt=!1,$n=null}else throw Error(n(198));en||(en=!0,Yn=nt)}}function En(m){var x=m,E=m;if(m.alternate)for(;x.return;)x=x.return;else{m=x;do x=m,(x.flags&4098)!==0&&(E=x.return),m=x.return;while(m)}return x.tag===3?E:null}function bs(m){if(m.tag===13){var x=m.memoizedState;if(x===null&&(m=m.alternate,m!==null&&(x=m.memoizedState)),x!==null)return x.dehydrated}return null}function ar(m){if(En(m)!==m)throw Error(n(188))}function cs(m){var x=m.alternate;if(!x){if(x=En(m),x===null)throw Error(n(188));return x!==m?null:m}for(var E=m,R=x;;){var k=E.return;if(k===null)break;var B=k.alternate;if(B===null){if(R=k.return,R!==null){E=R;continue}break}if(k.child===B.child){for(B=k.child;B;){if(B===E)return ar(k),m;if(B===R)return ar(k),x;B=B.sibling}throw Error(n(188))}if(E.return!==R.return)E=k,R=B;else{for(var Q=!1,we=k.child;we;){if(we===E){Q=!0,E=k,R=B;break}if(we===R){Q=!0,R=k,E=B;break}we=we.sibling}if(!Q){for(we=B.child;we;){if(we===E){Q=!0,E=B,R=k;break}if(we===R){Q=!0,R=B,E=k;break}we=we.sibling}if(!Q)throw Error(n(189))}}if(E.alternate!==R)throw Error(n(190))}if(E.tag!==3)throw Error(n(188));return E.stateNode.current===E?m:x}function Gs(m){return m=cs(m),m!==null?Gr(m):null}function Gr(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var x=Gr(m);if(x!==null)return x;m=m.sibling}return null}var Wr=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,$e=e.unstable_shouldYield,et=e.unstable_requestPaint,He=e.unstable_now,ke=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,Tt=e.unstable_UserBlockingPriority,Rt=e.unstable_NormalPriority,Ot=e.unstable_LowPriority,Gt=e.unstable_IdlePriority,Xt=null,kt=null;function fn(m){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Xt,m,void 0,(m.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:Un,Xr=Math.log,Pr=Math.LN2;function Un(m){return m>>>=0,m===0?32:31-(Xr(m)/Pr|0)|0}var Yt=64,Yr=4194304;function On(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function ws(m,x){var E=m.pendingLanes;if(E===0)return 0;var R=0,k=m.suspendedLanes,B=m.pingedLanes,Q=E&268435455;if(Q!==0){var we=Q&~k;we!==0?R=On(we):(B&=Q,B!==0&&(R=On(B)))}else Q=E&~k,Q!==0?R=On(Q):B!==0&&(R=On(B));if(R===0)return 0;if(x!==0&&x!==R&&(x&k)===0&&(k=R&-R,B=x&-x,k>=B||k===16&&(B&4194240)!==0))return x;if((R&4)!==0&&(R|=E&16),x=m.entangledLanes,x!==0)for(m=m.entanglements,x&=R;0<x;)E=31-pn(x),k=1<<E,R|=m[E],x&=~k;return R}function bd(m,x){switch(m){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(m,x){for(var E=m.suspendedLanes,R=m.pingedLanes,k=m.expirationTimes,B=m.pendingLanes;0<B;){var Q=31-pn(B),we=1<<Q,De=k[Q];De===-1?((we&E)===0||(we&R)!==0)&&(k[Q]=bd(we,x)):De<=x&&(m.expiredLanes|=we),B&=~we}}function fu(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function dr(){var m=Yt;return Yt<<=1,(Yt&4194240)===0&&(Yt=64),m}function _s(m){for(var x=[],E=0;31>E;E++)x.push(m);return x}function qi(m,x,E){m.pendingLanes|=x,x!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,x=31-pn(x),m[x]=E}function us(m,x){var E=m.pendingLanes&~x;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=x,m.mutableReadLanes&=x,m.entangledLanes&=x,x=m.entanglements;var R=m.eventTimes;for(m=m.expirationTimes;0<E;){var k=31-pn(E),B=1<<k;x[k]=0,R[k]=-1,m[k]=-1,E&=~B}}function Gi(m,x){var E=m.entangledLanes|=x;for(m=m.entanglements;E;){var R=31-pn(E),k=1<<R;k&x|m[R]&x&&(m[R]|=x),E&=~k}}var zn=0;function fc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var LU,R2,FU,UU,BU,O2=!1,Gw=[],wd=null,_d=null,Sd=null,Ux=new Map,Bx=new Map,jd=[],Sde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $U(m,x){switch(m){case"focusin":case"focusout":wd=null;break;case"dragenter":case"dragleave":_d=null;break;case"mouseover":case"mouseout":Sd=null;break;case"pointerover":case"pointerout":Ux.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bx.delete(x.pointerId)}}function $x(m,x,E,R,k,B){return m===null||m.nativeEvent!==B?(m={blockedOn:x,domEventName:E,eventSystemFlags:R,nativeEvent:B,targetContainers:[k]},x!==null&&(x=ty(x),x!==null&&R2(x)),m):(m.eventSystemFlags|=R,x=m.targetContainers,k!==null&&x.indexOf(k)===-1&&x.push(k),m)}function jde(m,x,E,R,k){switch(x){case"focusin":return wd=$x(wd,m,x,E,R,k),!0;case"dragenter":return _d=$x(_d,m,x,E,R,k),!0;case"mouseover":return Sd=$x(Sd,m,x,E,R,k),!0;case"pointerover":var B=k.pointerId;return Ux.set(B,$x(Ux.get(B)||null,m,x,E,R,k)),!0;case"gotpointercapture":return B=k.pointerId,Bx.set(B,$x(Bx.get(B)||null,m,x,E,R,k)),!0}return!1}function zU(m){var x=ph(m.target);if(x!==null){var E=En(x);if(E!==null){if(x=E.tag,x===13){if(x=bs(E),x!==null){m.blockedOn=x,BU(m.priority,function(){FU(E)});return}}else if(x===3&&E.stateNode.current.memoizedState.isDehydrated){m.blockedOn=E.tag===3?E.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Ww(m){if(m.blockedOn!==null)return!1;for(var x=m.targetContainers;0<x.length;){var E=k2(m.domEventName,m.eventSystemFlags,x[0],m.nativeEvent);if(E===null){E=m.nativeEvent;var R=new E.constructor(E.type,E);Re=R,E.target.dispatchEvent(R),Re=null}else return x=ty(E),x!==null&&R2(x),m.blockedOn=E,!1;x.shift()}return!0}function HU(m,x,E){Ww(m)&&E.delete(x)}function Ede(){O2=!1,wd!==null&&Ww(wd)&&(wd=null),_d!==null&&Ww(_d)&&(_d=null),Sd!==null&&Ww(Sd)&&(Sd=null),Ux.forEach(HU),Bx.forEach(HU)}function zx(m,x){m.blockedOn===x&&(m.blockedOn=null,O2||(O2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ede)))}function Hx(m){function x(k){return zx(k,m)}if(0<Gw.length){zx(Gw[0],m);for(var E=1;E<Gw.length;E++){var R=Gw[E];R.blockedOn===m&&(R.blockedOn=null)}}for(wd!==null&&zx(wd,m),_d!==null&&zx(_d,m),Sd!==null&&zx(Sd,m),Ux.forEach(x),Bx.forEach(x),E=0;E<jd.length;E++)R=jd[E],R.blockedOn===m&&(R.blockedOn=null);for(;0<jd.length&&(E=jd[0],E.blockedOn===null);)zU(E),E.blockedOn===null&&jd.shift()}var fm=S.ReactCurrentBatchConfig,Xw=!0;function Nde(m,x,E,R){var k=zn,B=fm.transition;fm.transition=null;try{zn=1,I2(m,x,E,R)}finally{zn=k,fm.transition=B}}function Ade(m,x,E,R){var k=zn,B=fm.transition;fm.transition=null;try{zn=4,I2(m,x,E,R)}finally{zn=k,fm.transition=B}}function I2(m,x,E,R){if(Xw){var k=k2(m,x,E,R);if(k===null)J2(m,x,R,Yw,E),$U(m,R);else if(jde(k,m,x,E,R))R.stopPropagation();else if($U(m,R),x&4&&-1<Sde.indexOf(m)){for(;k!==null;){var B=ty(k);if(B!==null&&LU(B),B=k2(m,x,E,R),B===null&&J2(m,x,R,Yw,E),B===k)break;k=B}k!==null&&R.stopPropagation()}else J2(m,x,R,null,E)}}var Yw=null;function k2(m,x,E,R){if(Yw=null,m=Z(R),m=ph(m),m!==null)if(x=En(m),x===null)m=null;else if(E=x.tag,E===13){if(m=bs(x),m!==null)return m;m=null}else if(E===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;m=null}else x!==m&&(m=null);return Yw=m,null}function VU(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ke()){case pt:return 1;case Tt:return 4;case Rt:case Ot:return 16;case Gt:return 536870912;default:return 16}default:return 16}}var Ed=null,L2=null,Kw=null;function qU(){if(Kw)return Kw;var m,x=L2,E=x.length,R,k="value"in Ed?Ed.value:Ed.textContent,B=k.length;for(m=0;m<E&&x[m]===k[m];m++);var Q=E-m;for(R=1;R<=Q&&x[E-R]===k[B-R];R++);return Kw=k.slice(m,1<R?1-R:void 0)}function Qw(m){var x=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&x===13&&(m=13)):m=x,m===10&&(m=13),32<=m||m===13?m:0}function Zw(){return!0}function GU(){return!1}function Wa(m){function x(E,R,k,B,Q){this._reactName=E,this._targetInst=k,this.type=R,this.nativeEvent=B,this.target=Q,this.currentTarget=null;for(var we in m)m.hasOwnProperty(we)&&(E=m[we],this[we]=E?E(B):B[we]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Zw:GU,this.isPropagationStopped=GU,this}return H(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var E=this.nativeEvent;E&&(E.preventDefault?E.preventDefault():typeof E.returnValue!="unknown"&&(E.returnValue=!1),this.isDefaultPrevented=Zw)},stopPropagation:function(){var E=this.nativeEvent;E&&(E.stopPropagation?E.stopPropagation():typeof E.cancelBubble!="unknown"&&(E.cancelBubble=!0),this.isPropagationStopped=Zw)},persist:function(){},isPersistent:Zw}),x}var hm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F2=Wa(hm),Vx=H({},hm,{view:0,detail:0}),Cde=Wa(Vx),U2,B2,qx,Jw=H({},Vx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z2,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==qx&&(qx&&m.type==="mousemove"?(U2=m.screenX-qx.screenX,B2=m.screenY-qx.screenY):B2=U2=0,qx=m),U2)},movementY:function(m){return"movementY"in m?m.movementY:B2}}),WU=Wa(Jw),Mde=H({},Jw,{dataTransfer:0}),Tde=Wa(Mde),Pde=H({},Vx,{relatedTarget:0}),$2=Wa(Pde),Dde=H({},hm,{animationName:0,elapsedTime:0,pseudoElement:0}),Rde=Wa(Dde),Ode=H({},hm,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),Ide=Wa(Ode),kde=H({},hm,{data:0}),XU=Wa(kde),Lde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ude={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bde(m){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(m):(m=Ude[m])?!!x[m]:!1}function z2(){return Bde}var $de=H({},Vx,{key:function(m){if(m.key){var x=Lde[m.key]||m.key;if(x!=="Unidentified")return x}return m.type==="keypress"?(m=Qw(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?Fde[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z2,charCode:function(m){return m.type==="keypress"?Qw(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Qw(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),zde=Wa($de),Hde=H({},Jw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YU=Wa(Hde),Vde=H({},Vx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z2}),qde=Wa(Vde),Gde=H({},hm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wde=Wa(Gde),Xde=H({},Jw,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),Yde=Wa(Xde),Kde=[9,13,27,32],H2=l&&"CompositionEvent"in window,Gx=null;l&&"documentMode"in document&&(Gx=document.documentMode);var Qde=l&&"TextEvent"in window&&!Gx,KU=l&&(!H2||Gx&&8<Gx&&11>=Gx),QU=" ",ZU=!1;function JU(m,x){switch(m){case"keyup":return Kde.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e6(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var pm=!1;function Zde(m,x){switch(m){case"compositionend":return e6(x);case"keypress":return x.which!==32?null:(ZU=!0,QU);case"textInput":return m=x.data,m===QU&&ZU?null:m;default:return null}}function Jde(m,x){if(pm)return m==="compositionend"||!H2&&JU(m,x)?(m=qU(),Kw=L2=Ed=null,pm=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return KU&&x.locale!=="ko"?null:x.data;default:return null}}var efe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t6(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x==="input"?!!efe[m.type]:x==="textarea"}function n6(m,x,E,R){Je(R),x=i1(x,"onChange"),0<x.length&&(E=new F2("onChange","change",null,E,R),m.push({event:E,listeners:x}))}var Wx=null,Xx=null;function tfe(m){b6(m,0)}function e1(m){var x=ym(m);if(Pe(x))return m}function nfe(m,x){if(m==="change")return x}var r6=!1;if(l){var V2;if(l){var q2="oninput"in document;if(!q2){var i6=document.createElement("div");i6.setAttribute("oninput","return;"),q2=typeof i6.oninput=="function"}V2=q2}else V2=!1;r6=V2&&(!document.documentMode||9<document.documentMode)}function s6(){Wx&&(Wx.detachEvent("onpropertychange",a6),Xx=Wx=null)}function a6(m){if(m.propertyName==="value"&&e1(Xx)){var x=[];n6(x,Xx,m,Z(m)),vt(tfe,x)}}function rfe(m,x,E){m==="focusin"?(s6(),Wx=x,Xx=E,Wx.attachEvent("onpropertychange",a6)):m==="focusout"&&s6()}function ife(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return e1(Xx)}function sfe(m,x){if(m==="click")return e1(x)}function afe(m,x){if(m==="input"||m==="change")return e1(x)}function ofe(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var yl=typeof Object.is=="function"?Object.is:ofe;function Yx(m,x){if(yl(m,x))return!0;if(typeof m!="object"||m===null||typeof x!="object"||x===null)return!1;var E=Object.keys(m),R=Object.keys(x);if(E.length!==R.length)return!1;for(R=0;R<E.length;R++){var k=E[R];if(!c.call(x,k)||!yl(m[k],x[k]))return!1}return!0}function o6(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function l6(m,x){var E=o6(m);m=0;for(var R;E;){if(E.nodeType===3){if(R=m+E.textContent.length,m<=x&&R>=x)return{node:E,offset:x-m};m=R}e:{for(;E;){if(E.nextSibling){E=E.nextSibling;break e}E=E.parentNode}E=void 0}E=o6(E)}}function c6(m,x){return m&&x?m===x?!0:m&&m.nodeType===3?!1:x&&x.nodeType===3?c6(m,x.parentNode):"contains"in m?m.contains(x):m.compareDocumentPosition?!!(m.compareDocumentPosition(x)&16):!1:!1}function u6(){for(var m=window,x=Fe();x instanceof m.HTMLIFrameElement;){try{var E=typeof x.contentWindow.location.href=="string"}catch{E=!1}if(E)m=x.contentWindow;else break;x=Fe(m.document)}return x}function G2(m){var x=m&&m.nodeName&&m.nodeName.toLowerCase();return x&&(x==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||x==="textarea"||m.contentEditable==="true")}function lfe(m){var x=u6(),E=m.focusedElem,R=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&c6(E.ownerDocument.documentElement,E)){if(R!==null&&G2(E)){if(x=R.start,m=R.end,m===void 0&&(m=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(m,E.value.length);else if(m=(x=E.ownerDocument||document)&&x.defaultView||window,m.getSelection){m=m.getSelection();var k=E.textContent.length,B=Math.min(R.start,k);R=R.end===void 0?B:Math.min(R.end,k),!m.extend&&B>R&&(k=R,R=B,B=k),k=l6(E,B);var Q=l6(E,R);k&&Q&&(m.rangeCount!==1||m.anchorNode!==k.node||m.anchorOffset!==k.offset||m.focusNode!==Q.node||m.focusOffset!==Q.offset)&&(x=x.createRange(),x.setStart(k.node,k.offset),m.removeAllRanges(),B>R?(m.addRange(x),m.extend(Q.node,Q.offset)):(x.setEnd(Q.node,Q.offset),m.addRange(x)))}}for(x=[],m=E;m=m.parentNode;)m.nodeType===1&&x.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<x.length;E++)m=x[E],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var cfe=l&&"documentMode"in document&&11>=document.documentMode,mm=null,W2=null,Kx=null,X2=!1;function d6(m,x,E){var R=E.window===E?E.document:E.nodeType===9?E:E.ownerDocument;X2||mm==null||mm!==Fe(R)||(R=mm,"selectionStart"in R&&G2(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Kx&&Yx(Kx,R)||(Kx=R,R=i1(W2,"onSelect"),0<R.length&&(x=new F2("onSelect","select",null,x,E),m.push({event:x,listeners:R}),x.target=mm)))}function t1(m,x){var E={};return E[m.toLowerCase()]=x.toLowerCase(),E["Webkit"+m]="webkit"+x,E["Moz"+m]="moz"+x,E}var gm={animationend:t1("Animation","AnimationEnd"),animationiteration:t1("Animation","AnimationIteration"),animationstart:t1("Animation","AnimationStart"),transitionend:t1("Transition","TransitionEnd")},Y2={},f6={};l&&(f6=document.createElement("div").style,"AnimationEvent"in window||(delete gm.animationend.animation,delete gm.animationiteration.animation,delete gm.animationstart.animation),"TransitionEvent"in window||delete gm.transitionend.transition);function n1(m){if(Y2[m])return Y2[m];if(!gm[m])return m;var x=gm[m],E;for(E in x)if(x.hasOwnProperty(E)&&E in f6)return Y2[m]=x[E];return m}var h6=n1("animationend"),p6=n1("animationiteration"),m6=n1("animationstart"),g6=n1("transitionend"),v6=new Map,x6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nd(m,x){v6.set(m,x),a(x,[m])}for(var K2=0;K2<x6.length;K2++){var Q2=x6[K2],ufe=Q2.toLowerCase(),dfe=Q2[0].toUpperCase()+Q2.slice(1);Nd(ufe,"on"+dfe)}Nd(h6,"onAnimationEnd"),Nd(p6,"onAnimationIteration"),Nd(m6,"onAnimationStart"),Nd("dblclick","onDoubleClick"),Nd("focusin","onFocus"),Nd("focusout","onBlur"),Nd(g6,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ffe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qx));function y6(m,x,E){var R=m.type||"unknown-event";m.currentTarget=E,nr(R,x,void 0,m),m.currentTarget=null}function b6(m,x){x=(x&4)!==0;for(var E=0;E<m.length;E++){var R=m[E],k=R.event;R=R.listeners;e:{var B=void 0;if(x)for(var Q=R.length-1;0<=Q;Q--){var we=R[Q],De=we.instance,nt=we.currentTarget;if(we=we.listener,De!==B&&k.isPropagationStopped())break e;y6(k,we,nt),B=De}else for(Q=0;Q<R.length;Q++){if(we=R[Q],De=we.instance,nt=we.currentTarget,we=we.listener,De!==B&&k.isPropagationStopped())break e;y6(k,we,nt),B=De}}}if(en)throw m=Yn,en=!1,Yn=null,m}function Sr(m,x){var E=x[sA];E===void 0&&(E=x[sA]=new Set);var R=m+"__bubble";E.has(R)||(w6(x,m,2,!1),E.add(R))}function Z2(m,x,E){var R=0;x&&(R|=4),w6(E,m,R,x)}var r1="_reactListening"+Math.random().toString(36).slice(2);function Zx(m){if(!m[r1]){m[r1]=!0,r.forEach(function(E){E!=="selectionchange"&&(ffe.has(E)||Z2(E,!1,m),Z2(E,!0,m))});var x=m.nodeType===9?m:m.ownerDocument;x===null||x[r1]||(x[r1]=!0,Z2("selectionchange",!1,x))}}function w6(m,x,E,R){switch(VU(x)){case 1:var k=Nde;break;case 4:k=Ade;break;default:k=I2}E=k.bind(null,x,E,m),k=void 0,!ht||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(k=!0),R?k!==void 0?m.addEventListener(x,E,{capture:!0,passive:k}):m.addEventListener(x,E,!0):k!==void 0?m.addEventListener(x,E,{passive:k}):m.addEventListener(x,E,!1)}function J2(m,x,E,R,k){var B=R;if((x&1)===0&&(x&2)===0&&R!==null)e:for(;;){if(R===null)return;var Q=R.tag;if(Q===3||Q===4){var we=R.stateNode.containerInfo;if(we===k||we.nodeType===8&&we.parentNode===k)break;if(Q===4)for(Q=R.return;Q!==null;){var De=Q.tag;if((De===3||De===4)&&(De=Q.stateNode.containerInfo,De===k||De.nodeType===8&&De.parentNode===k))return;Q=Q.return}for(;we!==null;){if(Q=ph(we),Q===null)return;if(De=Q.tag,De===5||De===6){R=B=Q;continue e}we=we.parentNode}}R=R.return}vt(function(){var nt=B,gt=Z(E),xt=[];e:{var mt=v6.get(m);if(mt!==void 0){var It=F2,zt=m;switch(m){case"keypress":if(Qw(E)===0)break e;case"keydown":case"keyup":It=zde;break;case"focusin":zt="focus",It=$2;break;case"focusout":zt="blur",It=$2;break;case"beforeblur":case"afterblur":It=$2;break;case"click":if(E.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=WU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=Tde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=qde;break;case h6:case p6:case m6:It=Rde;break;case g6:It=Wde;break;case"scroll":It=Cde;break;case"wheel":It=Yde;break;case"copy":case"cut":case"paste":It=Ide;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=YU}var Vt=(x&4)!==0,ri=!Vt&&m==="scroll",Ye=Vt?mt!==null?mt+"Capture":null:mt;Vt=[];for(var Le=nt,Ze;Le!==null;){Ze=Le;var Et=Ze.stateNode;if(Ze.tag===5&&Et!==null&&(Ze=Et,Ye!==null&&(Et=Ct(Le,Ye),Et!=null&&Vt.push(Jx(Le,Et,Ze)))),ri)break;Le=Le.return}0<Vt.length&&(mt=new It(mt,zt,null,E,gt),xt.push({event:mt,listeners:Vt}))}}if((x&7)===0){e:{if(mt=m==="mouseover"||m==="pointerover",It=m==="mouseout"||m==="pointerout",mt&&E!==Re&&(zt=E.relatedTarget||E.fromElement)&&(ph(zt)||zt[hu]))break e;if((It||mt)&&(mt=gt.window===gt?gt:(mt=gt.ownerDocument)?mt.defaultView||mt.parentWindow:window,It?(zt=E.relatedTarget||E.toElement,It=nt,zt=zt?ph(zt):null,zt!==null&&(ri=En(zt),zt!==ri||zt.tag!==5&&zt.tag!==6)&&(zt=null)):(It=null,zt=nt),It!==zt)){if(Vt=WU,Et="onMouseLeave",Ye="onMouseEnter",Le="mouse",(m==="pointerout"||m==="pointerover")&&(Vt=YU,Et="onPointerLeave",Ye="onPointerEnter",Le="pointer"),ri=It==null?mt:ym(It),Ze=zt==null?mt:ym(zt),mt=new Vt(Et,Le+"leave",It,E,gt),mt.target=ri,mt.relatedTarget=Ze,Et=null,ph(gt)===nt&&(Vt=new Vt(Ye,Le+"enter",zt,E,gt),Vt.target=Ze,Vt.relatedTarget=ri,Et=Vt),ri=Et,It&&zt)t:{for(Vt=It,Ye=zt,Le=0,Ze=Vt;Ze;Ze=vm(Ze))Le++;for(Ze=0,Et=Ye;Et;Et=vm(Et))Ze++;for(;0<Le-Ze;)Vt=vm(Vt),Le--;for(;0<Ze-Le;)Ye=vm(Ye),Ze--;for(;Le--;){if(Vt===Ye||Ye!==null&&Vt===Ye.alternate)break t;Vt=vm(Vt),Ye=vm(Ye)}Vt=null}else Vt=null;It!==null&&_6(xt,mt,It,Vt,!1),zt!==null&&ri!==null&&_6(xt,ri,zt,Vt,!0)}}e:{if(mt=nt?ym(nt):window,It=mt.nodeName&&mt.nodeName.toLowerCase(),It==="select"||It==="input"&&mt.type==="file")var qt=nfe;else if(t6(mt))if(r6)qt=afe;else{qt=ife;var Kt=rfe}else(It=mt.nodeName)&&It.toLowerCase()==="input"&&(mt.type==="checkbox"||mt.type==="radio")&&(qt=sfe);if(qt&&(qt=qt(m,nt))){n6(xt,qt,E,gt);break e}Kt&&Kt(m,mt,nt),m==="focusout"&&(Kt=mt._wrapperState)&&Kt.controlled&&mt.type==="number"&&rt(mt,"number",mt.value)}switch(Kt=nt?ym(nt):window,m){case"focusin":(t6(Kt)||Kt.contentEditable==="true")&&(mm=Kt,W2=nt,Kx=null);break;case"focusout":Kx=W2=mm=null;break;case"mousedown":X2=!0;break;case"contextmenu":case"mouseup":case"dragend":X2=!1,d6(xt,E,gt);break;case"selectionchange":if(cfe)break;case"keydown":case"keyup":d6(xt,E,gt)}var Qt;if(H2)e:{switch(m){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else pm?JU(m,E)&&(an="onCompositionEnd"):m==="keydown"&&E.keyCode===229&&(an="onCompositionStart");an&&(KU&&E.locale!=="ko"&&(pm||an!=="onCompositionStart"?an==="onCompositionEnd"&&pm&&(Qt=qU()):(Ed=gt,L2="value"in Ed?Ed.value:Ed.textContent,pm=!0)),Kt=i1(nt,an),0<Kt.length&&(an=new XU(an,m,null,E,gt),xt.push({event:an,listeners:Kt}),Qt?an.data=Qt:(Qt=e6(E),Qt!==null&&(an.data=Qt)))),(Qt=Qde?Zde(m,E):Jde(m,E))&&(nt=i1(nt,"onBeforeInput"),0<nt.length&&(gt=new XU("onBeforeInput","beforeinput",null,E,gt),xt.push({event:gt,listeners:nt}),gt.data=Qt))}b6(xt,x)})}function Jx(m,x,E){return{instance:m,listener:x,currentTarget:E}}function i1(m,x){for(var E=x+"Capture",R=[];m!==null;){var k=m,B=k.stateNode;k.tag===5&&B!==null&&(k=B,B=Ct(m,E),B!=null&&R.unshift(Jx(m,B,k)),B=Ct(m,x),B!=null&&R.push(Jx(m,B,k))),m=m.return}return R}function vm(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function _6(m,x,E,R,k){for(var B=x._reactName,Q=[];E!==null&&E!==R;){var we=E,De=we.alternate,nt=we.stateNode;if(De!==null&&De===R)break;we.tag===5&&nt!==null&&(we=nt,k?(De=Ct(E,B),De!=null&&Q.unshift(Jx(E,De,we))):k||(De=Ct(E,B),De!=null&&Q.push(Jx(E,De,we)))),E=E.return}Q.length!==0&&m.push({event:x,listeners:Q})}var hfe=/\r\n?/g,pfe=/\u0000|\uFFFD/g;function S6(m){return(typeof m=="string"?m:""+m).replace(hfe,`
`).replace(pfe,"")}function s1(m,x,E){if(x=S6(x),S6(m)!==x&&E)throw Error(n(425))}function a1(){}var eA=null,tA=null;function nA(m,x){return m==="textarea"||m==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var rA=typeof setTimeout=="function"?setTimeout:void 0,mfe=typeof clearTimeout=="function"?clearTimeout:void 0,j6=typeof Promise=="function"?Promise:void 0,gfe=typeof queueMicrotask=="function"?queueMicrotask:typeof j6<"u"?function(m){return j6.resolve(null).then(m).catch(vfe)}:rA;function vfe(m){setTimeout(function(){throw m})}function iA(m,x){var E=x,R=0;do{var k=E.nextSibling;if(m.removeChild(E),k&&k.nodeType===8)if(E=k.data,E==="/$"){if(R===0){m.removeChild(k),Hx(x);return}R--}else E!=="$"&&E!=="$?"&&E!=="$!"||R++;E=k}while(E);Hx(x)}function Ad(m){for(;m!=null;m=m.nextSibling){var x=m.nodeType;if(x===1||x===3)break;if(x===8){if(x=m.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return m}function E6(m){m=m.previousSibling;for(var x=0;m;){if(m.nodeType===8){var E=m.data;if(E==="$"||E==="$!"||E==="$?"){if(x===0)return m;x--}else E==="/$"&&x++}m=m.previousSibling}return null}var xm=Math.random().toString(36).slice(2),hc="__reactFiber$"+xm,ey="__reactProps$"+xm,hu="__reactContainer$"+xm,sA="__reactEvents$"+xm,xfe="__reactListeners$"+xm,yfe="__reactHandles$"+xm;function ph(m){var x=m[hc];if(x)return x;for(var E=m.parentNode;E;){if(x=E[hu]||E[hc]){if(E=x.alternate,x.child!==null||E!==null&&E.child!==null)for(m=E6(m);m!==null;){if(E=m[hc])return E;m=E6(m)}return x}m=E,E=m.parentNode}return null}function ty(m){return m=m[hc]||m[hu],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function ym(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function o1(m){return m[ey]||null}var aA=[],bm=-1;function Cd(m){return{current:m}}function jr(m){0>bm||(m.current=aA[bm],aA[bm]=null,bm--)}function gr(m,x){bm++,aA[bm]=m.current,m.current=x}var Md={},Ss=Cd(Md),wa=Cd(!1),mh=Md;function wm(m,x){var E=m.type.contextTypes;if(!E)return Md;var R=m.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===x)return R.__reactInternalMemoizedMaskedChildContext;var k={},B;for(B in E)k[B]=x[B];return R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=x,m.__reactInternalMemoizedMaskedChildContext=k),k}function _a(m){return m=m.childContextTypes,m!=null}function l1(){jr(wa),jr(Ss)}function N6(m,x,E){if(Ss.current!==Md)throw Error(n(168));gr(Ss,x),gr(wa,E)}function A6(m,x,E){var R=m.stateNode;if(x=x.childContextTypes,typeof R.getChildContext!="function")return E;R=R.getChildContext();for(var k in R)if(!(k in x))throw Error(n(108,pe(m)||"Unknown",k));return H({},E,R)}function c1(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||Md,mh=Ss.current,gr(Ss,m),gr(wa,wa.current),!0}function C6(m,x,E){var R=m.stateNode;if(!R)throw Error(n(169));E?(m=A6(m,x,mh),R.__reactInternalMemoizedMergedChildContext=m,jr(wa),jr(Ss),gr(Ss,m)):jr(wa),gr(wa,E)}var pu=null,u1=!1,oA=!1;function M6(m){pu===null?pu=[m]:pu.push(m)}function bfe(m){u1=!0,M6(m)}function Td(){if(!oA&&pu!==null){oA=!0;var m=0,x=zn;try{var E=pu;for(zn=1;m<E.length;m++){var R=E[m];do R=R(!0);while(R!==null)}pu=null,u1=!1}catch(k){throw pu!==null&&(pu=pu.slice(m+1)),Wr(pt,Td),k}finally{zn=x,oA=!1}}return null}var _m=[],Sm=0,d1=null,f1=0,Ao=[],Co=0,gh=null,mu=1,gu="";function vh(m,x){_m[Sm++]=f1,_m[Sm++]=d1,d1=m,f1=x}function T6(m,x,E){Ao[Co++]=mu,Ao[Co++]=gu,Ao[Co++]=gh,gh=m;var R=mu;m=gu;var k=32-pn(R)-1;R&=~(1<<k),E+=1;var B=32-pn(x)+k;if(30<B){var Q=k-k%5;B=(R&(1<<Q)-1).toString(32),R>>=Q,k-=Q,mu=1<<32-pn(x)+k|E<<k|R,gu=B+m}else mu=1<<B|E<<k|R,gu=m}function lA(m){m.return!==null&&(vh(m,1),T6(m,1,0))}function cA(m){for(;m===d1;)d1=_m[--Sm],_m[Sm]=null,f1=_m[--Sm],_m[Sm]=null;for(;m===gh;)gh=Ao[--Co],Ao[Co]=null,gu=Ao[--Co],Ao[Co]=null,mu=Ao[--Co],Ao[Co]=null}var Xa=null,Ya=null,Dr=!1,bl=null;function P6(m,x){var E=Do(5,null,null,0);E.elementType="DELETED",E.stateNode=x,E.return=m,x=m.deletions,x===null?(m.deletions=[E],m.flags|=16):x.push(E)}function D6(m,x){switch(m.tag){case 5:var E=m.type;return x=x.nodeType!==1||E.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(m.stateNode=x,Xa=m,Ya=Ad(x.firstChild),!0):!1;case 6:return x=m.pendingProps===""||x.nodeType!==3?null:x,x!==null?(m.stateNode=x,Xa=m,Ya=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(E=gh!==null?{id:mu,overflow:gu}:null,m.memoizedState={dehydrated:x,treeContext:E,retryLane:1073741824},E=Do(18,null,null,0),E.stateNode=x,E.return=m,m.child=E,Xa=m,Ya=null,!0):!1;default:return!1}}function uA(m){return(m.mode&1)!==0&&(m.flags&128)===0}function dA(m){if(Dr){var x=Ya;if(x){var E=x;if(!D6(m,x)){if(uA(m))throw Error(n(418));x=Ad(E.nextSibling);var R=Xa;x&&D6(m,x)?P6(R,E):(m.flags=m.flags&-4097|2,Dr=!1,Xa=m)}}else{if(uA(m))throw Error(n(418));m.flags=m.flags&-4097|2,Dr=!1,Xa=m}}}function R6(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Xa=m}function h1(m){if(m!==Xa)return!1;if(!Dr)return R6(m),Dr=!0,!1;var x;if((x=m.tag!==3)&&!(x=m.tag!==5)&&(x=m.type,x=x!=="head"&&x!=="body"&&!nA(m.type,m.memoizedProps)),x&&(x=Ya)){if(uA(m))throw O6(),Error(n(418));for(;x;)P6(m,x),x=Ad(x.nextSibling)}if(R6(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,x=0;m;){if(m.nodeType===8){var E=m.data;if(E==="/$"){if(x===0){Ya=Ad(m.nextSibling);break e}x--}else E!=="$"&&E!=="$!"&&E!=="$?"||x++}m=m.nextSibling}Ya=null}}else Ya=Xa?Ad(m.stateNode.nextSibling):null;return!0}function O6(){for(var m=Ya;m;)m=Ad(m.nextSibling)}function jm(){Ya=Xa=null,Dr=!1}function fA(m){bl===null?bl=[m]:bl.push(m)}var wfe=S.ReactCurrentBatchConfig;function ny(m,x,E){if(m=E.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(n(309));var R=E.stateNode}if(!R)throw Error(n(147,m));var k=R,B=""+m;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===B?x.ref:(x=function(Q){var we=k.refs;Q===null?delete we[B]:we[B]=Q},x._stringRef=B,x)}if(typeof m!="string")throw Error(n(284));if(!E._owner)throw Error(n(290,m))}return m}function p1(m,x){throw m=Object.prototype.toString.call(x),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":m))}function I6(m){var x=m._init;return x(m._payload)}function k6(m){function x(Ye,Le){if(m){var Ze=Ye.deletions;Ze===null?(Ye.deletions=[Le],Ye.flags|=16):Ze.push(Le)}}function E(Ye,Le){if(!m)return null;for(;Le!==null;)x(Ye,Le),Le=Le.sibling;return null}function R(Ye,Le){for(Ye=new Map;Le!==null;)Le.key!==null?Ye.set(Le.key,Le):Ye.set(Le.index,Le),Le=Le.sibling;return Ye}function k(Ye,Le){return Ye=Fd(Ye,Le),Ye.index=0,Ye.sibling=null,Ye}function B(Ye,Le,Ze){return Ye.index=Ze,m?(Ze=Ye.alternate,Ze!==null?(Ze=Ze.index,Ze<Le?(Ye.flags|=2,Le):Ze):(Ye.flags|=2,Le)):(Ye.flags|=1048576,Le)}function Q(Ye){return m&&Ye.alternate===null&&(Ye.flags|=2),Ye}function we(Ye,Le,Ze,Et){return Le===null||Le.tag!==6?(Le=rC(Ze,Ye.mode,Et),Le.return=Ye,Le):(Le=k(Le,Ze),Le.return=Ye,Le)}function De(Ye,Le,Ze,Et){var qt=Ze.type;return qt===C?gt(Ye,Le,Ze.props.children,Et,Ze.key):Le!==null&&(Le.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===q&&I6(qt)===Le.type)?(Et=k(Le,Ze.props),Et.ref=ny(Ye,Le,Ze),Et.return=Ye,Et):(Et=F1(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),Et.ref=ny(Ye,Le,Ze),Et.return=Ye,Et)}function nt(Ye,Le,Ze,Et){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==Ze.containerInfo||Le.stateNode.implementation!==Ze.implementation?(Le=iC(Ze,Ye.mode,Et),Le.return=Ye,Le):(Le=k(Le,Ze.children||[]),Le.return=Ye,Le)}function gt(Ye,Le,Ze,Et,qt){return Le===null||Le.tag!==7?(Le=Eh(Ze,Ye.mode,Et,qt),Le.return=Ye,Le):(Le=k(Le,Ze),Le.return=Ye,Le)}function xt(Ye,Le,Ze){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=rC(""+Le,Ye.mode,Ze),Le.return=Ye,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case j:return Ze=F1(Le.type,Le.key,Le.props,null,Ye.mode,Ze),Ze.ref=ny(Ye,null,Le),Ze.return=Ye,Ze;case A:return Le=iC(Le,Ye.mode,Ze),Le.return=Ye,Le;case q:var Et=Le._init;return xt(Ye,Et(Le._payload),Ze)}if(me(Le)||U(Le))return Le=Eh(Le,Ye.mode,Ze,null),Le.return=Ye,Le;p1(Ye,Le)}return null}function mt(Ye,Le,Ze,Et){var qt=Le!==null?Le.key:null;if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return qt!==null?null:we(Ye,Le,""+Ze,Et);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case j:return Ze.key===qt?De(Ye,Le,Ze,Et):null;case A:return Ze.key===qt?nt(Ye,Le,Ze,Et):null;case q:return qt=Ze._init,mt(Ye,Le,qt(Ze._payload),Et)}if(me(Ze)||U(Ze))return qt!==null?null:gt(Ye,Le,Ze,Et,null);p1(Ye,Ze)}return null}function It(Ye,Le,Ze,Et,qt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return Ye=Ye.get(Ze)||null,we(Le,Ye,""+Et,qt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case j:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,De(Le,Ye,Et,qt);case A:return Ye=Ye.get(Et.key===null?Ze:Et.key)||null,nt(Le,Ye,Et,qt);case q:var Kt=Et._init;return It(Ye,Le,Ze,Kt(Et._payload),qt)}if(me(Et)||U(Et))return Ye=Ye.get(Ze)||null,gt(Le,Ye,Et,qt,null);p1(Le,Et)}return null}function zt(Ye,Le,Ze,Et){for(var qt=null,Kt=null,Qt=Le,an=Le=0,Yi=null;Qt!==null&&an<Ze.length;an++){Qt.index>an?(Yi=Qt,Qt=null):Yi=Qt.sibling;var qn=mt(Ye,Qt,Ze[an],Et);if(qn===null){Qt===null&&(Qt=Yi);break}m&&Qt&&qn.alternate===null&&x(Ye,Qt),Le=B(qn,Le,an),Kt===null?qt=qn:Kt.sibling=qn,Kt=qn,Qt=Yi}if(an===Ze.length)return E(Ye,Qt),Dr&&vh(Ye,an),qt;if(Qt===null){for(;an<Ze.length;an++)Qt=xt(Ye,Ze[an],Et),Qt!==null&&(Le=B(Qt,Le,an),Kt===null?qt=Qt:Kt.sibling=Qt,Kt=Qt);return Dr&&vh(Ye,an),qt}for(Qt=R(Ye,Qt);an<Ze.length;an++)Yi=It(Qt,Ye,an,Ze[an],Et),Yi!==null&&(m&&Yi.alternate!==null&&Qt.delete(Yi.key===null?an:Yi.key),Le=B(Yi,Le,an),Kt===null?qt=Yi:Kt.sibling=Yi,Kt=Yi);return m&&Qt.forEach(function(Ud){return x(Ye,Ud)}),Dr&&vh(Ye,an),qt}function Vt(Ye,Le,Ze,Et){var qt=U(Ze);if(typeof qt!="function")throw Error(n(150));if(Ze=qt.call(Ze),Ze==null)throw Error(n(151));for(var Kt=qt=null,Qt=Le,an=Le=0,Yi=null,qn=Ze.next();Qt!==null&&!qn.done;an++,qn=Ze.next()){Qt.index>an?(Yi=Qt,Qt=null):Yi=Qt.sibling;var Ud=mt(Ye,Qt,qn.value,Et);if(Ud===null){Qt===null&&(Qt=Yi);break}m&&Qt&&Ud.alternate===null&&x(Ye,Qt),Le=B(Ud,Le,an),Kt===null?qt=Ud:Kt.sibling=Ud,Kt=Ud,Qt=Yi}if(qn.done)return E(Ye,Qt),Dr&&vh(Ye,an),qt;if(Qt===null){for(;!qn.done;an++,qn=Ze.next())qn=xt(Ye,qn.value,Et),qn!==null&&(Le=B(qn,Le,an),Kt===null?qt=qn:Kt.sibling=qn,Kt=qn);return Dr&&vh(Ye,an),qt}for(Qt=R(Ye,Qt);!qn.done;an++,qn=Ze.next())qn=It(Qt,Ye,an,qn.value,Et),qn!==null&&(m&&qn.alternate!==null&&Qt.delete(qn.key===null?an:qn.key),Le=B(qn,Le,an),Kt===null?qt=qn:Kt.sibling=qn,Kt=qn);return m&&Qt.forEach(function(ehe){return x(Ye,ehe)}),Dr&&vh(Ye,an),qt}function ri(Ye,Le,Ze,Et){if(typeof Ze=="object"&&Ze!==null&&Ze.type===C&&Ze.key===null&&(Ze=Ze.props.children),typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case j:e:{for(var qt=Ze.key,Kt=Le;Kt!==null;){if(Kt.key===qt){if(qt=Ze.type,qt===C){if(Kt.tag===7){E(Ye,Kt.sibling),Le=k(Kt,Ze.props.children),Le.return=Ye,Ye=Le;break e}}else if(Kt.elementType===qt||typeof qt=="object"&&qt!==null&&qt.$$typeof===q&&I6(qt)===Kt.type){E(Ye,Kt.sibling),Le=k(Kt,Ze.props),Le.ref=ny(Ye,Kt,Ze),Le.return=Ye,Ye=Le;break e}E(Ye,Kt);break}else x(Ye,Kt);Kt=Kt.sibling}Ze.type===C?(Le=Eh(Ze.props.children,Ye.mode,Et,Ze.key),Le.return=Ye,Ye=Le):(Et=F1(Ze.type,Ze.key,Ze.props,null,Ye.mode,Et),Et.ref=ny(Ye,Le,Ze),Et.return=Ye,Ye=Et)}return Q(Ye);case A:e:{for(Kt=Ze.key;Le!==null;){if(Le.key===Kt)if(Le.tag===4&&Le.stateNode.containerInfo===Ze.containerInfo&&Le.stateNode.implementation===Ze.implementation){E(Ye,Le.sibling),Le=k(Le,Ze.children||[]),Le.return=Ye,Ye=Le;break e}else{E(Ye,Le);break}else x(Ye,Le);Le=Le.sibling}Le=iC(Ze,Ye.mode,Et),Le.return=Ye,Ye=Le}return Q(Ye);case q:return Kt=Ze._init,ri(Ye,Le,Kt(Ze._payload),Et)}if(me(Ze))return zt(Ye,Le,Ze,Et);if(U(Ze))return Vt(Ye,Le,Ze,Et);p1(Ye,Ze)}return typeof Ze=="string"&&Ze!==""||typeof Ze=="number"?(Ze=""+Ze,Le!==null&&Le.tag===6?(E(Ye,Le.sibling),Le=k(Le,Ze),Le.return=Ye,Ye=Le):(E(Ye,Le),Le=rC(Ze,Ye.mode,Et),Le.return=Ye,Ye=Le),Q(Ye)):E(Ye,Le)}return ri}var Em=k6(!0),L6=k6(!1),m1=Cd(null),g1=null,Nm=null,hA=null;function pA(){hA=Nm=g1=null}function mA(m){var x=m1.current;jr(m1),m._currentValue=x}function gA(m,x,E){for(;m!==null;){var R=m.alternate;if((m.childLanes&x)!==x?(m.childLanes|=x,R!==null&&(R.childLanes|=x)):R!==null&&(R.childLanes&x)!==x&&(R.childLanes|=x),m===E)break;m=m.return}}function Am(m,x){g1=m,hA=Nm=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&x)!==0&&(Sa=!0),m.firstContext=null)}function Mo(m){var x=m._currentValue;if(hA!==m)if(m={context:m,memoizedValue:x,next:null},Nm===null){if(g1===null)throw Error(n(308));Nm=m,g1.dependencies={lanes:0,firstContext:m}}else Nm=Nm.next=m;return x}var xh=null;function vA(m){xh===null?xh=[m]:xh.push(m)}function F6(m,x,E,R){var k=x.interleaved;return k===null?(E.next=E,vA(x)):(E.next=k.next,k.next=E),x.interleaved=E,vu(m,R)}function vu(m,x){m.lanes|=x;var E=m.alternate;for(E!==null&&(E.lanes|=x),E=m,m=m.return;m!==null;)m.childLanes|=x,E=m.alternate,E!==null&&(E.childLanes|=x),E=m,m=m.return;return E.tag===3?E.stateNode:null}var Pd=!1;function xA(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U6(m,x){m=m.updateQueue,x.updateQueue===m&&(x.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function xu(m,x){return{eventTime:m,lane:x,tag:0,payload:null,callback:null,next:null}}function Dd(m,x,E){var R=m.updateQueue;if(R===null)return null;if(R=R.shared,(Hn&2)!==0){var k=R.pending;return k===null?x.next=x:(x.next=k.next,k.next=x),R.pending=x,vu(m,E)}return k=R.interleaved,k===null?(x.next=x,vA(R)):(x.next=k.next,k.next=x),R.interleaved=x,vu(m,E)}function v1(m,x,E){if(x=x.updateQueue,x!==null&&(x=x.shared,(E&4194240)!==0)){var R=x.lanes;R&=m.pendingLanes,E|=R,x.lanes=E,Gi(m,E)}}function B6(m,x){var E=m.updateQueue,R=m.alternate;if(R!==null&&(R=R.updateQueue,E===R)){var k=null,B=null;if(E=E.firstBaseUpdate,E!==null){do{var Q={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};B===null?k=B=Q:B=B.next=Q,E=E.next}while(E!==null);B===null?k=B=x:B=B.next=x}else k=B=x;E={baseState:R.baseState,firstBaseUpdate:k,lastBaseUpdate:B,shared:R.shared,effects:R.effects},m.updateQueue=E;return}m=E.lastBaseUpdate,m===null?E.firstBaseUpdate=x:m.next=x,E.lastBaseUpdate=x}function x1(m,x,E,R){var k=m.updateQueue;Pd=!1;var B=k.firstBaseUpdate,Q=k.lastBaseUpdate,we=k.shared.pending;if(we!==null){k.shared.pending=null;var De=we,nt=De.next;De.next=null,Q===null?B=nt:Q.next=nt,Q=De;var gt=m.alternate;gt!==null&&(gt=gt.updateQueue,we=gt.lastBaseUpdate,we!==Q&&(we===null?gt.firstBaseUpdate=nt:we.next=nt,gt.lastBaseUpdate=De))}if(B!==null){var xt=k.baseState;Q=0,gt=nt=De=null,we=B;do{var mt=we.lane,It=we.eventTime;if((R&mt)===mt){gt!==null&&(gt=gt.next={eventTime:It,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var zt=m,Vt=we;switch(mt=x,It=E,Vt.tag){case 1:if(zt=Vt.payload,typeof zt=="function"){xt=zt.call(It,xt,mt);break e}xt=zt;break e;case 3:zt.flags=zt.flags&-65537|128;case 0:if(zt=Vt.payload,mt=typeof zt=="function"?zt.call(It,xt,mt):zt,mt==null)break e;xt=H({},xt,mt);break e;case 2:Pd=!0}}we.callback!==null&&we.lane!==0&&(m.flags|=64,mt=k.effects,mt===null?k.effects=[we]:mt.push(we))}else It={eventTime:It,lane:mt,tag:we.tag,payload:we.payload,callback:we.callback,next:null},gt===null?(nt=gt=It,De=xt):gt=gt.next=It,Q|=mt;if(we=we.next,we===null){if(we=k.shared.pending,we===null)break;mt=we,we=mt.next,mt.next=null,k.lastBaseUpdate=mt,k.shared.pending=null}}while(!0);if(gt===null&&(De=xt),k.baseState=De,k.firstBaseUpdate=nt,k.lastBaseUpdate=gt,x=k.shared.interleaved,x!==null){k=x;do Q|=k.lane,k=k.next;while(k!==x)}else B===null&&(k.shared.lanes=0);wh|=Q,m.lanes=Q,m.memoizedState=xt}}function $6(m,x,E){if(m=x.effects,x.effects=null,m!==null)for(x=0;x<m.length;x++){var R=m[x],k=R.callback;if(k!==null){if(R.callback=null,R=E,typeof k!="function")throw Error(n(191,k));k.call(R)}}}var ry={},pc=Cd(ry),iy=Cd(ry),sy=Cd(ry);function yh(m){if(m===ry)throw Error(n(174));return m}function yA(m,x){switch(gr(sy,x),gr(iy,m),gr(pc,ry),m=x.nodeType,m){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:ve(null,"");break;default:m=m===8?x.parentNode:x,x=m.namespaceURI||null,m=m.tagName,x=ve(x,m)}jr(pc),gr(pc,x)}function Cm(){jr(pc),jr(iy),jr(sy)}function z6(m){yh(sy.current);var x=yh(pc.current),E=ve(x,m.type);x!==E&&(gr(iy,m),gr(pc,E))}function bA(m){iy.current===m&&(jr(pc),jr(iy))}var Fr=Cd(0);function y1(m){for(var x=m;x!==null;){if(x.tag===13){var E=x.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||E.data==="$?"||E.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var wA=[];function _A(){for(var m=0;m<wA.length;m++)wA[m]._workInProgressVersionPrimary=null;wA.length=0}var b1=S.ReactCurrentDispatcher,SA=S.ReactCurrentBatchConfig,bh=0,Ur=null,Ai=null,Wi=null,w1=!1,ay=!1,oy=0,_fe=0;function js(){throw Error(n(321))}function jA(m,x){if(x===null)return!1;for(var E=0;E<x.length&&E<m.length;E++)if(!yl(m[E],x[E]))return!1;return!0}function EA(m,x,E,R,k,B){if(bh=B,Ur=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,b1.current=m===null||m.memoizedState===null?Nfe:Afe,m=E(R,k),ay){B=0;do{if(ay=!1,oy=0,25<=B)throw Error(n(301));B+=1,Wi=Ai=null,x.updateQueue=null,b1.current=Cfe,m=E(R,k)}while(ay)}if(b1.current=j1,x=Ai!==null&&Ai.next!==null,bh=0,Wi=Ai=Ur=null,w1=!1,x)throw Error(n(300));return m}function NA(){var m=oy!==0;return oy=0,m}function mc(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wi===null?Ur.memoizedState=Wi=m:Wi=Wi.next=m,Wi}function To(){if(Ai===null){var m=Ur.alternate;m=m!==null?m.memoizedState:null}else m=Ai.next;var x=Wi===null?Ur.memoizedState:Wi.next;if(x!==null)Wi=x,Ai=m;else{if(m===null)throw Error(n(310));Ai=m,m={memoizedState:Ai.memoizedState,baseState:Ai.baseState,baseQueue:Ai.baseQueue,queue:Ai.queue,next:null},Wi===null?Ur.memoizedState=Wi=m:Wi=Wi.next=m}return Wi}function ly(m,x){return typeof x=="function"?x(m):x}function AA(m){var x=To(),E=x.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=m;var R=Ai,k=R.baseQueue,B=E.pending;if(B!==null){if(k!==null){var Q=k.next;k.next=B.next,B.next=Q}R.baseQueue=k=B,E.pending=null}if(k!==null){B=k.next,R=R.baseState;var we=Q=null,De=null,nt=B;do{var gt=nt.lane;if((bh&gt)===gt)De!==null&&(De=De.next={lane:0,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null}),R=nt.hasEagerState?nt.eagerState:m(R,nt.action);else{var xt={lane:gt,action:nt.action,hasEagerState:nt.hasEagerState,eagerState:nt.eagerState,next:null};De===null?(we=De=xt,Q=R):De=De.next=xt,Ur.lanes|=gt,wh|=gt}nt=nt.next}while(nt!==null&&nt!==B);De===null?Q=R:De.next=we,yl(R,x.memoizedState)||(Sa=!0),x.memoizedState=R,x.baseState=Q,x.baseQueue=De,E.lastRenderedState=R}if(m=E.interleaved,m!==null){k=m;do B=k.lane,Ur.lanes|=B,wh|=B,k=k.next;while(k!==m)}else k===null&&(E.lanes=0);return[x.memoizedState,E.dispatch]}function CA(m){var x=To(),E=x.queue;if(E===null)throw Error(n(311));E.lastRenderedReducer=m;var R=E.dispatch,k=E.pending,B=x.memoizedState;if(k!==null){E.pending=null;var Q=k=k.next;do B=m(B,Q.action),Q=Q.next;while(Q!==k);yl(B,x.memoizedState)||(Sa=!0),x.memoizedState=B,x.baseQueue===null&&(x.baseState=B),E.lastRenderedState=B}return[B,R]}function H6(){}function V6(m,x){var E=Ur,R=To(),k=x(),B=!yl(R.memoizedState,k);if(B&&(R.memoizedState=k,Sa=!0),R=R.queue,MA(W6.bind(null,E,R,m),[m]),R.getSnapshot!==x||B||Wi!==null&&Wi.memoizedState.tag&1){if(E.flags|=2048,cy(9,G6.bind(null,E,R,k,x),void 0,null),Xi===null)throw Error(n(349));(bh&30)!==0||q6(E,x,k)}return k}function q6(m,x,E){m.flags|=16384,m={getSnapshot:x,value:E},x=Ur.updateQueue,x===null?(x={lastEffect:null,stores:null},Ur.updateQueue=x,x.stores=[m]):(E=x.stores,E===null?x.stores=[m]:E.push(m))}function G6(m,x,E,R){x.value=E,x.getSnapshot=R,X6(x)&&Y6(m)}function W6(m,x,E){return E(function(){X6(x)&&Y6(m)})}function X6(m){var x=m.getSnapshot;m=m.value;try{var E=x();return!yl(m,E)}catch{return!0}}function Y6(m){var x=vu(m,1);x!==null&&jl(x,m,1,-1)}function K6(m){var x=mc();return typeof m=="function"&&(m=m()),x.memoizedState=x.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:m},x.queue=m,m=m.dispatch=Efe.bind(null,Ur,m),[x.memoizedState,m]}function cy(m,x,E,R){return m={tag:m,create:x,destroy:E,deps:R,next:null},x=Ur.updateQueue,x===null?(x={lastEffect:null,stores:null},Ur.updateQueue=x,x.lastEffect=m.next=m):(E=x.lastEffect,E===null?x.lastEffect=m.next=m:(R=E.next,E.next=m,m.next=R,x.lastEffect=m)),m}function Q6(){return To().memoizedState}function _1(m,x,E,R){var k=mc();Ur.flags|=m,k.memoizedState=cy(1|x,E,void 0,R===void 0?null:R)}function S1(m,x,E,R){var k=To();R=R===void 0?null:R;var B=void 0;if(Ai!==null){var Q=Ai.memoizedState;if(B=Q.destroy,R!==null&&jA(R,Q.deps)){k.memoizedState=cy(x,E,B,R);return}}Ur.flags|=m,k.memoizedState=cy(1|x,E,B,R)}function Z6(m,x){return _1(8390656,8,m,x)}function MA(m,x){return S1(2048,8,m,x)}function J6(m,x){return S1(4,2,m,x)}function eB(m,x){return S1(4,4,m,x)}function tB(m,x){if(typeof x=="function")return m=m(),x(m),function(){x(null)};if(x!=null)return m=m(),x.current=m,function(){x.current=null}}function nB(m,x,E){return E=E!=null?E.concat([m]):null,S1(4,4,tB.bind(null,x,m),E)}function TA(){}function rB(m,x){var E=To();x=x===void 0?null:x;var R=E.memoizedState;return R!==null&&x!==null&&jA(x,R[1])?R[0]:(E.memoizedState=[m,x],m)}function iB(m,x){var E=To();x=x===void 0?null:x;var R=E.memoizedState;return R!==null&&x!==null&&jA(x,R[1])?R[0]:(m=m(),E.memoizedState=[m,x],m)}function sB(m,x,E){return(bh&21)===0?(m.baseState&&(m.baseState=!1,Sa=!0),m.memoizedState=E):(yl(E,x)||(E=dr(),Ur.lanes|=E,wh|=E,m.baseState=!0),x)}function Sfe(m,x){var E=zn;zn=E!==0&&4>E?E:4,m(!0);var R=SA.transition;SA.transition={};try{m(!1),x()}finally{zn=E,SA.transition=R}}function aB(){return To().memoizedState}function jfe(m,x,E){var R=kd(m);if(E={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null},oB(m))lB(x,E);else if(E=F6(m,x,E,R),E!==null){var k=Ys();jl(E,m,R,k),cB(E,x,R)}}function Efe(m,x,E){var R=kd(m),k={lane:R,action:E,hasEagerState:!1,eagerState:null,next:null};if(oB(m))lB(x,k);else{var B=m.alternate;if(m.lanes===0&&(B===null||B.lanes===0)&&(B=x.lastRenderedReducer,B!==null))try{var Q=x.lastRenderedState,we=B(Q,E);if(k.hasEagerState=!0,k.eagerState=we,yl(we,Q)){var De=x.interleaved;De===null?(k.next=k,vA(x)):(k.next=De.next,De.next=k),x.interleaved=k;return}}catch{}finally{}E=F6(m,x,k,R),E!==null&&(k=Ys(),jl(E,m,R,k),cB(E,x,R))}}function oB(m){var x=m.alternate;return m===Ur||x!==null&&x===Ur}function lB(m,x){ay=w1=!0;var E=m.pending;E===null?x.next=x:(x.next=E.next,E.next=x),m.pending=x}function cB(m,x,E){if((E&4194240)!==0){var R=x.lanes;R&=m.pendingLanes,E|=R,x.lanes=E,Gi(m,E)}}var j1={readContext:Mo,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},Nfe={readContext:Mo,useCallback:function(m,x){return mc().memoizedState=[m,x===void 0?null:x],m},useContext:Mo,useEffect:Z6,useImperativeHandle:function(m,x,E){return E=E!=null?E.concat([m]):null,_1(4194308,4,tB.bind(null,x,m),E)},useLayoutEffect:function(m,x){return _1(4194308,4,m,x)},useInsertionEffect:function(m,x){return _1(4,2,m,x)},useMemo:function(m,x){var E=mc();return x=x===void 0?null:x,m=m(),E.memoizedState=[m,x],m},useReducer:function(m,x,E){var R=mc();return x=E!==void 0?E(x):x,R.memoizedState=R.baseState=x,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:x},R.queue=m,m=m.dispatch=jfe.bind(null,Ur,m),[R.memoizedState,m]},useRef:function(m){var x=mc();return m={current:m},x.memoizedState=m},useState:K6,useDebugValue:TA,useDeferredValue:function(m){return mc().memoizedState=m},useTransition:function(){var m=K6(!1),x=m[0];return m=Sfe.bind(null,m[1]),mc().memoizedState=m,[x,m]},useMutableSource:function(){},useSyncExternalStore:function(m,x,E){var R=Ur,k=mc();if(Dr){if(E===void 0)throw Error(n(407));E=E()}else{if(E=x(),Xi===null)throw Error(n(349));(bh&30)!==0||q6(R,x,E)}k.memoizedState=E;var B={value:E,getSnapshot:x};return k.queue=B,Z6(W6.bind(null,R,B,m),[m]),R.flags|=2048,cy(9,G6.bind(null,R,B,E,x),void 0,null),E},useId:function(){var m=mc(),x=Xi.identifierPrefix;if(Dr){var E=gu,R=mu;E=(R&~(1<<32-pn(R)-1)).toString(32)+E,x=":"+x+"R"+E,E=oy++,0<E&&(x+="H"+E.toString(32)),x+=":"}else E=_fe++,x=":"+x+"r"+E.toString(32)+":";return m.memoizedState=x},unstable_isNewReconciler:!1},Afe={readContext:Mo,useCallback:rB,useContext:Mo,useEffect:MA,useImperativeHandle:nB,useInsertionEffect:J6,useLayoutEffect:eB,useMemo:iB,useReducer:AA,useRef:Q6,useState:function(){return AA(ly)},useDebugValue:TA,useDeferredValue:function(m){var x=To();return sB(x,Ai.memoizedState,m)},useTransition:function(){var m=AA(ly)[0],x=To().memoizedState;return[m,x]},useMutableSource:H6,useSyncExternalStore:V6,useId:aB,unstable_isNewReconciler:!1},Cfe={readContext:Mo,useCallback:rB,useContext:Mo,useEffect:MA,useImperativeHandle:nB,useInsertionEffect:J6,useLayoutEffect:eB,useMemo:iB,useReducer:CA,useRef:Q6,useState:function(){return CA(ly)},useDebugValue:TA,useDeferredValue:function(m){var x=To();return Ai===null?x.memoizedState=m:sB(x,Ai.memoizedState,m)},useTransition:function(){var m=CA(ly)[0],x=To().memoizedState;return[m,x]},useMutableSource:H6,useSyncExternalStore:V6,useId:aB,unstable_isNewReconciler:!1};function wl(m,x){if(m&&m.defaultProps){x=H({},x),m=m.defaultProps;for(var E in m)x[E]===void 0&&(x[E]=m[E]);return x}return x}function PA(m,x,E,R){x=m.memoizedState,E=E(R,x),E=E==null?x:H({},x,E),m.memoizedState=E,m.lanes===0&&(m.updateQueue.baseState=E)}var E1={isMounted:function(m){return(m=m._reactInternals)?En(m)===m:!1},enqueueSetState:function(m,x,E){m=m._reactInternals;var R=Ys(),k=kd(m),B=xu(R,k);B.payload=x,E!=null&&(B.callback=E),x=Dd(m,B,k),x!==null&&(jl(x,m,k,R),v1(x,m,k))},enqueueReplaceState:function(m,x,E){m=m._reactInternals;var R=Ys(),k=kd(m),B=xu(R,k);B.tag=1,B.payload=x,E!=null&&(B.callback=E),x=Dd(m,B,k),x!==null&&(jl(x,m,k,R),v1(x,m,k))},enqueueForceUpdate:function(m,x){m=m._reactInternals;var E=Ys(),R=kd(m),k=xu(E,R);k.tag=2,x!=null&&(k.callback=x),x=Dd(m,k,R),x!==null&&(jl(x,m,R,E),v1(x,m,R))}};function uB(m,x,E,R,k,B,Q){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(R,B,Q):x.prototype&&x.prototype.isPureReactComponent?!Yx(E,R)||!Yx(k,B):!0}function dB(m,x,E){var R=!1,k=Md,B=x.contextType;return typeof B=="object"&&B!==null?B=Mo(B):(k=_a(x)?mh:Ss.current,R=x.contextTypes,B=(R=R!=null)?wm(m,k):Md),x=new x(E,B),m.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=E1,m.stateNode=x,x._reactInternals=m,R&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=k,m.__reactInternalMemoizedMaskedChildContext=B),x}function fB(m,x,E,R){m=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(E,R),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(E,R),x.state!==m&&E1.enqueueReplaceState(x,x.state,null)}function DA(m,x,E,R){var k=m.stateNode;k.props=E,k.state=m.memoizedState,k.refs={},xA(m);var B=x.contextType;typeof B=="object"&&B!==null?k.context=Mo(B):(B=_a(x)?mh:Ss.current,k.context=wm(m,B)),k.state=m.memoizedState,B=x.getDerivedStateFromProps,typeof B=="function"&&(PA(m,x,B,E),k.state=m.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(x=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),x!==k.state&&E1.enqueueReplaceState(k,k.state,null),x1(m,E,k,R),k.state=m.memoizedState),typeof k.componentDidMount=="function"&&(m.flags|=4194308)}function Mm(m,x){try{var E="",R=x;do E+=re(R),R=R.return;while(R);var k=E}catch(B){k=`
Error generating stack: `+B.message+`
`+B.stack}return{value:m,source:x,stack:k,digest:null}}function RA(m,x,E){return{value:m,source:null,stack:E??null,digest:x??null}}function OA(m,x){try{console.error(x.value)}catch(E){setTimeout(function(){throw E})}}var Mfe=typeof WeakMap=="function"?WeakMap:Map;function hB(m,x,E){E=xu(-1,E),E.tag=3,E.payload={element:null};var R=x.value;return E.callback=function(){D1||(D1=!0,YA=R),OA(m,x)},E}function pB(m,x,E){E=xu(-1,E),E.tag=3;var R=m.type.getDerivedStateFromError;if(typeof R=="function"){var k=x.value;E.payload=function(){return R(k)},E.callback=function(){OA(m,x)}}var B=m.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(E.callback=function(){OA(m,x),typeof R!="function"&&(Od===null?Od=new Set([this]):Od.add(this));var Q=x.stack;this.componentDidCatch(x.value,{componentStack:Q!==null?Q:""})}),E}function mB(m,x,E){var R=m.pingCache;if(R===null){R=m.pingCache=new Mfe;var k=new Set;R.set(x,k)}else k=R.get(x),k===void 0&&(k=new Set,R.set(x,k));k.has(E)||(k.add(E),m=Hfe.bind(null,m,x,E),x.then(m,m))}function gB(m){do{var x;if((x=m.tag===13)&&(x=m.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return m;m=m.return}while(m!==null);return null}function vB(m,x,E,R,k){return(m.mode&1)===0?(m===x?m.flags|=65536:(m.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(x=xu(-1,1),x.tag=2,Dd(E,x,1))),E.lanes|=1),m):(m.flags|=65536,m.lanes=k,m)}var Tfe=S.ReactCurrentOwner,Sa=!1;function Xs(m,x,E,R){x.child=m===null?L6(x,null,E,R):Em(x,m.child,E,R)}function xB(m,x,E,R,k){E=E.render;var B=x.ref;return Am(x,k),R=EA(m,x,E,R,B,k),E=NA(),m!==null&&!Sa?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~k,yu(m,x,k)):(Dr&&E&&lA(x),x.flags|=1,Xs(m,x,R,k),x.child)}function yB(m,x,E,R,k){if(m===null){var B=E.type;return typeof B=="function"&&!nC(B)&&B.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(x.tag=15,x.type=B,bB(m,x,B,R,k)):(m=F1(E.type,null,R,x,x.mode,k),m.ref=x.ref,m.return=x,x.child=m)}if(B=m.child,(m.lanes&k)===0){var Q=B.memoizedProps;if(E=E.compare,E=E!==null?E:Yx,E(Q,R)&&m.ref===x.ref)return yu(m,x,k)}return x.flags|=1,m=Fd(B,R),m.ref=x.ref,m.return=x,x.child=m}function bB(m,x,E,R,k){if(m!==null){var B=m.memoizedProps;if(Yx(B,R)&&m.ref===x.ref)if(Sa=!1,x.pendingProps=R=B,(m.lanes&k)!==0)(m.flags&131072)!==0&&(Sa=!0);else return x.lanes=m.lanes,yu(m,x,k)}return IA(m,x,E,R,k)}function wB(m,x,E){var R=x.pendingProps,k=R.children,B=m!==null?m.memoizedState:null;if(R.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(Pm,Ka),Ka|=E;else{if((E&1073741824)===0)return m=B!==null?B.baseLanes|E:E,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:m,cachePool:null,transitions:null},x.updateQueue=null,gr(Pm,Ka),Ka|=m,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=B!==null?B.baseLanes:E,gr(Pm,Ka),Ka|=R}else B!==null?(R=B.baseLanes|E,x.memoizedState=null):R=E,gr(Pm,Ka),Ka|=R;return Xs(m,x,k,E),x.child}function _B(m,x){var E=x.ref;(m===null&&E!==null||m!==null&&m.ref!==E)&&(x.flags|=512,x.flags|=2097152)}function IA(m,x,E,R,k){var B=_a(E)?mh:Ss.current;return B=wm(x,B),Am(x,k),E=EA(m,x,E,R,B,k),R=NA(),m!==null&&!Sa?(x.updateQueue=m.updateQueue,x.flags&=-2053,m.lanes&=~k,yu(m,x,k)):(Dr&&R&&lA(x),x.flags|=1,Xs(m,x,E,k),x.child)}function SB(m,x,E,R,k){if(_a(E)){var B=!0;c1(x)}else B=!1;if(Am(x,k),x.stateNode===null)A1(m,x),dB(x,E,R),DA(x,E,R,k),R=!0;else if(m===null){var Q=x.stateNode,we=x.memoizedProps;Q.props=we;var De=Q.context,nt=E.contextType;typeof nt=="object"&&nt!==null?nt=Mo(nt):(nt=_a(E)?mh:Ss.current,nt=wm(x,nt));var gt=E.getDerivedStateFromProps,xt=typeof gt=="function"||typeof Q.getSnapshotBeforeUpdate=="function";xt||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(we!==R||De!==nt)&&fB(x,Q,R,nt),Pd=!1;var mt=x.memoizedState;Q.state=mt,x1(x,R,Q,k),De=x.memoizedState,we!==R||mt!==De||wa.current||Pd?(typeof gt=="function"&&(PA(x,E,gt,R),De=x.memoizedState),(we=Pd||uB(x,E,we,R,mt,De,nt))?(xt||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(x.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=R,x.memoizedState=De),Q.props=R,Q.state=De,Q.context=nt,R=we):(typeof Q.componentDidMount=="function"&&(x.flags|=4194308),R=!1)}else{Q=x.stateNode,U6(m,x),we=x.memoizedProps,nt=x.type===x.elementType?we:wl(x.type,we),Q.props=nt,xt=x.pendingProps,mt=Q.context,De=E.contextType,typeof De=="object"&&De!==null?De=Mo(De):(De=_a(E)?mh:Ss.current,De=wm(x,De));var It=E.getDerivedStateFromProps;(gt=typeof It=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(we!==xt||mt!==De)&&fB(x,Q,R,De),Pd=!1,mt=x.memoizedState,Q.state=mt,x1(x,R,Q,k);var zt=x.memoizedState;we!==xt||mt!==zt||wa.current||Pd?(typeof It=="function"&&(PA(x,E,It,R),zt=x.memoizedState),(nt=Pd||uB(x,E,nt,R,mt,zt,De)||!1)?(gt||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(R,zt,De),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(R,zt,De)),typeof Q.componentDidUpdate=="function"&&(x.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof Q.componentDidUpdate!="function"||we===m.memoizedProps&&mt===m.memoizedState||(x.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||we===m.memoizedProps&&mt===m.memoizedState||(x.flags|=1024),x.memoizedProps=R,x.memoizedState=zt),Q.props=R,Q.state=zt,Q.context=De,R=nt):(typeof Q.componentDidUpdate!="function"||we===m.memoizedProps&&mt===m.memoizedState||(x.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||we===m.memoizedProps&&mt===m.memoizedState||(x.flags|=1024),R=!1)}return kA(m,x,E,R,B,k)}function kA(m,x,E,R,k,B){_B(m,x);var Q=(x.flags&128)!==0;if(!R&&!Q)return k&&C6(x,E,!1),yu(m,x,B);R=x.stateNode,Tfe.current=x;var we=Q&&typeof E.getDerivedStateFromError!="function"?null:R.render();return x.flags|=1,m!==null&&Q?(x.child=Em(x,m.child,null,B),x.child=Em(x,null,we,B)):Xs(m,x,we,B),x.memoizedState=R.state,k&&C6(x,E,!0),x.child}function jB(m){var x=m.stateNode;x.pendingContext?N6(m,x.pendingContext,x.pendingContext!==x.context):x.context&&N6(m,x.context,!1),yA(m,x.containerInfo)}function EB(m,x,E,R,k){return jm(),fA(k),x.flags|=256,Xs(m,x,E,R),x.child}var LA={dehydrated:null,treeContext:null,retryLane:0};function FA(m){return{baseLanes:m,cachePool:null,transitions:null}}function NB(m,x,E){var R=x.pendingProps,k=Fr.current,B=!1,Q=(x.flags&128)!==0,we;if((we=Q)||(we=m!==null&&m.memoizedState===null?!1:(k&2)!==0),we?(B=!0,x.flags&=-129):(m===null||m.memoizedState!==null)&&(k|=1),gr(Fr,k&1),m===null)return dA(x),m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((x.mode&1)===0?x.lanes=1:m.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(Q=R.children,m=R.fallback,B?(R=x.mode,B=x.child,Q={mode:"hidden",children:Q},(R&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=Q):B=U1(Q,R,0,null),m=Eh(m,R,E,null),B.return=x,m.return=x,B.sibling=m,x.child=B,x.child.memoizedState=FA(E),x.memoizedState=LA,m):UA(x,Q));if(k=m.memoizedState,k!==null&&(we=k.dehydrated,we!==null))return Pfe(m,x,Q,R,we,k,E);if(B){B=R.fallback,Q=x.mode,k=m.child,we=k.sibling;var De={mode:"hidden",children:R.children};return(Q&1)===0&&x.child!==k?(R=x.child,R.childLanes=0,R.pendingProps=De,x.deletions=null):(R=Fd(k,De),R.subtreeFlags=k.subtreeFlags&14680064),we!==null?B=Fd(we,B):(B=Eh(B,Q,E,null),B.flags|=2),B.return=x,R.return=x,R.sibling=B,x.child=R,R=B,B=x.child,Q=m.child.memoizedState,Q=Q===null?FA(E):{baseLanes:Q.baseLanes|E,cachePool:null,transitions:Q.transitions},B.memoizedState=Q,B.childLanes=m.childLanes&~E,x.memoizedState=LA,R}return B=m.child,m=B.sibling,R=Fd(B,{mode:"visible",children:R.children}),(x.mode&1)===0&&(R.lanes=E),R.return=x,R.sibling=null,m!==null&&(E=x.deletions,E===null?(x.deletions=[m],x.flags|=16):E.push(m)),x.child=R,x.memoizedState=null,R}function UA(m,x){return x=U1({mode:"visible",children:x},m.mode,0,null),x.return=m,m.child=x}function N1(m,x,E,R){return R!==null&&fA(R),Em(x,m.child,null,E),m=UA(x,x.pendingProps.children),m.flags|=2,x.memoizedState=null,m}function Pfe(m,x,E,R,k,B,Q){if(E)return x.flags&256?(x.flags&=-257,R=RA(Error(n(422))),N1(m,x,Q,R)):x.memoizedState!==null?(x.child=m.child,x.flags|=128,null):(B=R.fallback,k=x.mode,R=U1({mode:"visible",children:R.children},k,0,null),B=Eh(B,k,Q,null),B.flags|=2,R.return=x,B.return=x,R.sibling=B,x.child=R,(x.mode&1)!==0&&Em(x,m.child,null,Q),x.child.memoizedState=FA(Q),x.memoizedState=LA,B);if((x.mode&1)===0)return N1(m,x,Q,null);if(k.data==="$!"){if(R=k.nextSibling&&k.nextSibling.dataset,R)var we=R.dgst;return R=we,B=Error(n(419)),R=RA(B,R,void 0),N1(m,x,Q,R)}if(we=(Q&m.childLanes)!==0,Sa||we){if(R=Xi,R!==null){switch(Q&-Q){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(R.suspendedLanes|Q))!==0?0:k,k!==0&&k!==B.retryLane&&(B.retryLane=k,vu(m,k),jl(R,m,k,-1))}return tC(),R=RA(Error(n(421))),N1(m,x,Q,R)}return k.data==="$?"?(x.flags|=128,x.child=m.child,x=Vfe.bind(null,m),k._reactRetry=x,null):(m=B.treeContext,Ya=Ad(k.nextSibling),Xa=x,Dr=!0,bl=null,m!==null&&(Ao[Co++]=mu,Ao[Co++]=gu,Ao[Co++]=gh,mu=m.id,gu=m.overflow,gh=x),x=UA(x,R.children),x.flags|=4096,x)}function AB(m,x,E){m.lanes|=x;var R=m.alternate;R!==null&&(R.lanes|=x),gA(m.return,x,E)}function BA(m,x,E,R,k){var B=m.memoizedState;B===null?m.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:R,tail:E,tailMode:k}:(B.isBackwards=x,B.rendering=null,B.renderingStartTime=0,B.last=R,B.tail=E,B.tailMode=k)}function CB(m,x,E){var R=x.pendingProps,k=R.revealOrder,B=R.tail;if(Xs(m,x,R.children,E),R=Fr.current,(R&2)!==0)R=R&1|2,x.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=x.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&AB(m,E,x);else if(m.tag===19)AB(m,E,x);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===x)break e;for(;m.sibling===null;){if(m.return===null||m.return===x)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}R&=1}if(gr(Fr,R),(x.mode&1)===0)x.memoizedState=null;else switch(k){case"forwards":for(E=x.child,k=null;E!==null;)m=E.alternate,m!==null&&y1(m)===null&&(k=E),E=E.sibling;E=k,E===null?(k=x.child,x.child=null):(k=E.sibling,E.sibling=null),BA(x,!1,k,E,B);break;case"backwards":for(E=null,k=x.child,x.child=null;k!==null;){if(m=k.alternate,m!==null&&y1(m)===null){x.child=k;break}m=k.sibling,k.sibling=E,E=k,k=m}BA(x,!0,E,null,B);break;case"together":BA(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function A1(m,x){(x.mode&1)===0&&m!==null&&(m.alternate=null,x.alternate=null,x.flags|=2)}function yu(m,x,E){if(m!==null&&(x.dependencies=m.dependencies),wh|=x.lanes,(E&x.childLanes)===0)return null;if(m!==null&&x.child!==m.child)throw Error(n(153));if(x.child!==null){for(m=x.child,E=Fd(m,m.pendingProps),x.child=E,E.return=x;m.sibling!==null;)m=m.sibling,E=E.sibling=Fd(m,m.pendingProps),E.return=x;E.sibling=null}return x.child}function Dfe(m,x,E){switch(x.tag){case 3:jB(x),jm();break;case 5:z6(x);break;case 1:_a(x.type)&&c1(x);break;case 4:yA(x,x.stateNode.containerInfo);break;case 10:var R=x.type._context,k=x.memoizedProps.value;gr(m1,R._currentValue),R._currentValue=k;break;case 13:if(R=x.memoizedState,R!==null)return R.dehydrated!==null?(gr(Fr,Fr.current&1),x.flags|=128,null):(E&x.child.childLanes)!==0?NB(m,x,E):(gr(Fr,Fr.current&1),m=yu(m,x,E),m!==null?m.sibling:null);gr(Fr,Fr.current&1);break;case 19:if(R=(E&x.childLanes)!==0,(m.flags&128)!==0){if(R)return CB(m,x,E);x.flags|=128}if(k=x.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),gr(Fr,Fr.current),R)break;return null;case 22:case 23:return x.lanes=0,wB(m,x,E)}return yu(m,x,E)}var MB,$A,TB,PB;MB=function(m,x){for(var E=x.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===x)break;for(;E.sibling===null;){if(E.return===null||E.return===x)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},$A=function(){},TB=function(m,x,E,R){var k=m.memoizedProps;if(k!==R){m=x.stateNode,yh(pc.current);var B=null;switch(E){case"input":k=Y(m,k),R=Y(m,R),B=[];break;case"select":k=H({},k,{value:void 0}),R=H({},R,{value:void 0}),B=[];break;case"textarea":k=G(m,k),R=G(m,R),B=[];break;default:typeof k.onClick!="function"&&typeof R.onClick=="function"&&(m.onclick=a1)}K(E,R);var Q;E=null;for(nt in k)if(!R.hasOwnProperty(nt)&&k.hasOwnProperty(nt)&&k[nt]!=null)if(nt==="style"){var we=k[nt];for(Q in we)we.hasOwnProperty(Q)&&(E||(E={}),E[Q]="")}else nt!=="dangerouslySetInnerHTML"&&nt!=="children"&&nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(i.hasOwnProperty(nt)?B||(B=[]):(B=B||[]).push(nt,null));for(nt in R){var De=R[nt];if(we=k?.[nt],R.hasOwnProperty(nt)&&De!==we&&(De!=null||we!=null))if(nt==="style")if(we){for(Q in we)!we.hasOwnProperty(Q)||De&&De.hasOwnProperty(Q)||(E||(E={}),E[Q]="");for(Q in De)De.hasOwnProperty(Q)&&we[Q]!==De[Q]&&(E||(E={}),E[Q]=De[Q])}else E||(B||(B=[]),B.push(nt,E)),E=De;else nt==="dangerouslySetInnerHTML"?(De=De?De.__html:void 0,we=we?we.__html:void 0,De!=null&&we!==De&&(B=B||[]).push(nt,De)):nt==="children"?typeof De!="string"&&typeof De!="number"||(B=B||[]).push(nt,""+De):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&(i.hasOwnProperty(nt)?(De!=null&&nt==="onScroll"&&Sr("scroll",m),B||we===De||(B=[])):(B=B||[]).push(nt,De))}E&&(B=B||[]).push("style",E);var nt=B;(x.updateQueue=nt)&&(x.flags|=4)}},PB=function(m,x,E,R){E!==R&&(x.flags|=4)};function uy(m,x){if(!Dr)switch(m.tailMode){case"hidden":x=m.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?m.tail=null:E.sibling=null;break;case"collapsed":E=m.tail;for(var R=null;E!==null;)E.alternate!==null&&(R=E),E=E.sibling;R===null?x||m.tail===null?m.tail=null:m.tail.sibling=null:R.sibling=null}}function Es(m){var x=m.alternate!==null&&m.alternate.child===m.child,E=0,R=0;if(x)for(var k=m.child;k!==null;)E|=k.lanes|k.childLanes,R|=k.subtreeFlags&14680064,R|=k.flags&14680064,k.return=m,k=k.sibling;else for(k=m.child;k!==null;)E|=k.lanes|k.childLanes,R|=k.subtreeFlags,R|=k.flags,k.return=m,k=k.sibling;return m.subtreeFlags|=R,m.childLanes=E,x}function Rfe(m,x,E){var R=x.pendingProps;switch(cA(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Es(x),null;case 1:return _a(x.type)&&l1(),Es(x),null;case 3:return R=x.stateNode,Cm(),jr(wa),jr(Ss),_A(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(m===null||m.child===null)&&(h1(x)?x.flags|=4:m===null||m.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,bl!==null&&(ZA(bl),bl=null))),$A(m,x),Es(x),null;case 5:bA(x);var k=yh(sy.current);if(E=x.type,m!==null&&x.stateNode!=null)TB(m,x,E,R,k),m.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!R){if(x.stateNode===null)throw Error(n(166));return Es(x),null}if(m=yh(pc.current),h1(x)){R=x.stateNode,E=x.type;var B=x.memoizedProps;switch(R[hc]=x,R[ey]=B,m=(x.mode&1)!==0,E){case"dialog":Sr("cancel",R),Sr("close",R);break;case"iframe":case"object":case"embed":Sr("load",R);break;case"video":case"audio":for(k=0;k<Qx.length;k++)Sr(Qx[k],R);break;case"source":Sr("error",R);break;case"img":case"image":case"link":Sr("error",R),Sr("load",R);break;case"details":Sr("toggle",R);break;case"input":Ie(R,B),Sr("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!B.multiple},Sr("invalid",R);break;case"textarea":de(R,B),Sr("invalid",R)}K(E,B),k=null;for(var Q in B)if(B.hasOwnProperty(Q)){var we=B[Q];Q==="children"?typeof we=="string"?R.textContent!==we&&(B.suppressHydrationWarning!==!0&&s1(R.textContent,we,m),k=["children",we]):typeof we=="number"&&R.textContent!==""+we&&(B.suppressHydrationWarning!==!0&&s1(R.textContent,we,m),k=["children",""+we]):i.hasOwnProperty(Q)&&we!=null&&Q==="onScroll"&&Sr("scroll",R)}switch(E){case"input":Ge(R),Be(R,B,!0);break;case"textarea":Ge(R),ne(R);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(R.onclick=a1)}R=k,x.updateQueue=R,R!==null&&(x.flags|=4)}else{Q=k.nodeType===9?k:k.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=J(E)),m==="http://www.w3.org/1999/xhtml"?E==="script"?(m=Q.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof R.is=="string"?m=Q.createElement(E,{is:R.is}):(m=Q.createElement(E),E==="select"&&(Q=m,R.multiple?Q.multiple=!0:R.size&&(Q.size=R.size))):m=Q.createElementNS(m,E),m[hc]=x,m[ey]=R,MB(m,x,!1,!1),x.stateNode=m;e:{switch(Q=ae(E,R),E){case"dialog":Sr("cancel",m),Sr("close",m),k=R;break;case"iframe":case"object":case"embed":Sr("load",m),k=R;break;case"video":case"audio":for(k=0;k<Qx.length;k++)Sr(Qx[k],m);k=R;break;case"source":Sr("error",m),k=R;break;case"img":case"image":case"link":Sr("error",m),Sr("load",m),k=R;break;case"details":Sr("toggle",m),k=R;break;case"input":Ie(m,R),k=Y(m,R),Sr("invalid",m);break;case"option":k=R;break;case"select":m._wrapperState={wasMultiple:!!R.multiple},k=H({},R,{value:void 0}),Sr("invalid",m);break;case"textarea":de(m,R),k=G(m,R),Sr("invalid",m);break;default:k=R}K(E,k),we=k;for(B in we)if(we.hasOwnProperty(B)){var De=we[B];B==="style"?te(m,De):B==="dangerouslySetInnerHTML"?(De=De?De.__html:void 0,De!=null&&Ve(m,De)):B==="children"?typeof De=="string"?(E!=="textarea"||De!=="")&&Qe(m,De):typeof De=="number"&&Qe(m,""+De):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?De!=null&&B==="onScroll"&&Sr("scroll",m):De!=null&&_(m,B,De,Q))}switch(E){case"input":Ge(m),Be(m,R,!1);break;case"textarea":Ge(m),ne(m);break;case"option":R.value!=null&&m.setAttribute("value",""+Ne(R.value));break;case"select":m.multiple=!!R.multiple,B=R.value,B!=null?X(m,!!R.multiple,B,!1):R.defaultValue!=null&&X(m,!!R.multiple,R.defaultValue,!0);break;default:typeof k.onClick=="function"&&(m.onclick=a1)}switch(E){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Es(x),null;case 6:if(m&&x.stateNode!=null)PB(m,x,m.memoizedProps,R);else{if(typeof R!="string"&&x.stateNode===null)throw Error(n(166));if(E=yh(sy.current),yh(pc.current),h1(x)){if(R=x.stateNode,E=x.memoizedProps,R[hc]=x,(B=R.nodeValue!==E)&&(m=Xa,m!==null))switch(m.tag){case 3:s1(R.nodeValue,E,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&s1(R.nodeValue,E,(m.mode&1)!==0)}B&&(x.flags|=4)}else R=(E.nodeType===9?E:E.ownerDocument).createTextNode(R),R[hc]=x,x.stateNode=R}return Es(x),null;case 13:if(jr(Fr),R=x.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(Dr&&Ya!==null&&(x.mode&1)!==0&&(x.flags&128)===0)O6(),jm(),x.flags|=98560,B=!1;else if(B=h1(x),R!==null&&R.dehydrated!==null){if(m===null){if(!B)throw Error(n(318));if(B=x.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[hc]=x}else jm(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;Es(x),B=!1}else bl!==null&&(ZA(bl),bl=null),B=!0;if(!B)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=E,x):(R=R!==null,R!==(m!==null&&m.memoizedState!==null)&&R&&(x.child.flags|=8192,(x.mode&1)!==0&&(m===null||(Fr.current&1)!==0?Ci===0&&(Ci=3):tC())),x.updateQueue!==null&&(x.flags|=4),Es(x),null);case 4:return Cm(),$A(m,x),m===null&&Zx(x.stateNode.containerInfo),Es(x),null;case 10:return mA(x.type._context),Es(x),null;case 17:return _a(x.type)&&l1(),Es(x),null;case 19:if(jr(Fr),B=x.memoizedState,B===null)return Es(x),null;if(R=(x.flags&128)!==0,Q=B.rendering,Q===null)if(R)uy(B,!1);else{if(Ci!==0||m!==null&&(m.flags&128)!==0)for(m=x.child;m!==null;){if(Q=y1(m),Q!==null){for(x.flags|=128,uy(B,!1),R=Q.updateQueue,R!==null&&(x.updateQueue=R,x.flags|=4),x.subtreeFlags=0,R=E,E=x.child;E!==null;)B=E,m=R,B.flags&=14680066,Q=B.alternate,Q===null?(B.childLanes=0,B.lanes=m,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=Q.childLanes,B.lanes=Q.lanes,B.child=Q.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=Q.memoizedProps,B.memoizedState=Q.memoizedState,B.updateQueue=Q.updateQueue,B.type=Q.type,m=Q.dependencies,B.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),E=E.sibling;return gr(Fr,Fr.current&1|2),x.child}m=m.sibling}B.tail!==null&&He()>Dm&&(x.flags|=128,R=!0,uy(B,!1),x.lanes=4194304)}else{if(!R)if(m=y1(Q),m!==null){if(x.flags|=128,R=!0,E=m.updateQueue,E!==null&&(x.updateQueue=E,x.flags|=4),uy(B,!0),B.tail===null&&B.tailMode==="hidden"&&!Q.alternate&&!Dr)return Es(x),null}else 2*He()-B.renderingStartTime>Dm&&E!==1073741824&&(x.flags|=128,R=!0,uy(B,!1),x.lanes=4194304);B.isBackwards?(Q.sibling=x.child,x.child=Q):(E=B.last,E!==null?E.sibling=Q:x.child=Q,B.last=Q)}return B.tail!==null?(x=B.tail,B.rendering=x,B.tail=x.sibling,B.renderingStartTime=He(),x.sibling=null,E=Fr.current,gr(Fr,R?E&1|2:E&1),x):(Es(x),null);case 22:case 23:return eC(),R=x.memoizedState!==null,m!==null&&m.memoizedState!==null!==R&&(x.flags|=8192),R&&(x.mode&1)!==0?(Ka&1073741824)!==0&&(Es(x),x.subtreeFlags&6&&(x.flags|=8192)):Es(x),null;case 24:return null;case 25:return null}throw Error(n(156,x.tag))}function Ofe(m,x){switch(cA(x),x.tag){case 1:return _a(x.type)&&l1(),m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 3:return Cm(),jr(wa),jr(Ss),_A(),m=x.flags,(m&65536)!==0&&(m&128)===0?(x.flags=m&-65537|128,x):null;case 5:return bA(x),null;case 13:if(jr(Fr),m=x.memoizedState,m!==null&&m.dehydrated!==null){if(x.alternate===null)throw Error(n(340));jm()}return m=x.flags,m&65536?(x.flags=m&-65537|128,x):null;case 19:return jr(Fr),null;case 4:return Cm(),null;case 10:return mA(x.type._context),null;case 22:case 23:return eC(),null;case 24:return null;default:return null}}var C1=!1,Ns=!1,Ife=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Tm(m,x){var E=m.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(R){Kr(m,x,R)}else E.current=null}function zA(m,x,E){try{E()}catch(R){Kr(m,x,R)}}var DB=!1;function kfe(m,x){if(eA=Xw,m=u6(),G2(m)){if("selectionStart"in m)var E={start:m.selectionStart,end:m.selectionEnd};else e:{E=(E=m.ownerDocument)&&E.defaultView||window;var R=E.getSelection&&E.getSelection();if(R&&R.rangeCount!==0){E=R.anchorNode;var k=R.anchorOffset,B=R.focusNode;R=R.focusOffset;try{E.nodeType,B.nodeType}catch{E=null;break e}var Q=0,we=-1,De=-1,nt=0,gt=0,xt=m,mt=null;t:for(;;){for(var It;xt!==E||k!==0&&xt.nodeType!==3||(we=Q+k),xt!==B||R!==0&&xt.nodeType!==3||(De=Q+R),xt.nodeType===3&&(Q+=xt.nodeValue.length),(It=xt.firstChild)!==null;)mt=xt,xt=It;for(;;){if(xt===m)break t;if(mt===E&&++nt===k&&(we=Q),mt===B&&++gt===R&&(De=Q),(It=xt.nextSibling)!==null)break;xt=mt,mt=xt.parentNode}xt=It}E=we===-1||De===-1?null:{start:we,end:De}}else E=null}E=E||{start:0,end:0}}else E=null;for(tA={focusedElem:m,selectionRange:E},Xw=!1,Ft=x;Ft!==null;)if(x=Ft,m=x.child,(x.subtreeFlags&1028)!==0&&m!==null)m.return=x,Ft=m;else for(;Ft!==null;){x=Ft;try{var zt=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(zt!==null){var Vt=zt.memoizedProps,ri=zt.memoizedState,Ye=x.stateNode,Le=Ye.getSnapshotBeforeUpdate(x.elementType===x.type?Vt:wl(x.type,Vt),ri);Ye.__reactInternalSnapshotBeforeUpdate=Le}break;case 3:var Ze=x.stateNode.containerInfo;Ze.nodeType===1?Ze.textContent="":Ze.nodeType===9&&Ze.documentElement&&Ze.removeChild(Ze.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Et){Kr(x,x.return,Et)}if(m=x.sibling,m!==null){m.return=x.return,Ft=m;break}Ft=x.return}return zt=DB,DB=!1,zt}function dy(m,x,E){var R=x.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var k=R=R.next;do{if((k.tag&m)===m){var B=k.destroy;k.destroy=void 0,B!==void 0&&zA(x,E,B)}k=k.next}while(k!==R)}}function M1(m,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var E=x=x.next;do{if((E.tag&m)===m){var R=E.create;E.destroy=R()}E=E.next}while(E!==x)}}function HA(m){var x=m.ref;if(x!==null){var E=m.stateNode;switch(m.tag){case 5:m=E;break;default:m=E}typeof x=="function"?x(m):x.current=m}}function RB(m){var x=m.alternate;x!==null&&(m.alternate=null,RB(x)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(x=m.stateNode,x!==null&&(delete x[hc],delete x[ey],delete x[sA],delete x[xfe],delete x[yfe])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function OB(m){return m.tag===5||m.tag===3||m.tag===4}function IB(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||OB(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function VA(m,x,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,x?E.nodeType===8?E.parentNode.insertBefore(m,x):E.insertBefore(m,x):(E.nodeType===8?(x=E.parentNode,x.insertBefore(m,E)):(x=E,x.appendChild(m)),E=E._reactRootContainer,E!=null||x.onclick!==null||(x.onclick=a1));else if(R!==4&&(m=m.child,m!==null))for(VA(m,x,E),m=m.sibling;m!==null;)VA(m,x,E),m=m.sibling}function qA(m,x,E){var R=m.tag;if(R===5||R===6)m=m.stateNode,x?E.insertBefore(m,x):E.appendChild(m);else if(R!==4&&(m=m.child,m!==null))for(qA(m,x,E),m=m.sibling;m!==null;)qA(m,x,E),m=m.sibling}var ds=null,_l=!1;function Rd(m,x,E){for(E=E.child;E!==null;)kB(m,x,E),E=E.sibling}function kB(m,x,E){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Xt,E)}catch{}switch(E.tag){case 5:Ns||Tm(E,x);case 6:var R=ds,k=_l;ds=null,Rd(m,x,E),ds=R,_l=k,ds!==null&&(_l?(m=ds,E=E.stateNode,m.nodeType===8?m.parentNode.removeChild(E):m.removeChild(E)):ds.removeChild(E.stateNode));break;case 18:ds!==null&&(_l?(m=ds,E=E.stateNode,m.nodeType===8?iA(m.parentNode,E):m.nodeType===1&&iA(m,E),Hx(m)):iA(ds,E.stateNode));break;case 4:R=ds,k=_l,ds=E.stateNode.containerInfo,_l=!0,Rd(m,x,E),ds=R,_l=k;break;case 0:case 11:case 14:case 15:if(!Ns&&(R=E.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){k=R=R.next;do{var B=k,Q=B.destroy;B=B.tag,Q!==void 0&&((B&2)!==0||(B&4)!==0)&&zA(E,x,Q),k=k.next}while(k!==R)}Rd(m,x,E);break;case 1:if(!Ns&&(Tm(E,x),R=E.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=E.memoizedProps,R.state=E.memoizedState,R.componentWillUnmount()}catch(we){Kr(E,x,we)}Rd(m,x,E);break;case 21:Rd(m,x,E);break;case 22:E.mode&1?(Ns=(R=Ns)||E.memoizedState!==null,Rd(m,x,E),Ns=R):Rd(m,x,E);break;default:Rd(m,x,E)}}function LB(m){var x=m.updateQueue;if(x!==null){m.updateQueue=null;var E=m.stateNode;E===null&&(E=m.stateNode=new Ife),x.forEach(function(R){var k=qfe.bind(null,m,R);E.has(R)||(E.add(R),R.then(k,k))})}}function Sl(m,x){var E=x.deletions;if(E!==null)for(var R=0;R<E.length;R++){var k=E[R];try{var B=m,Q=x,we=Q;e:for(;we!==null;){switch(we.tag){case 5:ds=we.stateNode,_l=!1;break e;case 3:ds=we.stateNode.containerInfo,_l=!0;break e;case 4:ds=we.stateNode.containerInfo,_l=!0;break e}we=we.return}if(ds===null)throw Error(n(160));kB(B,Q,k),ds=null,_l=!1;var De=k.alternate;De!==null&&(De.return=null),k.return=null}catch(nt){Kr(k,x,nt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)FB(x,m),x=x.sibling}function FB(m,x){var E=m.alternate,R=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Sl(x,m),gc(m),R&4){try{dy(3,m,m.return),M1(3,m)}catch(Vt){Kr(m,m.return,Vt)}try{dy(5,m,m.return)}catch(Vt){Kr(m,m.return,Vt)}}break;case 1:Sl(x,m),gc(m),R&512&&E!==null&&Tm(E,E.return);break;case 5:if(Sl(x,m),gc(m),R&512&&E!==null&&Tm(E,E.return),m.flags&32){var k=m.stateNode;try{Qe(k,"")}catch(Vt){Kr(m,m.return,Vt)}}if(R&4&&(k=m.stateNode,k!=null)){var B=m.memoizedProps,Q=E!==null?E.memoizedProps:B,we=m.type,De=m.updateQueue;if(m.updateQueue=null,De!==null)try{we==="input"&&B.type==="radio"&&B.name!=null&&Xe(k,B),ae(we,Q);var nt=ae(we,B);for(Q=0;Q<De.length;Q+=2){var gt=De[Q],xt=De[Q+1];gt==="style"?te(k,xt):gt==="dangerouslySetInnerHTML"?Ve(k,xt):gt==="children"?Qe(k,xt):_(k,gt,xt,nt)}switch(we){case"input":ue(k,B);break;case"textarea":fe(k,B);break;case"select":var mt=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!B.multiple;var It=B.value;It!=null?X(k,!!B.multiple,It,!1):mt!==!!B.multiple&&(B.defaultValue!=null?X(k,!!B.multiple,B.defaultValue,!0):X(k,!!B.multiple,B.multiple?[]:"",!1))}k[ey]=B}catch(Vt){Kr(m,m.return,Vt)}}break;case 6:if(Sl(x,m),gc(m),R&4){if(m.stateNode===null)throw Error(n(162));k=m.stateNode,B=m.memoizedProps;try{k.nodeValue=B}catch(Vt){Kr(m,m.return,Vt)}}break;case 3:if(Sl(x,m),gc(m),R&4&&E!==null&&E.memoizedState.isDehydrated)try{Hx(x.containerInfo)}catch(Vt){Kr(m,m.return,Vt)}break;case 4:Sl(x,m),gc(m);break;case 13:Sl(x,m),gc(m),k=m.child,k.flags&8192&&(B=k.memoizedState!==null,k.stateNode.isHidden=B,!B||k.alternate!==null&&k.alternate.memoizedState!==null||(XA=He())),R&4&&LB(m);break;case 22:if(gt=E!==null&&E.memoizedState!==null,m.mode&1?(Ns=(nt=Ns)||gt,Sl(x,m),Ns=nt):Sl(x,m),gc(m),R&8192){if(nt=m.memoizedState!==null,(m.stateNode.isHidden=nt)&&!gt&&(m.mode&1)!==0)for(Ft=m,gt=m.child;gt!==null;){for(xt=Ft=gt;Ft!==null;){switch(mt=Ft,It=mt.child,mt.tag){case 0:case 11:case 14:case 15:dy(4,mt,mt.return);break;case 1:Tm(mt,mt.return);var zt=mt.stateNode;if(typeof zt.componentWillUnmount=="function"){R=mt,E=mt.return;try{x=R,zt.props=x.memoizedProps,zt.state=x.memoizedState,zt.componentWillUnmount()}catch(Vt){Kr(R,E,Vt)}}break;case 5:Tm(mt,mt.return);break;case 22:if(mt.memoizedState!==null){$B(xt);continue}}It!==null?(It.return=mt,Ft=It):$B(xt)}gt=gt.sibling}e:for(gt=null,xt=m;;){if(xt.tag===5){if(gt===null){gt=xt;try{k=xt.stateNode,nt?(B=k.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(we=xt.stateNode,De=xt.memoizedProps.style,Q=De!=null&&De.hasOwnProperty("display")?De.display:null,we.style.display=Te("display",Q))}catch(Vt){Kr(m,m.return,Vt)}}}else if(xt.tag===6){if(gt===null)try{xt.stateNode.nodeValue=nt?"":xt.memoizedProps}catch(Vt){Kr(m,m.return,Vt)}}else if((xt.tag!==22&&xt.tag!==23||xt.memoizedState===null||xt===m)&&xt.child!==null){xt.child.return=xt,xt=xt.child;continue}if(xt===m)break e;for(;xt.sibling===null;){if(xt.return===null||xt.return===m)break e;gt===xt&&(gt=null),xt=xt.return}gt===xt&&(gt=null),xt.sibling.return=xt.return,xt=xt.sibling}}break;case 19:Sl(x,m),gc(m),R&4&&LB(m);break;case 21:break;default:Sl(x,m),gc(m)}}function gc(m){var x=m.flags;if(x&2){try{e:{for(var E=m.return;E!==null;){if(OB(E)){var R=E;break e}E=E.return}throw Error(n(160))}switch(R.tag){case 5:var k=R.stateNode;R.flags&32&&(Qe(k,""),R.flags&=-33);var B=IB(m);qA(m,B,k);break;case 3:case 4:var Q=R.stateNode.containerInfo,we=IB(m);VA(m,we,Q);break;default:throw Error(n(161))}}catch(De){Kr(m,m.return,De)}m.flags&=-3}x&4096&&(m.flags&=-4097)}function Lfe(m,x,E){Ft=m,UB(m)}function UB(m,x,E){for(var R=(m.mode&1)!==0;Ft!==null;){var k=Ft,B=k.child;if(k.tag===22&&R){var Q=k.memoizedState!==null||C1;if(!Q){var we=k.alternate,De=we!==null&&we.memoizedState!==null||Ns;we=C1;var nt=Ns;if(C1=Q,(Ns=De)&&!nt)for(Ft=k;Ft!==null;)Q=Ft,De=Q.child,Q.tag===22&&Q.memoizedState!==null?zB(k):De!==null?(De.return=Q,Ft=De):zB(k);for(;B!==null;)Ft=B,UB(B),B=B.sibling;Ft=k,C1=we,Ns=nt}BB(m)}else(k.subtreeFlags&8772)!==0&&B!==null?(B.return=k,Ft=B):BB(m)}}function BB(m){for(;Ft!==null;){var x=Ft;if((x.flags&8772)!==0){var E=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:Ns||M1(5,x);break;case 1:var R=x.stateNode;if(x.flags&4&&!Ns)if(E===null)R.componentDidMount();else{var k=x.elementType===x.type?E.memoizedProps:wl(x.type,E.memoizedProps);R.componentDidUpdate(k,E.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var B=x.updateQueue;B!==null&&$6(x,B,R);break;case 3:var Q=x.updateQueue;if(Q!==null){if(E=null,x.child!==null)switch(x.child.tag){case 5:E=x.child.stateNode;break;case 1:E=x.child.stateNode}$6(x,Q,E)}break;case 5:var we=x.stateNode;if(E===null&&x.flags&4){E=we;var De=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":De.autoFocus&&E.focus();break;case"img":De.src&&(E.src=De.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var nt=x.alternate;if(nt!==null){var gt=nt.memoizedState;if(gt!==null){var xt=gt.dehydrated;xt!==null&&Hx(xt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ns||x.flags&512&&HA(x)}catch(mt){Kr(x,x.return,mt)}}if(x===m){Ft=null;break}if(E=x.sibling,E!==null){E.return=x.return,Ft=E;break}Ft=x.return}}function $B(m){for(;Ft!==null;){var x=Ft;if(x===m){Ft=null;break}var E=x.sibling;if(E!==null){E.return=x.return,Ft=E;break}Ft=x.return}}function zB(m){for(;Ft!==null;){var x=Ft;try{switch(x.tag){case 0:case 11:case 15:var E=x.return;try{M1(4,x)}catch(De){Kr(x,E,De)}break;case 1:var R=x.stateNode;if(typeof R.componentDidMount=="function"){var k=x.return;try{R.componentDidMount()}catch(De){Kr(x,k,De)}}var B=x.return;try{HA(x)}catch(De){Kr(x,B,De)}break;case 5:var Q=x.return;try{HA(x)}catch(De){Kr(x,Q,De)}}}catch(De){Kr(x,x.return,De)}if(x===m){Ft=null;break}var we=x.sibling;if(we!==null){we.return=x.return,Ft=we;break}Ft=x.return}}var Ffe=Math.ceil,T1=S.ReactCurrentDispatcher,GA=S.ReactCurrentOwner,Po=S.ReactCurrentBatchConfig,Hn=0,Xi=null,hi=null,fs=0,Ka=0,Pm=Cd(0),Ci=0,fy=null,wh=0,P1=0,WA=0,hy=null,ja=null,XA=0,Dm=1/0,bu=null,D1=!1,YA=null,Od=null,R1=!1,Id=null,O1=0,py=0,KA=null,I1=-1,k1=0;function Ys(){return(Hn&6)!==0?He():I1!==-1?I1:I1=He()}function kd(m){return(m.mode&1)===0?1:(Hn&2)!==0&&fs!==0?fs&-fs:wfe.transition!==null?(k1===0&&(k1=dr()),k1):(m=zn,m!==0||(m=window.event,m=m===void 0?16:VU(m.type)),m)}function jl(m,x,E,R){if(50<py)throw py=0,KA=null,Error(n(185));qi(m,E,R),((Hn&2)===0||m!==Xi)&&(m===Xi&&((Hn&2)===0&&(P1|=E),Ci===4&&Ld(m,fs)),Ea(m,R),E===1&&Hn===0&&(x.mode&1)===0&&(Dm=He()+500,u1&&Td()))}function Ea(m,x){var E=m.callbackNode;Ws(m,x);var R=ws(m,m===Xi?fs:0);if(R===0)E!==null&&se(E),m.callbackNode=null,m.callbackPriority=0;else if(x=R&-R,m.callbackPriority!==x){if(E!=null&&se(E),x===1)m.tag===0?bfe(VB.bind(null,m)):M6(VB.bind(null,m)),gfe(function(){(Hn&6)===0&&Td()}),E=null;else{switch(fc(R)){case 1:E=pt;break;case 4:E=Tt;break;case 16:E=Rt;break;case 536870912:E=Gt;break;default:E=Rt}E=ZB(E,HB.bind(null,m))}m.callbackPriority=x,m.callbackNode=E}}function HB(m,x){if(I1=-1,k1=0,(Hn&6)!==0)throw Error(n(327));var E=m.callbackNode;if(Rm()&&m.callbackNode!==E)return null;var R=ws(m,m===Xi?fs:0);if(R===0)return null;if((R&30)!==0||(R&m.expiredLanes)!==0||x)x=L1(m,R);else{x=R;var k=Hn;Hn|=2;var B=GB();(Xi!==m||fs!==x)&&(bu=null,Dm=He()+500,Sh(m,x));do try{$fe();break}catch(we){qB(m,we)}while(!0);pA(),T1.current=B,Hn=k,hi!==null?x=0:(Xi=null,fs=0,x=Ci)}if(x!==0){if(x===2&&(k=fu(m),k!==0&&(R=k,x=QA(m,k))),x===1)throw E=fy,Sh(m,0),Ld(m,R),Ea(m,He()),E;if(x===6)Ld(m,R);else{if(k=m.current.alternate,(R&30)===0&&!Ufe(k)&&(x=L1(m,R),x===2&&(B=fu(m),B!==0&&(R=B,x=QA(m,B))),x===1))throw E=fy,Sh(m,0),Ld(m,R),Ea(m,He()),E;switch(m.finishedWork=k,m.finishedLanes=R,x){case 0:case 1:throw Error(n(345));case 2:jh(m,ja,bu);break;case 3:if(Ld(m,R),(R&130023424)===R&&(x=XA+500-He(),10<x)){if(ws(m,0)!==0)break;if(k=m.suspendedLanes,(k&R)!==R){Ys(),m.pingedLanes|=m.suspendedLanes&k;break}m.timeoutHandle=rA(jh.bind(null,m,ja,bu),x);break}jh(m,ja,bu);break;case 4:if(Ld(m,R),(R&4194240)===R)break;for(x=m.eventTimes,k=-1;0<R;){var Q=31-pn(R);B=1<<Q,Q=x[Q],Q>k&&(k=Q),R&=~B}if(R=k,R=He()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*Ffe(R/1960))-R,10<R){m.timeoutHandle=rA(jh.bind(null,m,ja,bu),R);break}jh(m,ja,bu);break;case 5:jh(m,ja,bu);break;default:throw Error(n(329))}}}return Ea(m,He()),m.callbackNode===E?HB.bind(null,m):null}function QA(m,x){var E=hy;return m.current.memoizedState.isDehydrated&&(Sh(m,x).flags|=256),m=L1(m,x),m!==2&&(x=ja,ja=E,x!==null&&ZA(x)),m}function ZA(m){ja===null?ja=m:ja.push.apply(ja,m)}function Ufe(m){for(var x=m;;){if(x.flags&16384){var E=x.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var R=0;R<E.length;R++){var k=E[R],B=k.getSnapshot;k=k.value;try{if(!yl(B(),k))return!1}catch{return!1}}}if(E=x.child,x.subtreeFlags&16384&&E!==null)E.return=x,x=E;else{if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Ld(m,x){for(x&=~WA,x&=~P1,m.suspendedLanes|=x,m.pingedLanes&=~x,m=m.expirationTimes;0<x;){var E=31-pn(x),R=1<<E;m[E]=-1,x&=~R}}function VB(m){if((Hn&6)!==0)throw Error(n(327));Rm();var x=ws(m,0);if((x&1)===0)return Ea(m,He()),null;var E=L1(m,x);if(m.tag!==0&&E===2){var R=fu(m);R!==0&&(x=R,E=QA(m,R))}if(E===1)throw E=fy,Sh(m,0),Ld(m,x),Ea(m,He()),E;if(E===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=x,jh(m,ja,bu),Ea(m,He()),null}function JA(m,x){var E=Hn;Hn|=1;try{return m(x)}finally{Hn=E,Hn===0&&(Dm=He()+500,u1&&Td())}}function _h(m){Id!==null&&Id.tag===0&&(Hn&6)===0&&Rm();var x=Hn;Hn|=1;var E=Po.transition,R=zn;try{if(Po.transition=null,zn=1,m)return m()}finally{zn=R,Po.transition=E,Hn=x,(Hn&6)===0&&Td()}}function eC(){Ka=Pm.current,jr(Pm)}function Sh(m,x){m.finishedWork=null,m.finishedLanes=0;var E=m.timeoutHandle;if(E!==-1&&(m.timeoutHandle=-1,mfe(E)),hi!==null)for(E=hi.return;E!==null;){var R=E;switch(cA(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&l1();break;case 3:Cm(),jr(wa),jr(Ss),_A();break;case 5:bA(R);break;case 4:Cm();break;case 13:jr(Fr);break;case 19:jr(Fr);break;case 10:mA(R.type._context);break;case 22:case 23:eC()}E=E.return}if(Xi=m,hi=m=Fd(m.current,null),fs=Ka=x,Ci=0,fy=null,WA=P1=wh=0,ja=hy=null,xh!==null){for(x=0;x<xh.length;x++)if(E=xh[x],R=E.interleaved,R!==null){E.interleaved=null;var k=R.next,B=E.pending;if(B!==null){var Q=B.next;B.next=k,R.next=Q}E.pending=R}xh=null}return m}function qB(m,x){do{var E=hi;try{if(pA(),b1.current=j1,w1){for(var R=Ur.memoizedState;R!==null;){var k=R.queue;k!==null&&(k.pending=null),R=R.next}w1=!1}if(bh=0,Wi=Ai=Ur=null,ay=!1,oy=0,GA.current=null,E===null||E.return===null){Ci=1,fy=x,hi=null;break}e:{var B=m,Q=E.return,we=E,De=x;if(x=fs,we.flags|=32768,De!==null&&typeof De=="object"&&typeof De.then=="function"){var nt=De,gt=we,xt=gt.tag;if((gt.mode&1)===0&&(xt===0||xt===11||xt===15)){var mt=gt.alternate;mt?(gt.updateQueue=mt.updateQueue,gt.memoizedState=mt.memoizedState,gt.lanes=mt.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var It=gB(Q);if(It!==null){It.flags&=-257,vB(It,Q,we,B,x),It.mode&1&&mB(B,nt,x),x=It,De=nt;var zt=x.updateQueue;if(zt===null){var Vt=new Set;Vt.add(De),x.updateQueue=Vt}else zt.add(De);break e}else{if((x&1)===0){mB(B,nt,x),tC();break e}De=Error(n(426))}}else if(Dr&&we.mode&1){var ri=gB(Q);if(ri!==null){(ri.flags&65536)===0&&(ri.flags|=256),vB(ri,Q,we,B,x),fA(Mm(De,we));break e}}B=De=Mm(De,we),Ci!==4&&(Ci=2),hy===null?hy=[B]:hy.push(B),B=Q;do{switch(B.tag){case 3:B.flags|=65536,x&=-x,B.lanes|=x;var Ye=hB(B,De,x);B6(B,Ye);break e;case 1:we=De;var Le=B.type,Ze=B.stateNode;if((B.flags&128)===0&&(typeof Le.getDerivedStateFromError=="function"||Ze!==null&&typeof Ze.componentDidCatch=="function"&&(Od===null||!Od.has(Ze)))){B.flags|=65536,x&=-x,B.lanes|=x;var Et=pB(B,we,x);B6(B,Et);break e}}B=B.return}while(B!==null)}XB(E)}catch(qt){x=qt,hi===E&&E!==null&&(hi=E=E.return);continue}break}while(!0)}function GB(){var m=T1.current;return T1.current=j1,m===null?j1:m}function tC(){(Ci===0||Ci===3||Ci===2)&&(Ci=4),Xi===null||(wh&268435455)===0&&(P1&268435455)===0||Ld(Xi,fs)}function L1(m,x){var E=Hn;Hn|=2;var R=GB();(Xi!==m||fs!==x)&&(bu=null,Sh(m,x));do try{Bfe();break}catch(k){qB(m,k)}while(!0);if(pA(),Hn=E,T1.current=R,hi!==null)throw Error(n(261));return Xi=null,fs=0,Ci}function Bfe(){for(;hi!==null;)WB(hi)}function $fe(){for(;hi!==null&&!$e();)WB(hi)}function WB(m){var x=QB(m.alternate,m,Ka);m.memoizedProps=m.pendingProps,x===null?XB(m):hi=x,GA.current=null}function XB(m){var x=m;do{var E=x.alternate;if(m=x.return,(x.flags&32768)===0){if(E=Rfe(E,x,Ka),E!==null){hi=E;return}}else{if(E=Ofe(E,x),E!==null){E.flags&=32767,hi=E;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Ci=6,hi=null;return}}if(x=x.sibling,x!==null){hi=x;return}hi=x=m}while(x!==null);Ci===0&&(Ci=5)}function jh(m,x,E){var R=zn,k=Po.transition;try{Po.transition=null,zn=1,zfe(m,x,E,R)}finally{Po.transition=k,zn=R}return null}function zfe(m,x,E,R){do Rm();while(Id!==null);if((Hn&6)!==0)throw Error(n(327));E=m.finishedWork;var k=m.finishedLanes;if(E===null)return null;if(m.finishedWork=null,m.finishedLanes=0,E===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var B=E.lanes|E.childLanes;if(us(m,B),m===Xi&&(hi=Xi=null,fs=0),(E.subtreeFlags&2064)===0&&(E.flags&2064)===0||R1||(R1=!0,ZB(Rt,function(){return Rm(),null})),B=(E.flags&15990)!==0,(E.subtreeFlags&15990)!==0||B){B=Po.transition,Po.transition=null;var Q=zn;zn=1;var we=Hn;Hn|=4,GA.current=null,kfe(m,E),FB(E,m),lfe(tA),Xw=!!eA,tA=eA=null,m.current=E,Lfe(E),et(),Hn=we,zn=Q,Po.transition=B}else m.current=E;if(R1&&(R1=!1,Id=m,O1=k),B=m.pendingLanes,B===0&&(Od=null),fn(E.stateNode),Ea(m,He()),x!==null)for(R=m.onRecoverableError,E=0;E<x.length;E++)k=x[E],R(k.value,{componentStack:k.stack,digest:k.digest});if(D1)throw D1=!1,m=YA,YA=null,m;return(O1&1)!==0&&m.tag!==0&&Rm(),B=m.pendingLanes,(B&1)!==0?m===KA?py++:(py=0,KA=m):py=0,Td(),null}function Rm(){if(Id!==null){var m=fc(O1),x=Po.transition,E=zn;try{if(Po.transition=null,zn=16>m?16:m,Id===null)var R=!1;else{if(m=Id,Id=null,O1=0,(Hn&6)!==0)throw Error(n(331));var k=Hn;for(Hn|=4,Ft=m.current;Ft!==null;){var B=Ft,Q=B.child;if((Ft.flags&16)!==0){var we=B.deletions;if(we!==null){for(var De=0;De<we.length;De++){var nt=we[De];for(Ft=nt;Ft!==null;){var gt=Ft;switch(gt.tag){case 0:case 11:case 15:dy(8,gt,B)}var xt=gt.child;if(xt!==null)xt.return=gt,Ft=xt;else for(;Ft!==null;){gt=Ft;var mt=gt.sibling,It=gt.return;if(RB(gt),gt===nt){Ft=null;break}if(mt!==null){mt.return=It,Ft=mt;break}Ft=It}}}var zt=B.alternate;if(zt!==null){var Vt=zt.child;if(Vt!==null){zt.child=null;do{var ri=Vt.sibling;Vt.sibling=null,Vt=ri}while(Vt!==null)}}Ft=B}}if((B.subtreeFlags&2064)!==0&&Q!==null)Q.return=B,Ft=Q;else e:for(;Ft!==null;){if(B=Ft,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:dy(9,B,B.return)}var Ye=B.sibling;if(Ye!==null){Ye.return=B.return,Ft=Ye;break e}Ft=B.return}}var Le=m.current;for(Ft=Le;Ft!==null;){Q=Ft;var Ze=Q.child;if((Q.subtreeFlags&2064)!==0&&Ze!==null)Ze.return=Q,Ft=Ze;else e:for(Q=Le;Ft!==null;){if(we=Ft,(we.flags&2048)!==0)try{switch(we.tag){case 0:case 11:case 15:M1(9,we)}}catch(qt){Kr(we,we.return,qt)}if(we===Q){Ft=null;break e}var Et=we.sibling;if(Et!==null){Et.return=we.return,Ft=Et;break e}Ft=we.return}}if(Hn=k,Td(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Xt,m)}catch{}R=!0}return R}finally{zn=E,Po.transition=x}}return!1}function YB(m,x,E){x=Mm(E,x),x=hB(m,x,1),m=Dd(m,x,1),x=Ys(),m!==null&&(qi(m,1,x),Ea(m,x))}function Kr(m,x,E){if(m.tag===3)YB(m,m,E);else for(;x!==null;){if(x.tag===3){YB(x,m,E);break}else if(x.tag===1){var R=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Od===null||!Od.has(R))){m=Mm(E,m),m=pB(x,m,1),x=Dd(x,m,1),m=Ys(),x!==null&&(qi(x,1,m),Ea(x,m));break}}x=x.return}}function Hfe(m,x,E){var R=m.pingCache;R!==null&&R.delete(x),x=Ys(),m.pingedLanes|=m.suspendedLanes&E,Xi===m&&(fs&E)===E&&(Ci===4||Ci===3&&(fs&130023424)===fs&&500>He()-XA?Sh(m,0):WA|=E),Ea(m,x)}function KB(m,x){x===0&&((m.mode&1)===0?x=1:(x=Yr,Yr<<=1,(Yr&130023424)===0&&(Yr=4194304)));var E=Ys();m=vu(m,x),m!==null&&(qi(m,x,E),Ea(m,E))}function Vfe(m){var x=m.memoizedState,E=0;x!==null&&(E=x.retryLane),KB(m,E)}function qfe(m,x){var E=0;switch(m.tag){case 13:var R=m.stateNode,k=m.memoizedState;k!==null&&(E=k.retryLane);break;case 19:R=m.stateNode;break;default:throw Error(n(314))}R!==null&&R.delete(x),KB(m,E)}var QB;QB=function(m,x,E){if(m!==null)if(m.memoizedProps!==x.pendingProps||wa.current)Sa=!0;else{if((m.lanes&E)===0&&(x.flags&128)===0)return Sa=!1,Dfe(m,x,E);Sa=(m.flags&131072)!==0}else Sa=!1,Dr&&(x.flags&1048576)!==0&&T6(x,f1,x.index);switch(x.lanes=0,x.tag){case 2:var R=x.type;A1(m,x),m=x.pendingProps;var k=wm(x,Ss.current);Am(x,E),k=EA(null,x,R,m,k,E);var B=NA();return x.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,_a(R)?(B=!0,c1(x)):B=!1,x.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,xA(x),k.updater=E1,x.stateNode=k,k._reactInternals=x,DA(x,R,m,E),x=kA(null,x,R,!0,B,E)):(x.tag=0,Dr&&B&&lA(x),Xs(null,x,k,E),x=x.child),x;case 16:R=x.elementType;e:{switch(A1(m,x),m=x.pendingProps,k=R._init,R=k(R._payload),x.type=R,k=x.tag=Wfe(R),m=wl(R,m),k){case 0:x=IA(null,x,R,m,E);break e;case 1:x=SB(null,x,R,m,E);break e;case 11:x=xB(null,x,R,m,E);break e;case 14:x=yB(null,x,R,wl(R.type,m),E);break e}throw Error(n(306,R,""))}return x;case 0:return R=x.type,k=x.pendingProps,k=x.elementType===R?k:wl(R,k),IA(m,x,R,k,E);case 1:return R=x.type,k=x.pendingProps,k=x.elementType===R?k:wl(R,k),SB(m,x,R,k,E);case 3:e:{if(jB(x),m===null)throw Error(n(387));R=x.pendingProps,B=x.memoizedState,k=B.element,U6(m,x),x1(x,R,null,E);var Q=x.memoizedState;if(R=Q.element,B.isDehydrated)if(B={element:R,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},x.updateQueue.baseState=B,x.memoizedState=B,x.flags&256){k=Mm(Error(n(423)),x),x=EB(m,x,R,E,k);break e}else if(R!==k){k=Mm(Error(n(424)),x),x=EB(m,x,R,E,k);break e}else for(Ya=Ad(x.stateNode.containerInfo.firstChild),Xa=x,Dr=!0,bl=null,E=L6(x,null,R,E),x.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(jm(),R===k){x=yu(m,x,E);break e}Xs(m,x,R,E)}x=x.child}return x;case 5:return z6(x),m===null&&dA(x),R=x.type,k=x.pendingProps,B=m!==null?m.memoizedProps:null,Q=k.children,nA(R,k)?Q=null:B!==null&&nA(R,B)&&(x.flags|=32),_B(m,x),Xs(m,x,Q,E),x.child;case 6:return m===null&&dA(x),null;case 13:return NB(m,x,E);case 4:return yA(x,x.stateNode.containerInfo),R=x.pendingProps,m===null?x.child=Em(x,null,R,E):Xs(m,x,R,E),x.child;case 11:return R=x.type,k=x.pendingProps,k=x.elementType===R?k:wl(R,k),xB(m,x,R,k,E);case 7:return Xs(m,x,x.pendingProps,E),x.child;case 8:return Xs(m,x,x.pendingProps.children,E),x.child;case 12:return Xs(m,x,x.pendingProps.children,E),x.child;case 10:e:{if(R=x.type._context,k=x.pendingProps,B=x.memoizedProps,Q=k.value,gr(m1,R._currentValue),R._currentValue=Q,B!==null)if(yl(B.value,Q)){if(B.children===k.children&&!wa.current){x=yu(m,x,E);break e}}else for(B=x.child,B!==null&&(B.return=x);B!==null;){var we=B.dependencies;if(we!==null){Q=B.child;for(var De=we.firstContext;De!==null;){if(De.context===R){if(B.tag===1){De=xu(-1,E&-E),De.tag=2;var nt=B.updateQueue;if(nt!==null){nt=nt.shared;var gt=nt.pending;gt===null?De.next=De:(De.next=gt.next,gt.next=De),nt.pending=De}}B.lanes|=E,De=B.alternate,De!==null&&(De.lanes|=E),gA(B.return,E,x),we.lanes|=E;break}De=De.next}}else if(B.tag===10)Q=B.type===x.type?null:B.child;else if(B.tag===18){if(Q=B.return,Q===null)throw Error(n(341));Q.lanes|=E,we=Q.alternate,we!==null&&(we.lanes|=E),gA(Q,E,x),Q=B.sibling}else Q=B.child;if(Q!==null)Q.return=B;else for(Q=B;Q!==null;){if(Q===x){Q=null;break}if(B=Q.sibling,B!==null){B.return=Q.return,Q=B;break}Q=Q.return}B=Q}Xs(m,x,k.children,E),x=x.child}return x;case 9:return k=x.type,R=x.pendingProps.children,Am(x,E),k=Mo(k),R=R(k),x.flags|=1,Xs(m,x,R,E),x.child;case 14:return R=x.type,k=wl(R,x.pendingProps),k=wl(R.type,k),yB(m,x,R,k,E);case 15:return bB(m,x,x.type,x.pendingProps,E);case 17:return R=x.type,k=x.pendingProps,k=x.elementType===R?k:wl(R,k),A1(m,x),x.tag=1,_a(R)?(m=!0,c1(x)):m=!1,Am(x,E),dB(x,R,k),DA(x,R,k,E),kA(null,x,R,!0,m,E);case 19:return CB(m,x,E);case 22:return wB(m,x,E)}throw Error(n(156,x.tag))};function ZB(m,x){return Wr(m,x)}function Gfe(m,x,E,R){this.tag=m,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(m,x,E,R){return new Gfe(m,x,E,R)}function nC(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Wfe(m){if(typeof m=="function")return nC(m)?1:0;if(m!=null){if(m=m.$$typeof,m===O)return 11;if(m===z)return 14}return 2}function Fd(m,x){var E=m.alternate;return E===null?(E=Do(m.tag,x,m.key,m.mode),E.elementType=m.elementType,E.type=m.type,E.stateNode=m.stateNode,E.alternate=m,m.alternate=E):(E.pendingProps=x,E.type=m.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=m.flags&14680064,E.childLanes=m.childLanes,E.lanes=m.lanes,E.child=m.child,E.memoizedProps=m.memoizedProps,E.memoizedState=m.memoizedState,E.updateQueue=m.updateQueue,x=m.dependencies,E.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},E.sibling=m.sibling,E.index=m.index,E.ref=m.ref,E}function F1(m,x,E,R,k,B){var Q=2;if(R=m,typeof m=="function")nC(m)&&(Q=1);else if(typeof m=="string")Q=5;else e:switch(m){case C:return Eh(E.children,k,B,x);case N:Q=8,k|=8;break;case T:return m=Do(12,E,x,k|2),m.elementType=T,m.lanes=B,m;case I:return m=Do(13,E,x,k),m.elementType=I,m.lanes=B,m;case L:return m=Do(19,E,x,k),m.elementType=L,m.lanes=B,m;case V:return U1(E,k,B,x);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case P:Q=10;break e;case D:Q=9;break e;case O:Q=11;break e;case z:Q=14;break e;case q:Q=16,R=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return x=Do(Q,E,x,k),x.elementType=m,x.type=R,x.lanes=B,x}function Eh(m,x,E,R){return m=Do(7,m,R,x),m.lanes=E,m}function U1(m,x,E,R){return m=Do(22,m,R,x),m.elementType=V,m.lanes=E,m.stateNode={isHidden:!1},m}function rC(m,x,E){return m=Do(6,m,null,x),m.lanes=E,m}function iC(m,x,E){return x=Do(4,m.children!==null?m.children:[],m.key,x),x.lanes=E,x.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},x}function Xfe(m,x,E,R,k){this.tag=x,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=R,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function sC(m,x,E,R,k,B,Q,we,De){return m=new Xfe(m,x,E,we,De),x===1?(x=1,B===!0&&(x|=8)):x=0,B=Do(3,null,null,x),m.current=B,B.stateNode=m,B.memoizedState={element:R,isDehydrated:E,cache:null,transitions:null,pendingSuspenseBoundaries:null},xA(B),m}function Yfe(m,x,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:R==null?null:""+R,children:m,containerInfo:x,implementation:E}}function JB(m){if(!m)return Md;m=m._reactInternals;e:{if(En(m)!==m||m.tag!==1)throw Error(n(170));var x=m;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(_a(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(n(171))}if(m.tag===1){var E=m.type;if(_a(E))return A6(m,E,x)}return x}function e$(m,x,E,R,k,B,Q,we,De){return m=sC(E,R,!0,m,k,B,Q,we,De),m.context=JB(null),E=m.current,R=Ys(),k=kd(E),B=xu(R,k),B.callback=x??null,Dd(E,B,k),m.current.lanes=k,qi(m,k,R),Ea(m,R),m}function B1(m,x,E,R){var k=x.current,B=Ys(),Q=kd(k);return E=JB(E),x.context===null?x.context=E:x.pendingContext=E,x=xu(B,Q),x.payload={element:m},R=R===void 0?null:R,R!==null&&(x.callback=R),m=Dd(k,x,Q),m!==null&&(jl(m,k,Q,B),v1(m,k,Q)),Q}function $1(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function t$(m,x){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var E=m.retryLane;m.retryLane=E!==0&&E<x?E:x}}function aC(m,x){t$(m,x),(m=m.alternate)&&t$(m,x)}function Kfe(){return null}var n$=typeof reportError=="function"?reportError:function(m){console.error(m)};function oC(m){this._internalRoot=m}z1.prototype.render=oC.prototype.render=function(m){var x=this._internalRoot;if(x===null)throw Error(n(409));B1(m,x,null,null)},z1.prototype.unmount=oC.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var x=m.containerInfo;_h(function(){B1(null,m,null,null)}),x[hu]=null}};function z1(m){this._internalRoot=m}z1.prototype.unstable_scheduleHydration=function(m){if(m){var x=UU();m={blockedOn:null,target:m,priority:x};for(var E=0;E<jd.length&&x!==0&&x<jd[E].priority;E++);jd.splice(E,0,m),E===0&&zU(m)}};function lC(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function H1(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function r$(){}function Qfe(m,x,E,R,k){if(k){if(typeof R=="function"){var B=R;R=function(){var nt=$1(Q);B.call(nt)}}var Q=e$(x,R,m,0,null,!1,!1,"",r$);return m._reactRootContainer=Q,m[hu]=Q.current,Zx(m.nodeType===8?m.parentNode:m),_h(),Q}for(;k=m.lastChild;)m.removeChild(k);if(typeof R=="function"){var we=R;R=function(){var nt=$1(De);we.call(nt)}}var De=sC(m,0,!1,null,null,!1,!1,"",r$);return m._reactRootContainer=De,m[hu]=De.current,Zx(m.nodeType===8?m.parentNode:m),_h(function(){B1(x,De,E,R)}),De}function V1(m,x,E,R,k){var B=E._reactRootContainer;if(B){var Q=B;if(typeof k=="function"){var we=k;k=function(){var De=$1(Q);we.call(De)}}B1(x,Q,m,k)}else Q=Qfe(E,x,m,k,R);return $1(Q)}LU=function(m){switch(m.tag){case 3:var x=m.stateNode;if(x.current.memoizedState.isDehydrated){var E=On(x.pendingLanes);E!==0&&(Gi(x,E|1),Ea(x,He()),(Hn&6)===0&&(Dm=He()+500,Td()))}break;case 13:_h(function(){var R=vu(m,1);if(R!==null){var k=Ys();jl(R,m,1,k)}}),aC(m,1)}},R2=function(m){if(m.tag===13){var x=vu(m,134217728);if(x!==null){var E=Ys();jl(x,m,134217728,E)}aC(m,134217728)}},FU=function(m){if(m.tag===13){var x=kd(m),E=vu(m,x);if(E!==null){var R=Ys();jl(E,m,x,R)}aC(m,x)}},UU=function(){return zn},BU=function(m,x){var E=zn;try{return zn=m,x()}finally{zn=E}},Me=function(m,x,E){switch(x){case"input":if(ue(m,E),x=E.name,E.type==="radio"&&x!=null){for(E=m;E.parentNode;)E=E.parentNode;for(E=E.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<E.length;x++){var R=E[x];if(R!==m&&R.form===m.form){var k=o1(R);if(!k)throw Error(n(90));Pe(R),ue(R,k)}}}break;case"textarea":fe(m,E);break;case"select":x=E.value,x!=null&&X(m,!!E.multiple,x,!1)}},lt=JA,yt=_h;var Zfe={usingClientEntryPoint:!1,Events:[ty,ym,o1,Je,Ke,JA]},my={findFiberByHostInstance:ph,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jfe={bundleType:my.bundleType,version:my.version,rendererPackageName:my.rendererPackageName,rendererConfig:my.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Gs(m),m===null?null:m.stateNode},findFiberByHostInstance:my.findFiberByHostInstance||Kfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var q1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!q1.isDisabled&&q1.supportsFiber)try{Xt=q1.inject(Jfe),kt=q1}catch{}}return Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zfe,Na.createPortal=function(m,x){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lC(x))throw Error(n(200));return Yfe(m,x,null,E)},Na.createRoot=function(m,x){if(!lC(m))throw Error(n(299));var E=!1,R="",k=n$;return x!=null&&(x.unstable_strictMode===!0&&(E=!0),x.identifierPrefix!==void 0&&(R=x.identifierPrefix),x.onRecoverableError!==void 0&&(k=x.onRecoverableError)),x=sC(m,1,!1,null,null,E,!1,R,k),m[hu]=x.current,Zx(m.nodeType===8?m.parentNode:m),new oC(x)},Na.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var x=m._reactInternals;if(x===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Gs(x),m=m===null?null:m.stateNode,m},Na.flushSync=function(m){return _h(m)},Na.hydrate=function(m,x,E){if(!H1(x))throw Error(n(200));return V1(null,m,x,!0,E)},Na.hydrateRoot=function(m,x,E){if(!lC(m))throw Error(n(405));var R=E!=null&&E.hydratedSources||null,k=!1,B="",Q=n$;if(E!=null&&(E.unstable_strictMode===!0&&(k=!0),E.identifierPrefix!==void 0&&(B=E.identifierPrefix),E.onRecoverableError!==void 0&&(Q=E.onRecoverableError)),x=e$(x,null,m,1,E??null,k,!1,B,Q),m[hu]=x.current,Zx(m),R)for(m=0;m<R.length;m++)E=R[m],k=E._getVersion,k=k(E._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[E,k]:x.mutableSourceEagerHydrationData.push(E,k);return new z1(x)},Na.render=function(m,x,E){if(!H1(x))throw Error(n(200));return V1(null,m,x,!1,E)},Na.unmountComponentAtNode=function(m){if(!H1(m))throw Error(n(40));return m._reactRootContainer?(_h(function(){V1(null,null,m,!1,function(){m._reactRootContainer=null,m[hu]=null})}),!0):!1},Na.unstable_batchedUpdates=JA,Na.unstable_renderSubtreeIntoContainer=function(m,x,E,R){if(!H1(E))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return V1(m,x,E,!1,R)},Na.version="18.3.1-next-f1338f8080-20240426",Na}var d$;function yQ(){if(d$)return dC.exports;d$=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dC.exports=ohe(),dC.exports}var f$;function lhe(){if(f$)return W1;f$=1;var t=yQ();return W1.createRoot=t.createRoot,W1.hydrateRoot=t.hydrateRoot,W1}var che=lhe(),M=ax();const ee=In(M),UL=the({__proto__:null,default:ee},[M]);var uhe=(t,e,n,r,i,a,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(p){(Array.isArray(t)?t:[t]).forEach(y=>{let g=y==="class",v=g&&a?i.map(b=>a[b]||b):i;g?(c.classList.remove(...v),c.classList.add(a&&a[p]?a[p]:p)):c.setAttribute(y,p)}),f(p)}function f(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let p=localStorage.getItem(e)||n,y=o&&p==="system"?h():p;d(y)}catch{}},dhe=M.createContext(void 0),fhe={setTheme:t=>{},themes:[]},hhe=()=>{var t;return(t=M.useContext(dhe))!=null?t:fhe};M.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,e,a,t,l,o,r,i]).slice(1,-1);return M.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${uhe.toString()})(${d})`}})});var ow=yQ();const bQ=In(ow);var phe=t=>{switch(t){case"success":return vhe;case"info":return yhe;case"warning":return xhe;case"error":return bhe;default:return null}},mhe=Array(12).fill(0),ghe=({visible:t,className:e})=>ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ee.createElement("div",{className:"sonner-spinner"},mhe.map((n,r)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vhe=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),xhe=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yhe=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bhe=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),whe=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_he=()=>{let[t,e]=ee.useState(document.hidden);return ee.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},XO=1,She=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:XO++,a=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,a,o=r.then(async c=>{if(a=["resolve",c],ee.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Ehe(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=e?.id||XO++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Aa=new She,jhe=(t,e)=>{let n=e?.id||XO++;return Aa.addToast({title:t,...e,id:n}),n},Ehe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Nhe=jhe,Ahe=()=>Aa.toasts,Che=()=>Aa.getActiveToasts(),Rg=Object.assign(Nhe,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:Ahe,getToasts:Che});function Mhe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Mhe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function X1(t){return t.label!==void 0}var The=3,Phe="32px",Dhe="16px",h$=4e3,Rhe=356,Ohe=14,Ihe=20,khe=200;function El(...t){return t.filter(Boolean).join(" ")}function Lhe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Fhe=t=>{var e,n,r,i,a,o,l,c,u,d,f;let{invert:h,toast:p,unstyled:y,interacting:g,setHeights:v,visibleToasts:b,heights:w,index:_,toasts:S,expanded:j,removeToast:A,defaultRichColors:C,closeButton:N,style:T,cancelButtonStyle:P,actionButtonStyle:D,className:O="",descriptionClassName:I="",duration:L,position:z,gap:q,loadingIcon:V,expandByDefault:F,classNames:U,icons:H,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:W}=t,[le,ie]=ee.useState(null),[re,_e]=ee.useState(null),[pe,Ne]=ee.useState(!1),[je,Oe]=ee.useState(!1),[Ge,Pe]=ee.useState(!1),[Fe,Y]=ee.useState(!1),[Ie,Xe]=ee.useState(!1),[ue,Be]=ee.useState(0),[rt,me]=ee.useState(0),X=ee.useRef(p.duration||L||h$),G=ee.useRef(null),de=ee.useRef(null),fe=_===0,ne=_+1<=b,J=p.type,ve=p.dismissible!==!1,be=p.className||"",Ve=p.descriptionClassName||"",Qe=ee.useMemo(()=>w.findIndex(Ke=>Ke.toastId===p.id)||0,[w,p.id]),We=ee.useMemo(()=>{var Ke;return(Ke=p.closeButton)!=null?Ke:N},[p.closeButton,N]),xe=ee.useMemo(()=>p.duration||L||h$,[p.duration,L]),Te=ee.useRef(0),te=ee.useRef(0),oe=ee.useRef(0),K=ee.useRef(null),[ae,Re]=z.split("-"),Z=ee.useMemo(()=>w.reduce((Ke,lt,yt)=>yt>=Qe?Ke:Ke+lt.height,0),[w,Qe]),Me=_he(),ye=p.invert||h,Ae=J==="loading";te.current=ee.useMemo(()=>Qe*q+Z,[Qe,Z]),ee.useEffect(()=>{X.current=xe},[xe]),ee.useEffect(()=>{Ne(!0)},[]),ee.useEffect(()=>{let Ke=de.current;if(Ke){let lt=Ke.getBoundingClientRect().height;return me(lt),v(yt=>[{toastId:p.id,height:lt,position:p.position},...yt]),()=>v(yt=>yt.filter(at=>at.toastId!==p.id))}},[v,p.id]),ee.useLayoutEffect(()=>{if(!pe)return;let Ke=de.current,lt=Ke.style.height;Ke.style.height="auto";let yt=Ke.getBoundingClientRect().height;Ke.style.height=lt,me(yt),v(at=>at.find(vt=>vt.toastId===p.id)?at.map(vt=>vt.toastId===p.id?{...vt,height:yt}:vt):[{toastId:p.id,height:yt,position:p.position},...at])},[pe,p.title,p.description,v,p.id]);let Ue=ee.useCallback(()=>{Oe(!0),Be(te.current),v(Ke=>Ke.filter(lt=>lt.toastId!==p.id)),setTimeout(()=>{A(p)},khe)},[p,A,v,te]);ee.useEffect(()=>{if(p.promise&&J==="loading"||p.duration===1/0||p.type==="loading")return;let Ke;return j||g||W&&Me?(()=>{if(oe.current<Te.current){let lt=new Date().getTime()-Te.current;X.current=X.current-lt}oe.current=new Date().getTime()})():X.current!==1/0&&(Te.current=new Date().getTime(),Ke=setTimeout(()=>{var lt;(lt=p.onAutoClose)==null||lt.call(p,p),Ue()},X.current)),()=>clearTimeout(Ke)},[j,g,p,J,W,Me,Ue]),ee.useEffect(()=>{p.delete&&Ue()},[Ue,p.delete]);function Je(){var Ke,lt,yt;return H!=null&&H.loading?ee.createElement("div",{className:El(U?.loader,(Ke=p?.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":J==="loading"},H.loading):V?ee.createElement("div",{className:El(U?.loader,(lt=p?.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":J==="loading"},V):ee.createElement(ghe,{className:El(U?.loader,(yt=p?.classNames)==null?void 0:yt.loader),visible:J==="loading"})}return ee.createElement("li",{tabIndex:0,ref:de,className:El(O,be,U?.toast,(e=p?.classNames)==null?void 0:e.toast,U?.default,U?.[J],(n=p?.classNames)==null?void 0:n[J]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:C,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":pe,"data-promise":!!p.promise,"data-swiped":Ie,"data-removed":je,"data-visible":ne,"data-y-position":ae,"data-x-position":Re,"data-index":_,"data-front":fe,"data-swiping":Ge,"data-dismissible":ve,"data-type":J,"data-invert":ye,"data-swipe-out":Fe,"data-swipe-direction":re,"data-expanded":!!(j||F&&pe),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${je?ue:te.current}px`,"--initial-height":F?"auto":`${rt}px`,...T,...p.style},onDragEnd:()=>{Pe(!1),ie(null),K.current=null},onPointerDown:Ke=>{Ae||!ve||(G.current=new Date,Be(te.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&(Pe(!0),K.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,lt,yt,at;if(Fe||!ve)return;K.current=null;let vt=Number(((Ke=de.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ct=Number(((lt=de.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ht=new Date().getTime()-((yt=G.current)==null?void 0:yt.getTime()),Pt=le==="x"?vt:Ct,bt=Math.abs(Pt)/ht;if(Math.abs(Pt)>=Ihe||bt>.11){Be(te.current),(at=p.onDismiss)==null||at.call(p,p),_e(le==="x"?vt>0?"right":"left":Ct>0?"down":"up"),Ue(),Y(!0),Xe(!1);return}Pe(!1),ie(null)},onPointerMove:Ke=>{var lt,yt,at,vt;if(!K.current||!ve||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;let Ct=Ke.clientY-K.current.y,ht=Ke.clientX-K.current.x,Pt=(yt=t.swipeDirections)!=null?yt:Lhe(z);!le&&(Math.abs(ht)>1||Math.abs(Ct)>1)&&ie(Math.abs(ht)>Math.abs(Ct)?"x":"y");let bt={x:0,y:0};le==="y"?(Pt.includes("top")||Pt.includes("bottom"))&&(Pt.includes("top")&&Ct<0||Pt.includes("bottom")&&Ct>0)&&(bt.y=Ct):le==="x"&&(Pt.includes("left")||Pt.includes("right"))&&(Pt.includes("left")&&ht<0||Pt.includes("right")&&ht>0)&&(bt.x=ht),(Math.abs(bt.x)>0||Math.abs(bt.y)>0)&&Xe(!0),(at=de.current)==null||at.style.setProperty("--swipe-amount-x",`${bt.x}px`),(vt=de.current)==null||vt.style.setProperty("--swipe-amount-y",`${bt.y}px`)}},We&&!p.jsx?ee.createElement("button",{"aria-label":$,"data-disabled":Ae,"data-close-button":!0,onClick:Ae||!ve?()=>{}:()=>{var Ke;Ue(),(Ke=p.onDismiss)==null||Ke.call(p,p)},className:El(U?.closeButton,(i=p?.classNames)==null?void 0:i.closeButton)},(a=H?.close)!=null?a:whe):null,p.jsx||M.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ee.createElement(ee.Fragment,null,J||p.icon||p.promise?ee.createElement("div",{"data-icon":"",className:El(U?.icon,(o=p?.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Je():null,p.type!=="loading"?p.icon||H?.[J]||phe(J):null):null,ee.createElement("div",{"data-content":"",className:El(U?.content,(l=p?.classNames)==null?void 0:l.content)},ee.createElement("div",{"data-title":"",className:El(U?.title,(c=p?.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ee.createElement("div",{"data-description":"",className:El(I,Ve,U?.description,(u=p?.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),M.isValidElement(p.cancel)?p.cancel:p.cancel&&X1(p.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||P,onClick:Ke=>{var lt,yt;X1(p.cancel)&&ve&&((yt=(lt=p.cancel).onClick)==null||yt.call(lt,Ke),Ue())},className:El(U?.cancelButton,(d=p?.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,M.isValidElement(p.action)?p.action:p.action&&X1(p.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:Ke=>{var lt,yt;X1(p.action)&&((yt=(lt=p.action).onClick)==null||yt.call(lt,Ke),!Ke.defaultPrevented&&Ue())},className:El(U?.actionButton,(f=p?.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function p$(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Uhe(t,e){let n={};return[t,e].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?Dhe:Phe;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var Bhe=M.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:y=The,toastOptions:g,dir:v=p$(),gap:b=Ohe,loadingIcon:w,icons:_,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=t,[A,C]=ee.useState([]),N=ee.useMemo(()=>Array.from(new Set([r].concat(A.filter(W=>W.position).map(W=>W.position)))),[A,r]),[T,P]=ee.useState([]),[D,O]=ee.useState(!1),[I,L]=ee.useState(!1),[z,q]=ee.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=ee.useRef(null),F=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ee.useRef(null),H=ee.useRef(!1),$=ee.useCallback(W=>{C(le=>{var ie;return(ie=le.find(re=>re.id===W.id))!=null&&ie.delete||Aa.dismiss(W.id),le.filter(({id:re})=>re!==W.id)})},[]);return ee.useEffect(()=>Aa.subscribe(W=>{if(W.dismiss){C(le=>le.map(ie=>ie.id===W.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{bQ.flushSync(()=>{C(le=>{let ie=le.findIndex(re=>re.id===W.id);return ie!==-1?[...le.slice(0,ie),{...le[ie],...W},...le.slice(ie+1)]:[W,...le]})})})}),[]),ee.useEffect(()=>{if(d!=="system"){q(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:le})=>{q(le?"dark":"light")})}catch{W.addListener(({matches:ie})=>{try{q(ie?"dark":"light")}catch(re){console.error(re)}})}},[d]),ee.useEffect(()=>{A.length<=1&&O(!1)},[A]),ee.useEffect(()=>{let W=le=>{var ie,re;i.every(_e=>le[_e]||le.code===_e)&&(O(!0),(ie=V.current)==null||ie.focus()),le.code==="Escape"&&(document.activeElement===V.current||(re=V.current)!=null&&re.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[i]),ee.useEffect(()=>{if(V.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,H.current=!1)}},[V.current]),ee.createElement("section",{ref:e,"aria-label":`${S} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((W,le)=>{var ie;let[re,_e]=W.split("-");return A.length?ee.createElement("ol",{key:W,dir:v==="auto"?p$():v,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":re,"data-lifted":D&&A.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((ie=T[0])==null?void 0:ie.height)||0}px`,"--width":`${Rhe}px`,"--gap":`${b}px`,...p,...Uhe(c,u)},onBlur:pe=>{H.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(H.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||H.current||(H.current=!0,U.current=pe.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{I||O(!1)},onDragEnd:()=>O(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},A.filter(pe=>!pe.position&&le===0||pe.position===W).map((pe,Ne)=>{var je,Oe;return ee.createElement(Fhe,{key:pe.id,icons:_,index:Ne,toast:pe,defaultRichColors:f,duration:(je=g?.duration)!=null?je:h,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Oe=g?.closeButton)!=null?Oe:o,interacting:I,position:W,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,removeToast:$,toasts:A.filter(Ge=>Ge.position==pe.position),heights:T.filter(Ge=>Ge.position==pe.position),setHeights:P,expandByDefault:a,gap:b,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const $he=({...t})=>{const{theme:e="system"}=hhe();return s.jsx(Bhe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function St(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function m$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sd(...t){return e=>{let n=!1;const r=t.map(i=>{const a=m$(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():m$(t[i],null)}}}}function Jt(...t){return M.useCallback(sd(...t),t)}function zhe(t,e){const n=M.createContext(e),r=a=>{const{children:o,...l}=a,c=M.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=M.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function Ni(t,e=[]){let n=[];function r(a,o){const l=M.createContext(o),c=n.length;n=[...n,o];const u=f=>{const{scope:h,children:p,...y}=f,g=h?.[t]?.[c]||l,v=M.useMemo(()=>y,Object.values(y));return s.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){const p=h?.[t]?.[c]||l,y=M.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>M.createContext(o));return function(l){const c=l?.[t]||a;return M.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,Hhe(i,...e)]}function Hhe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Lf(t){const e=Vhe(t),n=M.forwardRef((r,i)=>{const{children:a,...o}=r,l=M.Children.toArray(a),c=l.find(Ghe);if(c){const u=c.props.children,d=l.map(f=>f===c?M.Children.count(u)>1?M.Children.only(null):M.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:M.isValidElement(u)?M.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var wQ=Lf("Slot");function Vhe(t){const e=M.forwardRef((n,r)=>{const{children:i,...a}=n;if(M.isValidElement(i)){const o=Xhe(i),l=Whe(a,i.props);return i.type!==M.Fragment&&(l.ref=r?sd(r,o):o),M.cloneElement(i,l)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _Q=Symbol("radix.slottable");function qhe(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_Q,e}function Ghe(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_Q}function Whe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Xhe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mt=Yhe.reduce((t,e)=>{const n=Lf(`Primitive.${e}`),r=M.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function SQ(t,e){t&&ow.flushSync(()=>t.dispatchEvent(e))}function is(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>e.current?.(...n),[])}function Khe(t,e=globalThis?.document){const n=is(t);M.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Qhe="DismissableLayer",YO="dismissableLayer.update",Zhe="dismissableLayer.pointerDownOutside",Jhe="dismissableLayer.focusOutside",g$,jQ=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ox=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=M.useContext(jQ),[d,f]=M.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=M.useState({}),y=Jt(e,C=>f(C)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),w=d?g.indexOf(d):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,j=npe(C=>{const N=C.target,T=[...u.branches].some(P=>P.contains(N));!S||T||(i?.(C),o?.(C),C.defaultPrevented||l?.())},h),A=rpe(C=>{const N=C.target;[...u.branches].some(P=>P.contains(N))||(a?.(C),o?.(C),C.defaultPrevented||l?.())},h);return Khe(C=>{w===u.layers.size-1&&(r?.(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),M.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),v$(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=g$)}},[d,h,n,u]),M.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),v$())},[d,u]),M.useEffect(()=>{const C=()=>p({});return document.addEventListener(YO,C),()=>document.removeEventListener(YO,C)},[]),s.jsx(Mt.div,{...c,ref:y,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:St(t.onFocusCapture,A.onFocusCapture),onBlurCapture:St(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:St(t.onPointerDownCapture,j.onPointerDownCapture)})});ox.displayName=Qhe;var epe="DismissableLayerBranch",tpe=M.forwardRef((t,e)=>{const n=M.useContext(jQ),r=M.useRef(null),i=Jt(e,r);return M.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Mt.div,{...t,ref:i})});tpe.displayName=epe;function npe(t,e=globalThis?.document){const n=is(t),r=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){EQ(Zhe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function rpe(t,e=globalThis?.document){const n=is(t),r=M.useRef(!1);return M.useEffect(()=>{const i=a=>{a.target&&!r.current&&EQ(Jhe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v$(){const t=new CustomEvent(YO);document.dispatchEvent(t)}function EQ(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?SQ(i,a):i.dispatchEvent(a)}var fi=globalThis?.document?M.useLayoutEffect:()=>{},ipe=UL[" useId ".trim().toString()]||(()=>{}),spe=0;function Li(t){const[e,n]=M.useState(ipe());return fi(()=>{n(r=>r??String(spe++))},[t]),e?`radix-${e}`:""}const ape=["top","right","bottom","left"],Ff=Math.min,co=Math.max,ij=Math.round,Y1=Math.floor,Fc=t=>({x:t,y:t}),ope={left:"right",right:"left",bottom:"top",top:"bottom"},lpe={start:"end",end:"start"};function KO(t,e,n){return co(t,Ff(e,n))}function ad(t,e){return typeof t=="function"?t(e):t}function od(t){return t.split("-")[0]}function lx(t){return t.split("-")[1]}function BL(t){return t==="x"?"y":"x"}function $L(t){return t==="y"?"height":"width"}const cpe=new Set(["top","bottom"]);function Mc(t){return cpe.has(od(t))?"y":"x"}function zL(t){return BL(Mc(t))}function upe(t,e,n){n===void 0&&(n=!1);const r=lx(t),i=zL(t),a=$L(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=sj(o)),[o,sj(o)]}function dpe(t){const e=sj(t);return[QO(t),e,QO(e)]}function QO(t){return t.replace(/start|end/g,e=>lpe[e])}const x$=["left","right"],y$=["right","left"],fpe=["top","bottom"],hpe=["bottom","top"];function ppe(t,e,n){switch(t){case"top":case"bottom":return n?e?y$:x$:e?x$:y$;case"left":case"right":return e?fpe:hpe;default:return[]}}function mpe(t,e,n,r){const i=lx(t);let a=ppe(od(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(QO)))),a}function sj(t){return t.replace(/left|right|bottom|top/g,e=>ope[e])}function gpe(t){return{top:0,right:0,bottom:0,left:0,...t}}function NQ(t){return typeof t!="number"?gpe(t):{top:t,right:t,bottom:t,left:t}}function aj(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function b$(t,e,n){let{reference:r,floating:i}=t;const a=Mc(e),o=zL(e),l=$L(o),c=od(e),u=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(lx(e)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const vpe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=b$(u,r,c),h=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:v,fn:b}=l[g],{x:w,y:_,data:S,reset:j}=await b({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,f=_??f,p={...p,[v]:{...p[v],...S}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:d,y:f}=b$(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function V0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=ad(e,t),y=NQ(p),v=l[h?f==="floating"?"reference":"floating":f],b=aj(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},j=aj(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:_,strategy:c}):w);return{top:(b.top-j.top+y.top)/S.y,bottom:(j.bottom-b.bottom+y.bottom)/S.y,left:(b.left-j.left+y.left)/S.x,right:(j.right-b.right+y.right)/S.x}}const xpe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=ad(t,e)||{};if(u==null)return{};const f=NQ(d),h={x:n,y:r},p=zL(i),y=$L(p),g=await o.getDimensions(u),v=p==="y",b=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",S=a.reference[y]+a.reference[p]-h[p]-a.floating[y],j=h[p]-a.reference[p],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=A?A[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(A)))&&(C=l.floating[_]||a.floating[y]);const N=S/2-j/2,T=C/2-g[y]/2-1,P=Ff(f[b],T),D=Ff(f[w],T),O=P,I=C-g[y]-D,L=C/2-g[y]/2+N,z=KO(O,L,I),q=!c.arrow&&lx(i)!=null&&L!==z&&a.reference[y]/2-(L<O?P:D)-g[y]/2<0,V=q?L<O?L-O:L-I:0;return{[p]:h[p]+V,data:{[p]:z,centerOffset:L-z-V,...q&&{alignmentOffset:V}},reset:q}}}),ype=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...v}=ad(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=od(i),w=Mc(l),_=od(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(_||!g?[sj(l)]:dpe(l)),A=y!=="none";!h&&A&&j.push(...mpe(l,g,y,S));const C=[l,...j],N=await V0(e,v),T=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(N[b]),f){const L=upe(i,o,S);T.push(N[L[0]],N[L[1]])}if(P=[...P,{placement:i,overflows:T}],!T.every(L=>L<=0)){var D,O;const L=(((D=a.flip)==null?void 0:D.index)||0)+1,z=C[L];if(z&&(!(f==="alignment"?w!==Mc(z):!1)||P.every(F=>Mc(F.placement)===w?F.overflows[0]>0:!0)))return{data:{index:L,overflows:P},reset:{placement:z}};let q=(O=P.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(p){case"bestFit":{var I;const V=(I=P.filter(F=>{if(A){const U=Mc(F.placement);return U===w||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,H)=>U+H,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:I[0];V&&(q=V);break}case"initialPlacement":q=l;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function w$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function _$(t){return ape.some(e=>t[e]>=0)}const bpe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ad(t,e);switch(r){case"referenceHidden":{const a=await V0(e,{...i,elementContext:"reference"}),o=w$(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_$(o)}}}case"escaped":{const a=await V0(e,{...i,altBoundary:!0}),o=w$(a,n.floating);return{data:{escapedOffsets:o,escaped:_$(o)}}}default:return{}}}}},AQ=new Set(["left","top"]);async function wpe(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=od(n),l=lx(n),c=Mc(n)==="y",u=AQ.has(o)?-1:1,d=a&&c?-1:1,f=ad(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const _pe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await wpe(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Spe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:w}=v;return{x:b,y:w}}},...c}=ad(t,e),u={x:n,y:r},d=await V0(e,c),f=Mc(od(i)),h=BL(f);let p=u[h],y=u[f];if(a){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=p+d[v],_=p-d[b];p=KO(w,p,_)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=y+d[v],_=y-d[b];y=KO(w,y,_)}const g=l.fn({...e,[h]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:a,[f]:o}}}}}},jpe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ad(t,e),d={x:n,y:r},f=Mc(i),h=BL(f);let p=d[h],y=d[f];const g=ad(l,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",S=a.reference[h]-a.floating[_]+v.mainAxis,j=a.reference[h]+a.reference[_]-v.mainAxis;p<S?p=S:p>j&&(p=j)}if(u){var b,w;const _=h==="y"?"width":"height",S=AQ.has(od(i)),j=a.reference[f]-a.floating[_]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:v.crossAxis),A=a.reference[f]+a.reference[_]+(S?0:((w=o.offset)==null?void 0:w[f])||0)-(S?v.crossAxis:0);y<j?y=j:y>A&&(y=A)}return{[h]:p,[f]:y}}}},Epe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=ad(t,e),d=await V0(e,u),f=od(i),h=lx(i),p=Mc(i)==="y",{width:y,height:g}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const w=g-d.top-d.bottom,_=y-d.left-d.right,S=Ff(g-d[v],w),j=Ff(y-d[b],_),A=!e.middlewareData.shift;let C=S,N=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=w),A&&!h){const P=co(d.left,0),D=co(d.right,0),O=co(d.top,0),I=co(d.bottom,0);p?N=y-2*(P!==0||D!==0?P+D:co(d.left,d.right)):C=g-2*(O!==0||I!==0?O+I:co(d.top,d.bottom))}await c({...e,availableWidth:N,availableHeight:C});const T=await o.getDimensions(l.floating);return y!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function nN(){return typeof window<"u"}function cx(t){return CQ(t)?(t.nodeName||"").toLowerCase():"#document"}function vo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function su(t){var e;return(e=(CQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CQ(t){return nN()?t instanceof Node||t instanceof vo(t).Node:!1}function Ql(t){return nN()?t instanceof Element||t instanceof vo(t).Element:!1}function Wc(t){return nN()?t instanceof HTMLElement||t instanceof vo(t).HTMLElement:!1}function S$(t){return!nN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof vo(t).ShadowRoot}const Npe=new Set(["inline","contents"]);function lw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Zl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Npe.has(i)}const Ape=new Set(["table","td","th"]);function Cpe(t){return Ape.has(cx(t))}const Mpe=[":popover-open",":modal"];function rN(t){return Mpe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Tpe=["transform","translate","scale","rotate","perspective"],Ppe=["transform","translate","scale","rotate","perspective","filter"],Dpe=["paint","layout","strict","content"];function HL(t){const e=VL(),n=Ql(t)?Zl(t):t;return Tpe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Ppe.some(r=>(n.willChange||"").includes(r))||Dpe.some(r=>(n.contain||"").includes(r))}function Rpe(t){let e=Uf(t);for(;Wc(e)&&!iv(e);){if(HL(e))return e;if(rN(e))return null;e=Uf(e)}return null}function VL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ope=new Set(["html","body","#document"]);function iv(t){return Ope.has(cx(t))}function Zl(t){return vo(t).getComputedStyle(t)}function iN(t){return Ql(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Uf(t){if(cx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||S$(t)&&t.host||su(t);return S$(e)?e.host:e}function MQ(t){const e=Uf(t);return iv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Wc(e)&&lw(e)?e:MQ(e)}function q0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=MQ(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=vo(i);if(a){const l=ZO(o);return e.concat(o,o.visualViewport||[],lw(i)?i:[],l&&n?q0(l):[])}return e.concat(i,q0(i,[],n))}function ZO(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TQ(t){const e=Zl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Wc(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=ij(n)!==a||ij(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function qL(t){return Ql(t)?t:t.contextElement}function Og(t){const e=qL(t);if(!Wc(e))return Fc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=TQ(e);let o=(a?ij(n.width):n.width)/r,l=(a?ij(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ipe=Fc(0);function PQ(t){const e=vo(t);return!VL()||!e.visualViewport?Ipe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kpe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==vo(t)?!1:e}function Mp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=qL(t);let o=Fc(1);e&&(r?Ql(r)&&(o=Og(r)):o=Og(t));const l=kpe(a,n,r)?PQ(a):Fc(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=vo(a),p=r&&Ql(r)?vo(r):r;let y=h,g=ZO(y);for(;g&&r&&p!==y;){const v=Og(g),b=g.getBoundingClientRect(),w=Zl(g),_=b.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,S=b.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=_,u+=S,y=vo(g),g=ZO(y)}}return aj({width:d,height:f,x:c,y:u})}function sN(t,e){const n=iN(t).scrollLeft;return e?e.left+n:Mp(su(t)).left+n}function DQ(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-sN(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Lpe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=su(r),l=e?rN(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Fc(1);const d=Fc(0),f=Wc(r);if((f||!f&&!a)&&((cx(r)!=="body"||lw(o))&&(c=iN(r)),Wc(r))){const p=Mp(r);u=Og(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!a?DQ(o,c):Fc(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Fpe(t){return Array.from(t.getClientRects())}function Upe(t){const e=su(t),n=iN(t),r=t.ownerDocument.body,i=co(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=co(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+sN(t);const l=-n.scrollTop;return Zl(r).direction==="rtl"&&(o+=co(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const j$=25;function Bpe(t,e){const n=vo(t),r=su(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=VL();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=sN(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-p);y<=j$&&(a-=y)}else u<=j$&&(a+=u);return{width:a,height:o,x:l,y:c}}const $pe=new Set(["absolute","fixed"]);function zpe(t,e){const n=Mp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Wc(t)?Og(t):Fc(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function E$(t,e,n){let r;if(e==="viewport")r=Bpe(t,n);else if(e==="document")r=Upe(su(t));else if(Ql(e))r=zpe(e,n);else{const i=PQ(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return aj(r)}function RQ(t,e){const n=Uf(t);return n===e||!Ql(n)||iv(n)?!1:Zl(n).position==="fixed"||RQ(n,e)}function Hpe(t,e){const n=e.get(t);if(n)return n;let r=q0(t,[],!1).filter(l=>Ql(l)&&cx(l)!=="body"),i=null;const a=Zl(t).position==="fixed";let o=a?Uf(t):t;for(;Ql(o)&&!iv(o);){const l=Zl(o),c=HL(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&$pe.has(i.position)||lw(o)&&!c&&RQ(t,o))?r=r.filter(d=>d!==o):i=l,o=Uf(o)}return e.set(t,r),r}function Vpe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?rN(e)?[]:Hpe(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=E$(e,d,i);return u.top=co(f.top,u.top),u.right=Ff(f.right,u.right),u.bottom=Ff(f.bottom,u.bottom),u.left=co(f.left,u.left),u},E$(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qpe(t){const{width:e,height:n}=TQ(t);return{width:e,height:n}}function Gpe(t,e,n){const r=Wc(e),i=su(e),a=n==="fixed",o=Mp(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Fc(0);function u(){c.x=sN(i)}if(r||!r&&!a)if((cx(e)!=="body"||lw(i))&&(l=iN(e)),r){const p=Mp(e,!0,a,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?DQ(i,l):Fc(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function pC(t){return Zl(t).position==="static"}function N$(t,e){if(!Wc(t)||Zl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return su(t)===n&&(n=n.ownerDocument.body),n}function OQ(t,e){const n=vo(t);if(rN(t))return n;if(!Wc(t)){let i=Uf(t);for(;i&&!iv(i);){if(Ql(i)&&!pC(i))return i;i=Uf(i)}return n}let r=N$(t,e);for(;r&&Cpe(r)&&pC(r);)r=N$(r,e);return r&&iv(r)&&pC(r)&&!HL(r)?n:r||Rpe(t)||n}const Wpe=async function(t){const e=this.getOffsetParent||OQ,n=this.getDimensions,r=await n(t.floating);return{reference:Gpe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xpe(t){return Zl(t).direction==="rtl"}const Ype={convertOffsetParentRelativeRectToViewportRelativeRect:Lpe,getDocumentElement:su,getClippingRect:Vpe,getOffsetParent:OQ,getElementRects:Wpe,getClientRects:Fpe,getDimensions:qpe,getScale:Og,isElement:Ql,isRTL:Xpe};function IQ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Kpe(t,e){let n=null,r;const i=su(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||e(),!h||!p)return;const y=Y1(f),g=Y1(i.clientWidth-(d+h)),v=Y1(i.clientHeight-(f+p)),b=Y1(d),_={rootMargin:-y+"px "+-g+"px "+-v+"px "+-b+"px",threshold:co(0,Ff(1,c))||1};let S=!0;function j(A){const C=A[0].intersectionRatio;if(C!==c){if(!S)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!IQ(u,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(j,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(t)}return o(!0),a}function Qpe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=qL(t),d=i||a?[...u?q0(u):[],...q0(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const f=u&&l?Kpe(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,g=c?Mp(t):null;c&&v();function v(){const b=Mp(t);g&&!IQ(g,b)&&n(),g=b,y=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),f?.(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Zpe=_pe,Jpe=Spe,eme=ype,tme=Epe,nme=bpe,A$=xpe,rme=jpe,ime=(t,e,n)=>{const r=new Map,i={platform:Ype,...n},a={...i.platform,_c:r};return vpe(t,e,{...i,platform:a})};var sme=typeof document<"u",ame=function(){},NS=sme?M.useLayoutEffect:ame;function oj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!oj(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!oj(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function kQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C$(t,e){const n=kQ(t);return Math.round(e*n)/n}function mC(t){const e=M.useRef(t);return NS(()=>{e.current=t}),e}function ome(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=M.useState(r);oj(h,r)||p(r);const[y,g]=M.useState(null),[v,b]=M.useState(null),w=M.useCallback(F=>{F!==A.current&&(A.current=F,g(F))},[]),_=M.useCallback(F=>{F!==C.current&&(C.current=F,b(F))},[]),S=a||y,j=o||v,A=M.useRef(null),C=M.useRef(null),N=M.useRef(d),T=c!=null,P=mC(c),D=mC(i),O=mC(u),I=M.useCallback(()=>{if(!A.current||!C.current)return;const F={placement:e,strategy:n,middleware:h};D.current&&(F.platform=D.current),ime(A.current,C.current,F).then(U=>{const H={...U,isPositioned:O.current!==!1};L.current&&!oj(N.current,H)&&(N.current=H,ow.flushSync(()=>{f(H)}))})},[h,e,n,D,O]);NS(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[u]);const L=M.useRef(!1);NS(()=>(L.current=!0,()=>{L.current=!1}),[]),NS(()=>{if(S&&(A.current=S),j&&(C.current=j),S&&j){if(P.current)return P.current(S,j,I);I()}},[S,j,I,P,T]);const z=M.useMemo(()=>({reference:A,floating:C,setReference:w,setFloating:_}),[w,_]),q=M.useMemo(()=>({reference:S,floating:j}),[S,j]),V=M.useMemo(()=>{const F={position:n,left:0,top:0};if(!q.floating)return F;const U=C$(q.floating,d.x),H=C$(q.floating,d.y);return l?{...F,transform:"translate("+U+"px, "+H+"px)",...kQ(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:H}},[n,l,q.floating,d.x,d.y]);return M.useMemo(()=>({...d,update:I,refs:z,elements:q,floatingStyles:V}),[d,I,z,q,V])}const lme=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?A$({element:r.current,padding:i}).fn(n):{}:r?A$({element:r,padding:i}).fn(n):{}}}},cme=(t,e)=>({...Zpe(t),options:[t,e]}),ume=(t,e)=>({...Jpe(t),options:[t,e]}),dme=(t,e)=>({...rme(t),options:[t,e]}),fme=(t,e)=>({...eme(t),options:[t,e]}),hme=(t,e)=>({...tme(t),options:[t,e]}),pme=(t,e)=>({...nme(t),options:[t,e]}),mme=(t,e)=>({...lme(t),options:[t,e]});var gme="Arrow",LQ=M.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Mt.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});LQ.displayName=gme;var vme=LQ;function cw(t){const[e,n]=M.useState(void 0);return fi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var GL="Popper",[FQ,Qf]=Ni(GL),[xme,UQ]=FQ(GL),BQ=t=>{const{__scopePopper:e,children:n}=t,[r,i]=M.useState(null);return s.jsx(xme,{scope:e,anchor:r,onAnchorChange:i,children:n})};BQ.displayName=GL;var $Q="PopperAnchor",zQ=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=UQ($Q,n),o=M.useRef(null),l=Jt(e,o),c=M.useRef(null);return M.useEffect(()=>{const u=c.current;c.current=r?.current||o.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(Mt.div,{...i,ref:l})});zQ.displayName=$Q;var WL="PopperContent",[yme,bme]=FQ(WL),HQ=M.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=t,v=UQ(WL,n),[b,w]=M.useState(null),_=Jt(e,pe=>w(pe)),[S,j]=M.useState(null),A=cw(S),C=A?.width??0,N=A?.height??0,T=r+(a!=="center"?"-"+a:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,I={padding:P,boundary:D.filter(_me),altBoundary:O},{refs:L,floatingStyles:z,placement:q,isPositioned:V,middlewareData:F}=ome({strategy:"fixed",placement:T,whileElementsMounted:(...pe)=>Qpe(...pe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[cme({mainAxis:i+N,alignmentAxis:o}),c&&ume({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?dme():void 0,...I}),c&&fme({...I}),hme({...I,apply:({elements:pe,rects:Ne,availableWidth:je,availableHeight:Oe})=>{const{width:Ge,height:Pe}=Ne.reference,Fe=pe.floating.style;Fe.setProperty("--radix-popper-available-width",`${je}px`),Fe.setProperty("--radix-popper-available-height",`${Oe}px`),Fe.setProperty("--radix-popper-anchor-width",`${Ge}px`),Fe.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),S&&mme({element:S,padding:l}),Sme({arrowWidth:C,arrowHeight:N}),h&&pme({strategy:"referenceHidden",...I})]}),[U,H]=GQ(q),$=is(y);fi(()=>{V&&$?.()},[V,$]);const W=F.arrow?.x,le=F.arrow?.y,ie=F.arrow?.centerOffset!==0,[re,_e]=M.useState();return fi(()=>{b&&_e(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[F.transformOrigin?.x,F.transformOrigin?.y].join(" "),...F.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(yme,{scope:n,placedSide:U,onArrowChange:j,arrowX:W,arrowY:le,shouldHideArrow:ie,children:s.jsx(Mt.div,{"data-side":U,"data-align":H,...g,ref:_,style:{...g.style,animation:V?void 0:"none"}})})})});HQ.displayName=WL;var VQ="PopperArrow",wme={top:"bottom",right:"left",bottom:"top",left:"right"},qQ=M.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=bme(VQ,r),o=wme[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(vme,{...i,ref:n,style:{...i.style,display:"block"}})})});qQ.displayName=VQ;function _me(t){return t!==null}var Sme=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=GQ(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(i.arrow?.x??0)+l/2,p=(i.arrow?.y??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function GQ(t){const[e,n="center"]=t.split("-");return[e,n]}var XL=BQ,uw=zQ,aN=HQ,oN=qQ,jme="Portal",dw=M.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=M.useState(!1);fi(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?bQ.createPortal(s.jsx(Mt.div,{...r,ref:e}),o):null});dw.displayName=jme;function Eme(t,e){return M.useReducer((n,r)=>e[n][r]??n,t)}var Hi=t=>{const{present:e,children:n}=t,r=Nme(e),i=typeof n=="function"?n({present:r.isPresent}):M.Children.only(n),a=Jt(r.ref,Ame(i));return typeof n=="function"||r.isPresent?M.cloneElement(i,{ref:a}):null};Hi.displayName="Presence";function Nme(t){const[e,n]=M.useState(),r=M.useRef(null),i=M.useRef(t),a=M.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Eme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const u=K1(r.current);a.current=l==="mounted"?u:"none"},[l]),fi(()=>{const u=r.current,d=i.current;if(d!==t){const h=a.current,p=K1(u);t?c("MOUNT"):p==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),fi(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const g=K1(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&g&&(c("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},h=p=>{p.target===e&&(a.current=K1(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:M.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function K1(t){return t?.animationName||"none"}function Ame(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cme=UL[" useInsertionEffect ".trim().toString()]||fi;function Ba({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,a,o]=Mme({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:i;{const d=M.useRef(t!==void 0);M.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=M.useCallback(d=>{if(l){const f=Tme(d)?d(t):d;f!==t&&o.current?.(f)}else a(d)},[l,t,a,o]);return[c,u]}function Mme({defaultProp:t,onChange:e}){const[n,r]=M.useState(t),i=M.useRef(n),a=M.useRef(e);return Cme(()=>{a.current=e},[e]),M.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function Tme(t){return typeof t=="function"}var WQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Pme="VisuallyHidden",XQ=M.forwardRef((t,e)=>s.jsx(Mt.span,{...t,ref:e,style:{...WQ,...t.style}}));XQ.displayName=Pme;var Dme=XQ,[lN]=Ni("Tooltip",[Qf]),YL=Qf(),YQ="TooltipProvider",Rme=700,M$="tooltip.open",[Ome,KQ]=lN(YQ),QQ=t=>{const{__scopeTooltip:e,delayDuration:n=Rme,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=M.useRef(!0),l=M.useRef(!1),c=M.useRef(0);return M.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Ome,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:M.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};QQ.displayName=YQ;var ZQ="Tooltip",[Fnt,cN]=lN(ZQ),JO="TooltipTrigger",Ime=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=cN(JO,n),a=KQ(JO,n),o=YL(n),l=M.useRef(null),c=Jt(e,l,i.onTriggerChange),u=M.useRef(!1),d=M.useRef(!1),f=M.useCallback(()=>u.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(uw,{asChild:!0,...o,children:s.jsx(Mt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:St(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:St(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:St(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:St(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:St(t.onBlur,i.onClose),onClick:St(t.onClick,i.onClose)})})});Ime.displayName=JO;var kme="TooltipPortal",[Unt,Lme]=lN(kme,{forceMount:void 0}),sv="TooltipContent",JQ=M.forwardRef((t,e)=>{const n=Lme(sv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=cN(sv,t.__scopeTooltip);return s.jsx(Hi,{present:r||o.open,children:o.disableHoverableContent?s.jsx(eZ,{side:i,...a,ref:e}):s.jsx(Fme,{side:i,...a,ref:e})})}),Fme=M.forwardRef((t,e)=>{const n=cN(sv,t.__scopeTooltip),r=KQ(sv,t.__scopeTooltip),i=M.useRef(null),a=Jt(e,i),[o,l]=M.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=M.useCallback(()=>{l(null),f(!1)},[f]),p=M.useCallback((y,g)=>{const v=y.currentTarget,b={x:y.clientX,y:y.clientY},w=Hme(b,v.getBoundingClientRect()),_=Vme(b,w),S=qme(g.getBoundingClientRect()),j=Wme([..._,...S]);l(j),f(!0)},[f]);return M.useEffect(()=>()=>h(),[h]),M.useEffect(()=>{if(c&&d){const y=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),M.useEffect(()=>{if(o){const y=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},w=c?.contains(v)||d?.contains(v),_=!Gme(b,o);w?h():_&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),s.jsx(eZ,{...t,ref:a})}),[Ume,Bme]=lN(ZQ,{isInside:!1}),$me=qhe("TooltipContent"),eZ=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=cN(sv,n),u=YL(n),{onClose:d}=c;return M.useEffect(()=>(document.addEventListener(M$,d),()=>document.removeEventListener(M$,d)),[d]),M.useEffect(()=>{if(c.trigger){const f=h=>{h.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(ox,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(aN,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx($me,{children:r}),s.jsx(Ume,{scope:n,isInside:!0,children:s.jsx(Dme,{id:c.contentId,role:"tooltip",children:i||r})})]})})});JQ.displayName=sv;var tZ="TooltipArrow",zme=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=YL(n);return Bme(tZ,n).isInside?null:s.jsx(oN,{...i,...r,ref:e})});zme.displayName=tZ;function Hme(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vme(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qme(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Gme(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function Wme(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Xme(e)}function Xme(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Yme=QQ,nZ=JQ;function rZ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rZ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function dn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rZ(t))&&(r&&(r+=" "),r+=e);return r}const KL="-",Kme=t=>{const e=Zme(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(KL);return l[0]===""&&l.length!==1&&l.shift(),iZ(l,e)||Qme(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},iZ=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iZ(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(KL);return e.validators.find(({validator:o})=>o(a))?.classGroupId},T$=/^\[(.+)\]$/,Qme=t=>{if(T$.test(t)){const e=T$.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Zme=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ege(Object.entries(t.classGroups),n).forEach(([a,o])=>{eI(o,r,a,e)}),r},eI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:P$(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Jme(i)){eI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{eI(o,P$(e,a),n,r)})})},P$=(t,e)=>{let n=t;return e.split(KL).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Jme=t=>t.isThemeGetter,ege=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,tge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},sZ="!",nge=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===i&&(r||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(sZ),y=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},rge=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ige=t=>({cache:tge(t.cacheSize),parseClassName:nge(t),...Kme(t)}),sge=/\s+/,age=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(sge);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=rge(d).join(":"),b=f?v+sZ:v,w=b+g;if(a.includes(w))continue;a.push(w);const _=i(g,y);for(let S=0;S<_.length;++S){const j=_[S];a.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function oge(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=aZ(e))&&(r&&(r+=" "),r+=n);return r}const aZ=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=aZ(t[r]))&&(n&&(n+=" "),n+=e);return n};function lge(t,...e){let n,r,i,a=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=ige(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=age(c,n);return i(c,d),d}return function(){return a(oge.apply(null,arguments))}}const Er=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oZ=/^\[(?:([a-z-]+):)?(.+)\]$/i,cge=/^\d+\/\d+$/,uge=new Set(["px","full","screen"]),dge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wu=t=>Ig(t)||uge.has(t)||cge.test(t),Bd=t=>ux(t,"length",Sge),Ig=t=>!!t&&!Number.isNaN(Number(t)),gC=t=>ux(t,"number",Ig),vy=t=>!!t&&Number.isInteger(Number(t)),gge=t=>t.endsWith("%")&&Ig(t.slice(0,-1)),xn=t=>oZ.test(t),$d=t=>dge.test(t),vge=new Set(["length","size","percentage"]),xge=t=>ux(t,vge,lZ),yge=t=>ux(t,"position",lZ),bge=new Set(["image","url"]),wge=t=>ux(t,bge,Ege),_ge=t=>ux(t,"",jge),xy=()=>!0,ux=(t,e,n)=>{const r=oZ.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Sge=t=>fge.test(t)&&!hge.test(t),lZ=()=>!1,jge=t=>pge.test(t),Ege=t=>mge.test(t),Nge=()=>{const t=Er("colors"),e=Er("spacing"),n=Er("blur"),r=Er("brightness"),i=Er("borderColor"),a=Er("borderRadius"),o=Er("borderSpacing"),l=Er("borderWidth"),c=Er("contrast"),u=Er("grayscale"),d=Er("hueRotate"),f=Er("invert"),h=Er("gap"),p=Er("gradientColorStops"),y=Er("gradientColorStopPositions"),g=Er("inset"),v=Er("margin"),b=Er("opacity"),w=Er("padding"),_=Er("saturate"),S=Er("scale"),j=Er("sepia"),A=Er("skew"),C=Er("space"),N=Er("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",xn,e],O=()=>[xn,e],I=()=>["",wu,Bd],L=()=>["auto",Ig,xn],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",xn],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Ig,xn];return{cacheSize:500,separator:":",theme:{colors:[xy],spacing:[wu,Bd],blur:["none","",$d,xn],brightness:$(),borderColor:[t],borderRadius:["none","","full",$d,xn],borderSpacing:O(),borderWidth:I(),contrast:$(),grayscale:U(),hueRotate:$(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[gge,Bd],inset:D(),margin:D(),opacity:$(),padding:O(),saturate:$(),scale:$(),sepia:U(),skew:$(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",xn]}],container:["container"],columns:[{columns:[$d]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),xn]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vy,xn]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xn]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",vy,xn]}],"grid-cols":[{"grid-cols":[xy]}],"col-start-end":[{col:["auto",{span:["full",vy,xn]},xn]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[xy]}],"row-start-end":[{row:["auto",{span:[vy,xn]},xn]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xn,e]}],"min-w":[{"min-w":[xn,e,"min","max","fit"]}],"max-w":[{"max-w":[xn,e,"none","full","min","max","fit","prose",{screen:[$d]},$d]}],h:[{h:[xn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$d,Bd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gC]}],"font-family":[{font:[xy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xn]}],"line-clamp":[{"line-clamp":["none",Ig,gC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wu,xn]}],"list-image":[{"list-image":["none",xn]}],"list-style-type":[{list:["none","disc","decimal",xn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wu,Bd]}],"underline-offset":[{"underline-offset":["auto",wu,xn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),yge]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xge]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wge]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[wu,xn]}],"outline-w":[{outline:[wu,Bd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[wu,Bd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$d,_ge]}],"shadow-color":[{shadow:[xy]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$d,xn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xn]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",xn]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",xn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[vy,xn]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wu,Bd,gC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Age=lge(Nge);function Nt(...t){return Age(dn(t))}const Cge=Yme,Mge=M.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(nZ,{ref:r,sideOffset:e,className:Nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Mge.displayName=nZ.displayName;var dx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tge={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Pge=class{#e=Tge;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qh=new Pge;function Dge(t){setTimeout(t,0)}var Tp=typeof window>"u"||"Deno"in globalThis;function aa(){}function Rge(t,e){return typeof t=="function"?t(e):t}function tI(t){return typeof t=="number"&&t>=0&&t!==1/0}function cZ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nf(t,e){return typeof t=="function"?t(e):t}function Ho(t,e){return typeof t=="function"?t(e):t}function D$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==QL(o,e.options))return!1}else if(!G0(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function R$(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Pp(e.options.mutationKey)!==Pp(a))return!1}else if(!G0(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function QL(t,e){return(e?.queryKeyHashFn||Pp)(t)}function Pp(t){return JSON.stringify(t,(e,n)=>nI(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function G0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>G0(t[n],e[n])):!1}var Oge=Object.prototype.hasOwnProperty;function uZ(t,e){if(t===e)return t;const n=O$(t)&&O$(e);if(!n&&!(nI(t)&&nI(e)))return e;const i=(n?t:Object.keys(t)).length,a=n?e:Object.keys(e),o=a.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u],f=t[d],h=e[d];if(f===h){l[d]=f,(n?u<i:Oge.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){l[d]=h;continue}const p=uZ(f,h);l[d]=p,p===f&&c++}return i===o&&c===i?t:l}function lj(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function O$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nI(t){if(!I$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!I$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function I$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ige(t){return new Promise(e=>{Qh.setTimeout(e,t)})}function rI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uZ(t,e):e}function kge(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Lge(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ZL=Symbol();function dZ(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ZL?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function fZ(t,e){return typeof t=="function"?t(...e):!!t}var Fge=class extends dx{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Tp&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},JL=new Fge;function iI(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var Uge=Dge;function Bge(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=Uge;const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Oi=Bge(),$ge=class extends dx{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Tp&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},cj=new $ge;function zge(t){return Math.min(1e3*2**t,3e4)}function hZ(t){return(t??"online")==="online"?cj.isOnline():!0}var sI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pZ(t){let e=!1,n=0,r;const i=iI(),a=()=>i.status!=="pending",o=g=>{if(!a()){const v=new sI(g);h(v),t.onCancel?.(v)}},l=()=>{e=!0},c=()=>{e=!1},u=()=>JL.isFocused()&&(t.networkMode==="always"||cj.isOnline())&&t.canRun(),d=()=>hZ(t.networkMode)&&t.canRun(),f=g=>{a()||(r?.(),i.resolve(g))},h=g=>{a()||(r?.(),i.reject(g))},p=()=>new Promise(g=>{r=v=>{(a()||u())&&g(v)},t.onPause?.()}).then(()=>{r=void 0,a()||t.onContinue?.()}),y=()=>{if(a())return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{if(a())return;const w=t.retry??(Tp?0:3),_=t.retryDelay??zge,S=typeof _=="function"?_(n,b):_,j=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(e||!j){h(b);return}n++,t.onFail?.(n,b),Ige(S).then(()=>u()?void 0:p()).then(()=>{e?h(b):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}var mZ=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tI(this.gcTime)&&(this.#e=Qh.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tp?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qh.clearTimeout(this.#e),this.#e=void 0)}},Hge=class extends mZ{#e;#t;#n;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=k$(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=k$(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=rI(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#r?.promise;return this.#r?.cancel(e),n?n.then(aa).catch(aa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ho(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Nf(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cZ(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const c=dZ(this.options,n),d=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(f),f})();return this.#o=!1,this.options.persister?this.options.persister(c,d,this):c(d)},l=(()=>{const c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=pZ({initialPromise:n?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof sI&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof sI){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#s({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gZ(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Oi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function gZ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hZ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function k$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vge=class extends dx{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=iI(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),L$(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aI(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aI(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ho(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!lj(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&F$(this.#t,n,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Ho(this.options.enabled,this.#t)!==Ho(e.enabled,this.#t)||Nf(this.options.staleTime,this.#t)!==Nf(e.staleTime,this.#t))&&this.#g();const i=this.#v();r&&(this.#t!==n||Ho(this.options.enabled,this.#t)!==Ho(e.enabled,this.#t)||i!==this.#l)&&this.#x(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return Gge(this,n)&&(this.#i=n,this.#a=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(aa)),e}#g(){this.#b();const t=Nf(this.options.staleTime,this.#t);if(Tp||this.#i.isStale||!tI(t))return;const n=cZ(this.#i.dataUpdatedAt,t)+1;this.#c=Qh.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#w(),this.#l=t,!(Tp||Ho(this.options.enabled,this.#t)===!1||!tI(this.#l)||this.#l===0)&&(this.#u=Qh.setInterval(()=>{(this.options.refetchIntervalInBackground||JL.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#b(){this.#c&&(Qh.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Qh.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#i,a=this.#r,o=this.#a,c=t!==n?t.state:this.#n,{state:u}=t;let d={...u},f=!1,h;if(e._optimisticResults){const N=this.hasListeners(),T=!N&&L$(t,e),P=N&&F$(t,n,e,r);(T||P)&&(d={...d,...gZ(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:g}=d;h=d.data;let v=!1;if(e.placeholderData!==void 0&&h===void 0&&g==="pending"){let N;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(N=i.data,v=!0):N=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,N!==void 0&&(g="success",h=rI(i?.data,N,e),f=!0)}if(e.select&&h!==void 0&&!v)if(i&&h===a?.data&&e.select===this.#m)h=this.#f;else try{this.#m=e.select,h=e.select(h),h=rI(i?.data,h,e),this.#f=h,this.#s=null}catch(N){this.#s=N}this.#s&&(p=this.#s,h=this.#f,y=Date.now(),g="error");const b=d.fetchStatus==="fetching",w=g==="pending",_=g==="error",S=w&&b,j=h!==void 0,C={status:g,fetchStatus:d.fetchStatus,isPending:w,isSuccess:g==="success",isError:_,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:d.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:_&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&j,isStale:e4(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Ho(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},T=()=>{const D=this.#o=C.promise=iI();N(D)},P=this.#o;switch(P.status){case"pending":t.queryHash===n.queryHash&&N(P);break;case"fulfilled":(C.status==="error"||C.data!==P.value)&&T();break;case"rejected":(C.status!=="error"||C.error!==P.reason)&&T();break}}return C}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#h=this.#t),lj(e,t))return;this.#i=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(o=>{const l=o;return this.#i[l]!==t[l]&&a.has(l)})};this.#S({listeners:n()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(t){Oi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function qge(t,e){return Ho(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function L$(t,e){return qge(t,e)||t.state.data!==void 0&&aI(t,e,e.refetchOnMount)}function aI(t,e,n){if(Ho(e.enabled,t)!==!1&&Nf(e.staleTime,t)!=="static"){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&e4(t,e)}return!1}function F$(t,e,n,r){return(t!==e||Ho(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&e4(t,n)}function e4(t,e){return Ho(e.enabled,t)!==!1&&t.isStaleByTime(Nf(e.staleTime,t))}function Gge(t,e){return!lj(t.getCurrentResult(),e)}function U$(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},h=dZ(e.options,e.fetchOptions),p=async(y,g,v)=>{if(d)return Promise.reject();if(g==null&&y.pages.length)return Promise.resolve(y);const w=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:g,direction:v?"backward":"forward",meta:e.options.meta};return f(A),A})(),_=await h(w),{maxPages:S}=e.options,j=v?Lge:kge;return{pages:j(y.pages,_,S),pageParams:j(y.pageParams,g,S)}};if(i&&a.length){const y=i==="backward",g=y?Wge:B$,v={pages:a,pageParams:o},b=g(r,v);l=await p(v,b,y)}else{const y=t??a.length;do{const g=c===0?o[0]??r.initialPageParam:B$(r,l);if(c>0&&g==null)break;l=await p(l,g),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=u}}}function B$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Wge(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var Xge=class extends mZ{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||vZ(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=pZ({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(a,o)=>{this.#r({type:"failed",failureCount:a,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)e();else{this.#r({type:"pending",variables:t,isPaused:i}),await this.#n.config.onMutate?.(t,this,n);const o=await this.options.onMutate?.(t,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:i})}const a=await this.#i.start();return await this.#n.config.onSuccess?.(a,t,this.state.context,this,n),await this.options.onSuccess?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(a,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(a,null,t,this.state.context,n),this.#r({type:"success",data:a}),a}catch(a){try{throw await this.#n.config.onError?.(a,t,this.state.context,this,n),await this.options.onError?.(a,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,a,t,this.state.context,n),a}finally{this.#r({type:"error",error:a})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Oi.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function vZ(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yge=class extends dx{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new Xge({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=Q1(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Q1(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Q1(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=Q1(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Oi.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>R$(e,n))}findAll(t={}){return this.getAll().filter(e=>R$(t,e))}notify(t){Oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Oi.batch(()=>Promise.all(t.map(e=>e.continue().catch(aa))))}};function Q1(t){return t.options.scope?.id}var Kge=class extends dx{#e;#t=void 0;#n;#i;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),lj(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Pp(n.mutationKey)!==Pp(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#a()}mutate(e,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??vZ();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Oi.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,n,r,i),this.#i.onSettled?.(e.data,null,n,r,i)):e?.type==="error"&&(this.#i.onError?.(e.error,n,r,i),this.#i.onSettled?.(void 0,e.error,n,r,i))}this.listeners.forEach(n=>{n(this.#t)})})}},Qge=class extends dx{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??QL(r,e);let a=this.get(i);return a||(a=new Hge({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>D$(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>D$(t,n)):e}notify(t){Oi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Oi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zge=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new Qge,this.#t=t.mutationCache||new Yge,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=JL.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=cj.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Nf(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,o=Rge(e,a);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Oi.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Oi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Oi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Oi.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(aa).catch(aa)}invalidateQueries(t,e={}){return Oi.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Oi.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(aa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(aa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Nf(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(aa).catch(aa)}fetchInfiniteQuery(t){return t.behavior=U$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(aa).catch(aa)}ensureInfiniteQueryData(t){return t.behavior=U$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return cj.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Pp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(r=>{G0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Pp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{G0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=QL(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ZL&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},xZ=M.createContext(void 0),Zf=t=>{const e=M.useContext(xZ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Jge=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(xZ.Provider,{value:t,children:e})),yZ=M.createContext(!1),eve=()=>M.useContext(yZ);yZ.Provider;function tve(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var nve=M.createContext(tve()),rve=()=>M.useContext(nve),ive=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},sve=t=>{M.useEffect(()=>{t.clearReset()},[t])},ave=({result:t,errorResetBoundary:e,throwOnError:n,query:r,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(i&&t.data===void 0||fZ(n,[t.error,r])),ove=t=>{if(t.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},lve=(t,e)=>t.isLoading&&t.isFetching&&!e,cve=(t,e)=>t?.suspense&&e.isPending,$$=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function uve(t,e,n){const r=eve(),i=rve(),a=Zf(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",ove(o),ive(o,i),sve(i);const l=!a.getQueryCache().get(o.queryHash),[c]=M.useState(()=>new e(a,o)),u=c.getOptimisticResult(o),d=!r&&t.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(f=>{const h=d?c.subscribe(Oi.batchCalls(f)):aa;return c.updateResult(),h},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),M.useEffect(()=>{c.setOptions(o)},[o,c]),cve(o,u))throw $$(o,c,i);if(ave({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Tp&&lve(u,r)&&(l?$$(o,c,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(aa).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function ci(t,e){return uve(t,Vge)}function ql(t,e){const n=Zf(),[r]=M.useState(()=>new Kge(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const i=M.useSyncExternalStore(M.useCallback(o=>r.subscribe(Oi.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=M.useCallback((o,l)=>{r.mutate(o,l).catch(aa)},[r]);if(i.error&&fZ(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W0.apply(this,arguments)}var ff;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ff||(ff={}));const z$="popstate";function dve(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=em(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),oI("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof a=="string"?a:uj(a))}function r(i,a){t4(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return hve(e,n,r,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function t4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fve(){return Math.random().toString(36).substr(2,8)}function H$(t,e){return{usr:t.state,key:t.key,idx:e}}function oI(t,e,n,r){return n===void 0&&(n=null),W0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?em(e):e,{state:n,key:e&&e.key||r||fve()})}function uj(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function em(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hve(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=ff.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(W0({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ff.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:g.location,delta:b})}function h(v,b){l=ff.Push;let w=oI(g.location,v,b);n&&n(w,v),u=d()+1;let _=H$(w,u),S=g.createHref(w);try{o.pushState(_,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(S)}a&&c&&c({action:l,location:g.location,delta:1})}function p(v,b){l=ff.Replace;let w=oI(g.location,v,b);n&&n(w,v),u=d();let _=H$(w,u),S=g.createHref(w);o.replaceState(_,"",S),a&&c&&c({action:l,location:g.location,delta:0})}function y(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:uj(v);return w=w.replace(/ $/,"%20"),ui(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let g={get action(){return l},get location(){return t(i,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(z$,f),c=v,()=>{i.removeEventListener(z$,f),c=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let b=y(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return o.go(v)}};return g}var V$;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(V$||(V$={}));function pve(t,e,n){return n===void 0&&(n="/"),mve(t,e,n)}function mve(t,e,n,r){let i=typeof e=="string"?em(e):e,a=n4(i.pathname||"/",n);if(a==null)return null;let o=bZ(t);gve(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Cve(a);l=Eve(o[c],u)}return l}function bZ(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ui(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Af([r,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(ui(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bZ(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Sve(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of wZ(a.path))i(a,o,c)}),e}function wZ(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=wZ(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function gve(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jve(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const vve=/^:[\w-]+$/,xve=3,yve=2,bve=1,wve=10,_ve=-2,q$=t=>t==="*";function Sve(t,e){let n=t.split("/"),r=n.length;return n.some(q$)&&(r+=_ve),e&&(r+=yve),n.filter(i=>!q$(i)).reduce((i,a)=>i+(vve.test(a)?xve:a===""?bve:wve),r)}function jve(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Eve(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=Nve({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Af([a,f.pathname]),pathnameBase:Dve(Af([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Af([a,f.pathnameBase]))}return o}function Nve(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ave(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=l[f]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Ave(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),t4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Cve(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function n4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Mve(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?em(t):t;return{pathname:n?n.startsWith("/")?n:Tve(n,e):e,search:Rve(r),hash:Ove(i)}}function Tve(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vC(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Pve(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function r4(t,e){let n=Pve(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function i4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=em(t):(i=W0({},t),ui(!i.pathname||!i.pathname.includes("?"),vC("?","pathname","search",i)),ui(!i.pathname||!i.pathname.includes("#"),vC("#","pathname","hash",i)),ui(!i.search||!i.search.includes("#"),vC("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let c=Mve(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Af=t=>t.join("/").replace(/\/\/+/g,"/"),Dve=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Rve=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ove=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ive(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _Z=["post","put","patch","delete"];new Set(_Z);const kve=["get",..._Z];new Set(kve);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X0.apply(this,arguments)}const s4=M.createContext(null),Lve=M.createContext(null),Jf=M.createContext(null),uN=M.createContext(null),md=M.createContext({outlet:null,matches:[],isDataRoute:!1}),SZ=M.createContext(null);function Fve(t,e){let{relative:n}=e===void 0?{}:e;fx()||ui(!1);let{basename:r,navigator:i}=M.useContext(Jf),{hash:a,pathname:o,search:l}=EZ(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Af([r,o])),i.createHref({pathname:c,search:l,hash:a})}function fx(){return M.useContext(uN)!=null}function ac(){return fx()||ui(!1),M.useContext(uN).location}function jZ(t){M.useContext(Jf).static||M.useLayoutEffect(t)}function xa(){let{isDataRoute:t}=M.useContext(md);return t?Qve():Uve()}function Uve(){fx()||ui(!1);let t=M.useContext(s4),{basename:e,future:n,navigator:r}=M.useContext(Jf),{matches:i}=M.useContext(md),{pathname:a}=ac(),o=JSON.stringify(r4(i,n.v7_relativeSplatPath)),l=M.useRef(!1);return jZ(()=>{l.current=!0}),M.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=i4(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Af([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,a,t])}function dN(){let{matches:t}=M.useContext(md),e=t[t.length-1];return e?e.params:{}}function EZ(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=M.useContext(Jf),{matches:i}=M.useContext(md),{pathname:a}=ac(),o=JSON.stringify(r4(i,r.v7_relativeSplatPath));return M.useMemo(()=>i4(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function Bve(t,e){return $ve(t,e)}function $ve(t,e,n,r){fx()||ui(!1);let{navigator:i}=M.useContext(Jf),{matches:a}=M.useContext(md),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ac(),d;if(e){var f;let v=typeof e=="string"?em(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||ui(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=pve(t,{pathname:p}),g=Gve(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Af([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Af([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return e&&g?M.createElement(uN.Provider,{value:{location:X0({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ff.Pop}},g):g}function zve(){let t=Kve(),e=Ive(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const Hve=M.createElement(zve,null);class Vve extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(md.Provider,{value:this.props.routeContext},M.createElement(SZ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qve(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(s4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(md.Provider,{value:e},r)}function Gve(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||ui(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,g=null,v=null;n&&(p=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||Hve,c&&(u<0&&h===0?(Zve("route-fallback"),y=!0,v=null):u===h&&(y=!0,v=f.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,h+1)),w=()=>{let _;return p?_=g:y?_=v:f.route.Component?_=M.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,M.createElement(qve,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?M.createElement(Vve,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var NZ=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(NZ||{}),AZ=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(AZ||{});function Wve(t){let e=M.useContext(s4);return e||ui(!1),e}function Xve(t){let e=M.useContext(Lve);return e||ui(!1),e}function Yve(t){let e=M.useContext(md);return e||ui(!1),e}function CZ(t){let e=Yve(),n=e.matches[e.matches.length-1];return n.route.id||ui(!1),n.route.id}function Kve(){var t;let e=M.useContext(SZ),n=Xve(),r=CZ();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qve(){let{router:t}=Wve(NZ.UseNavigateStable),e=CZ(AZ.UseNavigateStable),n=M.useRef(!1);return jZ(()=>{n.current=!0}),M.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,X0({fromRouteId:e},a)))},[t,e])}const G$={};function Zve(t,e,n){G$[t]||(G$[t]=!0)}function Jve(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Ky(t){let{to:e,replace:n,state:r,relative:i}=t;fx()||ui(!1);let{future:a,static:o}=M.useContext(Jf),{matches:l}=M.useContext(md),{pathname:c}=ac(),u=xa(),d=i4(e,r4(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return M.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Ht(t){ui(!1)}function exe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ff.Pop,navigator:a,static:o=!1,future:l}=t;fx()&&ui(!1);let c=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:c,navigator:a,static:o,future:X0({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=em(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,g=M.useMemo(()=>{let v=n4(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:y},navigationType:i}},[c,d,f,h,p,y,i]);return g==null?null:M.createElement(Jf.Provider,{value:u},M.createElement(uN.Provider,{children:n,value:g}))}function txe(t){let{children:e,location:n}=t;return Bve(lI(e),n)}new Promise(()=>{});function lI(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let a=[...e,i];if(r.type===M.Fragment){n.push.apply(n,lI(r.props.children,a));return}r.type!==Ht&&ui(!1),!r.props.index||!r.props.children||ui(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lI(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cI(){return cI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cI.apply(this,arguments)}function nxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rxe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ixe(t,e){return t.button===0&&(!e||e==="_self")&&!rxe(t)}function uI(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function sxe(t,e){let n=uI(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const axe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oxe="6";try{window.__reactRouterVersion=oxe}catch{}const lxe="startTransition",W$=UL[lxe];function cxe(t){let{basename:e,children:n,future:r,window:i}=t,a=M.useRef();a.current==null&&(a.current=dve({window:i,v5Compat:!0}));let o=a.current,[l,c]=M.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=M.useCallback(f=>{u&&W$?W$(()=>c(f)):c(f)},[c,u]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.useEffect(()=>Jve(r),[r]),M.createElement(exe,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const uxe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dxe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=M.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=nxe(e,axe),{basename:p}=M.useContext(Jf),y,g=!1;if(typeof u=="string"&&dxe.test(u)&&(y=u,uxe))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),j=n4(S.pathname,p);S.origin===_.origin&&j!=null?u=j+S.search+S.hash:g=!0}catch{}let v=Fve(u,{relative:i}),b=fxe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||b(_)}return M.createElement("a",cI({},h,{href:y||v,onClick:g||a?r:w,ref:n,target:c}))});var X$;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X$||(X$={}));var Y$;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y$||(Y$={}));function fxe(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=xa(),u=ac(),d=EZ(t,{relative:o});return M.useCallback(f=>{if(ixe(f,n)){f.preventDefault();let h=r!==void 0?r:uj(u)===uj(d);c(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,r,i,n,t,a,o,l])}function hxe(t){let e=M.useRef(uI(t)),n=M.useRef(!1),r=ac(),i=M.useMemo(()=>sxe(r.search,n.current?null:e.current),[r.search]),a=xa(),o=M.useCallback((l,c)=>{const u=uI(typeof l=="function"?l(i):l);n.current=!0,a("?"+u,c)},[a,i]);return[i,o]}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pxe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mxe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),K$=t=>{const e=mxe(t);return e.charAt(0).toUpperCase()+e.slice(1)},MZ=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),gxe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xxe=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>M.createElement("svg",{ref:c,...vxe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MZ("lucide",i),...!a&&!gxe(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>M.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(t,e)=>{const n=M.forwardRef(({className:r,...i},a)=>M.createElement(xxe,{ref:a,iconNode:e,className:MZ(`lucide-${pxe(K$(t))}`,`lucide-${t}`,r),...i}));return n.displayName=K$(t),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yxe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Q$=ft("activity",yxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bxe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],oi=ft("arrow-right",bxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wxe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],_xe=ft("arrow-up-right",wxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sxe=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],av=ft("award",Sxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Exe=ft("ban",jxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nxe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Z$=ft("bell-ring",Nxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Axe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Yu=ft("bell",Axe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cxe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Mxe=ft("book-open",Cxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],J$=ft("bot",Txe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zh=ft("briefcase",Pxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dxe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],a4=ft("calendar",Dxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rxe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Oxe=ft("camera",Rxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dp=ft("chart-column",Ixe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kxe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ul=ft("check",kxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lxe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],o4=ft("chevron-down",Lxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fxe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],TZ=ft("chevron-right",Fxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uxe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],l4=ft("chevron-up",Uxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$a=ft("circle-alert",Bxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fi=ft("circle-check-big",$xe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hxe=ft("circle-question-mark",zxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ov=ft("circle-x",Vxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qxe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],PZ=ft("circle",qxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gxe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wxe=ft("clock-4",Gxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xxe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ui=ft("clock",Xxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Kxe=ft("code",Yxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qxe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Rp=ft("copy",Qxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zxe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Jl=ft("credit-card",Zxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jxe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],kr=ft("dollar-sign",Jxe);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Xc=ft("download",eye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]],nye=ft("expand",tye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],c4=ft("external-link",rye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iye=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dI=ft("eye-off",iye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sye=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$s=ft("eye",sye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aye=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],oye=ft("facebook",aye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lye=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],DZ=ft("file-text",lye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cye=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],RZ=ft("folder-open",cye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uye=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dye=ft("funnel",uye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fye=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],hye=ft("gift",fye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Y0=ft("globe",pye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mye=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],OZ=ft("headphones",mye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yc=ft("heart",gye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vye=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xye=ft("house",vye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K0=ft("image",yye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wye=ft("info",bye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Sye=ft("instagram",_ye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Eye=ft("keyboard",jye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Aye=ft("layout-dashboard",Nye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cye=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],IZ=ft("lightbulb",Cye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xC=ft("link",Mye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Da=ft("loader-circle",Tye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],dj=ft("lock",Pye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kZ=ft("log-out",Dye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kc=ft("mail",Rye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Q0=ft("map-pin",Oye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],kye=ft("maximize",Iye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],LZ=ft("menu",Lye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],FZ=ft("message-circle",Fye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Bye=ft("message-square",Uye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=[["path",{d:"M5 12h14",key:"1ays0h"}]],UZ=ft("minus",$ye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],BZ=ft("monitor",zye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],fI=ft("moon",Hye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],er=ft("package",Vye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],hI=ft("palette",qye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Wye=ft("pause",Gye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Yye=ft("percent",Xye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hf=ft("phone",Kye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Zye=ft("play",Qye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sl=ft("plus",Jye);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],t0e=ft("power-off",e0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],r0e=ft("power",n0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],s0e=ft("qr-code",i0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hx=ft("refresh-cw",a0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],$Z=ft("rotate-cw",o0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],c0e=ft("save",l0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dl=ft("search",u0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],u4=ft("send",d0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zZ=ft("settings",f0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],fw=ft("share-2",h0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],m0e=ft("shield-check",p0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fs=ft("shield",g0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0e=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],hw=ft("shopping-bag",v0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ti=ft("shopping-cart",x0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],b0e=ft("sliders-horizontal",y0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HZ=ft("sparkles",w0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S0e=ft("square-check-big",_0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ld=ft("square-pen",j0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],da=ft("star",E0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],A0e=ft("store",N0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],fj=ft("sun",C0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],hj=ft("tag",M0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],VZ=ft("target",T0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fl=ft("trash-2",P0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Z0=ft("trending-down",D0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],br=ft("trending-up",R0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fN=ft("triangle-alert",O0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],va=ft("truck",I0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],L0e=ft("twitter",k0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lv=ft("upload",F0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AS=ft("user-check",U0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$0e=ft("user-plus",B0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cv=ft("user",z0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wi=ft("users",H0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],q0e=ft("video",V0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],W0e=ft("wallet",G0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tm=ft("x",X0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],K0e=ft("youtube",Y0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],e8=ft("zap",Q0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],qZ=ft("zoom-in",Z0e);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ebe=ft("zoom-out",J0e),t8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,n8=dn,pw=(t,e)=>n=>{var r;if(e?.variants==null)return n8(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=n?.[u],f=a?.[u];if(d===null)return null;const h=t8(d)||t8(f);return i[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[g,v]=y;return Array.isArray(v)?v.includes({...a,...l}[g]):{...a,...l}[g]===v})?[...u,f,h]:u},[]);return n8(t,o,c,n?.class,n?.className)},pI=pw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=M.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?wQ:"button";return s.jsx(o,{className:Nt(pI({variant:e,size:n,className:t})),ref:a,...i})});ge.displayName="Button";var r8=1,tbe=.9,nbe=.8,rbe=.17,yC=.1,bC=.999,ibe=.9999,sbe=.99,abe=/[\\\/_+.#"@\[\(\{&]/,obe=/[\\\/_+.#"@\[\(\{&]/g,lbe=/[\s-]/,GZ=/[\s-]/g;function mI(t,e,n,r,i,a,o){if(a===e.length)return i===t.length?r8:sbe;var l=`${i},${a}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(a),u=n.indexOf(c,i),d=0,f,h,p,y;u>=0;)f=mI(t,e,n,r,u+1,a+1,o),f>d&&(u===i?f*=r8:abe.test(t.charAt(u-1))?(f*=nbe,p=t.slice(i,u-1).match(obe),p&&i>0&&(f*=Math.pow(bC,p.length))):lbe.test(t.charAt(u-1))?(f*=tbe,y=t.slice(i,u-1).match(GZ),y&&i>0&&(f*=Math.pow(bC,y.length))):(f*=rbe,i>0&&(f*=Math.pow(bC,u-i))),t.charAt(u)!==e.charAt(a)&&(f*=ibe)),(f<yC&&n.charAt(u-1)===r.charAt(a+1)||r.charAt(a+1)===r.charAt(a)&&n.charAt(u-1)!==r.charAt(a))&&(h=mI(t,e,n,r,u+1,a+2,o),h*yC>f&&(f=h*yC)),f>d&&(d=f),u=n.indexOf(c,u+1);return o[l]=d,d}function i8(t){return t.toLowerCase().replace(GZ," ")}function cbe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,mI(t,e,i8(t),i8(e),0,0,{})}var wC="focusScope.autoFocusOnMount",_C="focusScope.autoFocusOnUnmount",s8={bubbles:!1,cancelable:!0},ube="FocusScope",mw=M.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=M.useState(null),u=is(i),d=is(a),f=M.useRef(null),h=Jt(e,g=>c(g)),p=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(r){let g=function(_){if(p.paused||!l)return;const S=_.target;l.contains(S)?f.current=S:Jd(f.current,{select:!0})},v=function(_){if(p.paused||!l)return;const S=_.relatedTarget;S!==null&&(l.contains(S)||Jd(f.current,{select:!0}))},b=function(_){if(document.activeElement===document.body)for(const j of _)j.removedNodes.length>0&&Jd(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,p.paused]),M.useEffect(()=>{if(l){o8.add(p);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(wC,s8);l.addEventListener(wC,u),l.dispatchEvent(b),b.defaultPrevented||(dbe(gbe(WZ(l)),{select:!0}),document.activeElement===g&&Jd(l))}return()=>{l.removeEventListener(wC,u),setTimeout(()=>{const b=new CustomEvent(_C,s8);l.addEventListener(_C,d),l.dispatchEvent(b),b.defaultPrevented||Jd(g??document.body,{select:!0}),l.removeEventListener(_C,d),o8.remove(p)},0)}}},[l,u,d,p]);const y=M.useCallback(g=>{if(!n&&!r||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const w=g.currentTarget,[_,S]=fbe(w);_&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Jd(_,{select:!0})):g.shiftKey&&b===_&&(g.preventDefault(),n&&Jd(S,{select:!0})):b===w&&g.preventDefault()}},[n,r,p.paused]);return s.jsx(Mt.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});mw.displayName=ube;function dbe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Jd(r,{select:e}),document.activeElement!==n)return}function fbe(t){const e=WZ(t),n=a8(e,t),r=a8(e.reverse(),t);return[n,r]}function WZ(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function a8(t,e){for(const n of t)if(!hbe(n,{upTo:e}))return n}function hbe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function pbe(t){return t instanceof HTMLInputElement&&"select"in t}function Jd(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&pbe(t)&&e&&t.select()}}var o8=mbe();function mbe(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=l8(t,e),t.unshift(e)},remove(e){t=l8(t,e),t[0]?.resume()}}}function l8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gbe(t){return t.filter(e=>e.tagName!=="A")}var SC=0;function hN(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??c8()),document.body.insertAdjacentElement("beforeend",t[1]??c8()),SC++,()=>{SC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),SC--}},[])}function c8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jc=function(){return jc=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},jc.apply(this,arguments)};function XZ(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vbe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var CS="right-scroll-bar-position",MS="width-before-scroll-bar",xbe="with-scroll-bars-hidden",ybe="--removed-body-scroll-bar-size";function jC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bbe(t,e){var n=M.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var wbe=typeof window<"u"?M.useLayoutEffect:M.useEffect,u8=new WeakMap;function _be(t,e){var n=bbe(null,function(r){return t.forEach(function(i){return jC(i,r)})});return wbe(function(){var r=u8.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||jC(l,null)}),a.forEach(function(l){i.has(l)||jC(l,o)})}u8.set(n,t)},[t]),n}function Sbe(t){return t}function jbe(t,e){e===void 0&&(e=Sbe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function Ebe(t){t===void 0&&(t={});var e=jbe(null);return e.options=jc({async:!0,ssr:!1},t),e}var YZ=function(t){var e=t.sideCar,n=XZ(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,jc({},n))};YZ.isSideCarExport=!0;function Nbe(t,e){return t.useMedium(e),YZ}var KZ=Ebe(),EC=function(){},pN=M.forwardRef(function(t,e){var n=M.useRef(null),r=M.useState({onScrollCapture:EC,onWheelCapture:EC,onTouchMoveCapture:EC}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,p=t.noRelative,y=t.noIsolation,g=t.inert,v=t.allowPinchZoom,b=t.as,w=b===void 0?"div":b,_=t.gapMode,S=XZ(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,A=_be([n,e]),C=jc(jc({},S),i);return M.createElement(M.Fragment,null,d&&M.createElement(j,{sideCar:KZ,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:_}),o?M.cloneElement(M.Children.only(l),jc(jc({},C),{ref:A})):M.createElement(w,jc({},C,{className:c,ref:A}),l))});pN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pN.classNames={fullWidth:MS,zeroRight:CS};var Abe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Cbe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Abe();return e&&t.setAttribute("nonce",e),t}function Mbe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Tbe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Pbe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Cbe())&&(Mbe(e,n),Tbe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dbe=function(){var t=Pbe();return function(e,n){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},QZ=function(){var t=Dbe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Rbe={left:0,top:0,right:0,gap:0},NC=function(t){return parseInt(t||"",10)||0},Obe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[NC(n),NC(r),NC(i)]},Ibe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Rbe;var e=Obe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},kbe=QZ(),kg="data-scroll-locked",Lbe=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(xbe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(kg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(CS,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(MS,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(CS," .").concat(CS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(MS," .").concat(MS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(kg,`] {
    `).concat(ybe,": ").concat(l,`px;
  }
`)},d8=function(){var t=parseInt(document.body.getAttribute(kg)||"0",10);return isFinite(t)?t:0},Fbe=function(){M.useEffect(function(){return document.body.setAttribute(kg,(d8()+1).toString()),function(){var t=d8()-1;t<=0?document.body.removeAttribute(kg):document.body.setAttribute(kg,t.toString())}},[])},Ube=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Fbe();var a=M.useMemo(function(){return Ibe(i)},[i]);return M.createElement(kbe,{styles:Lbe(a,!e,i,n?"":"!important")})},gI=!1;if(typeof window<"u")try{var Z1=Object.defineProperty({},"passive",{get:function(){return gI=!0,!0}});window.addEventListener("test",Z1,Z1),window.removeEventListener("test",Z1,Z1)}catch{gI=!1}var Om=gI?{passive:!1}:!1,Bbe=function(t){return t.tagName==="TEXTAREA"},ZZ=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Bbe(t)&&n[e]==="visible")},$be=function(t){return ZZ(t,"overflowY")},zbe=function(t){return ZZ(t,"overflowX")},f8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=JZ(t,r);if(i){var a=eJ(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Hbe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Vbe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},JZ=function(t,e){return t==="v"?$be(e):zbe(e)},eJ=function(t,e){return t==="v"?Hbe(e):Vbe(e)},qbe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Gbe=function(t,e,n,r,i){var a=qbe(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var p=eJ(t,l),y=p[0],g=p[1],v=p[2],b=g-v-a*y;(y||b)&&JZ(t,l)&&(f+=b,h+=y);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},J1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},h8=function(t){return[t.deltaX,t.deltaY]},p8=function(t){return t&&"current"in t?t.current:t},Wbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xbe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ybe=0,Im=[];function Kbe(t){var e=M.useRef([]),n=M.useRef([0,0]),r=M.useRef(),i=M.useState(Ybe++)[0],a=M.useState(QZ)[0],o=M.useRef(t);M.useEffect(function(){o.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=vbe([t.lockRef.current],(t.shards||[]).map(p8),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=M.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=J1(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-b[0],S="deltaY"in g?g.deltaY:w[1]-b[1],j,A=g.target,C=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&C==="h"&&A.type==="range")return!1;var N=f8(C,A);if(!N)return!0;if(N?j=C:(j=C==="v"?"h":"v",N=f8(C,A)),!N)return!1;if(!r.current&&"changedTouches"in g&&(_||S)&&(r.current=j),!j)return!0;var T=r.current||j;return Gbe(T,v,g,T==="h"?_:S)},[]),c=M.useCallback(function(g){var v=g;if(!(!Im.length||Im[Im.length-1]!==a)){var b="deltaY"in v?h8(v):J1(v),w=e.current.filter(function(j){return j.name===v.type&&(j.target===v.target||v.target===j.shadowParent)&&Wbe(j.delta,b)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(o.current.shards||[]).map(p8).filter(Boolean).filter(function(j){return j.contains(v.target)}),S=_.length>0?l(v,_[0]):!o.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=M.useCallback(function(g,v,b,w){var _={name:g,delta:v,target:b,should:w,shadowParent:Qbe(b)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),d=M.useCallback(function(g){n.current=J1(g),r.current=void 0},[]),f=M.useCallback(function(g){u(g.type,h8(g),g.target,l(g,t.lockRef.current))},[]),h=M.useCallback(function(g){u(g.type,J1(g),g.target,l(g,t.lockRef.current))},[]);M.useEffect(function(){return Im.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Om),document.addEventListener("touchmove",c,Om),document.addEventListener("touchstart",d,Om),function(){Im=Im.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Om),document.removeEventListener("touchmove",c,Om),document.removeEventListener("touchstart",d,Om)}},[]);var p=t.removeScrollBar,y=t.inert;return M.createElement(M.Fragment,null,y?M.createElement(a,{styles:Xbe(i)}):null,p?M.createElement(Ube,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Qbe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Zbe=Nbe(KZ,Kbe);var gw=M.forwardRef(function(t,e){return M.createElement(pN,jc({},t,{ref:e,sideCar:Zbe}))});gw.classNames=pN.classNames;var Jbe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},km=new WeakMap,e_=new WeakMap,t_={},AC=0,tJ=function(t){return t&&(t.host||tJ(t.parentNode))},ewe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=tJ(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},twe=function(t,e,n,r){var i=ewe(e,Array.isArray(t)?t:[t]);t_[n]||(t_[n]=new WeakMap);var a=t_[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(km.get(h)||0)+1,v=(a.get(h)||0)+1;km.set(h,g),a.set(h,v),o.push(h),g===1&&y&&e_.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(e),l.clear(),AC++,function(){o.forEach(function(f){var h=km.get(f)-1,p=a.get(f)-1;km.set(f,h),a.set(f,p),h||(e_.has(f)||f.removeAttribute(r),e_.delete(f)),p||f.removeAttribute(n)}),AC--,AC||(km=new WeakMap,km=new WeakMap,e_=new WeakMap,t_={})}},mN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Jbe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),twe(r,i,n,"aria-hidden")):function(){return null}},gN="Dialog",[nJ]=Ni(gN),[nwe,oc]=nJ(gN),rJ=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=M.useRef(null),c=M.useRef(null),[u,d]=Ba({prop:r,defaultProp:i??!1,onChange:a,caller:gN});return s.jsx(nwe,{scope:e,triggerRef:l,contentRef:c,contentId:Li(),titleId:Li(),descriptionId:Li(),open:u,onOpenChange:d,onOpenToggle:M.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};rJ.displayName=gN;var iJ="DialogTrigger",sJ=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oc(iJ,n),a=Jt(e,i.triggerRef);return s.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":h4(i.open),...r,ref:a,onClick:St(t.onClick,i.onOpenToggle)})});sJ.displayName=iJ;var d4="DialogPortal",[rwe,aJ]=nJ(d4,{forceMount:void 0}),oJ=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=oc(d4,e);return s.jsx(rwe,{scope:e,forceMount:n,children:M.Children.map(r,o=>s.jsx(Hi,{present:n||a.open,children:s.jsx(dw,{asChild:!0,container:i,children:o})}))})};oJ.displayName=d4;var pj="DialogOverlay",lJ=M.forwardRef((t,e)=>{const n=aJ(pj,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=oc(pj,t.__scopeDialog);return a.modal?s.jsx(Hi,{present:r||a.open,children:s.jsx(swe,{...i,ref:e})}):null});lJ.displayName=pj;var iwe=Lf("DialogOverlay.RemoveScroll"),swe=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oc(pj,n);return s.jsx(gw,{as:iwe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Mt.div,{"data-state":h4(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Op="DialogContent",cJ=M.forwardRef((t,e)=>{const n=aJ(Op,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=oc(Op,t.__scopeDialog);return s.jsx(Hi,{present:r||a.open,children:a.modal?s.jsx(awe,{...i,ref:e}):s.jsx(owe,{...i,ref:e})})});cJ.displayName=Op;var awe=M.forwardRef((t,e)=>{const n=oc(Op,t.__scopeDialog),r=M.useRef(null),i=Jt(e,n.contentRef,r);return M.useEffect(()=>{const a=r.current;if(a)return mN(a)},[]),s.jsx(uJ,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:St(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:St(t.onFocusOutside,a=>a.preventDefault())})}),owe=M.forwardRef((t,e)=>{const n=oc(Op,t.__scopeDialog),r=M.useRef(!1),i=M.useRef(!1);return s.jsx(uJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),uJ=M.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=oc(Op,n),c=M.useRef(null),u=Jt(e,c);return hN(),s.jsxs(s.Fragment,{children:[s.jsx(mw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(ox,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":h4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(lwe,{titleId:l.titleId}),s.jsx(uwe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),f4="DialogTitle",dJ=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oc(f4,n);return s.jsx(Mt.h2,{id:i.titleId,...r,ref:e})});dJ.displayName=f4;var fJ="DialogDescription",hJ=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oc(fJ,n);return s.jsx(Mt.p,{id:i.descriptionId,...r,ref:e})});hJ.displayName=fJ;var pJ="DialogClose",mJ=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=oc(pJ,n);return s.jsx(Mt.button,{type:"button",...r,ref:e,onClick:St(t.onClick,()=>i.onOpenChange(!1))})});mJ.displayName=pJ;function h4(t){return t?"open":"closed"}var gJ="DialogTitleWarning",[znt,vJ]=zhe(gJ,{contentName:Op,titleName:f4,docsSlug:"dialog"}),lwe=({titleId:t})=>{const e=vJ(gJ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},cwe="DialogDescriptionWarning",uwe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vJ(cwe).contentName}}.`;return M.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},p4=rJ,xJ=sJ,m4=oJ,vw=lJ,xw=cJ,vN=dJ,xN=hJ,yJ=mJ,yy='[cmdk-group=""]',CC='[cmdk-group-items=""]',dwe='[cmdk-group-heading=""]',bJ='[cmdk-item=""]',m8=`${bJ}:not([aria-disabled="true"])`,vI="cmdk-item-select",gg="data-value",fwe=(t,e,n)=>cbe(t,e,n),wJ=M.createContext(void 0),yw=()=>M.useContext(wJ),_J=M.createContext(void 0),g4=()=>M.useContext(_J),SJ=M.createContext(void 0),jJ=M.forwardRef((t,e)=>{let n=vg(()=>{var W,le;return{search:"",value:(le=(W=t.value)!=null?W:t.defaultValue)!=null?le:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=vg(()=>new Set),i=vg(()=>new Map),a=vg(()=>new Map),o=vg(()=>new Set),l=EJ(t),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:p,loop:y,disablePointerSelection:g=!1,vimBindings:v=!0,...b}=t,w=Li(),_=Li(),S=Li(),j=M.useRef(null),A=Swe();Ip(()=>{if(d!==void 0){let W=d.trim();n.current.value=W,C.emit()}},[d]),Ip(()=>{A(6,I)},[]);let C=M.useMemo(()=>({subscribe:W=>(o.current.add(W),()=>o.current.delete(W)),snapshot:()=>n.current,setState:(W,le,ie)=>{var re,_e,pe,Ne;if(!Object.is(n.current[W],le)){if(n.current[W]=le,W==="search")O(),P(),A(1,D);else if(W==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let je=document.getElementById(S);je?je.focus():(re=document.getElementById(w))==null||re.focus()}if(A(7,()=>{var je;n.current.selectedItemId=(je=L())==null?void 0:je.id,C.emit()}),ie||A(5,I),((_e=l.current)==null?void 0:_e.value)!==void 0){let je=le??"";(Ne=(pe=l.current).onValueChange)==null||Ne.call(pe,je);return}}C.emit()}},emit:()=>{o.current.forEach(W=>W())}}),[]),N=M.useMemo(()=>({value:(W,le,ie)=>{var re;le!==((re=a.current.get(W))==null?void 0:re.value)&&(a.current.set(W,{value:le,keywords:ie}),n.current.filtered.items.set(W,T(le,ie)),A(2,()=>{P(),C.emit()}))},item:(W,le)=>(r.current.add(W),le&&(i.current.has(le)?i.current.get(le).add(W):i.current.set(le,new Set([W]))),A(3,()=>{O(),P(),n.current.value||D(),C.emit()}),()=>{a.current.delete(W),r.current.delete(W),n.current.filtered.items.delete(W);let ie=L();A(4,()=>{O(),ie?.getAttribute("id")===W&&D(),C.emit()})}),group:W=>(i.current.has(W)||i.current.set(W,new Set),()=>{a.current.delete(W),i.current.delete(W)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:w,inputId:S,labelId:_,listInnerRef:j}),[]);function T(W,le){var ie,re;let _e=(re=(ie=l.current)==null?void 0:ie.filter)!=null?re:fwe;return W?_e(W,n.current.search,le):0}function P(){if(!n.current.search||l.current.shouldFilter===!1)return;let W=n.current.filtered.items,le=[];n.current.filtered.groups.forEach(re=>{let _e=i.current.get(re),pe=0;_e.forEach(Ne=>{let je=W.get(Ne);pe=Math.max(je,pe)}),le.push([re,pe])});let ie=j.current;z().sort((re,_e)=>{var pe,Ne;let je=re.getAttribute("id"),Oe=_e.getAttribute("id");return((pe=W.get(Oe))!=null?pe:0)-((Ne=W.get(je))!=null?Ne:0)}).forEach(re=>{let _e=re.closest(CC);_e?_e.appendChild(re.parentElement===_e?re:re.closest(`${CC} > *`)):ie.appendChild(re.parentElement===ie?re:re.closest(`${CC} > *`))}),le.sort((re,_e)=>_e[1]-re[1]).forEach(re=>{var _e;let pe=(_e=j.current)==null?void 0:_e.querySelector(`${yy}[${gg}="${encodeURIComponent(re[0])}"]`);pe?.parentElement.appendChild(pe)})}function D(){let W=z().find(ie=>ie.getAttribute("aria-disabled")!=="true"),le=W?.getAttribute(gg);C.setState("value",le||void 0)}function O(){var W,le,ie,re;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let _e=0;for(let pe of r.current){let Ne=(le=(W=a.current.get(pe))==null?void 0:W.value)!=null?le:"",je=(re=(ie=a.current.get(pe))==null?void 0:ie.keywords)!=null?re:[],Oe=T(Ne,je);n.current.filtered.items.set(pe,Oe),Oe>0&&_e++}for(let[pe,Ne]of i.current)for(let je of Ne)if(n.current.filtered.items.get(je)>0){n.current.filtered.groups.add(pe);break}n.current.filtered.count=_e}function I(){var W,le,ie;let re=L();re&&(((W=re.parentElement)==null?void 0:W.firstChild)===re&&((ie=(le=re.closest(yy))==null?void 0:le.querySelector(dwe))==null||ie.scrollIntoView({block:"nearest"})),re.scrollIntoView({block:"nearest"}))}function L(){var W;return(W=j.current)==null?void 0:W.querySelector(`${bJ}[aria-selected="true"]`)}function z(){var W;return Array.from(((W=j.current)==null?void 0:W.querySelectorAll(m8))||[])}function q(W){let le=z()[W];le&&C.setState("value",le.getAttribute(gg))}function V(W){var le;let ie=L(),re=z(),_e=re.findIndex(Ne=>Ne===ie),pe=re[_e+W];(le=l.current)!=null&&le.loop&&(pe=_e+W<0?re[re.length-1]:_e+W===re.length?re[0]:re[_e+W]),pe&&C.setState("value",pe.getAttribute(gg))}function F(W){let le=L(),ie=le?.closest(yy),re;for(;ie&&!re;)ie=W>0?wwe(ie,yy):_we(ie,yy),re=ie?.querySelector(m8);re?C.setState("value",re.getAttribute(gg)):V(W)}let U=()=>q(z().length-1),H=W=>{W.preventDefault(),W.metaKey?U():W.altKey?F(1):V(1)},$=W=>{W.preventDefault(),W.metaKey?q(0):W.altKey?F(-1):V(-1)};return M.createElement(Mt.div,{ref:e,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:W=>{var le;(le=b.onKeyDown)==null||le.call(b,W);let ie=W.nativeEvent.isComposing||W.keyCode===229;if(!(W.defaultPrevented||ie))switch(W.key){case"n":case"j":{v&&W.ctrlKey&&H(W);break}case"ArrowDown":{H(W);break}case"p":case"k":{v&&W.ctrlKey&&$(W);break}case"ArrowUp":{$(W);break}case"Home":{W.preventDefault(),q(0);break}case"End":{W.preventDefault(),U();break}case"Enter":{W.preventDefault();let re=L();if(re){let _e=new Event(vI);re.dispatchEvent(_e)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:Ewe},c),yN(t,W=>M.createElement(_J.Provider,{value:C},M.createElement(wJ.Provider,{value:N},W))))}),hwe=M.forwardRef((t,e)=>{var n,r;let i=Li(),a=M.useRef(null),o=M.useContext(SJ),l=yw(),c=EJ(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o?.forceMount;Ip(()=>{if(!u)return l.item(i,o?.id)},[u]);let d=NJ(i,a,[t.value,t.children,a],t.keywords),f=g4(),h=Bf(A=>A.value&&A.value===d.current),p=Bf(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(i)>0:!0);M.useEffect(()=>{let A=a.current;if(!(!A||t.disabled))return A.addEventListener(vI,y),()=>A.removeEventListener(vI,y)},[p,t.onSelect,t.disabled]);function y(){var A,C;g(),(C=(A=c.current).onSelect)==null||C.call(A,d.current)}function g(){f.setState("value",d.current,!0)}if(!p)return null;let{disabled:v,value:b,onSelect:w,forceMount:_,keywords:S,...j}=t;return M.createElement(Mt.div,{ref:sd(a,e),...j,id:i,"cmdk-item":"",role:"option","aria-disabled":!!v,"aria-selected":!!h,"data-disabled":!!v,"data-selected":!!h,onPointerMove:v||l.getDisablePointerSelection()?void 0:g,onClick:v?void 0:y},t.children)}),pwe=M.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...a}=t,o=Li(),l=M.useRef(null),c=M.useRef(null),u=Li(),d=yw(),f=Bf(p=>i||d.filter()===!1?!0:p.search?p.filtered.groups.has(o):!0);Ip(()=>d.group(o),[]),NJ(o,l,[t.value,t.heading,c]);let h=M.useMemo(()=>({id:o,forceMount:i}),[i]);return M.createElement(Mt.div,{ref:sd(l,e),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&M.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),yN(t,p=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},M.createElement(SJ.Provider,{value:h},p))))}),mwe=M.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=M.useRef(null),a=Bf(o=>!o.search);return!n&&!a?null:M.createElement(Mt.div,{ref:sd(i,e),...r,"cmdk-separator":"",role:"separator"})}),gwe=M.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,a=g4(),o=Bf(u=>u.search),l=Bf(u=>u.selectedItemId),c=yw();return M.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),M.createElement(Mt.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:i?t.value:o,onChange:u=>{i||a.setState("search",u.target.value),n?.(u.target.value)}})}),vwe=M.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,a=M.useRef(null),o=M.useRef(null),l=Bf(u=>u.selectedItemId),c=yw();return M.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let p=u.offsetHeight;d.style.setProperty("--cmdk-list-height",p.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),M.createElement(Mt.div,{ref:sd(a,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:c.listId},yN(t,u=>M.createElement("div",{ref:sd(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),xwe=M.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:a,container:o,...l}=t;return M.createElement(p4,{open:n,onOpenChange:r},M.createElement(m4,{container:o},M.createElement(vw,{"cmdk-overlay":"",className:i}),M.createElement(xw,{"aria-label":t.label,"cmdk-dialog":"",className:a},M.createElement(jJ,{ref:e,...l}))))}),ywe=M.forwardRef((t,e)=>Bf(n=>n.filtered.count===0)?M.createElement(Mt.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),bwe=M.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...a}=t;return M.createElement(Mt.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},yN(t,o=>M.createElement("div",{"aria-hidden":!0},o)))}),qa=Object.assign(jJ,{List:vwe,Item:hwe,Input:gwe,Group:pwe,Separator:mwe,Dialog:xwe,Empty:ywe,Loading:bwe});function wwe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function _we(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function EJ(t){let e=M.useRef(t);return Ip(()=>{e.current=t}),e}var Ip=typeof window>"u"?M.useEffect:M.useLayoutEffect;function vg(t){let e=M.useRef();return e.current===void 0&&(e.current=t()),e}function Bf(t){let e=g4(),n=()=>t(e.snapshot());return M.useSyncExternalStore(e.subscribe,n,n)}function NJ(t,e,n,r=[]){let i=M.useRef(),a=yw();return Ip(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=r.map(u=>u.trim());a.value(t,l,c),(o=e.current)==null||o.setAttribute(gg,l),i.current=l}),i}var Swe=()=>{let[t,e]=M.useState(),n=vg(()=>new Map);return Ip(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function jwe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function yN({asChild:t,children:e},n){return t&&M.isValidElement(e)?M.cloneElement(jwe(e),{ref:e.ref},n(e.props.children)):n(e)}var Ewe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const _i=p4,$f=xJ,Nwe=m4,AJ=M.forwardRef(({className:t,...e},n)=>s.jsx(vw,{ref:n,className:Nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AJ.displayName=vw.displayName;const di=M.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(Nwe,{children:[s.jsx(AJ,{}),s.jsxs(xw,{ref:r,className:Nt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(yJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(tm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));di.displayName=xw.displayName;const Si=({className:t,...e})=>s.jsx("div",{className:Nt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Si.displayName="DialogHeader";const Gl=({className:t,...e})=>s.jsx("div",{className:Nt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gl.displayName="DialogFooter";const ji=M.forwardRef(({className:t,...e},n)=>s.jsx(vN,{ref:n,className:Nt("text-lg font-semibold leading-none tracking-tight",t),...e}));ji.displayName=vN.displayName;const ga=M.forwardRef(({className:t,...e},n)=>s.jsx(xN,{ref:n,className:Nt("text-sm text-muted-foreground",t),...e}));ga.displayName=xN.displayName;const CJ=M.forwardRef(({className:t,...e},n)=>s.jsx(qa,{ref:n,className:Nt("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));CJ.displayName=qa.displayName;const Awe=({children:t,...e})=>s.jsx(_i,{...e,children:s.jsx(di,{className:"overflow-hidden p-0 shadow-lg",children:s.jsx(CJ,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),MJ=M.forwardRef(({className:t,...e},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(dl,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(qa.Input,{ref:n,className:Nt("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));MJ.displayName=qa.Input.displayName;const TJ=M.forwardRef(({className:t,...e},n)=>s.jsx(qa.List,{ref:n,className:Nt("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));TJ.displayName=qa.List.displayName;const PJ=M.forwardRef((t,e)=>s.jsx(qa.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));PJ.displayName=qa.Empty.displayName;const DJ=M.forwardRef(({className:t,...e},n)=>s.jsx(qa.Group,{ref:n,className:Nt("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));DJ.displayName=qa.Group.displayName;const Cwe=M.forwardRef(({className:t,...e},n)=>s.jsx(qa.Separator,{ref:n,className:Nt("-mx-1 h-px bg-border",t),...e}));Cwe.displayName=qa.Separator.displayName;const RJ=M.forwardRef(({className:t,...e},n)=>s.jsx(qa.Item,{ref:n,className:Nt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));RJ.displayName=qa.Item.displayName;const Mwe="modulepreload",Twe=function(t){return"/"+t},g8={},OJ=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(n.map(d=>{if(d=Twe(d),d in g8)return;g8[d]=!0;const f=d.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Mwe,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function MC(t,e,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((r=r.apply(t,[])).next())})}function Pwe(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}class Se{constructor(e,n,r){this.method=e,this.attribute=n,r!==void 0&&(Array.isArray(r)?this.values=r:this.values=[r])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}Se.equal=(t,e)=>new Se("equal",t,e).toString();Se.notEqual=(t,e)=>new Se("notEqual",t,e).toString();Se.lessThan=(t,e)=>new Se("lessThan",t,e).toString();Se.lessThanEqual=(t,e)=>new Se("lessThanEqual",t,e).toString();Se.greaterThan=(t,e)=>new Se("greaterThan",t,e).toString();Se.greaterThanEqual=(t,e)=>new Se("greaterThanEqual",t,e).toString();Se.isNull=t=>new Se("isNull",t).toString();Se.isNotNull=t=>new Se("isNotNull",t).toString();Se.between=(t,e,n)=>new Se("between",t,[e,n]).toString();Se.startsWith=(t,e)=>new Se("startsWith",t,e).toString();Se.endsWith=(t,e)=>new Se("endsWith",t,e).toString();Se.select=t=>new Se("select",void 0,t).toString();Se.search=(t,e)=>new Se("search",t,e).toString();Se.orderDesc=t=>new Se("orderDesc",t).toString();Se.orderAsc=t=>new Se("orderAsc",t).toString();Se.orderRandom=()=>new Se("orderRandom").toString();Se.cursorAfter=t=>new Se("cursorAfter",void 0,t).toString();Se.cursorBefore=t=>new Se("cursorBefore",void 0,t).toString();Se.limit=t=>new Se("limit",void 0,t).toString();Se.offset=t=>new Se("offset",void 0,t).toString();Se.contains=(t,e)=>new Se("contains",t,e).toString();Se.notContains=(t,e)=>new Se("notContains",t,e).toString();Se.notSearch=(t,e)=>new Se("notSearch",t,e).toString();Se.notBetween=(t,e,n)=>new Se("notBetween",t,[e,n]).toString();Se.notStartsWith=(t,e)=>new Se("notStartsWith",t,e).toString();Se.notEndsWith=(t,e)=>new Se("notEndsWith",t,e).toString();Se.createdBefore=t=>new Se("createdBefore",void 0,t).toString();Se.createdAfter=t=>new Se("createdAfter",void 0,t).toString();Se.createdBetween=(t,e)=>new Se("createdBetween",void 0,[t,e]).toString();Se.updatedBefore=t=>new Se("updatedBefore",void 0,t).toString();Se.updatedAfter=t=>new Se("updatedAfter",void 0,t).toString();Se.updatedBetween=(t,e)=>new Se("updatedBetween",void 0,[t,e]).toString();Se.or=t=>new Se("or",void 0,t.map(e=>JSON.parse(e))).toString();Se.and=t=>new Se("and",void 0,t.map(e=>JSON.parse(e))).toString();Se.distanceEqual=(t,e,n,r=!0)=>new Se("distanceEqual",t,[[e,n,r]]).toString();Se.distanceNotEqual=(t,e,n,r=!0)=>new Se("distanceNotEqual",t,[[e,n,r]]).toString();Se.distanceGreaterThan=(t,e,n,r=!0)=>new Se("distanceGreaterThan",t,[[e,n,r]]).toString();Se.distanceLessThan=(t,e,n,r=!0)=>new Se("distanceLessThan",t,[[e,n,r]]).toString();Se.intersects=(t,e)=>new Se("intersects",t,[e]).toString();Se.notIntersects=(t,e)=>new Se("notIntersects",t,[e]).toString();Se.crosses=(t,e)=>new Se("crosses",t,[e]).toString();Se.notCrosses=(t,e)=>new Se("notCrosses",t,[e]).toString();Se.overlaps=(t,e)=>new Se("overlaps",t,[e]).toString();Se.notOverlaps=(t,e)=>new Se("notOverlaps",t,[e]).toString();Se.touches=(t,e)=>new Se("touches",t,[e]).toString();Se.notTouches=(t,e)=>new Se("notTouches",t,[e]).toString();class ct extends Error{constructor(e,n=0,r="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=n,this.type=r,this.response=i}}class Ll{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"20.1.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var e;(e=this.realtime.socket)===null||e===void 0||e.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var e,n,r;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(e=this.realtime.socket)===null||e===void 0||e.close();return}const i=new URLSearchParams;i.set("project",this.config.project),this.realtime.channels.forEach(o=>{i.append("channels[]",o)});const a=this.config.endpointRealtime+"/realtime?"+i.toString();(a!==this.realtime.url||!this.realtime.socket||((n=this.realtime.socket)===null||n===void 0?void 0:n.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((r=this.realtime.socket)===null||r===void 0?void 0:r.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=a,this.realtime.socket=new WebSocket(a),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",o=>{var l,c,u;if(!this.realtime.reconnect||((c=(l=this.realtime)===null||l===void 0?void 0:l.lastMessage)===null||c===void 0?void 0:c.type)==="error"&&((u=this.realtime)===null||u===void 0?void 0:u.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const d=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${d/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},d)}))},onMessage:e=>{var n,r;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const a=JSON.parse((n=window.localStorage.getItem("cookieFallback"))!==null&&n!==void 0?n:"{}"),o=a?.[`a_session_${this.config.project}`],l=i.data;o&&!l.user&&((r=this.realtime.socket)===null||r===void 0||r.send(JSON.stringify({type:"authentication",data:{session:o}})));break;case"event":let c=i.data;if(c?.channels){if(!c.channels.some(d=>this.realtime.channels.has(d)))return;this.realtime.subscriptions.forEach(d=>{c.channels.some(f=>d.channels.includes(f))&&setTimeout(()=>d.callback(c))})}break;case"pong":break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(n=>{e.includes(n)&&(Array.from(this.realtime.subscriptions).some(([i,a])=>a.channels.includes(n))||this.realtime.channels.delete(n))})}}}setEndpoint(e){if(!e.startsWith("http://")&&!e.startsWith("https://"))throw new ct("Invalid endpoint URL: "+e);return this.config.endpoint=e,this.config.endpointRealtime=e.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){if(!e.startsWith("ws://")&&!e.startsWith("wss://"))throw new ct("Invalid realtime endpoint URL: "+e);return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}setSession(e){return this.headers["X-Appwrite-Session"]=e,this.config.session=e,this}setDevKey(e){return this.headers["X-Appwrite-Dev-Key"]=e,this.config.devkey=e,this}subscribe(e,n){let r=typeof e=="string"?[e]:e;r.forEach(a=>this.realtime.channels.add(a));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:r,callback:n}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(r),this.realtime.connect()}}prepareRequest(e,n,r={},i={}){if(e=e.toUpperCase(),r=Object.assign({},this.headers,r),typeof window<"u"&&window.localStorage){const o=window.localStorage.getItem("cookieFallback");o&&(r["X-Fallback-Cookies"]=o)}let a={method:e,headers:r};if(r["X-Appwrite-Dev-Key"]===void 0&&(a.credentials="include"),e==="GET")for(const[o,l]of Object.entries(Ll.flatten(i)))n.searchParams.append(o,l);else switch(r["content-type"]){case"application/json":a.body=JSON.stringify(i);break;case"multipart/form-data":const o=new FormData;for(const[l,c]of Object.entries(i))if(c instanceof File)o.append(l,c,c.name);else if(Array.isArray(c))for(const u of c)o.append(`${l}[]`,u);else o.append(l,c);a.body=o,delete r["content-type"];break}return{uri:n.toString(),options:a}}chunkedUpload(e,n,r={},i={},a){var o;return MC(this,void 0,void 0,function*(){const[l,c]=(o=Object.entries(i).find(([f,h])=>h instanceof File))!==null&&o!==void 0?o:[];if(!c||!l)throw new Error("File not found in payload");if(c.size<=Ll.CHUNK_SIZE)return yield this.call(e,n,r,i);let u=0,d=null;for(;u<c.size;){let f=u+Ll.CHUNK_SIZE;f>=c.size&&(f=c.size),r["content-range"]=`bytes ${u}-${f-1}/${c.size}`;const h=c.slice(u,f);let p=Object.assign({},i);p[l]=new File([h],c.name),d=yield this.call(e,n,r,p),a&&typeof a=="function"&&a({$id:d.$id,progress:Math.round(f/c.size*100),sizeUploaded:f,chunksTotal:Math.ceil(c.size/Ll.CHUNK_SIZE),chunksUploaded:Math.ceil(f/Ll.CHUNK_SIZE)}),d&&d.$id&&(r["x-appwrite-id"]=d.$id),u=f}return d})}ping(){return MC(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(e,n,r={},i={},a="json"){var o,l;return MC(this,void 0,void 0,function*(){const{uri:c,options:u}=this.prepareRequest(e,n,r,i);let d=null;const f=yield fetch(c,u);if(f.type==="opaque")throw new ct(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const h=f.headers.get("x-appwrite-warning");if(h&&h.split(";").forEach(y=>console.warn("Warning: "+y)),!((o=f.headers.get("content-type"))===null||o===void 0)&&o.includes("application/json")?d=yield f.json():a==="arrayBuffer"?d=yield f.arrayBuffer():d={message:yield f.text()},400<=f.status){let y="";throw!((l=f.headers.get("content-type"))===null||l===void 0)&&l.includes("application/json")||a==="arrayBuffer"?y=JSON.stringify(d):y=d?.message,new ct(d?.message,f.status,d?.type,y)}const p=f.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&p&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",p)),d})}static flatten(e,n=""){let r={};for(const[i,a]of Object.entries(e)){let o=n?n+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Ll.flatten(a,o)):r[o]=a}return r}}Ll.CHUNK_SIZE=1024*1024*5;class Cf{constructor(e){this.client=e}static flatten(e,n=""){let r={};for(const[i,a]of Object.entries(e)){let o=n?n+"["+i+"]":i;Array.isArray(a)?r=Object.assign(Object.assign({},r),Cf.flatten(a,o)):r[o]=a}return r}}Cf.CHUNK_SIZE=5*1024*1024;class IJ{constructor(e){this.client=e}get(){const e="/account",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}create(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],password:n[1],name:n[2]};const i=r.userId,a=r.email,o=r.password,l=r.name;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "email"');if(typeof o>"u")throw new ct('Missing required parameter: "password"');const c="/account",u={};typeof i<"u"&&(u.userId=i),typeof a<"u"&&(u.email=a),typeof o<"u"&&(u.password=o),typeof l<"u"&&(u.name=l);const d=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",d,f,u)}updateEmail(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const i=r.email,a=r.password;if(typeof i>"u")throw new ct('Missing required parameter: "email"');if(typeof a>"u")throw new ct('Missing required parameter: "password"');const o="/account/email",l={};typeof i<"u"&&(l.email=i),typeof a<"u"&&(l.password=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",c,u,l)}listIdentities(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,i="/account/identities",a={};typeof r<"u"&&(a.queries=r);const o=new URL(this.client.config.endpoint+i),l={};return this.client.call("get",o,l,a)}deleteIdentity(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={identityId:e};const r=n.identityId;if(typeof r>"u")throw new ct('Missing required parameter: "identityId"');const i="/account/identities/{identityId}".replace("{identityId}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("delete",o,l,a)}createJWT(){const e="/account/jwts",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("post",r,i,n)}listLogs(e){let n;!e||e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={queries:e};const r=n.queries,i="/account/logs",a={};typeof r<"u"&&(a.queries=r);const o=new URL(this.client.config.endpoint+i),l={};return this.client.call("get",o,l,a)}updateMFA(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={mfa:e};const r=n.mfa;if(typeof r>"u")throw new ct('Missing required parameter: "mfa"');const i="/account/mfa",a={};typeof r<"u"&&(a.mfa=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("patch",o,l,a)}createMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new ct('Missing required parameter: "type"');const i="/account/mfa/authenticators/{type}".replace("{type}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("post",o,l,a)}createMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new ct('Missing required parameter: "type"');const i="/account/mfa/authenticators/{type}".replace("{type}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("post",o,l,a)}updateMfaAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const i=r.type,a=r.otp;if(typeof i>"u")throw new ct('Missing required parameter: "type"');if(typeof a>"u")throw new ct('Missing required parameter: "otp"');const o="/account/mfa/authenticators/{type}".replace("{type}",i),l={};typeof a<"u"&&(l.otp=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}updateMFAAuthenticator(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?r=e||{}:r={type:e,otp:n[0]};const i=r.type,a=r.otp;if(typeof i>"u")throw new ct('Missing required parameter: "type"');if(typeof a>"u")throw new ct('Missing required parameter: "otp"');const o="/account/mfa/authenticators/{type}".replace("{type}",i),l={};typeof a<"u"&&(l.otp=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}deleteMfaAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new ct('Missing required parameter: "type"');const i="/account/mfa/authenticators/{type}".replace("{type}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("delete",o,l,a)}deleteMFAAuthenticator(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"type"in e?n=e||{}:n={type:e};const r=n.type;if(typeof r>"u")throw new ct('Missing required parameter: "type"');const i="/account/mfa/authenticators/{type}".replace("{type}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("delete",o,l,a)}createMfaChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new ct('Missing required parameter: "factor"');const i="/account/mfa/challenge",a={};typeof r<"u"&&(a.factor=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("post",o,l,a)}createMFAChallenge(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"factor"in e?n=e||{}:n={factor:e};const r=n.factor;if(typeof r>"u")throw new ct('Missing required parameter: "factor"');const i="/account/mfa/challenge",a={};typeof r<"u"&&(a.factor=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("post",o,l,a)}updateMfaChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const i=r.challengeId,a=r.otp;if(typeof i>"u")throw new ct('Missing required parameter: "challengeId"');if(typeof a>"u")throw new ct('Missing required parameter: "otp"');const o="/account/mfa/challenge",l={};typeof i<"u"&&(l.challengeId=i),typeof a<"u"&&(l.otp=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}updateMFAChallenge(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={challengeId:e,otp:n[0]};const i=r.challengeId,a=r.otp;if(typeof i>"u")throw new ct('Missing required parameter: "challengeId"');if(typeof a>"u")throw new ct('Missing required parameter: "otp"');const o="/account/mfa/challenge",l={};typeof i<"u"&&(l.challengeId=i),typeof a<"u"&&(l.otp=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}listMfaFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}listMFAFactors(){const e="/account/mfa/factors",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}getMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}getMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}createMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("post",r,i,n)}createMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("post",r,i,n)}updateMfaRecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("patch",r,i,n)}updateMFARecoveryCodes(){const e="/account/mfa/recovery-codes",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("patch",r,i,n)}updateName(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={name:e};const r=n.name;if(typeof r>"u")throw new ct('Missing required parameter: "name"');const i="/account/name",a={};typeof r<"u"&&(a.name=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("patch",o,l,a)}updatePassword(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={password:e,oldPassword:n[0]};const i=r.password,a=r.oldPassword;if(typeof i>"u")throw new ct('Missing required parameter: "password"');const o="/account/password",l={};typeof i<"u"&&(l.password=i),typeof a<"u"&&(l.oldPassword=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",c,u,l)}updatePhone(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={phone:e,password:n[0]};const i=r.phone,a=r.password;if(typeof i>"u")throw new ct('Missing required parameter: "phone"');if(typeof a>"u")throw new ct('Missing required parameter: "password"');const o="/account/phone",l={};typeof i<"u"&&(l.phone=i),typeof a<"u"&&(l.password=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("patch",c,u,l)}getPrefs(){const e="/account/prefs",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}updatePrefs(e){let n;e&&typeof e=="object"&&!Array.isArray(e)&&"prefs"in e?n=e||{}:n={prefs:e};const r=n.prefs;if(typeof r>"u")throw new ct('Missing required parameter: "prefs"');const i="/account/prefs",a={};typeof r<"u"&&(a.prefs=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("patch",o,l,a)}createRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,url:n[0]};const i=r.email,a=r.url;if(typeof i>"u")throw new ct('Missing required parameter: "email"');if(typeof a>"u")throw new ct('Missing required parameter: "url"');const o="/account/recovery",l={};typeof i<"u"&&(l.email=i),typeof a<"u"&&(l.url=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",c,u,l)}updateRecovery(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0],password:n[1]};const i=r.userId,a=r.secret,o=r.password;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');if(typeof o>"u")throw new ct('Missing required parameter: "password"');const l="/account/recovery",c={};typeof i<"u"&&(c.userId=i),typeof a<"u"&&(c.secret=a),typeof o<"u"&&(c.password=o);const u=new URL(this.client.config.endpoint+l),d={"content-type":"application/json"};return this.client.call("put",u,d,c)}listSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),i={};return this.client.call("get",r,i,n)}deleteSessions(){const e="/account/sessions",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("delete",r,i,n)}createAnonymousSession(){const e="/account/sessions/anonymous",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("post",r,i,n)}createEmailPasswordSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={email:e,password:n[0]};const i=r.email,a=r.password;if(typeof i>"u")throw new ct('Missing required parameter: "email"');if(typeof a>"u")throw new ct('Missing required parameter: "password"');const o="/account/sessions/email",l={};typeof i<"u"&&(l.email=i),typeof a<"u"&&(l.password=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",c,u,l)}updateMagicURLSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const i=r.userId,a=r.secret;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');const o="/account/sessions/magic-url",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.secret=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}createOAuth2Session(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const i=r.provider,a=r.success,o=r.failure,l=r.scopes;if(typeof i>"u")throw new ct('Missing required parameter: "provider"');const c="/account/sessions/oauth2/{provider}".replace("{provider}",i),u={};typeof a<"u"&&(u.success=a),typeof o<"u"&&(u.failure=o),typeof l<"u"&&(u.scopes=l);const d=new URL(this.client.config.endpoint+c);u.project=this.client.config.project;for(const[f,h]of Object.entries(Cf.flatten(u)))d.searchParams.append(f,h);if(typeof window<"u"&&window?.location){window.location.href=d.toString();return}else return d.toString()}updatePhoneSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const i=r.userId,a=r.secret;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');const o="/account/sessions/phone",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.secret=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}createSession(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const i=r.userId,a=r.secret;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');const o="/account/sessions/token",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.secret=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",c,u,l)}getSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new ct('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",r),a={},o=new URL(this.client.config.endpoint+i),l={};return this.client.call("get",o,l,a)}updateSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new ct('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("patch",o,l,a)}deleteSession(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={sessionId:e};const r=n.sessionId;if(typeof r>"u")throw new ct('Missing required parameter: "sessionId"');const i="/account/sessions/{sessionId}".replace("{sessionId}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("delete",o,l,a)}updateStatus(){const e="/account/status",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("patch",r,i,n)}createPushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0],providerId:n[1]};const i=r.targetId,a=r.identifier,o=r.providerId;if(typeof i>"u")throw new ct('Missing required parameter: "targetId"');if(typeof a>"u")throw new ct('Missing required parameter: "identifier"');const l="/account/targets/push",c={};typeof i<"u"&&(c.targetId=i),typeof a<"u"&&(c.identifier=a),typeof o<"u"&&(c.providerId=o);const u=new URL(this.client.config.endpoint+l),d={"content-type":"application/json"};return this.client.call("post",u,d,c)}updatePushTarget(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={targetId:e,identifier:n[0]};const i=r.targetId,a=r.identifier;if(typeof i>"u")throw new ct('Missing required parameter: "targetId"');if(typeof a>"u")throw new ct('Missing required parameter: "identifier"');const o="/account/targets/{targetId}/push".replace("{targetId}",i),l={};typeof a<"u"&&(l.identifier=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}deletePushTarget(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={targetId:e};const r=n.targetId;if(typeof r>"u")throw new ct('Missing required parameter: "targetId"');const i="/account/targets/{targetId}/push".replace("{targetId}",r),a={},o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("delete",o,l,a)}createEmailToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],phrase:n[1]};const i=r.userId,a=r.email,o=r.phrase;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "email"');const l="/account/tokens/email",c={};typeof i<"u"&&(c.userId=i),typeof a<"u"&&(c.email=a),typeof o<"u"&&(c.phrase=o);const u=new URL(this.client.config.endpoint+l),d={"content-type":"application/json"};return this.client.call("post",u,d,c)}createMagicURLToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,email:n[0],url:n[1],phrase:n[2]};const i=r.userId,a=r.email,o=r.url,l=r.phrase;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "email"');const c="/account/tokens/magic-url",u={};typeof i<"u"&&(u.userId=i),typeof a<"u"&&(u.email=a),typeof o<"u"&&(u.url=o),typeof l<"u"&&(u.phrase=l);const d=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("post",d,f,u)}createOAuth2Token(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)&&"provider"in e?r=e||{}:r={provider:e,success:n[0],failure:n[1],scopes:n[2]};const i=r.provider,a=r.success,o=r.failure,l=r.scopes;if(typeof i>"u")throw new ct('Missing required parameter: "provider"');const c="/account/tokens/oauth2/{provider}".replace("{provider}",i),u={};typeof a<"u"&&(u.success=a),typeof o<"u"&&(u.failure=o),typeof l<"u"&&(u.scopes=l);const d=new URL(this.client.config.endpoint+c);u.project=this.client.config.project;for(const[f,h]of Object.entries(Cf.flatten(u)))d.searchParams.append(f,h);if(typeof window<"u"&&window?.location){window.location.href=d.toString();return}else return d.toString()}createPhoneToken(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,phone:n[0]};const i=r.userId,a=r.phone;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "phone"');const o="/account/tokens/phone",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.phone=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("post",c,u,l)}createVerification(e){let n;e&&typeof e=="object"&&!Array.isArray(e)?n=e||{}:n={url:e};const r=n.url;if(typeof r>"u")throw new ct('Missing required parameter: "url"');const i="/account/verification",a={};typeof r<"u"&&(a.url=r);const o=new URL(this.client.config.endpoint+i),l={"content-type":"application/json"};return this.client.call("post",o,l,a)}updateVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const i=r.userId,a=r.secret;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');const o="/account/verification",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.secret=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}createPhoneVerification(){const e="/account/verification/phone",n={},r=new URL(this.client.config.endpoint+e),i={"content-type":"application/json"};return this.client.call("post",r,i,n)}updatePhoneVerification(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={userId:e,secret:n[0]};const i=r.userId,a=r.secret;if(typeof i>"u")throw new ct('Missing required parameter: "userId"');if(typeof a>"u")throw new ct('Missing required parameter: "secret"');const o="/account/verification/phone",l={};typeof i<"u"&&(l.userId=i),typeof a<"u"&&(l.secret=a);const c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("put",c,u,l)}}class kJ{constructor(e){this.client=e}listDocuments(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],queries:n[1]};const i=r.databaseId,a=r.collectionId,o=r.queries;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');const l="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",i).replace("{collectionId}",a),c={};typeof o<"u"&&(c.queries=o);const u=new URL(this.client.config.endpoint+l),d={};return this.client.call("get",u,d,c)}createDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.data,c=r.permissions;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');if(typeof l>"u")throw new ct('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",i).replace("{collectionId}",a),d={};typeof o<"u"&&(d.documentId=o),typeof l<"u"&&(d.data=l),typeof c<"u"&&(d.permissions=c);const f=new URL(this.client.config.endpoint+u),h={"content-type":"application/json"};return this.client.call("post",f,h,d)}getDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],queries:n[2]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.queries;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');const c="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o),u={};typeof l<"u"&&(u.queries=l);const d=new URL(this.client.config.endpoint+c),f={};return this.client.call("get",d,f,u)}upsertDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.data,c=r.permissions;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');if(typeof l>"u")throw new ct('Missing required parameter: "data"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o),d={};typeof l<"u"&&(d.data=l),typeof c<"u"&&(d.permissions=c);const f=new URL(this.client.config.endpoint+u),h={"content-type":"application/json"};return this.client.call("put",f,h,d)}updateDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],data:n[2],permissions:n[3]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.data,c=r.permissions;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');const u="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o),d={};typeof l<"u"&&(d.data=l),typeof c<"u"&&(d.permissions=c);const f=new URL(this.client.config.endpoint+u),h={"content-type":"application/json"};return this.client.call("patch",f,h,d)}deleteDocument(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1]};const i=r.databaseId,a=r.collectionId,o=r.documentId;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');const l="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o),c={},u=new URL(this.client.config.endpoint+l),d={"content-type":"application/json"};return this.client.call("delete",u,d,c)}decrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],min:n[4]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.attribute,c=r.value,u=r.min;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');if(typeof l>"u")throw new ct('Missing required parameter: "attribute"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o).replace("{attribute}",l),f={};typeof c<"u"&&(f.value=c),typeof u<"u"&&(f.min=u);const h=new URL(this.client.config.endpoint+d),p={"content-type":"application/json"};return this.client.call("patch",h,p,f)}incrementDocumentAttribute(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={databaseId:e,collectionId:n[0],documentId:n[1],attribute:n[2],value:n[3],max:n[4]};const i=r.databaseId,a=r.collectionId,o=r.documentId,l=r.attribute,c=r.value,u=r.max;if(typeof i>"u")throw new ct('Missing required parameter: "databaseId"');if(typeof a>"u")throw new ct('Missing required parameter: "collectionId"');if(typeof o>"u")throw new ct('Missing required parameter: "documentId"');if(typeof l>"u")throw new ct('Missing required parameter: "attribute"');const d="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",i).replace("{collectionId}",a).replace("{documentId}",o).replace("{attribute}",l),f={};typeof c<"u"&&(f.value=c),typeof u<"u"&&(f.max=u);const h=new URL(this.client.config.endpoint+d),p={"content-type":"application/json"};return this.client.call("patch",h,p,f)}}class Dwe{constructor(e){this.client=e}listExecutions(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,queries:n[0]};const i=r.functionId,a=r.queries;if(typeof i>"u")throw new ct('Missing required parameter: "functionId"');const o="/functions/{functionId}/executions".replace("{functionId}",i),l={};typeof a<"u"&&(l.queries=a);const c=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",c,u,l)}createExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,body:n[0],async:n[1],xpath:n[2],method:n[3],headers:n[4],scheduledAt:n[5]};const i=r.functionId,a=r.body,o=r.async,l=r.xpath,c=r.method,u=r.headers,d=r.scheduledAt;if(typeof i>"u")throw new ct('Missing required parameter: "functionId"');const f="/functions/{functionId}/executions".replace("{functionId}",i),h={};typeof a<"u"&&(h.body=a),typeof o<"u"&&(h.async=o),typeof l<"u"&&(h.path=l),typeof c<"u"&&(h.method=c),typeof u<"u"&&(h.headers=u),typeof d<"u"&&(h.scheduledAt=d);const p=new URL(this.client.config.endpoint+f),y={"content-type":"application/json"};return this.client.call("post",p,y,h)}getExecution(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={functionId:e,executionId:n[0]};const i=r.functionId,a=r.executionId;if(typeof i>"u")throw new ct('Missing required parameter: "functionId"');if(typeof a>"u")throw new ct('Missing required parameter: "executionId"');const o="/functions/{functionId}/executions/{executionId}".replace("{functionId}",i).replace("{executionId}",a),l={},c=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",c,u,l)}}class Rwe{constructor(e){this.client=e}listFiles(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,queries:n[0],search:n[1]};const i=r.bucketId,a=r.queries,o=r.search;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');const l="/storage/buckets/{bucketId}/files".replace("{bucketId}",i),c={};typeof a<"u"&&(c.queries=a),typeof o<"u"&&(c.search=o);const u=new URL(this.client.config.endpoint+l),d={};return this.client.call("get",u,d,c)}createFile(e,...n){let r,i;e&&typeof e=="object"&&!Array.isArray(e)?(r=e||{},i=e?.onProgress):(r={bucketId:e,fileId:n[0],file:n[1],permissions:n[2]},i=n[3]);const a=r.bucketId,o=r.fileId,l=r.file,c=r.permissions;if(typeof a>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof o>"u")throw new ct('Missing required parameter: "fileId"');if(typeof l>"u")throw new ct('Missing required parameter: "file"');const u="/storage/buckets/{bucketId}/files".replace("{bucketId}",a),d={};typeof o<"u"&&(d.fileId=o),typeof l<"u"&&(d.file=l),typeof c<"u"&&(d.permissions=c);const f=new URL(this.client.config.endpoint+u),h={"content-type":"multipart/form-data"};return this.client.chunkedUpload("post",f,h,d,i)}getFile(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0]};const i=r.bucketId,a=r.fileId;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const o="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",i).replace("{fileId}",a),l={},c=new URL(this.client.config.endpoint+o),u={};return this.client.call("get",c,u,l)}updateFile(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0],name:n[1],permissions:n[2]};const i=r.bucketId,a=r.fileId,o=r.name,l=r.permissions;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const c="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",i).replace("{fileId}",a),u={};typeof o<"u"&&(u.name=o),typeof l<"u"&&(u.permissions=l);const d=new URL(this.client.config.endpoint+c),f={"content-type":"application/json"};return this.client.call("put",d,f,u)}deleteFile(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0]};const i=r.bucketId,a=r.fileId;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const o="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",i).replace("{fileId}",a),l={},c=new URL(this.client.config.endpoint+o),u={"content-type":"application/json"};return this.client.call("delete",c,u,l)}getFileDownload(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0],token:n[1]};const i=r.bucketId,a=r.fileId,o=r.token;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const l="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",i).replace("{fileId}",a),c={};typeof o<"u"&&(c.token=o);const u=new URL(this.client.config.endpoint+l);c.project=this.client.config.project;for(const[d,f]of Object.entries(Cf.flatten(c)))u.searchParams.append(d,f);return u.toString()}getFilePreview(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0],width:n[1],height:n[2],gravity:n[3],quality:n[4],borderWidth:n[5],borderColor:n[6],borderRadius:n[7],opacity:n[8],rotation:n[9],background:n[10],output:n[11],token:n[12]};const i=r.bucketId,a=r.fileId,o=r.width,l=r.height,c=r.gravity,u=r.quality,d=r.borderWidth,f=r.borderColor,h=r.borderRadius,p=r.opacity,y=r.rotation,g=r.background,v=r.output,b=r.token;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const w="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",i).replace("{fileId}",a),_={};typeof o<"u"&&(_.width=o),typeof l<"u"&&(_.height=l),typeof c<"u"&&(_.gravity=c),typeof u<"u"&&(_.quality=u),typeof d<"u"&&(_.borderWidth=d),typeof f<"u"&&(_.borderColor=f),typeof h<"u"&&(_.borderRadius=h),typeof p<"u"&&(_.opacity=p),typeof y<"u"&&(_.rotation=y),typeof g<"u"&&(_.background=g),typeof v<"u"&&(_.output=v),typeof b<"u"&&(_.token=b);const S=new URL(this.client.config.endpoint+w);_.project=this.client.config.project;for(const[j,A]of Object.entries(Cf.flatten(_)))S.searchParams.append(j,A);return S.toString()}getFileView(e,...n){let r;e&&typeof e=="object"&&!Array.isArray(e)?r=e||{}:r={bucketId:e,fileId:n[0],token:n[1]};const i=r.bucketId,a=r.fileId,o=r.token;if(typeof i>"u")throw new ct('Missing required parameter: "bucketId"');if(typeof a>"u")throw new ct('Missing required parameter: "fileId"');const l="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",i).replace("{fileId}",a),c={};typeof o<"u"&&(c.token=o);const u=new URL(this.client.config.endpoint+l);c.project=this.client.config.project;for(const[d,f]of Object.entries(Cf.flatten(c)))u.searchParams.append(d,f);return u.toString()}}var LJ,FJ;class za{static custom(e){return e}static unique(e=7){const n=Pwe(za,LJ,"m",FJ).call(za);let r="";for(let i=0;i<e;i++){const a=Math.floor(Math.random()*16).toString(16);r+=a}return n+r}}LJ=za,FJ=function(){const e=new Date,n=Math.floor(e.getTime()/1e3),r=e.getMilliseconds();return n.toString(16)+r.toString(16).padStart(5,"0")};var v8;(function(t){t.Totp="totp"})(v8||(v8={}));var x8;(function(t){t.Email="email",t.Phone="phone",t.Totp="totp",t.Recoverycode="recoverycode"})(x8||(x8={}));var mj;(function(t){t.Amazon="amazon",t.Apple="apple",t.Auth0="auth0",t.Authentik="authentik",t.Autodesk="autodesk",t.Bitbucket="bitbucket",t.Bitly="bitly",t.Box="box",t.Dailymotion="dailymotion",t.Discord="discord",t.Disqus="disqus",t.Dropbox="dropbox",t.Etsy="etsy",t.Facebook="facebook",t.Figma="figma",t.Github="github",t.Gitlab="gitlab",t.Google="google",t.Linkedin="linkedin",t.Microsoft="microsoft",t.Notion="notion",t.Oidc="oidc",t.Okta="okta",t.Paypal="paypal",t.PaypalSandbox="paypalSandbox",t.Podio="podio",t.Salesforce="salesforce",t.Slack="slack",t.Spotify="spotify",t.Stripe="stripe",t.Tradeshift="tradeshift",t.TradeshiftBox="tradeshiftBox",t.Twitch="twitch",t.Wordpress="wordpress",t.Yahoo="yahoo",t.Yammer="yammer",t.Yandex="yandex",t.Zoho="zoho",t.Zoom="zoom",t.Mock="mock"})(mj||(mj={}));var y8;(function(t){t.AvantBrowser="aa",t.AndroidWebViewBeta="an",t.GoogleChrome="ch",t.GoogleChromeIOS="ci",t.GoogleChromeMobile="cm",t.Chromium="cr",t.MozillaFirefox="ff",t.Safari="sf",t.MobileSafari="mf",t.MicrosoftEdge="ps",t.MicrosoftEdgeIOS="oi",t.OperaMini="om",t.Opera="op",t.OperaNext="on"})(y8||(y8={}));var b8;(function(t){t.AmericanExpress="amex",t.Argencard="argencard",t.Cabal="cabal",t.Cencosud="cencosud",t.DinersClub="diners",t.Discover="discover",t.Elo="elo",t.Hipercard="hipercard",t.JCB="jcb",t.Mastercard="mastercard",t.Naranja="naranja",t.TarjetaShopping="targeta-shopping",t.UnionPay="unionpay",t.Visa="visa",t.MIR="mir",t.Maestro="maestro",t.Rupay="rupay"})(b8||(b8={}));var w8;(function(t){t.Afghanistan="af",t.Angola="ao",t.Albania="al",t.Andorra="ad",t.UnitedArabEmirates="ae",t.Argentina="ar",t.Armenia="am",t.AntiguaAndBarbuda="ag",t.Australia="au",t.Austria="at",t.Azerbaijan="az",t.Burundi="bi",t.Belgium="be",t.Benin="bj",t.BurkinaFaso="bf",t.Bangladesh="bd",t.Bulgaria="bg",t.Bahrain="bh",t.Bahamas="bs",t.BosniaAndHerzegovina="ba",t.Belarus="by",t.Belize="bz",t.Bolivia="bo",t.Brazil="br",t.Barbados="bb",t.BruneiDarussalam="bn",t.Bhutan="bt",t.Botswana="bw",t.CentralAfricanRepublic="cf",t.Canada="ca",t.Switzerland="ch",t.Chile="cl",t.China="cn",t.CoteDIvoire="ci",t.Cameroon="cm",t.DemocraticRepublicOfTheCongo="cd",t.RepublicOfTheCongo="cg",t.Colombia="co",t.Comoros="km",t.CapeVerde="cv",t.CostaRica="cr",t.Cuba="cu",t.Cyprus="cy",t.CzechRepublic="cz",t.Germany="de",t.Djibouti="dj",t.Dominica="dm",t.Denmark="dk",t.DominicanRepublic="do",t.Algeria="dz",t.Ecuador="ec",t.Egypt="eg",t.Eritrea="er",t.Spain="es",t.Estonia="ee",t.Ethiopia="et",t.Finland="fi",t.Fiji="fj",t.France="fr",t.MicronesiaFederatedStatesOf="fm",t.Gabon="ga",t.UnitedKingdom="gb",t.Georgia="ge",t.Ghana="gh",t.Guinea="gn",t.Gambia="gm",t.GuineaBissau="gw",t.EquatorialGuinea="gq",t.Greece="gr",t.Grenada="gd",t.Guatemala="gt",t.Guyana="gy",t.Honduras="hn",t.Croatia="hr",t.Haiti="ht",t.Hungary="hu",t.Indonesia="id",t.India="in",t.Ireland="ie",t.IranIslamicRepublicOf="ir",t.Iraq="iq",t.Iceland="is",t.Israel="il",t.Italy="it",t.Jamaica="jm",t.Jordan="jo",t.Japan="jp",t.Kazakhstan="kz",t.Kenya="ke",t.Kyrgyzstan="kg",t.Cambodia="kh",t.Kiribati="ki",t.SaintKittsAndNevis="kn",t.SouthKorea="kr",t.Kuwait="kw",t.LaoPeopleSDemocraticRepublic="la",t.Lebanon="lb",t.Liberia="lr",t.Libya="ly",t.SaintLucia="lc",t.Liechtenstein="li",t.SriLanka="lk",t.Lesotho="ls",t.Lithuania="lt",t.Luxembourg="lu",t.Latvia="lv",t.Morocco="ma",t.Monaco="mc",t.Moldova="md",t.Madagascar="mg",t.Maldives="mv",t.Mexico="mx",t.MarshallIslands="mh",t.NorthMacedonia="mk",t.Mali="ml",t.Malta="mt",t.Myanmar="mm",t.Montenegro="me",t.Mongolia="mn",t.Mozambique="mz",t.Mauritania="mr",t.Mauritius="mu",t.Malawi="mw",t.Malaysia="my",t.Namibia="na",t.Niger="ne",t.Nigeria="ng",t.Nicaragua="ni",t.Netherlands="nl",t.Norway="no",t.Nepal="np",t.Nauru="nr",t.NewZealand="nz",t.Oman="om",t.Pakistan="pk",t.Panama="pa",t.Peru="pe",t.Philippines="ph",t.Palau="pw",t.PapuaNewGuinea="pg",t.Poland="pl",t.FrenchPolynesia="pf",t.NorthKorea="kp",t.Portugal="pt",t.Paraguay="py",t.Qatar="qa",t.Romania="ro",t.Russia="ru",t.Rwanda="rw",t.SaudiArabia="sa",t.Sudan="sd",t.Senegal="sn",t.Singapore="sg",t.SolomonIslands="sb",t.SierraLeone="sl",t.ElSalvador="sv",t.SanMarino="sm",t.Somalia="so",t.Serbia="rs",t.SouthSudan="ss",t.SaoTomeAndPrincipe="st",t.Suriname="sr",t.Slovakia="sk",t.Slovenia="si",t.Sweden="se",t.Eswatini="sz",t.Seychelles="sc",t.Syria="sy",t.Chad="td",t.Togo="tg",t.Thailand="th",t.Tajikistan="tj",t.Turkmenistan="tm",t.TimorLeste="tl",t.Tonga="to",t.TrinidadAndTobago="tt",t.Tunisia="tn",t.Turkey="tr",t.Tuvalu="tv",t.Tanzania="tz",t.Uganda="ug",t.Ukraine="ua",t.Uruguay="uy",t.UnitedStates="us",t.Uzbekistan="uz",t.VaticanCity="va",t.SaintVincentAndTheGrenadines="vc",t.Venezuela="ve",t.Vietnam="vn",t.Vanuatu="vu",t.Samoa="ws",t.Yemen="ye",t.SouthAfrica="za",t.Zambia="zm",t.Zimbabwe="zw"})(w8||(w8={}));var xI;(function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.PATCH="PATCH",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD"})(xI||(xI={}));var _8;(function(t){t.Center="center",t.Topleft="top-left",t.Top="top",t.Topright="top-right",t.Left="left",t.Right="right",t.Bottomleft="bottom-left",t.Bottom="bottom",t.Bottomright="bottom-right"})(_8||(_8={}));var S8;(function(t){t.Jpg="jpg",t.Jpeg="jpeg",t.Png="png",t.Webp="webp",t.Heic="heic",t.Avif="avif",t.Gif="gif"})(S8||(S8={}));const un={endpoint:"https://cloud.appwrite.io/v1",projectId:"",databaseId:"68de037e003bd03c4d45",storageId:"product-images",collections:{users:"users",products:"products",categories:"categories",orders:"orders",orderItems:"order_items",reviews:"reviews",affiliates:"affiliates"}},bw=new Ll().setEndpoint(un.endpoint).setProject(un.projectId),la=new IJ(bw),tt=new kJ(bw),Fl=new Rwe(bw);class Pi{static isConfigured(){return!1}static async getCurrentUser(){try{return await la.get()}catch(e){return console.log("No active session",e),null}}static async login(e,n){try{return await la.createEmailPasswordSession(e,n)}catch(r){throw console.error("Login error:",r),r}}static async register(e,n,r){try{const i=await la.create("unique()",e,n,r);return i&&await this.login(e,n)}catch(i){throw console.error("Registration error:",i),i}}static async loginWithGoogle(){try{const e=window.location.origin,n=`${e}/#/`,r=`${e}/#/login`;return await la.createOAuth2Session(mj.Google,n,r)}catch(e){throw console.error("Google login error:",e),e}}static async loginWithFacebook(){try{const e=window.location.origin,n=`${e}/#/`,r=`${e}/#/login`;return await la.createOAuth2Session(mj.Facebook,n,r)}catch(e){throw console.error("Facebook login error:",e),e}}static async logout(){try{return await la.deleteSession("current")}catch(e){throw console.error("Logout error:",e),e}}static async getProducts(e){try{const n=[];return e?.categoryId&&n.push(`categoryId="${e.categoryId}"`),e?.search&&n.push(`name~"${e.search}"`),await tt.listDocuments(un.databaseId,un.collections.products,n)}catch(n){throw console.error("Error fetching products:",n),n}}static async getProduct(e){try{return await tt.getDocument(un.databaseId,un.collections.products,e)}catch(n){throw console.error("Error fetching product:",n),n}}static async getCategories(){try{return await tt.listDocuments(un.databaseId,un.collections.categories)}catch(e){throw console.error("Error fetching categories:",e),e}}static async updateUserPreferences(e){try{return await la.updatePrefs(e)}catch(n){throw console.error("Error updating user preferences:",n),n}}static async getUserDocument(e){try{return await tt.getDocument(un.databaseId,un.collections.users,e)}catch(n){throw console.error("Error fetching user document:",n),n}}static async createUserDocument(e){try{return await tt.createDocument(un.databaseId,un.collections.users,e.userId,e)}catch(n){throw console.error("Error creating user document:",n),n}}static async updateUserDocument(e,n){try{return await tt.updateDocument(un.databaseId,un.collections.users,e,n)}catch(r){throw console.error("Error updating user document:",r),r}}static async createOrder(e){try{const n=await tt.createDocument(un.databaseId,un.collections.orders,"unique()",e);try{const{notificationService:r}=await OJ(async()=>{const{notificationService:i}=await Promise.resolve().then(()=>P_e);return{notificationService:i}},void 0);await r.notifyOrderStatus(e.userId,n.$id,"confirmed")}catch(r){console.error("Error sending notification:",r)}return n}catch(n){throw console.error("Error creating order:",n),n}}static async getUserOrders(e){try{return await tt.listDocuments(un.databaseId,un.collections.orders,[])}catch(n){throw console.error("Error fetching user orders:",n),n}}static async uploadFile(e){try{return await Fl.createFile(un.storageId,"unique()",e)}catch(n){throw console.error("Error uploading file:",n),n}}static getFilePreview(e){try{return Fl.getFilePreview(un.storageId,e,400,400,"center",100)}catch(n){throw console.error("Error getting file preview:",n),n}}}const Owe=Object.freeze(Object.defineProperty({__proto__:null,AppwriteService:Pi,account:la,appwriteConfig:un,client:bw,databases:tt,default:Pi,storage:Fl},Symbol.toStringTag,{value:"Module"})),by="product-images",$u={uploadFile:async t=>{try{const e=za.unique(),n=await Fl.createFile(by,e,t),r=Fl.getFileView(by,n.$id);return{fileId:n.$id,url:r.toString(),name:n.name,size:n.sizeOriginal}}catch(e){throw console.error("Error uploading file:",e),new Error(e.message||"فشل رفع الملف")}},uploadFiles:async t=>{try{const e=t.map(n=>$u.uploadFile(n));return await Promise.all(e)}catch(e){throw console.error("Error uploading files:",e),new Error(e.message||"فشل رفع الملفات")}},deleteFile:async t=>{try{await Fl.deleteFile(by,t)}catch(e){throw console.error("Error deleting file:",e),new Error(e.message||"فشل حذف الملف")}},deleteFiles:async t=>{try{const e=t.map(n=>$u.deleteFile(n));await Promise.all(e)}catch(e){throw console.error("Error deleting files:",e),new Error(e.message||"فشل حذف الملفات")}},getFileUrl:t=>Fl.getFileView(by,t).toString(),getImageUrl:t=>t?typeof t=="object"&&"url"in t?t.url:typeof t=="string"?t.startsWith("http://")||t.startsWith("https://")?t:Fl.getFileView(by,t).toString():"/placeholder.svg":"/placeholder.svg",getImageUrls:t=>!t||!Array.isArray(t)||t.length===0?["/placeholder.svg"]:t.map(e=>$u.getImageUrl(e)),extractFileId:t=>{try{const e=t.match(/files\/([^\/]+)\/view/);return e?e[1]:null}catch{return null}},validateFile:t=>t.size>5242880?{valid:!1,error:"حجم الملف يجب أن يكون أقل من 5 ميجابايت"}:["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type)?{valid:!0}:{valid:!1,error:"نوع الملف غير مدعوم. يرجى رفع صورة (JPG, PNG, WEBP)"},validateFiles:t=>{const e=[];return t.forEach((n,r)=>{const i=$u.validateFile(n);!i.valid&&i.error&&e.push(`ملف ${r+1}: ${i.error}`)}),{valid:e.length===0,errors:e}}},ps=$u.getImageUrl,Rr="68de037e003bd03c4d45",zr={PRODUCTS:"products",CATEGORIES:"categories",ORDERS:"orders",REVIEWS:"reviews",WISHLIST:"wishlist",USERS:"users"},Us=()=>{try{return!!Rr}catch{return!1}},hl={getAll:async t=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");const e=[];t?.categoryId&&e.push(Se.equal("categoryId",t.categoryId)),t?.inStock!==void 0&&e.push(Se.equal("inStock",t.inStock)),t?.minPrice!==void 0&&e.push(Se.greaterThanEqual("price",t.minPrice)),t?.maxPrice!==void 0&&e.push(Se.lessThanEqual("price",t.maxPrice)),t?.searchQuery&&e.push(Se.search("name",t.searchQuery));const n=t?.limit||20,r=t?.page||1,i=(r-1)*n;e.push(Se.limit(n)),e.push(Se.offset(i)),e.push(Se.orderDesc("$createdAt"));const a=await tt.listDocuments(Rr,zr.PRODUCTS,e);return{products:a.documents.map(l=>({id:l.$id,name:l.name,description:l.description,price:l.price,originalPrice:l.originalPrice,sku:l.sku||`SKU-${l.$id.slice(0,8)}`,inStock:l.inStock,stockQuantity:l.stockQuantity||0,rating:l.rating||0,reviewCount:l.reviewCount||0,affiliateCommission:l.affiliateCommission||0,images:Array.isArray(l.images)?l.images.map(c=>typeof c=="string"?{url:ps(c)}:c):[],tags:l.tags||[],reviews:l.reviews||[],categoryId:l.categoryId,category:l.category,createdAt:new Date(l.$createdAt),updatedAt:new Date(l.$updatedAt)})),total:a.total,page:r,limit:n}}catch(e){console.error("Error fetching products from Appwrite:",e)}},getById:async t=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");const e=await tt.getDocument(Rr,zr.PRODUCTS,t);let n=null;if(e.categoryId)try{const r=await tt.getDocument(Rr,zr.CATEGORIES,e.categoryId);n={id:r.$id,name:r.name,slug:r.slug}}catch(r){console.log("Category not found:",r)}return{id:e.$id,name:e.name,description:e.description,price:e.price,originalPrice:e.originalPrice,sku:e.sku||`SKU-${e.$id.slice(0,8)}`,inStock:e.inStock,stockQuantity:e.stockQuantity||0,rating:e.rating||0,reviewCount:e.reviewCount||0,affiliateCommission:e.affiliateCommission||0,images:Array.isArray(e.images)?e.images.map(r=>typeof r=="string"?{url:ps(r)}:r):[],tags:e.tags||[],reviews:e.reviews||[],categoryId:e.categoryId,category:n,createdAt:new Date(e.$createdAt),updatedAt:new Date(e.$updatedAt)}}catch(e){console.error("Error fetching product from Appwrite:",e)}},getByCategory:async(t,e)=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");const n=await tt.listDocuments(Rr,zr.CATEGORIES,[Se.equal("slug",t),Se.limit(1)]);if(n.documents.length===0)throw new Error("الفئة غير موجودة");const r=n.documents[0];return hl.getAll({...e,categoryId:r.$id})}catch(n){console.error("Error fetching products by category from Appwrite:",n)}}},px={getAll:async()=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");return{categories:(await tt.listDocuments(Rr,zr.CATEGORIES,[Se.orderAsc("name")])).documents.map(n=>({id:n.$id,name:n.name,slug:n.slug,description:n.description,image:n.image,productCount:n.productCount||0,createdAt:new Date(n.$createdAt),updatedAt:new Date(n.$updatedAt)}))}}catch(t){console.error("Error fetching categories from Appwrite:",t)}},getBySlug:async t=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");const e=await tt.listDocuments(Rr,zr.CATEGORIES,[Se.equal("slug",t),Se.limit(1)]);if(e.documents.length===0)return null;const n=e.documents[0];return{id:n.$id,name:n.name,slug:n.slug,description:n.description,image:n.image,productCount:n.productCount||0,createdAt:new Date(n.$createdAt),updatedAt:new Date(n.$updatedAt)}}catch(e){console.error("Error fetching category from Appwrite:",e)}},getProductsByCategory:async(t,e)=>{try{if(!Us())throw new Error("خدمة Appwrite غير مفعلة. لا تتوفر بيانات افتراضية في الإنتاج.");const n=await tt.listDocuments(Rr,zr.CATEGORIES,[Se.equal("slug",t),Se.limit(1)]);if(n.documents.length===0)return{products:[],total:0,page:1,limit:20};const r=n.documents[0].$id;return hl.getAll({...e,categoryId:r})}catch(n){return console.error("Error fetching products by category from Appwrite:",n),{products:[],total:0,page:1,limit:e?.limit||20}}}},zs={products:["products"],product:t=>["products",t],categories:["categories"],category:t=>["categories",t],categoryProducts:t=>["categories",t,"products"],orders:t=>["orders",t],order:t=>["orders",t],reviews:t=>["reviews",t],wishlist:t=>["wishlist",t],wishlistCheck:(t,e)=>["wishlist-check",t,e]},UJ={getUserOrders:async t=>{try{return Us()?(await tt.listDocuments(Rr,zr.ORDERS,[Se.equal("userId",t),Se.orderDesc("$createdAt")])).documents.map(n=>({id:n.$id,orderNumber:n.orderNumber,status:n.status,total:n.total,subtotal:n.subtotal,shipping:n.shipping||0,discount:n.discount||0,items:n.items||[],shippingAddress:n.shippingAddress,paymentMethod:n.paymentMethod,paymentStatus:n.paymentStatus,createdAt:n.$createdAt,updatedAt:n.$updatedAt})):(console.log("Appwrite not configured for orders"),[])}catch(e){return console.error("Error fetching orders from Appwrite:",e),[]}},getOrderById:async(t,e)=>{try{if(!Us())return null;const n=await tt.getDocument(Rr,zr.ORDERS,t);if(n.userId!==e)throw new Error("Unauthorized");return{id:n.$id,orderNumber:n.orderNumber,status:n.status,total:n.total,subtotal:n.subtotal,shipping:n.shipping||0,discount:n.discount||0,items:n.items||[],shippingAddress:n.shippingAddress,billingAddress:n.billingAddress,paymentMethod:n.paymentMethod,paymentStatus:n.paymentStatus,createdAt:n.$createdAt,updatedAt:n.$updatedAt}}catch(n){return console.error("Error fetching order details from Appwrite:",n),null}}},TC={getProductReviews:async t=>{try{if(!Us())return{reviews:[],stats:{totalReviews:0,averageRating:0,ratingDistribution:[]}};const n=(await tt.listDocuments(Rr,zr.REVIEWS,[Se.equal("productId",t),Se.orderDesc("$createdAt")])).documents.map(o=>({id:o.$id,userId:o.userId,userName:o.userName||"مستخدم",userAvatar:o.userAvatar,rating:o.rating,comment:o.comment,createdAt:o.$createdAt})),r=n.length,i=r>0?n.reduce((o,l)=>o+l.rating,0)/r:0,a=[5,4,3,2,1].map(o=>({rating:o,count:n.filter(l=>l.rating===o).length}));return{reviews:n,stats:{totalReviews:r,averageRating:i,ratingDistribution:a}}}catch(e){return e?.code===404||e?.type==="collection_not_found"?console.log("Reviews collection not found - feature disabled"):console.error("Error fetching reviews from Appwrite:",e),{reviews:[],stats:{totalReviews:0,averageRating:0,ratingDistribution:[]}}}},createReview:async t=>{try{if(!Us())throw new Error("Appwrite not configured");if((await tt.listDocuments(Rr,zr.REVIEWS,[Se.equal("productId",t.productId),Se.equal("userId",t.userId)])).documents.length>0)throw new Error("لقد قمت بتقييم هذا المنتج بالفعل");const n=await tt.createDocument(Rr,zr.REVIEWS,"unique()",t);return{id:n.$id,...t,createdAt:n.$createdAt}}catch(e){throw new Error(e.message||"فشل في إضافة المراجعة")}},updateReview:async(t,e)=>{try{if(!Us())throw new Error("Appwrite not configured");if((await tt.getDocument(Rr,zr.REVIEWS,t)).userId!==e.userId)throw new Error("غير مصرح لك بتعديل هذه المراجعة");const r={};e.rating!==void 0&&(r.rating=e.rating),e.comment!==void 0&&(r.comment=e.comment);const i=await tt.updateDocument(Rr,zr.REVIEWS,t,r);return{id:i.$id,rating:i.rating,comment:i.comment,updatedAt:i.$updatedAt}}catch(n){throw new Error(n.message||"فشل في تحديث المراجعة")}},deleteReview:async(t,e)=>{try{if(!Us())throw new Error("Appwrite not configured");if((await tt.getDocument(Rr,zr.REVIEWS,t)).userId!==e)throw new Error("غير مصرح لك بحذف هذه المراجعة");await tt.deleteDocument(Rr,zr.REVIEWS,t)}catch(n){throw new Error(n.message||"فشل في حذف المراجعة")}}},j8={getUserWishlist:async t=>{try{if(!Us())return[];const e=await tt.listDocuments(Rr,zr.WISHLIST,[Se.equal("userId",t),Se.orderDesc("$createdAt")]);return(await Promise.all(e.documents.map(async r=>{try{const i=await tt.getDocument(Rr,zr.PRODUCTS,r.productId);return{id:r.$id,productId:r.productId,addedAt:r.$createdAt,product:{id:i.$id,name:i.name,description:i.description,price:i.price,originalPrice:i.originalPrice,inStock:i.inStock,stockQuantity:i.stockQuantity||0,rating:i.rating||0,reviewCount:i.reviewCount||0,images:i.images||[],category:i.category}}}catch(i){return console.error(`Product ${r.productId} not found:`,i),null}}))).filter(r=>r!==null)}catch(e){return console.error("Error fetching wishlist from Appwrite:",e),[]}},addToWishlist:async(t,e)=>{try{if(!Us())throw new Error("Appwrite not configured");if((await tt.listDocuments(Rr,zr.WISHLIST,[Se.equal("userId",t),Se.equal("productId",e)])).documents.length>0)throw new Error("المنتج موجود بالفعل في قائمة المفضلة");const r=await tt.createDocument(Rr,zr.WISHLIST,"unique()",{userId:t,productId:e});return{id:r.$id,productId:r.productId,addedAt:r.$createdAt}}catch(n){throw new Error(n.message||"فشل في إضافة المنتج للمفضلة")}},removeFromWishlist:async(t,e)=>{try{if(!Us())throw new Error("Appwrite not configured");if((await tt.getDocument(Rr,zr.WISHLIST,t)).userId!==e)throw new Error("غير مصرح لك بحذف هذا العنصر");await tt.deleteDocument(Rr,zr.WISHLIST,t)}catch(n){throw new Error(n.message||"فشل في حذف المنتج من المفضلة")}},isInWishlist:async(t,e)=>{try{if(!Us())return{inWishlist:!1,wishlistItemId:null};const n=await tt.listDocuments(Rr,zr.WISHLIST,[Se.equal("userId",t),Se.equal("productId",e)]),r=n.documents.length>0,i=r?n.documents[0].$id:null;return{inWishlist:r,wishlistItemId:i}}catch(n){return console.error("Error checking wishlist:",n),{inWishlist:!1,wishlistItemId:null}}}};function Iwe(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),i=xa();M.useEffect(()=>{const f=h=>{h.key==="k"&&(h.metaKey||h.ctrlKey)&&(h.preventDefault(),e(p=>!p))};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[]);const{data:a}=ci({queryKey:[...zs.products,"search",n],queryFn:()=>hl.getAll({limit:5}),enabled:n.length>2}),l=[...[{id:"products-page",title:"المنتجات",subtitle:"عرض جميع المنتجات",category:"pages",url:"/products",icon:s.jsx(er,{className:"h-4 w-4"})},{id:"orders-page",title:"طلباتي",subtitle:"تتبع الطلبات",category:"pages",url:"/orders",icon:s.jsx(ti,{className:"h-4 w-4"})},{id:"affiliate-dashboard",title:"لوحة المسوق",subtitle:"إحصائيات وروابط",category:"pages",url:"/affiliate/dashboard",icon:s.jsx(br,{className:"h-4 w-4"})},{id:"admin-dashboard",title:"لوحة الإدارة",subtitle:"إدارة الموقع",category:"pages",url:"/admin/dashboard",icon:s.jsx(wi,{className:"h-4 w-4"})},{id:"docs",title:"المساعدة والدعم",subtitle:"مركز المساعدة",category:"pages",url:"/faq",icon:s.jsx(DZ,{className:"h-4 w-4"})}].filter(f=>f.title.toLowerCase().includes(n.toLowerCase())||f.subtitle?.toLowerCase().includes(n.toLowerCase())),...(a?.products||[]).map(f=>({id:f.id,title:f.name,subtitle:`${f.price} جنيه`,category:"products",url:`/product/${f.id}`,icon:s.jsx(er,{className:"h-4 w-4"})}))],c=M.useCallback(f=>{e(!1),r(""),i(f.url)},[i]),u=f=>({products:"المنتجات",orders:"الطلبات",users:"المستخدمين",pages:"الصفحات",analytics:"التحليلات"})[f]||f,d=l.reduce((f,h)=>(f[h.category]||(f[h.category]=[]),f[h.category].push(h),f),{});return s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>e(!0),className:Nt("inline-flex items-center gap-2 rounded-lg border border-input bg-background px-3 py-2","text-sm text-muted-foreground transition-colors","hover:bg-accent hover:text-accent-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"),children:[s.jsx(dl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"بحث سريع..."}),s.jsxs("kbd",{className:"pointer-events-none hidden h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex",children:[s.jsx("span",{className:"text-xs",children:"⌘"}),"K"]})]}),s.jsxs(Awe,{open:t,onOpenChange:e,children:[s.jsx(MJ,{placeholder:"ابحث عن منتجات، طلبات، صفحات...",value:n,onValueChange:r}),s.jsxs(TJ,{children:[s.jsx(PJ,{children:"لا توجد نتائج"}),Object.entries(d).map(([f,h])=>s.jsx(DJ,{heading:u(f),children:h.map(p=>s.jsx(RJ,{value:p.title,onSelect:()=>c(p),className:"cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-2",children:[p.icon,s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:p.title}),p.subtitle&&s.jsx("span",{className:"text-xs text-muted-foreground",children:p.subtitle})]})]})},p.id))},f))]})]})]})}function ww(t){const e=t+"CollectionProvider",[n,r]=Ni(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:b}=g,w=ee.useRef(null),_=ee.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=Lf(l),u=ee.forwardRef((g,v)=>{const{scope:b,children:w}=g,_=a(l,b),S=Jt(v,_.collectionRef);return s.jsx(c,{ref:S,children:w})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=Lf(d),p=ee.forwardRef((g,v)=>{const{scope:b,children:w,..._}=g,S=ee.useRef(null),j=Jt(v,S),A=a(d,b);return ee.useEffect(()=>(A.itemMap.set(S,{ref:S,..._}),()=>void A.itemMap.delete(S))),s.jsx(h,{[f]:"",ref:j,children:w})});p.displayName=d;function y(g){const v=a(t+"CollectionConsumer",g);return ee.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((A,C)=>_.indexOf(A.ref.current)-_.indexOf(C.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},y,r]}var kwe=M.createContext(void 0);function eh(t){const e=M.useContext(kwe);return t||e||"ltr"}var PC="rovingFocusGroup.onEntryFocus",Lwe={bubbles:!1,cancelable:!0},_w="RovingFocusGroup",[yI,BJ,Fwe]=ww(_w),[Uwe,mx]=Ni(_w,[Fwe]),[Bwe,$we]=Uwe(_w),$J=M.forwardRef((t,e)=>s.jsx(yI.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(yI.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(zwe,{...t,ref:e})})}));$J.displayName=_w;var zwe=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,h=M.useRef(null),p=Jt(e,h),y=eh(a),[g,v]=Ba({prop:o,defaultProp:l??null,onChange:c,caller:_w}),[b,w]=M.useState(!1),_=is(u),S=BJ(n),j=M.useRef(!1),[A,C]=M.useState(0);return M.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(PC,_),()=>N.removeEventListener(PC,_)},[_]),s.jsx(Bwe,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:g,onItemFocus:M.useCallback(N=>v(N),[v]),onItemShiftTab:M.useCallback(()=>w(!0),[]),onFocusableItemAdd:M.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:M.useCallback(()=>C(N=>N-1),[]),children:s.jsx(Mt.div,{tabIndex:b||A===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:St(t.onMouseDown,()=>{j.current=!0}),onFocus:St(t.onFocus,N=>{const T=!j.current;if(N.target===N.currentTarget&&T&&!b){const P=new CustomEvent(PC,Lwe);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const D=S().filter(q=>q.focusable),O=D.find(q=>q.active),I=D.find(q=>q.id===g),z=[O,I,...D].filter(Boolean).map(q=>q.ref.current);VJ(z,d)}}j.current=!1}),onBlur:St(t.onBlur,()=>w(!1))})})}),zJ="RovingFocusGroupItem",HJ=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Li(),u=a||c,d=$we(zJ,n),f=d.currentTabStopId===u,h=BJ(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:g}=d;return M.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),s.jsx(yI.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:s.jsx(Mt.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:St(t.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:St(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:St(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=qwe(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(v.currentTarget);_=d.loop?Gwe(_,S+1):_.slice(S+1)}setTimeout(()=>VJ(_))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:g!=null}):o})})});HJ.displayName=zJ;var Hwe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Vwe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function qwe(t,e,n){const r=Vwe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Hwe[r]}function VJ(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Gwe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var v4=$J,x4=HJ,bI=["Enter"," "],Wwe=["ArrowDown","PageUp","Home"],qJ=["ArrowUp","PageDown","End"],Xwe=[...Wwe,...qJ],Ywe={ltr:[...bI,"ArrowRight"],rtl:[...bI,"ArrowLeft"]},Kwe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sw="Menu",[J0,Qwe,Zwe]=ww(Sw),[nm,GJ]=Ni(Sw,[Zwe,Qf,mx]),bN=Qf(),WJ=mx(),[Jwe,rm]=nm(Sw),[e1e,jw]=nm(Sw),XJ=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=bN(e),[c,u]=M.useState(null),d=M.useRef(!1),f=is(a),h=eh(i);return M.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx(XL,{...l,children:s.jsx(Jwe,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(e1e,{scope:e,onClose:M.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};XJ.displayName=Sw;var t1e="MenuAnchor",y4=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=bN(n);return s.jsx(uw,{...i,...r,ref:e})});y4.displayName=t1e;var b4="MenuPortal",[n1e,YJ]=nm(b4,{forceMount:void 0}),KJ=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=rm(b4,e);return s.jsx(n1e,{scope:e,forceMount:n,children:s.jsx(Hi,{present:n||a.open,children:s.jsx(dw,{asChild:!0,container:i,children:r})})})};KJ.displayName=b4;var al="MenuContent",[r1e,w4]=nm(al),QJ=M.forwardRef((t,e)=>{const n=YJ(al,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=rm(al,t.__scopeMenu),o=jw(al,t.__scopeMenu);return s.jsx(J0.Provider,{scope:t.__scopeMenu,children:s.jsx(Hi,{present:r||a.open,children:s.jsx(J0.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(i1e,{...i,ref:e}):s.jsx(s1e,{...i,ref:e})})})})}),i1e=M.forwardRef((t,e)=>{const n=rm(al,t.__scopeMenu),r=M.useRef(null),i=Jt(e,r);return M.useEffect(()=>{const a=r.current;if(a)return mN(a)},[]),s.jsx(_4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:St(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),s1e=M.forwardRef((t,e)=>{const n=rm(al,t.__scopeMenu);return s.jsx(_4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),a1e=Lf("MenuContent.ScrollLock"),_4=M.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...g}=t,v=rm(al,n),b=jw(al,n),w=bN(n),_=WJ(n),S=Qwe(n),[j,A]=M.useState(null),C=M.useRef(null),N=Jt(e,C,v.onContentChange),T=M.useRef(0),P=M.useRef(""),D=M.useRef(0),O=M.useRef(null),I=M.useRef("right"),L=M.useRef(0),z=y?gw:M.Fragment,q=y?{as:a1e,allowPinchZoom:!0}:void 0,V=U=>{const H=P.current+U,$=S().filter(pe=>!pe.disabled),W=document.activeElement,le=$.find(pe=>pe.ref.current===W)?.textValue,ie=$.map(pe=>pe.textValue),re=x1e(ie,H,le),_e=$.find(pe=>pe.textValue===re)?.ref.current;(function pe(Ne){P.current=Ne,window.clearTimeout(T.current),Ne!==""&&(T.current=window.setTimeout(()=>pe(""),1e3))})(H),_e&&setTimeout(()=>_e.focus())};M.useEffect(()=>()=>window.clearTimeout(T.current),[]),hN();const F=M.useCallback(U=>I.current===O.current?.side&&b1e(U,O.current?.area),[]);return s.jsx(r1e,{scope:n,searchRef:P,onItemEnter:M.useCallback(U=>{F(U)&&U.preventDefault()},[F]),onItemLeave:M.useCallback(U=>{F(U)||(C.current?.focus(),A(null))},[F]),onTriggerLeave:M.useCallback(U=>{F(U)&&U.preventDefault()},[F]),pointerGraceTimerRef:D,onPointerGraceIntentChange:M.useCallback(U=>{O.current=U},[]),children:s.jsx(z,{...q,children:s.jsx(mw,{asChild:!0,trapped:i,onMountAutoFocus:St(a,U=>{U.preventDefault(),C.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ox,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(v4,{asChild:!0,..._,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:A,onEntryFocus:St(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(aN,{role:"menu","aria-orientation":"vertical","data-state":hee(v.open),"data-radix-menu-content":"",dir:b.dir,...w,...g,ref:N,style:{outline:"none",...g.style},onKeyDown:St(g.onKeyDown,U=>{const $=U.target.closest("[data-radix-menu-content]")===U.currentTarget,W=U.ctrlKey||U.altKey||U.metaKey,le=U.key.length===1;$&&(U.key==="Tab"&&U.preventDefault(),!W&&le&&V(U.key));const ie=C.current;if(U.target!==ie||!Xwe.includes(U.key))return;U.preventDefault();const _e=S().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);qJ.includes(U.key)&&_e.reverse(),g1e(_e)}),onBlur:St(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:St(t.onPointerMove,eb(U=>{const H=U.target,$=L.current!==U.clientX;if(U.currentTarget.contains(H)&&$){const W=U.clientX>L.current?"right":"left";I.current=W,L.current=U.clientX}}))})})})})})})});QJ.displayName=al;var o1e="MenuGroup",S4=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Mt.div,{role:"group",...r,ref:e})});S4.displayName=o1e;var l1e="MenuLabel",ZJ=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Mt.div,{...r,ref:e})});ZJ.displayName=l1e;var gj="MenuItem",E8="menu.itemSelect",wN=M.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=M.useRef(null),o=jw(gj,t.__scopeMenu),l=w4(gj,t.__scopeMenu),c=Jt(e,a),u=M.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(E8,{bubbles:!0,cancelable:!0});f.addEventListener(E8,p=>r?.(p),{once:!0}),SQ(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(JJ,{...i,ref:c,disabled:n,onClick:St(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:St(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:St(t.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||bI.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});wN.displayName=gj;var JJ=M.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=w4(gj,n),l=WJ(n),c=M.useRef(null),u=Jt(e,c),[d,f]=M.useState(!1),[h,p]=M.useState("");return M.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[a.children]),s.jsx(J0.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:s.jsx(x4,{asChild:!0,...l,focusable:!r,children:s.jsx(Mt.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:St(t.onPointerMove,eb(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:St(t.onPointerLeave,eb(y=>o.onItemLeave(y))),onFocus:St(t.onFocus,()=>f(!0)),onBlur:St(t.onBlur,()=>f(!1))})})})}),c1e="MenuCheckboxItem",eee=M.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(see,{scope:t.__scopeMenu,checked:n,children:s.jsx(wN,{role:"menuitemcheckbox","aria-checked":vj(n)?"mixed":n,...i,ref:e,"data-state":E4(n),onSelect:St(i.onSelect,()=>r?.(vj(n)?!0:!n),{checkForDefaultPrevented:!1})})})});eee.displayName=c1e;var tee="MenuRadioGroup",[u1e,d1e]=nm(tee,{value:void 0,onValueChange:()=>{}}),nee=M.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=is(r);return s.jsx(u1e,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(S4,{...i,ref:e})})});nee.displayName=tee;var ree="MenuRadioItem",iee=M.forwardRef((t,e)=>{const{value:n,...r}=t,i=d1e(ree,t.__scopeMenu),a=n===i.value;return s.jsx(see,{scope:t.__scopeMenu,checked:a,children:s.jsx(wN,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":E4(a),onSelect:St(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});iee.displayName=ree;var j4="MenuItemIndicator",[see,f1e]=nm(j4,{checked:!1}),aee=M.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=f1e(j4,n);return s.jsx(Hi,{present:r||vj(a.checked)||a.checked===!0,children:s.jsx(Mt.span,{...i,ref:e,"data-state":E4(a.checked)})})});aee.displayName=j4;var h1e="MenuSeparator",oee=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Mt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});oee.displayName=h1e;var p1e="MenuArrow",lee=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=bN(n);return s.jsx(oN,{...i,...r,ref:e})});lee.displayName=p1e;var m1e="MenuSub",[Hnt,cee]=nm(m1e),Qy="MenuSubTrigger",uee=M.forwardRef((t,e)=>{const n=rm(Qy,t.__scopeMenu),r=jw(Qy,t.__scopeMenu),i=cee(Qy,t.__scopeMenu),a=w4(Qy,t.__scopeMenu),o=M.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=M.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return M.useEffect(()=>d,[d]),M.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(y4,{asChild:!0,...u,children:s.jsx(JJ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":hee(n.open),...t,ref:sd(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:St(t.onPointerMove,eb(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:St(t.onPointerLeave,eb(f=>{d();const h=n.content?.getBoundingClientRect();if(h){const p=n.content?.dataset.side,y=p==="right",g=y?-5:5,v=h[y?"left":"right"],b=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:v,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:St(t.onKeyDown,f=>{const h=a.searchRef.current!=="";t.disabled||h&&f.key===" "||Ywe[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});uee.displayName=Qy;var dee="MenuSubContent",fee=M.forwardRef((t,e)=>{const n=YJ(al,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=rm(al,t.__scopeMenu),o=jw(al,t.__scopeMenu),l=cee(dee,t.__scopeMenu),c=M.useRef(null),u=Jt(e,c);return s.jsx(J0.Provider,{scope:t.__scopeMenu,children:s.jsx(Hi,{present:r||a.open,children:s.jsx(J0.Slot,{scope:t.__scopeMenu,children:s.jsx(_4,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:St(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:St(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:St(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),h=Kwe[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});fee.displayName=dee;function hee(t){return t?"open":"closed"}function vj(t){return t==="indeterminate"}function E4(t){return vj(t)?"indeterminate":t?"checked":"unchecked"}function g1e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function v1e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function x1e(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=v1e(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function y1e(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(i=!i)}return i}function b1e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return y1e(n,e)}function eb(t){return e=>e.pointerType==="mouse"?t(e):void 0}var w1e=XJ,_1e=y4,S1e=KJ,j1e=QJ,E1e=S4,N1e=ZJ,A1e=wN,C1e=eee,M1e=nee,T1e=iee,P1e=aee,D1e=oee,R1e=lee,O1e=uee,I1e=fee,_N="DropdownMenu",[k1e]=Ni(_N,[GJ]),ya=GJ(),[L1e,pee]=k1e(_N),mee=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=ya(e),u=M.useRef(null),[d,f]=Ba({prop:i,defaultProp:a??!1,onChange:o,caller:_N});return s.jsx(L1e,{scope:e,triggerId:Li(),triggerRef:u,contentId:Li(),open:d,onOpenChange:f,onOpenToggle:M.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(w1e,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};mee.displayName=_N;var gee="DropdownMenuTrigger",vee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=pee(gee,n),o=ya(n);return s.jsx(_1e,{asChild:!0,...o,children:s.jsx(Mt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:sd(e,a.triggerRef),onPointerDown:St(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:St(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});vee.displayName=gee;var F1e="DropdownMenuPortal",xee=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ya(e);return s.jsx(S1e,{...r,...n})};xee.displayName=F1e;var yee="DropdownMenuContent",bee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=pee(yee,n),a=ya(n),o=M.useRef(!1);return s.jsx(j1e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:St(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:St(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bee.displayName=yee;var U1e="DropdownMenuGroup",B1e=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(E1e,{...i,...r,ref:e})});B1e.displayName=U1e;var $1e="DropdownMenuLabel",wee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(N1e,{...i,...r,ref:e})});wee.displayName=$1e;var z1e="DropdownMenuItem",_ee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(A1e,{...i,...r,ref:e})});_ee.displayName=z1e;var H1e="DropdownMenuCheckboxItem",See=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(C1e,{...i,...r,ref:e})});See.displayName=H1e;var V1e="DropdownMenuRadioGroup",q1e=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(M1e,{...i,...r,ref:e})});q1e.displayName=V1e;var G1e="DropdownMenuRadioItem",jee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(T1e,{...i,...r,ref:e})});jee.displayName=G1e;var W1e="DropdownMenuItemIndicator",Eee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(P1e,{...i,...r,ref:e})});Eee.displayName=W1e;var X1e="DropdownMenuSeparator",Nee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(D1e,{...i,...r,ref:e})});Nee.displayName=X1e;var Y1e="DropdownMenuArrow",K1e=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(R1e,{...i,...r,ref:e})});K1e.displayName=Y1e;var Q1e="DropdownMenuSubTrigger",Aee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(O1e,{...i,...r,ref:e})});Aee.displayName=Q1e;var Z1e="DropdownMenuSubContent",Cee=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ya(n);return s.jsx(I1e,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cee.displayName=Z1e;var J1e=mee,e_e=vee,t_e=xee,Mee=bee,Tee=wee,Pee=_ee,Dee=See,Ree=jee,Oee=Eee,Iee=Nee,kee=Aee,Lee=Cee;const Lg=J1e,Fg=e_e,n_e=M.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(kee,{ref:i,className:Nt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,s.jsx(TZ,{className:"ml-auto h-4 w-4"})]}));n_e.displayName=kee.displayName;const r_e=M.forwardRef(({className:t,...e},n)=>s.jsx(Lee,{ref:n,className:Nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));r_e.displayName=Lee.displayName;const mp=M.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(t_e,{children:s.jsx(Mee,{ref:r,sideOffset:e,className:Nt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));mp.displayName=Mee.displayName;const Ar=M.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(Pee,{ref:r,className:Nt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ar.displayName=Pee.displayName;const i_e=M.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(Dee,{ref:i,className:Nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Oee,{children:s.jsx(ul,{className:"h-4 w-4"})})}),e]}));i_e.displayName=Dee.displayName;const s_e=M.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(Ree,{ref:r,className:Nt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Oee,{children:s.jsx(PZ,{className:"h-2 w-2 fill-current"})})}),e]}));s_e.displayName=Ree.displayName;const Fee=M.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(Tee,{ref:r,className:Nt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Fee.displayName=Tee.displayName;const Ol=M.forwardRef(({className:t,...e},n)=>s.jsx(Iee,{ref:n,className:Nt("-mx-1 my-1 h-px bg-muted",t),...e}));Ol.displayName=Iee.displayName;const N4=p4,A4=xJ,a_e=m4,Uee=M.forwardRef(({className:t,...e},n)=>s.jsx(vw,{className:Nt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Uee.displayName=vw.displayName;const o_e=pw("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SN=M.forwardRef(({side:t="right",className:e,children:n,...r},i)=>s.jsxs(a_e,{children:[s.jsx(Uee,{}),s.jsxs(xw,{ref:i,className:Nt(o_e({side:t}),e),...r,children:[n,s.jsxs(yJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(tm,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SN.displayName=xw.displayName;const C4=({className:t,...e})=>s.jsx("div",{className:Nt("flex flex-col space-y-2 text-center sm:text-left",t),...e});C4.displayName="SheetHeader";const M4=M.forwardRef(({className:t,...e},n)=>s.jsx(vN,{ref:n,className:Nt("text-lg font-semibold text-foreground",t),...e}));M4.displayName=vN.displayName;const l_e=M.forwardRef(({className:t,...e},n)=>s.jsx(xN,{ref:n,className:Nt("text-sm text-muted-foreground",t),...e}));l_e.displayName=xN.displayName;const c_e=pw("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function jt({className:t,variant:e,...n}){return s.jsx("div",{className:Nt(c_e({variant:e}),t),...n})}const Bee=M.createContext(void 0),ur=()=>{const t=M.useContext(Bee);return t===void 0?{user:null,loading:!0,login:async()=>{},loginWithGoogle:async()=>{},loginWithFacebook:async()=>{},register:async()=>{},logout:async()=>{},updateUser:async()=>{}}:t},u_e=({children:t})=>{const[e,n]=M.useState(null),[r,i]=M.useState(!0);M.useEffect(()=>{a()},[]);const a=async()=>{try{if(i(!0),!Pi.isConfigured()){console.log("Appwrite not configured, using fallback auth"),n(null);return}const p=await Pi.getCurrentUser();if(p){const y=p.prefs||{},g=["lolelarap@gmail.com","admin@egygo.me"];let v=y.role||"customer";if(y.role){if(g.includes(p.email.toLowerCase())&&y.role!=="admin"){v="admin";try{await Pi.updateUserPreferences({role:"admin",isAdmin:!0,isSuperAdmin:!0}),console.log(`✅ تم تحديث دور المستخدم إلى Admin: ${p.email}`)}catch(b){console.log("Could not update user role:",b)}}}else{g.includes(p.email.toLowerCase())?(v="admin",console.log(`✅ تم تحديد المستخدم كـ Admin: ${p.email}`)):p.email.includes("admin")?v="admin":p.email.includes("merchant")||p.email.includes("vendor")?v="merchant":y.isAffiliate?v="affiliate":v="customer";try{await Pi.updateUserPreferences({role:v,isAdmin:v==="admin",isSuperAdmin:g.includes(p.email.toLowerCase())})}catch(b){console.log("Could not save user role:",b)}}n({$id:p.$id,name:p.name,email:p.email,role:v,phone:y.phone||"",address:y.address||"",isAffiliate:y.isAffiliate||v==="affiliate",affiliateCode:y.affiliateCode||"",commissionRate:y.commissionRate||.15})}else n(null)}catch(p){console.error("Error checking auth user:",p),n(null)}finally{i(!1)}},h={user:e,loading:r,login:async(p,y)=>{try{if(i(!0),!Pi.isConfigured())throw new Error("Appwrite غير مُعد. يرجى التحقق من إعدادات المشروع.");await Pi.login(p,y),await a()}catch(g){throw console.error("Login error:",g),g}finally{i(!1)}},loginWithGoogle:async()=>{try{if(!Pi.isConfigured())throw new Error("Appwrite غير مُعد. يرجى التحقق من إعدادات المشروع.");await Pi.loginWithGoogle()}catch(p){throw console.error("Google login error:",p),p}},loginWithFacebook:async()=>{try{if(!Pi.isConfigured())throw new Error("Appwrite غير مُعد. يرجى التحقق من إعدادات المشروع.");await Pi.loginWithFacebook()}catch(p){throw console.error("Facebook login error:",p),p}},register:async(p,y,g,v="customer",b,w)=>{try{if(i(!0),!Pi.isConfigured())throw new Error("Appwrite غير مُعد. يرجى التحقق من إعدادات المشروع.");await Pi.register(p,y,g);const _=await Pi.getCurrentUser(),S=v==="affiliate"||v==="merchant",j=S?"pending":"approved",A={role:v,isAffiliate:v==="affiliate",isMerchant:v==="merchant",isIntermediary:v==="intermediary",phone:b||"",alternativePhone:w||"",accountStatus:j,approvedAt:S?null:new Date().toISOString()};v==="affiliate"&&(A.affiliateCode=`AFF${Date.now().toString(36).toUpperCase()}`,A.commissionRate=.15),v==="intermediary"&&(A.intermediaryCode=`INT${Date.now().toString(36).toUpperCase()}`,A.defaultMarkupPercentage=.2),await Pi.updateUserPreferences(A);try{await(await OJ(async()=>{const{databases:T}=await Promise.resolve().then(()=>Owe);return{databases:T}},void 0)).databases.createDocument("","users",_.$id,{email:p,name:g,phone:b||"",alternativePhone:w||"",isAffiliate:v==="affiliate",isMerchant:v==="merchant",isIntermediary:v==="intermediary",affiliateCode:A.affiliateCode||null,commissionRate:A.commissionRate||null,accountStatus:j,approvedAt:A.approvedAt,isActive:!S})}catch(C){console.error("Failed to create user document:",C)}return await a(),{$id:_.$id,email:_.email,name:_.name}}catch(_){throw console.error("Registration error:",_),_}finally{i(!1)}},logout:async()=>{try{if(i(!0),!Pi.isConfigured()){n(null);return}await Pi.logout(),n(null)}catch(p){throw console.error("Logout error:",p),p}finally{i(!1)}},updateUser:async p=>{try{if(!e)return;i(!0),await Pi.updateUserPreferences(p),n(y=>y?{...y,...p}:null)}catch(y){throw console.error("Update user error:",y),y}finally{i(!1)}}};return s.jsx(Bee.Provider,{value:h,children:t})},d_e=1,f_e=1e6;let DC=0;function h_e(){return DC=(DC+1)%Number.MAX_SAFE_INTEGER,DC.toString()}const RC=new Map,N8=t=>{if(RC.has(t))return;const e=setTimeout(()=>{RC.delete(t),v0({type:"REMOVE_TOAST",toastId:t})},f_e);RC.set(t,e)},p_e=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,d_e)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?N8(n):t.toasts.forEach(r=>{N8(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},TS=[];let PS={toasts:[]};function v0(t){PS=p_e(PS,t),TS.forEach(e=>{e(PS)})}function m_e({...t}){const e=h_e(),n=i=>v0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>v0({type:"DISMISS_TOAST",toastId:e});return v0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function mr(){const[t,e]=M.useState(PS);return M.useEffect(()=>(TS.push(e),()=>{const n=TS.indexOf(e);n>-1&&TS.splice(n,1)}),[t]),{...t,toast:m_e,dismiss:n=>v0({type:"DISMISS_TOAST",toastId:n})}}const $ee=M.createContext(void 0),A8="shopko_cart";function g_e({children:t}){const{toast:e}=mr(),[n,r]=M.useState([]);M.useEffect(()=>{try{const h=localStorage.getItem(A8);h&&r(JSON.parse(h))}catch(h){console.error("Error loading cart:",h)}},[]),M.useEffect(()=>{try{localStorage.setItem(A8,JSON.stringify(n))}catch(h){console.error("Error saving cart:",h)}},[n]);const i=h=>{r(p=>{const y=p.find(v=>v.productId===h.productId);if(y){const v=y.quantity+h.quantity;return v>h.stockQuantity?(e({title:"الكمية غير متوفرة",description:`الكمية المتوفرة فقط ${h.stockQuantity}`,variant:"destructive"}),p):p.map(b=>b.productId===h.productId?{...b,quantity:v}:b)}const g={...h,id:`cart-${Date.now()}-${Math.random()}`};return e({title:"تمت الإضافة لسلة التسوق",description:`تم إضافة ${h.name} إلى سلة التسوق`}),[...p,g]})},a=h=>{r(p=>p.filter(y=>y.id!==h)),e({title:"تمت الإزالة",description:"تم إزالة المنتج من السلة"})},o=(h,p)=>{p<1||r(y=>{const g=y.find(v=>v.id===h);return g?p>g.stockQuantity?(e({title:"الكمية غير متوفرة",description:`الكمية المتوفرة فقط ${g.stockQuantity}`,variant:"destructive"}),y):y.map(v=>v.id===h?{...v,quantity:p}:v):y})},l=()=>{r([]),e({title:"تم إفراغ السلة",description:"تم إزالة جميع المنتجات من السلة"})},c=h=>n.some(p=>p.productId===h),u=n.reduce((h,p)=>h+p.quantity,0),d=n.reduce((h,p)=>h+p.price*p.quantity,0),f={items:n,itemCount:u,subtotal:d,addItem:i,removeItem:a,updateQuantity:o,clearCart:l,isInCart:c};return s.jsx($ee.Provider,{value:f,children:t})}function gx(){const t=M.useContext($ee);if(!t)throw new Error("useCart must be used within CartProvider");return t}function tb(t,[e,n]){return Math.min(n,Math.max(e,t))}function v_e(t,e){return M.useReducer((n,r)=>e[n][r]??n,t)}var T4="ScrollArea",[zee]=Ni(T4),[x_e,gl]=zee(T4),Hee=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=M.useState(null),[u,d]=M.useState(null),[f,h]=M.useState(null),[p,y]=M.useState(null),[g,v]=M.useState(null),[b,w]=M.useState(0),[_,S]=M.useState(0),[j,A]=M.useState(!1),[C,N]=M.useState(!1),T=Jt(e,D=>c(D)),P=eh(i);return s.jsx(x_e,{scope:n,type:r,dir:P,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:j,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:C,onScrollbarYEnabledChange:N,onCornerWidthChange:w,onCornerHeightChange:S,children:s.jsx(Mt.div,{dir:P,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Hee.displayName=T4;var Vee="ScrollAreaViewport",qee=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=gl(Vee,n),l=M.useRef(null),c=Jt(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Mt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});qee.displayName=Vee;var au="ScrollAreaScrollbar",P4=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(au,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return M.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(y_e,{...r,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(b_e,{...r,ref:e,forceMount:n}):i.type==="auto"?s.jsx(Gee,{...r,ref:e,forceMount:n}):i.type==="always"?s.jsx(D4,{...r,ref:e}):null});P4.displayName=au;var y_e=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(au,t.__scopeScrollArea),[a,o]=M.useState(!1);return M.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Hi,{present:n||a,children:s.jsx(Gee,{"data-state":a?"visible":"hidden",...r,ref:e})})}),b_e=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=gl(au,t.__scopeScrollArea),a=t.orientation==="horizontal",o=EN(()=>c("SCROLL_END"),100),[l,c]=v_e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return M.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),M.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c,o]),s.jsx(Hi,{present:n||l!=="hidden",children:s.jsx(D4,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:St(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:St(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Gee=M.forwardRef((t,e)=>{const n=gl(au,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=M.useState(!1),l=t.orientation==="horizontal",c=EN(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return uv(n.viewport,c),uv(n.content,c),s.jsx(Hi,{present:r||a,children:s.jsx(D4,{"data-state":a?"visible":"hidden",...i,ref:e})})}),D4=M.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=gl(au,t.__scopeScrollArea),a=M.useRef(null),o=M.useRef(0),[l,c]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Qee(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return N_e(h,o.current,l,p)}return n==="horizontal"?s.jsx(w_e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=C8(h,l,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):n==="vertical"?s.jsx(__e,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=C8(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),w_e=M.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=gl(au,t.__scopeScrollArea),[o,l]=M.useState(),c=M.useRef(null),u=Jt(e,c,a.onScrollbarXChange);return M.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Xee,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jN(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),Jee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:yj(o.paddingLeft),paddingEnd:yj(o.paddingRight)}})}})}),__e=M.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=gl(au,t.__scopeScrollArea),[o,l]=M.useState(),c=M.useRef(null),u=Jt(e,c,a.onScrollbarYChange);return M.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(Xee,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jN(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),Jee(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:yj(o.paddingTop),paddingEnd:yj(o.paddingBottom)}})}})}),[S_e,Wee]=zee(au),Xee=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=t,p=gl(au,n),[y,g]=M.useState(null),v=Jt(e,T=>g(T)),b=M.useRef(null),w=M.useRef(""),_=p.viewport,S=r.content-r.viewport,j=is(d),A=is(c),C=EN(f,10);function N(T){if(b.current){const P=T.clientX-b.current.left,D=T.clientY-b.current.top;u({x:P,y:D})}}return M.useEffect(()=>{const T=P=>{const D=P.target;y?.contains(D)&&j(P,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[_,y,S,j]),M.useEffect(A,[r,A]),uv(y,C),uv(p.content,C),s.jsx(S_e,{scope:n,scrollbar:y,hasThumb:i,onThumbChange:is(a),onThumbPointerUp:is(o),onThumbPositionChange:A,onThumbPointerDown:is(l),children:s.jsx(Mt.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:St(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),N(T))}),onPointerMove:St(t.onPointerMove,N),onPointerUp:St(t.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),xj="ScrollAreaThumb",Yee=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Wee(xj,t.__scopeScrollArea);return s.jsx(Hi,{present:n||i.hasThumb,children:s.jsx(j_e,{ref:e,...r})})}),j_e=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=gl(xj,n),o=Wee(xj,n),{onThumbPositionChange:l}=o,c=Jt(e,f=>o.onThumbChange(f)),u=M.useRef(void 0),d=EN(()=>{u.current&&(u.current(),u.current=void 0)},100);return M.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=A_e(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),s.jsx(Mt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:St(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:St(t.onPointerUp,o.onThumbPointerUp)})});Yee.displayName=xj;var R4="ScrollAreaCorner",Kee=M.forwardRef((t,e)=>{const n=gl(R4,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(E_e,{...t,ref:e}):null});Kee.displayName=R4;var E_e=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=gl(R4,n),[a,o]=M.useState(0),[l,c]=M.useState(0),u=!!(a&&l);return uv(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),c(d)}),uv(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),o(d)}),u?s.jsx(Mt.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function yj(t){return t?parseInt(t,10):0}function Qee(t,e){const n=t/e;return isNaN(n)?0:n}function jN(t){const e=Qee(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function N_e(t,e,n,r="ltr"){const i=jN(n),a=i/2,o=e||a,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Zee([c,u],f)(t)}function C8(t,e,n="ltr"){const r=jN(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=tb(t,c);return Zee([0,o],[0,l])(u)}function Zee(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Jee(t,e){return t>0&&t<e}var A_e=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function EN(t,e){const n=is(t),r=M.useRef(0);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),M.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function uv(t,e){const n=is(e);fi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var ete=Hee,C_e=qee,M_e=Kee;const O4=M.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(ete,{ref:r,className:Nt("relative overflow-hidden",t),...n,children:[s.jsx(C_e,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(tte,{}),s.jsx(M_e,{})]}));O4.displayName=ete.displayName;const tte=M.forwardRef(({className:t,orientation:e="vertical",...n},r)=>s.jsx(P4,{ref:r,orientation:e,className:Nt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:s.jsx(Yee,{className:"relative flex-1 rounded-full bg-border"})}));tte.displayName=P4.displayName;const Bh="notifications";class T_e{async getUserNotifications(e,n=50){try{return(await tt.listDocuments(un.databaseId,Bh,[Se.equal("userId",e),Se.orderDesc("$createdAt"),Se.limit(n)])).documents}catch(r){return console.error("Error fetching notifications:",r),[]}}async getUnreadCount(e){try{return(await tt.listDocuments(un.databaseId,Bh,[Se.equal("userId",e),Se.equal("read",!1)])).total}catch(n){return console.error("Error fetching unread count:",n),0}}async createNotification(e){try{return await tt.createDocument(un.databaseId,Bh,"unique()",{...e,read:!1})}catch(n){return console.error("Error creating notification:",n),null}}async markAsRead(e){try{return await tt.updateDocument(un.databaseId,Bh,e,{read:!0}),!0}catch(n){return console.error("Error marking notification as read:",n),!1}}async markAllAsRead(e){try{const r=(await this.getUserNotifications(e)).filter(i=>!i.read);return await Promise.all(r.map(i=>this.markAsRead(i.$id))),!0}catch(n){return console.error("Error marking all as read:",n),!1}}async deleteNotification(e){try{return await tt.deleteDocument(un.databaseId,Bh,e),!0}catch(n){return console.error("Error deleting notification:",n),!1}}async deleteAllNotifications(e){try{const n=await this.getUserNotifications(e);return await Promise.all(n.map(r=>this.deleteNotification(r.$id))),!0}catch(n){return console.error("Error deleting all notifications:",n),!1}}subscribeToNotifications(e,n){return bw.subscribe(`databases.${un.databaseId}.collections.${Bh}.documents`,r=>{const i=r.payload;i.userId===e&&n(i)})}async notifyOrderStatus(e,n,r){const a={confirmed:{title:"تم تأكيد طلبك",message:`تم تأكيد طلبك #${n} وجاري التجهيز للشحن`,type:"order"},shipped:{title:"تم شحن طلبك",message:`طلبك #${n} في الطريق إليك`,type:"shipping"},delivered:{title:"تم تسليم طلبك",message:`تم تسليم طلبك #${n} بنجاح`,type:"delivery"},cancelled:{title:"تم إلغاء طلبك",message:`تم إلغاء طلبك #${n}`,type:"alert"}}[r];return this.createNotification({userId:e,...a,relatedId:n})}async notifyAffiliateCommission(e,n,r){return this.createNotification({userId:e,type:"commission",title:"عمولة جديدة",message:`حصلت على عمولة ${n} ج.م من الطلب #${r}`,relatedId:r,metadata:{amount:n}})}}const Zy=new T_e,P_e=Object.freeze(Object.defineProperty({__proto__:null,NOTIFICATIONS_COLLECTION_ID:Bh,notificationService:Zy},Symbol.toStringTag,{value:"Module"})),D_e={order:er,shipping:ti,delivery:ul,alert:$a,info:wye,commission:kr,affiliate:kr};function R_e(t){const e=new Date(t),r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?"الآن":r<3600?`منذ ${Math.floor(r/60)} دقيقة`:r<86400?`منذ ${Math.floor(r/3600)} ساعة`:r<604800?`منذ ${Math.floor(r/86400)} يوم`:e.toLocaleDateString("ar-EG")}function O_e(){const{user:t}=ur(),e=xa(),[n,r]=M.useState(!1),i=Zf(),{data:a=[],isLoading:o}=ci({queryKey:["notifications",t?.$id],queryFn:()=>Zy.getUserNotifications(t.$id),enabled:!!t?.$id,refetchInterval:3e4});M.useEffect(()=>{if(!t?.$id)return;const f=Zy.subscribeToNotifications(t.$id,h=>{i.setQueryData(["notifications",t.$id],(p=[])=>[h,...p])});return()=>{f()}},[t?.$id,i]);const l=ql({mutationFn:f=>Zy.markAsRead(f),onSuccess:()=>{i.invalidateQueries({queryKey:["notifications",t?.$id]})}}),c=ql({mutationFn:()=>Zy.markAllAsRead(t.$id),onSuccess:()=>{i.invalidateQueries({queryKey:["notifications",t?.$id]})}}),u=a.filter(f=>!f.read).length,d=f=>{f.read||l.mutate(f.$id),r(!1),f.relatedId&&f.type==="order"&&e(`/my-orders/${f.relatedId}`)};return t?s.jsxs(Lg,{open:n,onOpenChange:r,children:[s.jsx(Fg,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(Yu,{className:"h-5 w-5"}),u>0&&s.jsx(jt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:u>9?"9+":u})]})}),s.jsxs(mp,{align:"end",className:"w-80",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[s.jsx("h3",{className:"font-semibold",children:"الإشعارات"}),u>0&&s.jsxs(ge,{variant:"ghost",size:"sm",onClick:()=>c.mutate(),disabled:c.isPending,className:"text-xs",children:[s.jsx(ul,{className:"h-3 w-3 mr-1"}),"تحديد الكل كمقروء"]})]}),s.jsx(Ol,{}),o?s.jsx("div",{className:"px-4 py-8 text-center text-muted-foreground",children:"جاري التحميل..."}):a.length===0?s.jsxs("div",{className:"px-4 py-8 text-center text-muted-foreground",children:[s.jsx(Yu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"لا توجد إشعارات"})]}):s.jsx(O4,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-1",children:a.map(f=>{const h=D_e[f.type];return s.jsxs(Ar,{className:`flex items-start gap-3 px-4 py-3 cursor-pointer ${f.read?"":"bg-accent/50"}`,onClick:()=>d(f),children:[s.jsx("div",{className:`mt-1 p-2 rounded-full ${f.read?"bg-muted text-muted-foreground":"bg-primary text-primary-foreground"}`,children:s.jsx(h,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("p",{className:"font-medium text-sm leading-tight",children:f.title}),!f.read&&s.jsx("div",{className:"h-2 w-2 rounded-full bg-primary flex-shrink-0 mt-1"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-tight",children:f.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R_e(f.$createdAt)})]})]},f.$id)})})})]})]}):null}const nte={"purple-orange":{name:"Purple & Orange",nameAr:"بنفسجي وبرتقالي",primary:"270 95% 60%",primaryStart:"260 100% 65%",primaryEnd:"280 90% 55%",secondary:"25 95% 58%",secondaryStart:"20 100% 60%",secondaryEnd:"35 95% 55%",accent:"190 95% 55%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"222.2 84% 4.9%",darkModeForeground:"210 40% 98%",description:"Vibrant and energetic",descriptionAr:"نابض بالحياة والطاقة",icon:"🟣"},"blue-cyan":{name:"Blue & Cyan",nameAr:"أزرق وسماوي",primary:"210 100% 50%",primaryStart:"200 100% 55%",primaryEnd:"220 95% 45%",secondary:"185 100% 40%",secondaryStart:"175 100% 45%",secondaryEnd:"195 95% 35%",accent:"160 90% 45%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"210 100% 15%",darkModeForeground:"210 40% 98%",description:"Cool and professional",descriptionAr:"بارد واحترافي",icon:"🔵"},"green-teal":{name:"Green & Teal",nameAr:"أخضر وفيروزي",primary:"145 85% 40%",primaryStart:"135 90% 45%",primaryEnd:"155 80% 35%",secondary:"170 100% 35%",secondaryStart:"160 100% 40%",secondaryEnd:"180 95% 30%",accent:"195 85% 45%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"145 85% 15%",darkModeForeground:"145 40% 95%",description:"Fresh and natural",descriptionAr:"منعش وطبيعي",icon:"🟢"},"pink-purple":{name:"Pink & Purple",nameAr:"وردي وبنفسجي",primary:"330 85% 50%",primaryStart:"320 90% 55%",primaryEnd:"340 80% 45%",secondary:"280 85% 50%",secondaryStart:"270 90% 55%",secondaryEnd:"290 80% 45%",accent:"200 90% 55%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"330 60% 20%",darkModeForeground:"330 40% 95%",description:"Sweet and playful",descriptionAr:"حلو ومرح",icon:"🩷"},"red-orange":{name:"Red & Orange",nameAr:"أحمر وبرتقالي",primary:"0 85% 50%",primaryStart:"350 90% 55%",primaryEnd:"10 80% 45%",secondary:"30 100% 45%",secondaryStart:"20 100% 50%",secondaryEnd:"40 95% 40%",accent:"45 100% 50%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"0 60% 20%",darkModeForeground:"0 40% 98%",description:"Bold and passionate",descriptionAr:"جريء وعاطفي",icon:"🔴"},"indigo-blue":{name:"Indigo & Blue",nameAr:"نيلي وأزرق",primary:"240 85% 45%",primaryStart:"230 90% 50%",primaryEnd:"250 80% 40%",secondary:"210 90% 50%",secondaryStart:"200 95% 55%",secondaryEnd:"220 85% 45%",accent:"180 85% 50%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"240 60% 15%",darkModeForeground:"240 40% 98%",description:"Deep and trustworthy",descriptionAr:"عميق وموثوق",icon:"🔷"},"emerald-lime":{name:"Emerald & Lime",nameAr:"زمردي وليموني",primary:"150 90% 35%",primaryStart:"140 95% 40%",primaryEnd:"160 85% 30%",secondary:"80 90% 40%",secondaryStart:"70 95% 45%",secondaryEnd:"90 85% 35%",accent:"50 100% 50%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"150 60% 15%",darkModeForeground:"150 40% 95%",description:"Bright and lively",descriptionAr:"مشرق وحيوي",icon:"💚"},"rose-pink":{name:"Rose & Pink",nameAr:"وردي فاتح",primary:"340 90% 55%",primaryStart:"330 95% 60%",primaryEnd:"350 85% 50%",secondary:"0 85% 60%",secondaryStart:"350 90% 65%",secondaryEnd:"10 80% 55%",accent:"30 90% 55%",textOnPrimary:"0 0% 100%",textOnSecondary:"0 0% 100%",lightModeForeground:"340 60% 20%",darkModeForeground:"340 40% 98%",description:"Romantic and elegant",descriptionAr:"رومانسي وأنيق",icon:"🌸"}},rte=M.createContext(void 0);function I_e({children:t}){const[e,n]=M.useState(()=>localStorage.getItem("egygo-theme")||"system"),[r,i]=M.useState(()=>localStorage.getItem("egygo-color-theme")||"purple-orange"),[a,o]=M.useState("light");M.useEffect(()=>{const d=window.document.documentElement,f=()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",h=()=>{const g=e==="system"?f():e;d.classList.remove("light","dark"),d.classList.add(g),o(g)};h();const p=window.matchMedia("(prefers-color-scheme: dark)"),y=()=>{e==="system"&&h()};return p.addEventListener("change",y),()=>p.removeEventListener("change",y)},[e]),M.useEffect(()=>{const d=nte[r],f=document.documentElement;f.style.setProperty("--primary",d.primary),f.style.setProperty("--primary-start",d.primaryStart),f.style.setProperty("--primary-end",d.primaryEnd),f.style.setProperty("--primary-light",d.primary),f.style.setProperty("--primary-dark",d.primaryEnd),f.style.setProperty("--primary-foreground",d.textOnPrimary),f.style.setProperty("--secondary",d.secondary),f.style.setProperty("--secondary-start",d.secondaryStart),f.style.setProperty("--secondary-end",d.secondaryEnd),f.style.setProperty("--secondary-light",d.secondary),f.style.setProperty("--secondary-foreground",d.textOnSecondary),f.style.setProperty("--accent-cyan",d.accent),a==="light"?(f.style.setProperty("--foreground",d.lightModeForeground),f.style.setProperty("--card-foreground",d.lightModeForeground),f.style.setProperty("--popover-foreground",d.lightModeForeground)):(f.style.setProperty("--foreground",d.darkModeForeground),f.style.setProperty("--card-foreground",d.darkModeForeground),f.style.setProperty("--popover-foreground",d.darkModeForeground)),localStorage.setItem("egygo-color-theme",r)},[r,a]);const l=d=>{n(d),localStorage.setItem("egygo-theme",d)},c=d=>{i(d)},u=()=>{l(a==="light"?"dark":"light")};return s.jsx(rte.Provider,{value:{theme:e,actualTheme:a,colorTheme:r,setTheme:l,setColorTheme:c,toggleTheme:u},children:t})}function I4(){const t=M.useContext(rte);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function k_e(){const{theme:t,setTheme:e}=I4();return s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(fj,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx(fI,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(mp,{align:"end",children:[s.jsxs(Ar,{onClick:()=>e("light"),className:"cursor-pointer",children:[s.jsx(fj,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"فاتح"}),t==="light"&&s.jsx("span",{className:"mr-auto",children:"✓"})]}),s.jsxs(Ar,{onClick:()=>e("dark"),className:"cursor-pointer",children:[s.jsx(fI,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"داكن"}),t==="dark"&&s.jsx("span",{className:"mr-auto",children:"✓"})]}),s.jsxs(Ar,{onClick:()=>e("system"),className:"cursor-pointer",children:[s.jsx(BZ,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"تلقائي"}),t==="system"&&s.jsx("span",{className:"mr-auto",children:"✓"})]})]})]})}function L_e(){const{colorTheme:t,setColorTheme:e}=I4(),n=["purple-orange","blue-cyan","green-teal","pink-purple","red-orange","indigo-blue","emerald-lime","rose-pink"];return s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsxs(ge,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(hI,{className:"h-5 w-5"}),s.jsx("span",{className:"sr-only",children:"اختر الثيم"})]})}),s.jsxs(mp,{align:"end",className:"w-72",children:[s.jsx(Fee,{className:"text-center text-base font-semibold",dir:"rtl",children:"اختر ثيم الألوان 🎨"}),s.jsx(Ol,{}),s.jsx("div",{className:"grid grid-cols-2 gap-2 p-2",dir:"rtl",children:n.map(r=>{const i=nte[r],a=t===r;return s.jsxs(Ar,{onClick:()=>e(r),className:`
                  flex flex-col items-start gap-2 p-3 cursor-pointer
                  rounded-lg border-2 transition-all
                  ${a?"border-primary bg-primary/10":"border-transparent hover:border-primary/30 hover:bg-accent"}
                `,children:[s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:i.icon}),s.jsx("span",{className:"font-semibold text-sm",children:i.nameAr})]}),a&&s.jsx(ul,{className:"h-4 w-4 text-primary"})]}),s.jsxs("div",{className:"flex gap-1 w-full",children:[s.jsx("div",{className:"h-6 flex-1 rounded",style:{background:`hsl(${i.primary})`}}),s.jsx("div",{className:"h-6 flex-1 rounded",style:{background:`hsl(${i.secondary})`}}),s.jsx("div",{className:"h-6 flex-1 rounded",style:{background:`hsl(${i.accent})`}})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i.descriptionAr})]},r)})}),s.jsx(Ol,{}),s.jsx("div",{className:"p-2 text-xs text-center text-muted-foreground",children:"اختر الثيم المفضل لديك من بين 8 تصاميم مختلفة"})]})]})}function F_e({cartItemCount:t}){const[e,n]=M.useState([]),{user:r,logout:i}=ur(),{items:a}=gx(),o=t??a.reduce((l,c)=>l+c.quantity,0);return M.useEffect(()=>{px.getAll().then(l=>{n(l.categories)}).catch(()=>{n([])})},[]),s.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-purple-100 dark:border-purple-900 bg-gradient-to-r from-background via-purple-50/30 to-background dark:from-background dark:via-purple-950/20 dark:to-background backdrop-blur-xl supports-[backdrop-filter]:bg-background/60 shadow-sm",children:s.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between px-4",children:[s.jsxs(N4,{children:[s.jsx(A4,{asChild:!0,children:s.jsx(ge,{variant:"ghost",size:"icon",className:"md:hidden",children:s.jsx(LZ,{className:"h-5 w-5"})})}),s.jsxs(SN,{side:"right",className:"w-80",children:[s.jsx(C4,{children:s.jsx(M4,{children:s.jsx(ot,{to:"/",className:"text-2xl font-bold text-primary",children:"إيجي جو"})})}),s.jsxs("nav",{className:"mt-6 space-y-4",children:[r?.role==="admin"&&s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs(ot,{to:"/admin",className:"flex items-center gap-2 py-2 px-3 bg-gradient-to-r from-purple-100 to-purple-50 dark:from-purple-900 dark:to-purple-800 text-primary rounded-lg font-semibold hover:shadow-md transition-all",children:[s.jsx(Fs,{className:"h-5 w-5"}),"لوحة تحكم الإدارة"]})}),r?.isAffiliate&&s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs(ot,{to:"/affiliate/dashboard",className:"flex items-center gap-2 py-2 px-3 bg-gradient-to-r from-orange-100 to-yellow-50 dark:from-orange-900 dark:to-yellow-800 text-orange-600 dark:text-orange-300 rounded-lg font-semibold hover:shadow-md transition-all",children:[s.jsx(br,{className:"h-5 w-5"}),"لوحة تحكم المسوق"]})}),r?.isMerchant&&s.jsx("div",{className:"space-y-2 mb-4",children:s.jsxs(ot,{to:"/merchant/dashboard",className:"flex items-center gap-2 py-2 px-3 bg-gradient-to-r from-purple-100 to-pink-50 dark:from-purple-900 dark:to-pink-800 text-purple-600 dark:text-purple-300 rounded-lg font-semibold hover:shadow-md transition-all",children:[s.jsx(Zh,{className:"h-5 w-5"}),"لوحة تحكم التاجر"]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"الفئات"}),e.filter(l=>l.slug).map(l=>s.jsx(ot,{to:`/category/${l.slug}`,className:"block py-2 text-sm hover:text-primary transition-colors",children:l.name},l.id))]}),s.jsxs("div",{className:"pt-4 border-t space-y-2",children:[s.jsxs(ot,{to:"/affiliate",className:"flex items-center gap-2 py-2 text-sm hover:text-primary transition-colors",children:[s.jsx(wi,{className:"h-4 w-4"}),"برنامج الشراكة"]}),s.jsx(ot,{to:"/deals",className:"block py-2 text-sm hover:text-primary transition-colors",children:"العروض الخاصة"})]})]})]})]}),s.jsx(ot,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-primary via-purple-600 to-secondary bg-clip-text text-transparent hover:scale-105 transition-transform",children:"إيجي جو"}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-6 rtl:space-x-reverse",children:[s.jsxs(Lg,{children:[s.jsx(Fg,{className:"flex items-center text-sm font-medium hover:text-primary transition-colors",children:"الفئات"}),s.jsx(mp,{className:"w-48",children:e.filter(l=>l.slug).map(l=>s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:`/category/${l.slug}`,className:"flex items-center justify-between w-full",children:[l.name,s.jsx(jt,{variant:"secondary",className:"ml-2 text-xs",children:l.productCount})]})},l.id))})]}),s.jsx(ot,{to:"/deals",className:"text-sm font-medium hover:text-primary transition-colors",children:"العروض"}),s.jsxs(ot,{to:"/affiliate",className:"flex items-center gap-1 text-sm font-medium bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent hover:from-orange-600 hover:to-yellow-600 transition-all",children:[s.jsx(wi,{className:"h-4 w-4 text-orange-500"}),"برنامج الشراكة"]})]}),s.jsx("div",{className:"hidden lg:flex items-center max-w-sm flex-1 mx-6",children:s.jsx(Iwe,{})}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(ge,{variant:"ghost",size:"icon",className:"lg:hidden",children:s.jsx(dl,{className:"h-5 w-5"})}),r&&(r.role==="admin"||r.isAffiliate||r.role==="merchant")&&s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsxs(ge,{variant:"outline",size:"sm",className:"hidden md:flex items-center gap-2 font-semibold border-2",children:[r.role==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx(Fs,{className:"h-4 w-4"}),s.jsx("span",{children:"لوحة التحكم"})]}),r.role==="merchant"&&s.jsxs(s.Fragment,{children:[s.jsx(Zh,{className:"h-4 w-4"}),s.jsx("span",{children:"لوحة التاجر"})]}),r.isAffiliate&&r.role!=="admin"&&r.role!=="merchant"&&s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"h-4 w-4"}),s.jsx("span",{children:"لوحة المسوق"})]})]})}),s.jsxs(mp,{align:"end",className:"w-56",children:[r.role==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/admin",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Fs,{className:"h-4 w-4"}),"لوحة الإدارة"]})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/admin/products",className:"flex items-center gap-2 cursor-pointer",children:"إدارة المنتجات"})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/admin/orders",className:"flex items-center gap-2 cursor-pointer",children:"إدارة الطلبات"})})]}),r.role==="merchant"&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/merchant/dashboard",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Zh,{className:"h-4 w-4"}),"لوحة التاجر"]})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/admin/products",className:"flex items-center gap-2 cursor-pointer",children:"منتجاتي"})})]}),r.isAffiliate&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/affiliate/dashboard",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(br,{className:"h-4 w-4"}),"لوحة المسوق"]})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/affiliate/analytics",className:"flex items-center gap-2 cursor-pointer",children:"التحليلات"})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/affiliate/withdraw",className:"flex items-center gap-2 cursor-pointer",children:"سحب الأرباح"})})]})]})]}),r&&s.jsx(O_e,{}),s.jsx(L_e,{}),s.jsx(k_e,{}),s.jsx(ge,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(ot,{to:"/wishlist",children:s.jsx(Yc,{className:"h-5 w-5"})})}),s.jsx(ge,{variant:"ghost",size:"icon",className:"relative",asChild:!0,children:s.jsxs(ot,{to:"/cart",children:[s.jsx(ti,{className:"h-5 w-5"}),o>0&&s.jsx(jt,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:o})]})}),s.jsxs(Lg,{children:[s.jsx(Fg,{asChild:!0,children:s.jsx(ge,{variant:"ghost",size:"icon",children:s.jsx(cv,{className:"h-5 w-5"})})}),s.jsx(mp,{align:"end",className:"w-48",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-2 py-1.5 text-sm font-medium",children:["مرحباً، ",r.name]}),s.jsx(Ol,{}),r.role==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/admin",className:"text-primary font-semibold",children:[s.jsx(Fs,{className:"ml-2 h-4 w-4"}),"لوحة تحكم الإدارة"]})}),s.jsx(Ol,{})]}),r.isAffiliate&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/affiliate/dashboard",className:"text-orange-600 font-semibold",children:[s.jsx(br,{className:"ml-2 h-4 w-4"}),"لوحة تحكم المسوق"]})}),s.jsx(Ol,{})]}),r.isMerchant&&s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsxs(ot,{to:"/merchant/dashboard",className:"text-purple-600 font-semibold",children:[s.jsx(Zh,{className:"ml-2 h-4 w-4"}),"لوحة تحكم التاجر"]})}),s.jsx(Ol,{})]}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/my-orders",children:"طلباتي"})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/account",children:"حسابي"})}),r.isAffiliate&&s.jsxs(s.Fragment,{children:[s.jsx(Ol,{}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/affiliate/dashboard",className:"text-brand-orange",children:"لوحة تحكم الشراكة"})})]}),s.jsx(Ol,{}),s.jsxs(Ar,{onClick:()=>i(),children:[s.jsx(kZ,{className:"ml-2 h-4 w-4"}),"تسجيل الخروج"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/login",children:"تسجيل الدخول"})}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/register",children:"إنشاء حساب"})}),s.jsx(Ol,{}),s.jsx(Ar,{asChild:!0,children:s.jsx(ot,{to:"/affiliate",className:"text-brand-orange",children:"برنامج الشراكة"})})]})})]})]})]})})}var OC,M8;function U_e(){if(M8)return OC;M8=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(a)){if(l=a.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!i(a[c],o[c]))return!1;return!0}var d;if(e&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!i(c.value[1],o.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(l=a.length,l!=o.length)return!1;for(c=l;c--!==0;)if(a[c]!==o[c])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(u=Object.keys(a),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&a instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&a.$$typeof)&&!i(a[u[c]],o[u[c]]))return!1;return!0}return a!==a&&o!==o}return OC=function(o,l){try{return i(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},OC}var B_e=U_e();const $_e=In(B_e);var IC,T8;function z_e(){if(T8)return IC;T8=1;var t=function(e,n,r,i,a,o,l,c){if(!e){var u;if(n===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,i,a,o,l,c],f=0;u=new Error(n.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return IC=t,IC}var H_e=z_e();const P8=In(H_e);var kC,D8;function V_e(){return D8||(D8=1,kC=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),l=Object.keys(n);if(o.length!==l.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var d=o[u];if(!c(d))return!1;var f=e[d],h=n[d];if(a=r?r.call(i,f,h,d):void 0,a===!1||a===void 0&&f!==h)return!1}return!0}),kC}var q_e=V_e();const G_e=In(q_e);var ite=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(ite||{}),LC={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},R8=Object.values(ite),k4={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},W_e=Object.entries(k4).reduce((t,[e,n])=>(t[n]=e,t),{}),zl="data-rh",Ug={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Bg=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},X_e=t=>{let e=Bg(t,"title");const n=Bg(t,Ug.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Bg(t,Ug.DEFAULT_TITLE);return e||r||void 0},Y_e=t=>Bg(t,Ug.ON_CHANGE_CLIENT_STATE)||(()=>{}),FC=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),K_e=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const l=i[a].toLowerCase();if(t.indexOf(l)!==-1&&r[l])return n.concat(r)}}return n},[]),Q_e=t=>console&&typeof console.warn=="function"&&console.warn(t),wy=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&Q_e(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const o={};a.filter(c=>{let u;const d=Object.keys(c);for(let h=0;h<d.length;h+=1){const p=d[h],y=p.toLowerCase();e.indexOf(y)!==-1&&!(u==="rel"&&c[u].toLowerCase()==="canonical")&&!(y==="rel"&&c[y].toLowerCase()==="stylesheet")&&(u=y),e.indexOf(p)!==-1&&(p==="innerHTML"||p==="cssText"||p==="itemprop")&&(u=p)}if(!u||!c[u])return!1;const f=c[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][f]?!1:(o[u][f]=!0,!0)}).reverse().forEach(c=>i.push(c));const l=Object.keys(o);for(let c=0;c<l.length;c+=1){const u=l[c],d={...r[u],...o[u]};r[u]=d}return i},[]).reverse()},Z_e=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},J_e=t=>({baseTag:K_e(["href"],t),bodyAttributes:FC("bodyAttributes",t),defer:Bg(t,Ug.DEFER),encode:Bg(t,Ug.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:FC("htmlAttributes",t),linkTags:wy("link",["rel","href"],t),metaTags:wy("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:wy("noscript",["innerHTML"],t),onChangeClientState:Y_e(t),scriptTags:wy("script",["src","innerHTML"],t),styleTags:wy("style",["cssText"],t),title:X_e(t),titleAttributes:FC("titleAttributes",t),prioritizeSeoTags:Z_e(t,Ug.PRIORITIZE_SEO_TAGS)}),ste=t=>Array.isArray(t)?t.join(""):t,eSe=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},UC=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(eSe(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},O8=(t,e)=>({...t,[e]:void 0}),tSe=["noscript","script","style"],wI=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ate=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),nSe=(t,e,n,r)=>{const i=ate(n),a=ste(e);return i?`<${t} ${zl}="true" ${i}>${wI(a,r)}</${t}>`:`<${t} ${zl}="true">${wI(a,r)}</${t}>`},rSe=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,o=Object.keys(a).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,d)=>{const f=typeof a[d]>"u"?d:`${d}="${wI(a[d],n)}"`;return u?`${u} ${f}`:f},""),l=a.innerHTML||a.cssText||"",c=tSe.indexOf(t)===-1;return`${r}<${t} ${zl}="true" ${o}${c?"/>":`>${l}</${t}>`}`},""),ote=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=k4[r];return n[i||r]=t[r],n},e),iSe=(t,e,n)=>{const r={key:e,[zl]:!0},i=ote(n,r);return[ee.createElement("title",i,e)]},DS=(t,e)=>e.map((n,r)=>{const i={key:r,[zl]:!0};return Object.keys(n).forEach(a=>{const l=k4[a]||a;if(l==="innerHTML"||l==="cssText"){const c=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:c}}else i[l]=n[a]}),ee.createElement(t,i)}),$o=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>iSe(t,e.title,e.titleAttributes),toString:()=>nSe(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>ote(e),toString:()=>ate(e)};default:return{toComponent:()=>DS(t,e),toString:()=>rSe(t,e,n)}}},sSe=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=UC(t,LC.meta),a=UC(e,LC.link),o=UC(n,LC.script);return{priorityMethods:{toComponent:()=>[...DS("meta",i.priority),...DS("link",a.priority),...DS("script",o.priority)],toString:()=>`${$o("meta",i.priority,r)} ${$o("link",a.priority,r)} ${$o("script",o.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:o.default}},aSe=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:o,title:l="",titleAttributes:c,prioritizeSeoTags:u}=t;let{linkTags:d,metaTags:f,scriptTags:h}=t,p={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:p,linkTags:d,metaTags:f,scriptTags:h}=sSe(t)),{priority:p,base:$o("base",e,r),bodyAttributes:$o("bodyAttributes",n,r),htmlAttributes:$o("htmlAttributes",i,r),link:$o("link",d,r),meta:$o("meta",f,r),noscript:$o("noscript",a,r),script:$o("script",h,r),style:$o("style",o,r),title:$o("title",{title:l,titleAttributes:c},r)}},_I=aSe,n_=[],lte=!!(typeof window<"u"&&window.document&&window.document.createElement),SI=class{instances=[];canUseDOM=lte;context;value={setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?n_:this.instances,add:t=>{(this.canUseDOM?n_:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?n_:this.instances).indexOf(t);(this.canUseDOM?n_:this.instances).splice(e,1)}}};constructor(t,e){this.context=t,this.canUseDOM=e||!1,e||(t.helmet=_I({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oSe={},cte=ee.createContext(oSe),ute=class dte extends M.Component{static canUseDOM=lte;helmetData;constructor(e){super(e),this.helmetData=new SI(this.props.context||{},dte.canUseDOM)}render(){return ee.createElement(cte.Provider,{value:this.helmetData.value},this.props.children)}},Lm=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${zl}]`),i=[].slice.call(r),a=[];let o;return e&&e.length&&e.forEach(l=>{const c=document.createElement(t);for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u))if(u==="innerHTML")c.innerHTML=l.innerHTML;else if(u==="cssText")c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{const d=u,f=typeof l[d]>"u"?"":l[d];c.setAttribute(u,f)}c.setAttribute(zl,"true"),i.some((u,d)=>(o=d,c.isEqualNode(u)))?i.splice(o,1):a.push(c)}),i.forEach(l=>l.parentNode?.removeChild(l)),a.forEach(l=>n.appendChild(l)),{oldTags:i,newTags:a}},jI=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(zl),i=r?r.split(","):[],a=[...i],o=Object.keys(e);for(const l of o){const c=e[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),i.indexOf(l)===-1&&i.push(l);const u=a.indexOf(l);u!==-1&&a.splice(u,1)}for(let l=a.length-1;l>=0;l-=1)n.removeAttribute(a[l]);i.length===a.length?n.removeAttribute(zl):n.getAttribute(zl)!==o.join(",")&&n.setAttribute(zl,o.join(","))},lSe=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=ste(t)),jI("title",e)},I8=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:o,noscriptTags:l,onChangeClientState:c,scriptTags:u,styleTags:d,title:f,titleAttributes:h}=t;jI("body",r),jI("html",i),lSe(f,h);const p={baseTag:Lm("base",n),linkTags:Lm("link",a),metaTags:Lm("meta",o),noscriptTags:Lm("noscript",l),scriptTags:Lm("script",u),styleTags:Lm("style",d)},y={},g={};Object.keys(p).forEach(v=>{const{newTags:b,oldTags:w}=p[v];b.length&&(y[v]=b),w.length&&(g[v]=p[v].oldTags)}),e&&e(),c(t,y,g)},_y=null,cSe=t=>{_y&&cancelAnimationFrame(_y),t.defer?_y=requestAnimationFrame(()=>{I8(t,()=>{_y=null})}):(I8(t),_y=null)},uSe=cSe,k8=class extends M.Component{rendered=!1;shouldComponentUpdate(t){return!G_e(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:e}=this.props.context;let n=null;const r=J_e(t.get().map(i=>{const a={...i.props};return delete a.context,a}));ute.canUseDOM?uSe(r):_I&&(n=_I(r)),e(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},dSe=class extends M.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(t){return!$_e(O8(this.props,"helmetData"),O8(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return P8(R8.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${R8.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),P8(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ee.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,o=Object.keys(a).reduce((c,u)=>(c[W_e[u]||u]=a[u],c),{});let{type:l}=r;switch(typeof l=="symbol"?l=l.toString():this.warnOnInvalidChildren(r,i),l){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof SI)){const i=r;r=new SI(i.context,!0),delete n.helmetData}return r?ee.createElement(k8,{...n,context:r.value}):ee.createElement(cte.Consumer,null,i=>ee.createElement(k8,{...n,context:i}))}},BC,L8;function fSe(){if(L8)return BC;L8=1;var t=4,e=.001,n=1e-7,r=10,i=11,a=1/(i-1),o=typeof Float32Array=="function";function l(g,v){return 1-3*v+3*g}function c(g,v){return 3*v-6*g}function u(g){return 3*g}function d(g,v,b){return((l(v,b)*g+c(v,b))*g+u(v))*g}function f(g,v,b){return 3*l(v,b)*g*g+2*c(v,b)*g+u(v)}function h(g,v,b,w,_){var S,j,A=0;do j=v+(b-v)/2,S=d(j,w,_)-g,S>0?b=j:v=j;while(Math.abs(S)>n&&++A<r);return j}function p(g,v,b,w){for(var _=0;_<t;++_){var S=f(v,b,w);if(S===0)return v;var j=d(v,b,w)-g;v-=j/S}return v}function y(g){return g}return BC=function(v,b,w,_){if(!(0<=v&&v<=1&&0<=w&&w<=1))throw new Error("bezier x values must be in [0, 1] range");if(v===b&&w===_)return y;for(var S=o?new Float32Array(i):new Array(i),j=0;j<i;++j)S[j]=d(j*a,v,w);function A(C){for(var N=0,T=1,P=i-1;T!==P&&S[T]<=C;++T)N+=a;--T;var D=(C-S[T])/(S[T+1]-S[T]),O=N+D*a,I=f(O,v,w);return I>=e?p(C,O,v,w):I===0?O:h(C,N,N+a,v,w)}return function(N){return N===0?0:N===1?1:d(A(N),b,_)}},BC}var hSe=fSe();const F8=In(hSe);var L4=function(e){this.startX=e.startX,this.startY=e.startY,this.endX=e.endX,this.endY=e.endY,this.totalX=this.endX-this.startX,this.totalY=this.endY-this.startY,this.startMultiplierX=e.startMultiplierX||1,this.endMultiplierX=e.endMultiplierX||1,this.startMultiplierY=e.startMultiplierY||1,this.endMultiplierY=e.endMultiplierY||1};function Mf(){return Mf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}var bj;(function(t){t.speed="speed",t.translateX="translateX",t.translateY="translateY",t.rotate="rotate",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.scale="scale",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.opacity="opacity"})(bj||(bj={}));var Jh;(function(t){t.px="px",t["%"]="%",t.vh="vh",t.vw="vw"})(Jh||(Jh={}));var x0;(function(t){t.deg="deg",t.turn="turn",t.rad="rad"})(x0||(x0={}));var EI;(function(t){t[""]=""})(EI||(EI={}));var ec;(function(t){t.vertical="vertical",t.horizontal="horizontal"})(ec||(ec={}));var U8;(function(t){t.ease="ease",t.easeIn="easeIn",t.easeOut="easeOut",t.easeInOut="easeInOut",t.easeInQuad="easeInQuad",t.easeInCubic="easeInCubic",t.easeInQuart="easeInQuart",t.easeInQuint="easeInQuint",t.easeInSine="easeInSine",t.easeInExpo="easeInExpo",t.easeInCirc="easeInCirc",t.easeOutQuad="easeOutQuad",t.easeOutCubic="easeOutCubic",t.easeOutQuart="easeOutQuart",t.easeOutQuint="easeOutQuint",t.easeOutSine="easeOutSine",t.easeOutExpo="easeOutExpo",t.easeOutCirc="easeOutCirc",t.easeInOutQuad="easeInOutQuad",t.easeInOutCubic="easeInOutCubic",t.easeInOutQuart="easeInOutQuart",t.easeInOutQuint="easeInOutQuint",t.easeInOutSine="easeInOutSine",t.easeInOutExpo="easeInOutExpo",t.easeInOutCirc="easeInOutCirc",t.easeInBack="easeInBack",t.easeOutBack="easeOutBack",t.easeInOutBack="easeInOutBack"})(U8||(U8={}));var B8=0;function pSe(){return++B8,B8}var mSe=(function(){function t(n){var r=n.el.getBoundingClientRect();if(n.view.scrollContainer){var i=n.view.scrollContainer.getBoundingClientRect();r=Mf({},r,{top:r.top-i.top,right:r.right-i.left,bottom:r.bottom-i.top,left:r.left-i.left})}this.height=n.el.offsetHeight,this.width=n.el.offsetWidth,this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,n.rootMargin&&this._setRectWithRootMargin(n.rootMargin)}var e=t.prototype;return e._setRectWithRootMargin=function(r){var i=r.top+r.bottom,a=r.left+r.right;this.top-=r.top,this.right+=r.right,this.bottom+=r.bottom,this.left-=r.left,this.height+=i,this.width+=a},t})(),gSe=[EI[""],Jh.px,Jh["%"],Jh.vh,Jh.vw,x0.deg,x0.turn,x0.rad];function r_(t,e){e===void 0&&(e=Jh["%"]);var n={value:0,unit:e};if(typeof t>"u")return n;var r=typeof t=="number"||typeof t=="string";if(!r)throw new Error("Invalid value provided. Must provide a value as a string or number");t=String(t),n.value=parseFloat(t),n.unit=t.match(/[\d.\-+]*\s*(.*)/)[1]||e;var i=gSe.includes(n.unit);if(!i)throw new Error("Invalid unit provided.");return n}var $8={ease:[.25,.1,.25,1],easeIn:[.42,0,1,1],easeOut:[0,0,.58,1],easeInOut:[.42,0,.58,1],easeInQuad:[.55,.085,.68,.53],easeInCubic:[.55,.055,.675,.19],easeInQuart:[.895,.03,.685,.22],easeInQuint:[.755,.05,.855,.06],easeInSine:[.47,0,.745,.715],easeInExpo:[.95,.05,.795,.035],easeInCirc:[.6,.04,.98,.335],easeOutQuad:[.25,.46,.45,.94],easeOutCubic:[.215,.61,.355,1],easeOutQuart:[.165,.84,.44,1],easeOutQuint:[.23,1,.32,1],easeOutSine:[.39,.575,.565,1],easeOutExpo:[.19,1,.22,1],easeOutCirc:[.075,.82,.165,1],easeInOutQuad:[.455,.03,.515,.955],easeInOutCubic:[.645,.045,.355,1],easeInOutQuart:[.77,0,.175,1],easeInOutQuint:[.86,0,.07,1],easeInOutSine:[.445,.05,.55,.95],easeInOutExpo:[1,0,0,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};function fte(t){if(Array.isArray(t))return F8(t[0],t[1],t[2],t[3]);if(typeof t=="string"&&typeof $8[t]<"u"){var e=$8[t];return F8(e[0],e[1],e[2],e[3])}}var vSe=Object.values(bj),xSe={speed:"px",translateX:"%",translateY:"%",rotate:"deg",rotateX:"deg",rotateY:"deg",rotateZ:"deg",scale:"",scaleX:"",scaleY:"",scaleZ:"",opacity:""};function z8(t,e){var n={};return vSe.forEach(function(r){var i=xSe[r];if(typeof t?.[r]=="number"){var a=t?.[r],o=(a||0)*10+"px",l=(a||0)*-10+"px",c=r_(o),u=r_(l),d={start:c.value,end:u.value,unit:c.unit};e===ec.vertical&&(n.translateY=d),e===ec.horizontal&&(n.translateX=d)}if(Array.isArray(t?.[r])){var f=t?.[r];if(typeof f[0]<"u"&&typeof f[1]<"u"){var h=r_(f?.[0],i),p=r_(f?.[1],i),y=fte(f?.[2]);if(n[r]={start:h.value,end:p.value,unit:h.unit,easing:y},h.unit!==p.unit)throw new Error("Must provide matching units for the min and max offset values of each axis.")}}}),n}function H8(t,e,n,r){var i=n-t,a=i/e;return r&&(a=r(a)),a}function ySe(t,e,n){var r=n>=t&&n<=e;return r}function bSe(t,e,n,r,i){return(n-e)*(t-r)/(i-r)+e}function hte(t,e){var n=bSe(typeof t.easing=="function"?t.easing(e):e,t?.start||0,t?.end||0,0,1);return{value:n,unit:t?.unit}}var wSe=Object.values(bj).filter(function(t){return t!=="opacity"});function _Se(t,e){var n=Object.keys(e),r=n.includes("opacity"),i="transform"+(r?",opacity":"");t.style.willChange=i}function SSe(t,e,n){if(n){var r=ESe(t,e),i=jSe(t,e);n.style.transform=r,n.style.opacity=i}}function jSe(t,e){var n=t.opacity&&hte(t.opacity,e);if(typeof n>"u"||typeof n.value>"u"||typeof n.unit>"u")return"";var r=""+n.value;return r}function ESe(t,e){var n=wSe.reduce(function(r,i){var a=t[i]&&hte(t[i],e);if(typeof a>"u"||typeof a.value>"u"||typeof a.unit>"u")return r;var o=i+"("+a.value+a.unit+")";return r+o},"");return n}function RS(t){var e=t.el;e&&(e.style.transform="",e.style.opacity="")}function NSe(t,e,n,r){var i=t.top-e.height,a=t.left-e.width,o=t.bottom,l=t.right;a+=n.x,l+=n.x,i+=n.y,o+=n.y,r&&(n.y+t.top<e.height&&(i=0),n.x+t.left<e.width&&(a=0),o>e.scrollHeight-e.height&&(o=e.scrollHeight-e.height),l>e.scrollWidth-e.width&&(l=e.scrollWidth-e.width));var c=new L4({startX:a,startY:i,endX:l,endY:o});return c}function Fm(t,e,n){var r=e>t,i=(Math.abs(t)+Math.abs(e))*(r?-1:1),a=n+i,o=Math.max(n/a,1);return o}function V8(t,e){var n=t.start,r=t.end,i=t.unit;if(i==="%"){var a=e/100;n=n*a,r=r*a}if(i==="vw"){var o=n/100,l=r/100;n=window.innerWidth*o,r=window.innerWidth*l}if(i==="vh"){var c=n/100,u=r/100;n=window.innerHeight*c,r=window.innerHeight*u}return{start:n,end:r}}var q8={start:0,end:0,unit:""};function ASe(t,e,n,r,i,a){var o=n.translateX||q8,l=n.translateY||q8,c=V8(o,t.width),u=c.start,d=c.end,f=V8(l,t.height),h=f.start,p=f.end,y=t.top-e.height,g=t.left-e.width,v=t.bottom,b=t.right,w=1,_=1;i===ec.vertical&&(w=Fm(h,p,e.height+t.height),_=w);var S=1,j=1;if(i===ec.horizontal&&(S=Fm(u,d,e.width+t.width),j=S),h<0&&(y=y+h*w),p>0&&(v=v+p*_),u<0&&(g=g+u*S),d>0&&(b=b+d*j),g+=r.x,b+=r.x,y+=r.y,v+=r.y,a){var A=r.y+t.top<e.height,C=r.x+t.left<e.width,N=r.y+t.bottom>e.scrollHeight-e.height,T=r.x+t.right>e.scrollWidth-e.height;if(A&&N&&(w=1,_=1,y=0,v=e.scrollHeight-e.height),C&&T&&(S=1,j=1,g=0,b=e.scrollWidth-e.width),!A&&N){y=t.top-e.height+r.y,v=e.scrollHeight-e.height;var P=v-y;w=Fm(h,p,P),_=1,h<0&&(y=y+h*w)}if(!C&&T){g=t.left-e.width+r.x,b=e.scrollWidth-e.width;var D=b-g;S=Fm(u,d,D),j=1,u<0&&(g=g+u*S)}if(A&&!N){y=0,v=t.bottom+r.y;var O=v-y;w=1,_=Fm(h,p,O),p>0&&(v=v+p*_)}if(C&&!T){g=0,b=t.right+r.x;var I=b-g;S=1,j=Fm(u,d,I),d>0&&(b=b+d*j)}}var L=new L4({startX:g,startY:y,endX:b,endY:v,startMultiplierX:S,endMultiplierX:j,startMultiplierY:w,endMultiplierY:_});return L}function CSe(t,e){var n=Mf({},t);return n.translateX&&(n.translateX=Mf({},t.translateX,{start:n.translateX.start*e.startMultiplierX,end:n.translateX.end*e.endMultiplierX})),n.translateY&&(n.translateY=Mf({},t.translateY,{start:n.translateY.start*e.startMultiplierY,end:n.translateY.end*e.endMultiplierY})),n}function MSe(t,e,n){return t.rootMargin||t.targetElement||t.shouldDisableScalingTranslations?!1:!!(e.translateX&&n===ec.horizontal||e.translateY&&n===ec.vertical)}var G8=function(e,n,r){return Math.min(Math.max(e,n),r)},TSe=(function(){function t(n){this.el=n.el,this.props=n.props,this.scrollAxis=n.scrollAxis,this.disabledParallaxController=n.disabledParallaxController||!1,this.id=pSe(),this.effects=z8(this.props,this.scrollAxis),this.isInView=null,this.progress=0,this._setElementEasing(n.props.easing),_Se(n.el,this.effects)}var e=t.prototype;return e.updateProps=function(r){return this.props=Mf({},this.props,r),this.effects=z8(r,this.scrollAxis),this._setElementEasing(r.easing),this},e.setCachedAttributes=function(r,i){RS(this),this.rect=new mSe({el:this.props.targetElement||this.el,rootMargin:this.props.rootMargin,view:r});var a=MSe(this.props,this.effects,this.scrollAxis);return typeof this.props.startScroll=="number"&&typeof this.props.endScroll=="number"?(this.limits=new L4({startX:this.props.startScroll,startY:this.props.startScroll,endX:this.props.endScroll,endY:this.props.endScroll}),this._setElementStyles(),this):(a?(this.limits=ASe(this.rect,r,this.effects,i,this.scrollAxis,this.props.shouldAlwaysCompleteAnimation),this.scaledEffects=CSe(this.effects,this.limits)):this.limits=NSe(this.rect,r,i,this.props.shouldAlwaysCompleteAnimation),this._setElementStyles(),this)},e._updateElementIsInView=function(r){var i=this.isInView===null;r!==this.isInView&&(r?this.props.onEnter&&this.props.onEnter(this):i||(this._setFinalProgress(),this._setElementStyles(),this.props.onExit&&this.props.onExit(this))),this.isInView=r},e._setFinalProgress=function(){var r=G8(Math.round(this.progress),0,1);this._updateElementProgress(r)},e._setElementStyles=function(){if(!(this.props.disabled||this.disabledParallaxController)){var r=this.scaledEffects||this.effects;SSe(r,this.progress,this.el)}},e._updateElementProgress=function(r){this.progress=r,this.props.onProgressChange&&this.props.onProgressChange(this.progress),this.props.onChange&&this.props.onChange(this)},e._setElementEasing=function(r){this.easing=fte(r)},e.updateElementOptions=function(r){this.scrollAxis=r.scrollAxis,this.disabledParallaxController=r.disabledParallaxController||!1},e.updatePosition=function(r){if(!this.limits)return this;var i=this.scrollAxis===ec.vertical,a=this.isInView===null,o=i?this.limits.startY:this.limits.startX,l=i?this.limits.endY:this.limits.endX,c=i?this.limits.totalY:this.limits.totalX,u=i?r.y:r.x,d=ySe(o,l,u);if(this._updateElementIsInView(d),d){var f=H8(o,c,u,this.easing);this._updateElementProgress(f),this._setElementStyles()}else a&&(this.progress=G8(Math.round(H8(o,c,u,this.easing)),0,1),this._setElementStyles());return this},t})(),W8=(function(){function t(n){this.scrollContainer=n.scrollContainer,this.width=n.width,this.height=n.height,this.scrollHeight=n.scrollHeight,this.scrollWidth=n.scrollWidth}var e=t.prototype;return e.hasChanged=function(r){return r.width!==this.width||r.height!==this.height||r.scrollWidth!==this.scrollWidth||r.scrollHeight!==this.scrollHeight},e.setSize=function(r){return this.width=r.width,this.height=r.height,this.scrollHeight=r.scrollHeight,this.scrollWidth=r.scrollWidth,this},t})(),PSe=(function(){function t(n,r){this.x=n,this.y=r,this.dx=0,this.dy=0}var e=t.prototype;return e.setScroll=function(r,i){return this.dx=r-this.x,this.dy=i-this.y,this.x=r,this.y=i,this},t})();function DSe(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return t=!0,!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}var RSe=(function(){function t(n){var r=n.scrollAxis,i=r===void 0?ec.vertical:r,a=n.scrollContainer,o=n.disabled,l=o===void 0?!1:o;this.disabled=l,this.scrollAxis=i,this.elements=[],this._hasScrollContainer=!!a,this.viewEl=a??window;var c=this._getScrollPosition(),u=c[0],d=c[1];this.scroll=new PSe(u,d),this.view=new W8({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:this._hasScrollContainer?a:void 0}),this._ticking=!1,this._supportsPassive=DSe(),this._bindAllMethods(),!this.disabled&&(this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize())}t.init=function(r){var i=typeof window<"u";if(!i)throw new Error("Looks like ParallaxController.init() was called on the server. This method must be called on the client.");return new t(r)};var e=t.prototype;return e._bindAllMethods=function(){var r=this;["_addListeners","_removeListeners","_getScrollPosition","_handleScroll","_handleUpdateCache","_updateAllElements","_updateElementPosition","_setViewSize","_addResizeObserver","_checkIfViewHasChanged","_getViewParams","getElements","createElement","removeElementById","resetElementStyles","updateElementPropsById","update","updateScrollContainer","destroy"].forEach(function(i){r[i]=r[i].bind(r)})},e._addListeners=function(r){r.addEventListener("scroll",this._handleScroll,this._supportsPassive?{passive:!0}:!1),window.addEventListener("resize",this._handleUpdateCache,!1),window.addEventListener("blur",this._handleUpdateCache,!1),window.addEventListener("focus",this._handleUpdateCache,!1),window.addEventListener("load",this._handleUpdateCache,!1)},e._removeListeners=function(r){var i;r.removeEventListener("scroll",this._handleScroll,!1),window.removeEventListener("resize",this._handleUpdateCache,!1),window.removeEventListener("blur",this._handleUpdateCache,!1),window.removeEventListener("focus",this._handleUpdateCache,!1),window.removeEventListener("load",this._handleUpdateCache,!1),(i=this._resizeObserver)==null||i.disconnect()},e._addResizeObserver=function(){var r=this;try{var i=this._hasScrollContainer?this.viewEl:document.documentElement;this._resizeObserver=new ResizeObserver(function(){return r.update()}),this._resizeObserver.observe(i)}catch{console.warn("Failed to create the resize observer in the ParallaxContoller")}},e._getScrollPosition=function(){var r=this._hasScrollContainer?this.viewEl.scrollLeft:window.pageXOffset,i=this._hasScrollContainer?this.viewEl.scrollTop:window.pageYOffset;return[r,i]},e._handleScroll=function(){var r,i=this._getScrollPosition(),a=i[0],o=i[1];this.scroll.setScroll(a,o),!this._ticking&&((r=this.elements)==null?void 0:r.length)>0&&(this._ticking=!0,window.requestAnimationFrame(this._updateAllElements))},e._handleUpdateCache=function(){this._setViewSize(),this._updateAllElements({updateCache:!0})},e._updateAllElements=function(r){var i=this,a=r===void 0?{}:r,o=a.updateCache;this.elements&&this.elements.forEach(function(l){o&&l.setCachedAttributes(i.view,i.scroll),i._updateElementPosition(l)}),this._ticking=!1},e._updateElementPosition=function(r){r.props.disabled||this.disabled||r.updatePosition(this.scroll)},e._getViewParams=function(){if(this._hasScrollContainer){var r=this.viewEl.offsetWidth,i=this.viewEl.offsetHeight,a=this.viewEl.scrollHeight,o=this.viewEl.scrollWidth;return this.view.setSize({width:r,height:i,scrollHeight:a,scrollWidth:o})}var l=document.documentElement,c=window.innerWidth||l.clientWidth,u=window.innerHeight||l.clientHeight,d=l.scrollHeight,f=l.scrollWidth;return{width:c,height:u,scrollHeight:d,scrollWidth:f}},e._setViewSize=function(){return this.view.setSize(this._getViewParams())},e._checkIfViewHasChanged=function(){return this.view.hasChanged(this._getViewParams())},e.getElements=function(){return this.elements},e.createElement=function(r){var i=new TSe(Mf({},r,{scrollAxis:this.scrollAxis,disabledParallaxController:this.disabled}));return i.setCachedAttributes(this.view,this.scroll),this.elements=this.elements?[].concat(this.elements,[i]):[i],this._updateElementPosition(i),this._checkIfViewHasChanged()&&this.update(),i},e.removeElementById=function(r){this.elements&&(this.elements=this.elements.filter(function(i){return i.id!==r}))},e.updateElementPropsById=function(r,i){this.elements&&(this.elements=this.elements.map(function(a){return a.id===r?a.updateProps(i):a})),this.update()},e.resetElementStyles=function(r){RS(r)},e.update=function(){var r=this._getScrollPosition(),i=r[0],a=r[1];this.scroll.setScroll(i,a),this._setViewSize(),this._updateAllElements({updateCache:!0})},e.updateScrollContainer=function(r){this._removeListeners(this.viewEl),this.viewEl=r,this._hasScrollContainer=!!r,this.view=new W8({width:0,height:0,scrollWidth:0,scrollHeight:0,scrollContainer:r}),this._setViewSize(),this._addListeners(this.viewEl),this._updateAllElements({updateCache:!0})},e.disableParallaxController=function(){this.disabled=!0,this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(r){return RS(r)})},e.enableParallaxController=function(){var r=this;this.disabled=!1,this.elements&&this.elements.forEach(function(i){return i.updateElementOptions({disabledParallaxController:!1,scrollAxis:r.scrollAxis})}),this._addListeners(this.viewEl),this._addResizeObserver(),this._setViewSize()},e.disableAllElements=function(){console.warn("deprecated: use disableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(r){return r.updateProps({disabled:!0})})),this.update()},e.enableAllElements=function(){console.warn("deprecated: use enableParallaxController() instead"),this.elements&&(this.elements=this.elements.map(function(r){return r.updateProps({disabled:!1})})),this.update()},e.destroy=function(){this._removeListeners(this.viewEl),this.elements&&this.elements.forEach(function(r){return RS(r)}),this.elements=void 0},t})();const OSe=ee.createContext(null),ISe=t=>typeof window>"u"?null:RSe.init(t);function kSe(t){const e=M.useRef(null);return e.current||(e.current=ISe({scrollAxis:t.scrollAxis||ec.vertical,scrollContainer:t.scrollContainer,disabled:t.isDisabled})),M.useEffect(()=>{t.scrollContainer&&e.current&&e.current.updateScrollContainer(t.scrollContainer)},[t.scrollContainer]),M.useEffect(()=>{t.isDisabled&&e.current&&e.current.disableParallaxController(),!t.isDisabled&&e.current&&e.current.enableParallaxController()},[t.isDisabled]),M.useEffect(()=>()=>{var n;e==null||(n=e.current)===null||n===void 0||n.destroy()},[]),ee.createElement(OSe.Provider,{value:e.current},t.children)}var OS={exports:{}},LSe=OS.exports,X8;function FSe(){return X8||(X8=1,(function(t,e){(function(n,r){t.exports=r()})(LSe,function(){return(function(n){function r(a){if(i[a])return i[a].exports;var o=i[a]={exports:{},id:a,loaded:!1};return n[a].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)})([function(n,r,i){function a(L){return L&&L.__esModule?L:{default:L}}var o=Object.assign||function(L){for(var z=1;z<arguments.length;z++){var q=arguments[z];for(var V in q)Object.prototype.hasOwnProperty.call(q,V)&&(L[V]=q[V])}return L},l=i(1),c=(a(l),i(6)),u=a(c),d=i(7),f=a(d),h=i(8),p=a(h),y=i(9),g=a(y),v=i(10),b=a(v),w=i(11),_=a(w),S=i(14),j=a(S),A=[],C=!1,N={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},T=function(){var L=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(L&&(C=!0),C)return A=(0,_.default)(A,N),(0,b.default)(A,N.once),A},P=function(){A=(0,j.default)(),T()},D=function(){A.forEach(function(L,z){L.node.removeAttribute("data-aos"),L.node.removeAttribute("data-aos-easing"),L.node.removeAttribute("data-aos-duration"),L.node.removeAttribute("data-aos-delay")})},O=function(L){return L===!0||L==="mobile"&&g.default.mobile()||L==="phone"&&g.default.phone()||L==="tablet"&&g.default.tablet()||typeof L=="function"&&L()===!0},I=function(L){N=o(N,L),A=(0,j.default)();var z=document.all&&!window.atob;return O(N.disable)||z?D():(N.disableMutationObserver||p.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),N.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",N.easing),document.querySelector("body").setAttribute("data-aos-duration",N.duration),document.querySelector("body").setAttribute("data-aos-delay",N.delay),N.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?T(!0):N.startEvent==="load"?window.addEventListener(N.startEvent,function(){T(!0)}):document.addEventListener(N.startEvent,function(){T(!0)}),window.addEventListener("resize",(0,f.default)(T,N.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(T,N.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,b.default)(A,N.once)},N.throttleDelay)),N.disableMutationObserver||p.default.ready("[data-aos]",P),A)};n.exports={init:I,refresh:T,refreshHard:P}},function(n,r){},,,,,function(n,r){(function(i){function a(O,I,L){function z(Y){var Ie=ie,Xe=re;return ie=re=void 0,Oe=Y,pe=O.apply(Xe,Ie)}function q(Y){return Oe=Y,Ne=setTimeout(U,I),Ge?z(Y):pe}function V(Y){var Ie=Y-je,Xe=Y-Oe,ue=I-Ie;return Pe?P(ue,_e-Xe):ue}function F(Y){var Ie=Y-je,Xe=Y-Oe;return je===void 0||Ie>=I||Ie<0||Pe&&Xe>=_e}function U(){var Y=D();return F(Y)?H(Y):void(Ne=setTimeout(U,V(Y)))}function H(Y){return Ne=void 0,Fe&&ie?z(Y):(ie=re=void 0,pe)}function $(){Ne!==void 0&&clearTimeout(Ne),Oe=0,ie=je=re=Ne=void 0}function W(){return Ne===void 0?pe:H(D())}function le(){var Y=D(),Ie=F(Y);if(ie=arguments,re=this,je=Y,Ie){if(Ne===void 0)return q(je);if(Pe)return Ne=setTimeout(U,I),z(je)}return Ne===void 0&&(Ne=setTimeout(U,I)),pe}var ie,re,_e,pe,Ne,je,Oe=0,Ge=!1,Pe=!1,Fe=!0;if(typeof O!="function")throw new TypeError(h);return I=d(I)||0,l(L)&&(Ge=!!L.leading,Pe="maxWait"in L,_e=Pe?T(d(L.maxWait)||0,I):_e,Fe="trailing"in L?!!L.trailing:Fe),le.cancel=$,le.flush=W,le}function o(O,I,L){var z=!0,q=!0;if(typeof O!="function")throw new TypeError(h);return l(L)&&(z="leading"in L?!!L.leading:z,q="trailing"in L?!!L.trailing:q),a(O,I,{leading:z,maxWait:I,trailing:q})}function l(O){var I=typeof O>"u"?"undefined":f(O);return!!O&&(I=="object"||I=="function")}function c(O){return!!O&&(typeof O>"u"?"undefined":f(O))=="object"}function u(O){return(typeof O>"u"?"undefined":f(O))=="symbol"||c(O)&&N.call(O)==y}function d(O){if(typeof O=="number")return O;if(u(O))return p;if(l(O)){var I=typeof O.valueOf=="function"?O.valueOf():O;O=l(I)?I+"":I}if(typeof O!="string")return O===0?O:+O;O=O.replace(g,"");var L=b.test(O);return L||w.test(O)?_(O.slice(2),L?2:8):v.test(O)?p:+O}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h="Expected a function",p=NaN,y="[object Symbol]",g=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt,S=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,j=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,A=S||j||Function("return this")(),C=Object.prototype,N=C.toString,T=Math.max,P=Math.min,D=function(){return A.Date.now()};n.exports=o}).call(r,(function(){return this})())},function(n,r){(function(i){function a(D,O,I){function L(Fe){var Y=le,Ie=ie;return le=ie=void 0,je=Fe,_e=D.apply(Ie,Y)}function z(Fe){return je=Fe,pe=setTimeout(F,O),Oe?L(Fe):_e}function q(Fe){var Y=Fe-Ne,Ie=Fe-je,Xe=O-Y;return Ge?T(Xe,re-Ie):Xe}function V(Fe){var Y=Fe-Ne,Ie=Fe-je;return Ne===void 0||Y>=O||Y<0||Ge&&Ie>=re}function F(){var Fe=P();return V(Fe)?U(Fe):void(pe=setTimeout(F,q(Fe)))}function U(Fe){return pe=void 0,Pe&&le?L(Fe):(le=ie=void 0,_e)}function H(){pe!==void 0&&clearTimeout(pe),je=0,le=Ne=ie=pe=void 0}function $(){return pe===void 0?_e:U(P())}function W(){var Fe=P(),Y=V(Fe);if(le=arguments,ie=this,Ne=Fe,Y){if(pe===void 0)return z(Ne);if(Ge)return pe=setTimeout(F,O),L(Ne)}return pe===void 0&&(pe=setTimeout(F,O)),_e}var le,ie,re,_e,pe,Ne,je=0,Oe=!1,Ge=!1,Pe=!0;if(typeof D!="function")throw new TypeError(f);return O=u(O)||0,o(I)&&(Oe=!!I.leading,Ge="maxWait"in I,re=Ge?N(u(I.maxWait)||0,O):re,Pe="trailing"in I?!!I.trailing:Pe),W.cancel=H,W.flush=$,W}function o(D){var O=typeof D>"u"?"undefined":d(D);return!!D&&(O=="object"||O=="function")}function l(D){return!!D&&(typeof D>"u"?"undefined":d(D))=="object"}function c(D){return(typeof D>"u"?"undefined":d(D))=="symbol"||l(D)&&C.call(D)==p}function u(D){if(typeof D=="number")return D;if(c(D))return h;if(o(D)){var O=typeof D.valueOf=="function"?D.valueOf():D;D=o(O)?O+"":O}if(typeof D!="string")return D===0?D:+D;D=D.replace(y,"");var I=v.test(D);return I||b.test(D)?w(D.slice(2),I?2:8):g.test(D)?h:+D}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},f="Expected a function",h=NaN,p="[object Symbol]",y=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,w=parseInt,_=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,S=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,j=_||S||Function("return this")(),A=Object.prototype,C=A.toString,N=Math.max,T=Math.min,P=function(){return j.Date.now()};n.exports=a}).call(r,(function(){return this})())},function(n,r){function i(d){var f=void 0,h=void 0;for(f=0;f<d.length;f+=1)if(h=d[f],h.dataset&&h.dataset.aos||h.children&&i(h.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!a()}function l(d,f){var h=window.document,p=a(),y=new p(c);u=f,y.observe(h.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(d){d&&d.forEach(function(f){var h=Array.prototype.slice.call(f.addedNodes),p=Array.prototype.slice.call(f.removedNodes),y=h.concat(p);if(i(y))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:o,ready:l}},function(n,r){function i(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=(function(){function h(p,y){for(var g=0;g<y.length;g++){var v=y[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,y,g){return y&&h(p.prototype,y),g&&h(p,g),p}})(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=(function(){function h(){i(this,h)}return o(h,[{key:"phone",value:function(){var p=a();return!(!l.test(p)&&!c.test(p.substr(0,4)))}},{key:"mobile",value:function(){var p=a();return!(!u.test(p)&&!d.test(p.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),h})();r.default=new f},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,l,c){var u=o.node.getAttribute("data-aos-once");l>o.position?o.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&o.node.classList.remove("aos-animate")},a=function(o,l){var c=window.pageYOffset,u=window.innerHeight;o.forEach(function(d,f){i(d,u+c,l)})};r.default=a},function(n,r,i){function a(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),l=a(o),c=function(u,d){return u.forEach(function(f,h){f.node.classList.add("aos-init"),f.position=(0,l.default)(f.node,d.offset)}),u};r.default=c},function(n,r,i){function a(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),l=a(o),c=function(u,d){var f=0,h=0,p=window.innerHeight,y={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(y.offset&&!isNaN(y.offset)&&(h=parseInt(y.offset)),y.anchor&&document.querySelectorAll(y.anchor)&&(u=document.querySelectorAll(y.anchor)[0]),f=(0,l.default)(u).top,y.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=p/2;break;case"bottom-center":f+=p/2+u.offsetHeight;break;case"center-center":f+=p/2+u.offsetHeight/2;break;case"top-top":f+=p;break;case"bottom-top":f+=u.offsetHeight+p;break;case"center-top":f+=u.offsetHeight/2+p}return y.anchorPlacement||y.offset||isNaN(d)||(h=d),f+h};r.default=c},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(a){for(var o=0,l=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)o+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),l+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:l,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(o){return{node:o}})};r.default=i}])})})(OS)),OS.exports}var USe=FSe();const BSe=In(USe);var Sy={},Jy={exports:{}},$Se=Jy.exports,Y8;function zSe(){return Y8||(Y8=1,(function(t,e){(function(n,r){r(e)})($Se,(function(n){var r=function(){return r=Object.assign||function(a){for(var o,l=1,c=arguments.length;l<c;l++)for(var u in o=arguments[l])Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u]);return a},r.apply(this,arguments)},i=(function(){function a(o,l,c){var u=this;this.endVal=l,this.options=c,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(d){u.startTime||(u.startTime=d);var f=d-u.startTime;u.remaining=u.duration-f,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(f,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(f,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(f/u.duration);var h=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=h?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),f<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(d){var f,h,p,y,g=d<0?"-":"";f=Math.abs(d).toFixed(u.options.decimalPlaces);var v=(f+="").split(".");if(h=v[0],p=v.length>1?u.options.decimal+v[1]:"",u.options.useGrouping){y="";for(var b=3,w=0,_=0,S=h.length;_<S;++_)u.options.useIndianSeparators&&_===4&&(b=2,w=1),_!==0&&w%b==0&&(y=u.options.separator+y),w++,y=h[S-_-1]+y;h=y}return u.options.numerals&&u.options.numerals.length&&(h=h.replace(/[0-9]/g,(function(j){return u.options.numerals[+j]})),p=p.replace(/[0-9]/g,(function(j){return u.options.numerals[+j]}))),g+u.options.prefix+h+p+u.options.suffix},this.easeOutExpo=function(d,f,h,p){return h*(1-Math.pow(2,-10*d/p))*1024/1023+f},this.options=r(r({},this.defaults),c),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof o=="string"?document.getElementById(o):o,l=l??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(l),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,o):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return u.handleScroll(u)})),window.onscroll=function(){window.onScrollFns.forEach((function(d){return d()}))},this.handleScroll(this)))}return a.prototype.handleScroll=function(o){if(o&&window&&!o.once){var l=window.innerHeight+window.scrollY,c=o.el.getBoundingClientRect(),u=c.top+window.pageYOffset,d=c.top+c.height+window.pageYOffset;d<l&&d>window.scrollY&&o.paused?(o.paused=!1,setTimeout((function(){return o.start()}),o.options.scrollSpyDelay),o.options.scrollSpyOnce&&(o.once=!0)):(window.scrollY>d||u>l)&&!o.paused&&o.reset()}},a.prototype.determineDirectionAndSmartEasing=function(){var o=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>o;var l=o-this.startVal;if(Math.abs(l)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=o;var c=this.countDown?1:-1;this.endVal=o+c*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=o,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},a.prototype.start=function(o){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),o&&(this.options.onCompleteCallback=o),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},a.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},a.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},a.prototype.update=function(o){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(o),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},a.prototype.printValue=function(o){var l;if(this.el){var c=this.formattingFn(o);!((l=this.options.plugin)===null||l===void 0)&&l.render?this.options.plugin.render(this.el,c):this.el.tagName==="INPUT"?this.el.value=c:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=c:this.el.innerHTML=c}},a.prototype.ensureNumber=function(o){return typeof o=="number"&&!isNaN(o)},a.prototype.validateValue=function(o){var l=Number(o);return this.ensureNumber(l)?l:(this.error="[CountUp] invalid start or end value: ".concat(o),null)},a.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},a.prototype.parse=function(o){var l=function(f){return f.replace(/([.,'  ])/g,"\\$1")},c=l(this.options.separator),u=l(this.options.decimal),d=o.replace(new RegExp(c,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(d)},a})();n.CountUp=i}))})(Jy,Jy.exports)),Jy.exports}var K8;function HSe(){if(K8)return Sy;K8=1,Object.defineProperty(Sy,"__esModule",{value:!0});var t=ax(),e=zSe();function n(N,T){var P=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(P!=null){var D,O,I,L,z=[],q=!0,V=!1;try{if(I=(P=P.call(N)).next,T!==0)for(;!(q=(D=I.call(P)).done)&&(z.push(D.value),z.length!==T);q=!0);}catch(F){V=!0,O=F}finally{try{if(!q&&P.return!=null&&(L=P.return(),Object(L)!==L))return}finally{if(V)throw O}}return z}}function r(N,T){var P=Object.keys(N);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(N);T&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(N,O).enumerable})),P.push.apply(P,D)}return P}function i(N){for(var T=1;T<arguments.length;T++){var P=arguments[T]!=null?arguments[T]:{};T%2?r(Object(P),!0).forEach(function(D){l(N,D,P[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(P)):r(Object(P)).forEach(function(D){Object.defineProperty(N,D,Object.getOwnPropertyDescriptor(P,D))})}return N}function a(N,T){if(typeof N!="object"||!N)return N;var P=N[Symbol.toPrimitive];if(P!==void 0){var D=P.call(N,T);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(N)}function o(N){var T=a(N,"string");return typeof T=="symbol"?T:String(T)}function l(N,T,P){return T=o(T),T in N?Object.defineProperty(N,T,{value:P,enumerable:!0,configurable:!0,writable:!0}):N[T]=P,N}function c(){return c=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var P=arguments[T];for(var D in P)Object.prototype.hasOwnProperty.call(P,D)&&(N[D]=P[D])}return N},c.apply(this,arguments)}function u(N,T){if(N==null)return{};var P={},D=Object.keys(N),O,I;for(I=0;I<D.length;I++)O=D[I],!(T.indexOf(O)>=0)&&(P[O]=N[O]);return P}function d(N,T){if(N==null)return{};var P=u(N,T),D,O;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(N);for(O=0;O<I.length;O++)D=I[O],!(T.indexOf(D)>=0)&&Object.prototype.propertyIsEnumerable.call(N,D)&&(P[D]=N[D])}return P}function f(N,T){return h(N)||n(N,T)||p(N,T)||g()}function h(N){if(Array.isArray(N))return N}function p(N,T){if(N){if(typeof N=="string")return y(N,T);var P=Object.prototype.toString.call(N).slice(8,-1);if(P==="Object"&&N.constructor&&(P=N.constructor.name),P==="Map"||P==="Set")return Array.from(N);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return y(N,T)}}function y(N,T){(T==null||T>N.length)&&(T=N.length);for(var P=0,D=new Array(T);P<T;P++)D[P]=N[P];return D}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?t.useLayoutEffect:t.useEffect;function b(N){var T=t.useRef(N);return v(function(){T.current=N}),t.useCallback(function(){for(var P=arguments.length,D=new Array(P),O=0;O<P;O++)D[O]=arguments[O];return T.current.apply(void 0,D)},[])}var w=function(T,P){var D=P.decimal,O=P.decimals,I=P.duration,L=P.easingFn,z=P.end,q=P.formattingFn,V=P.numerals,F=P.prefix,U=P.separator,H=P.start,$=P.suffix,W=P.useEasing,le=P.useGrouping,ie=P.useIndianSeparators,re=P.enableScrollSpy,_e=P.scrollSpyDelay,pe=P.scrollSpyOnce,Ne=P.plugin;return new e.CountUp(T,z,{startVal:H,duration:I,decimal:D,decimalPlaces:O,easingFn:L,formattingFn:q,numerals:V,separator:U,prefix:F,suffix:$,plugin:Ne,useEasing:W,useIndianSeparators:ie,useGrouping:le,enableScrollSpy:re,scrollSpyDelay:_e,scrollSpyOnce:pe})},_=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],S={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},j=function(T){var P=Object.fromEntries(Object.entries(T).filter(function(Fe){var Y=f(Fe,2),Ie=Y[1];return Ie!==void 0})),D=t.useMemo(function(){return i(i({},S),P)},[T]),O=D.ref,I=D.startOnMount,L=D.enableReinitialize,z=D.delay,q=D.onEnd,V=D.onStart,F=D.onPauseResume,U=D.onReset,H=D.onUpdate,$=d(D,_),W=t.useRef(),le=t.useRef(),ie=t.useRef(!1),re=b(function(){return w(typeof O=="string"?O:O.current,$)}),_e=b(function(Fe){var Y=W.current;if(Y&&!Fe)return Y;var Ie=re();return W.current=Ie,Ie}),pe=b(function(){var Fe=function(){return _e(!0).start(function(){q?.({pauseResume:Ne,reset:je,start:Ge,update:Oe})})};z&&z>0?le.current=setTimeout(Fe,z*1e3):Fe(),V?.({pauseResume:Ne,reset:je,update:Oe})}),Ne=b(function(){_e().pauseResume(),F?.({reset:je,start:Ge,update:Oe})}),je=b(function(){_e().el&&(le.current&&clearTimeout(le.current),_e().reset(),U?.({pauseResume:Ne,start:Ge,update:Oe}))}),Oe=b(function(Fe){_e().update(Fe),H?.({pauseResume:Ne,reset:je,start:Ge})}),Ge=b(function(){je(),pe()}),Pe=b(function(Fe){I&&(Fe&&je(),pe())});return t.useEffect(function(){ie.current?L&&Pe(!0):(ie.current=!0,Pe())},[L,ie,Pe,z,T.start,T.suffix,T.prefix,T.duration,T.separator,T.decimals,T.decimal,T.formattingFn]),t.useEffect(function(){return function(){je()}},[je]),{start:Ge,pauseResume:Ne,reset:je,update:Oe,getCountUp:_e}},A=["className","redraw","containerProps","children","style"],C=function(T){var P=T.className,D=T.redraw,O=T.containerProps,I=T.children,L=T.style,z=d(T,A),q=t.useRef(null),V=t.useRef(!1),F=j(i(i({},z),{},{ref:q,startOnMount:typeof I!="function"||T.delay===0,enableReinitialize:!1})),U=F.start,H=F.reset,$=F.update,W=F.pauseResume,le=F.getCountUp,ie=b(function(){U()}),re=b(function(Ne){T.preserveValue||H(),$(Ne)}),_e=b(function(){if(typeof T.children=="function"&&!(q.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}le()});t.useEffect(function(){_e()},[_e]),t.useEffect(function(){V.current&&re(T.end)},[T.end,re]);var pe=D&&T;return t.useEffect(function(){D&&V.current&&ie()},[ie,D,pe]),t.useEffect(function(){!D&&V.current&&ie()},[ie,D,T.start,T.suffix,T.prefix,T.duration,T.separator,T.decimals,T.decimal,T.className,T.formattingFn]),t.useEffect(function(){V.current=!0},[]),typeof I=="function"?I({countUpRef:q,start:U,reset:H,update:$,pauseResume:W,getCountUp:le}):t.createElement("span",c({className:P,ref:q,style:L},O),typeof T.start<"u"?le().formattingFn(T.start):"")};return Sy.default=C,Sy.useCountUp=j,Sy}HSe();var $C={exports:{}},Q8;function VSe(){return Q8||(Q8=1,(()=>{var t={296:(i,a,o)=>{var l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt,h=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,p=typeof self=="object"&&self&&self.Object===Object&&self,y=h||p||Function("return this")(),g=Object.prototype.toString,v=Math.max,b=Math.min,w=function(){return y.Date.now()};function _(j){var A=typeof j;return!!j&&(A=="object"||A=="function")}function S(j){if(typeof j=="number")return j;if((function(N){return typeof N=="symbol"||(function(T){return!!T&&typeof T=="object"})(N)&&g.call(N)=="[object Symbol]"})(j))return NaN;if(_(j)){var A=typeof j.valueOf=="function"?j.valueOf():j;j=_(A)?A+"":A}if(typeof j!="string")return j===0?j:+j;j=j.replace(l,"");var C=u.test(j);return C||d.test(j)?f(j.slice(2),C?2:8):c.test(j)?NaN:+j}i.exports=function(j,A,C){var N,T,P,D,O,I,L=0,z=!1,q=!1,V=!0;if(typeof j!="function")throw new TypeError("Expected a function");function F(le){var ie=N,re=T;return N=T=void 0,L=le,D=j.apply(re,ie)}function U(le){var ie=le-I;return I===void 0||ie>=A||ie<0||q&&le-L>=P}function H(){var le=w();if(U(le))return $(le);O=setTimeout(H,(function(ie){var re=A-(ie-I);return q?b(re,P-(ie-L)):re})(le))}function $(le){return O=void 0,V&&N?F(le):(N=T=void 0,D)}function W(){var le=w(),ie=U(le);if(N=arguments,T=this,I=le,ie){if(O===void 0)return(function(re){return L=re,O=setTimeout(H,A),z?F(re):D})(I);if(q)return O=setTimeout(H,A),F(I)}return O===void 0&&(O=setTimeout(H,A)),D}return A=S(A)||0,_(C)&&(z=!!C.leading,P=(q="maxWait"in C)?v(S(C.maxWait)||0,A):P,V="trailing"in C?!!C.trailing:V),W.cancel=function(){O!==void 0&&clearTimeout(O),L=0,N=I=T=O=void 0},W.flush=function(){return O===void 0?D:$(w())},W}},96:(i,a,o)=>{var l="Expected a function",c=NaN,u="[object Symbol]",d=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,g=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,v=typeof self=="object"&&self&&self.Object===Object&&self,b=g||v||Function("return this")(),w=Object.prototype.toString,_=Math.max,S=Math.min,j=function(){return b.Date.now()};function A(N){var T=typeof N;return!!N&&(T=="object"||T=="function")}function C(N){if(typeof N=="number")return N;if((function(D){return typeof D=="symbol"||(function(O){return!!O&&typeof O=="object"})(D)&&w.call(D)==u})(N))return c;if(A(N)){var T=typeof N.valueOf=="function"?N.valueOf():N;N=A(T)?T+"":T}if(typeof N!="string")return N===0?N:+N;N=N.replace(d,"");var P=h.test(N);return P||p.test(N)?y(N.slice(2),P?2:8):f.test(N)?c:+N}i.exports=function(N,T,P){var D=!0,O=!0;if(typeof N!="function")throw new TypeError(l);return A(P)&&(D="leading"in P?!!P.leading:D,O="trailing"in P?!!P.trailing:O),(function(I,L,z){var q,V,F,U,H,$,W=0,le=!1,ie=!1,re=!0;if(typeof I!="function")throw new TypeError(l);function _e(Ge){var Pe=q,Fe=V;return q=V=void 0,W=Ge,U=I.apply(Fe,Pe)}function pe(Ge){var Pe=Ge-$;return $===void 0||Pe>=L||Pe<0||ie&&Ge-W>=F}function Ne(){var Ge=j();if(pe(Ge))return je(Ge);H=setTimeout(Ne,(function(Pe){var Fe=L-(Pe-$);return ie?S(Fe,F-(Pe-W)):Fe})(Ge))}function je(Ge){return H=void 0,re&&q?_e(Ge):(q=V=void 0,U)}function Oe(){var Ge=j(),Pe=pe(Ge);if(q=arguments,V=this,$=Ge,Pe){if(H===void 0)return(function(Fe){return W=Fe,H=setTimeout(Ne,L),le?_e(Fe):U})($);if(ie)return H=setTimeout(Ne,L),_e($)}return H===void 0&&(H=setTimeout(Ne,L)),U}return L=C(L)||0,A(z)&&(le=!!z.leading,F=(ie="maxWait"in z)?_(C(z.maxWait)||0,L):F,re="trailing"in z?!!z.trailing:re),Oe.cancel=function(){H!==void 0&&clearTimeout(H),W=0,q=$=V=H=void 0},Oe.flush=function(){return H===void 0?U:je(j())},Oe})(N,T,{leading:D,maxWait:T,trailing:O})}},703:(i,a,o)=>{var l=o(414);function c(){}function u(){}u.resetWarningCache=c,i.exports=function(){function d(p,y,g,v,b,w){if(w!==l){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}function f(){return d}d.isRequired=d;var h={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:f,element:d,elementType:d,instanceOf:f,node:d,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:u,resetWarningCache:c};return h.PropTypes=h,h}},697:(i,a,o)=>{i.exports=o(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(i){var a=e[i];if(a!==void 0)return a.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return n.d(a,{a}),a},n.d=(i,a)=>{for(var o in a)n.o(a,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:a[o]})},n.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})(),n.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{LazyLoadComponent:()=>Pe,LazyLoadImage:()=>fe,trackWindowScroll:()=>U});const i=ax();var a=n.n(i),o=n(697);function l(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function c(ne){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},c(ne)}function u(ne,J){var ve=Object.keys(ne);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(ne);J&&(be=be.filter((function(Ve){return Object.getOwnPropertyDescriptor(ne,Ve).enumerable}))),ve.push.apply(ve,be)}return ve}function d(ne,J,ve){return(J=h(J))in ne?Object.defineProperty(ne,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):ne[J]=ve,ne}function f(ne,J){for(var ve=0;ve<J.length;ve++){var be=J[ve];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ne,h(be.key),be)}}function h(ne){var J=(function(ve,be){if(c(ve)!=="object"||ve===null)return ve;var Ve=ve[Symbol.toPrimitive];if(Ve!==void 0){var Qe=Ve.call(ve,"string");if(c(Qe)!=="object")return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)})(ne);return c(J)==="symbol"?J:String(J)}function p(ne,J){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,be){return ve.__proto__=be,ve},p(ne,J)}function y(ne){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},y(ne)}var g=function(ne){ne.forEach((function(J){J.isIntersecting&&J.target.onVisible()}))},v={},b=(function(ne){(function(xe,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Te&&Te.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Te&&p(xe,Te)})(We,ne);var J,ve,be,Ve,Qe=(be=We,Ve=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var xe,Te=y(be);if(Ve){var te=y(this).constructor;xe=Reflect.construct(Te,arguments,te)}else xe=Te.apply(this,arguments);return(function(oe,K){if(K&&(c(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae})(oe)})(this,xe)});function We(xe){var Te;if((function(oe,K){if(!(oe instanceof K))throw new TypeError("Cannot call a class as a function")})(this,We),(Te=Qe.call(this,xe)).supportsObserver=!xe.scrollPosition&&xe.useIntersectionObserver&&l(),Te.supportsObserver){var te=xe.threshold;Te.observer=(function(oe){return v[oe]=v[oe]||new IntersectionObserver(g,{rootMargin:oe+"px"}),v[oe]})(te)}return Te}return J=We,ve=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,Te=this.placeholder.getBoundingClientRect(),te=this.placeholder.style,oe=parseInt(te.getPropertyValue("margin-left"),10)||0,K=parseInt(te.getPropertyValue("margin-top"),10)||0;return{bottom:xe.y+Te.bottom+K,left:xe.x+Te.left+oe,right:xe.x+Te.right+oe,top:xe.y+Te.top+K}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var xe=this.props,Te=xe.scrollPosition,te=xe.threshold,oe=this.getPlaceholderBoundingBox(Te),K=Te.y+window.innerHeight,ae=Te.x,Re=Te.x+window.innerWidth,Z=Te.y;return Z-te<=oe.bottom&&K+te>=oe.top&&ae-te<=oe.right&&Re+te>=oe.left}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var xe=this,Te=this.props,te=Te.className,oe=Te.height,K=Te.placeholder,ae=Te.style,Re=Te.width;if(K&&typeof K.type!="function")return a().cloneElement(K,{ref:function(Me){return xe.placeholder=Me}});var Z=(function(Me){for(var ye=1;ye<arguments.length;ye++){var Ae=arguments[ye]!=null?arguments[ye]:{};ye%2?u(Object(Ae),!0).forEach((function(Ue){d(Me,Ue,Ae[Ue])})):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(Ae)):u(Object(Ae)).forEach((function(Ue){Object.defineProperty(Me,Ue,Object.getOwnPropertyDescriptor(Ae,Ue))}))}return Me})({display:"inline-block"},ae);return Re!==void 0&&(Z.width=Re),oe!==void 0&&(Z.height=oe),a().createElement("span",{className:te,ref:function(Me){return xe.placeholder=Me},style:Z},K)}}],ve&&f(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),We})(a().Component);b.propTypes={onVisible:o.PropTypes.func.isRequired,className:o.PropTypes.string,height:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string]),placeholder:o.PropTypes.element,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,scrollPosition:o.PropTypes.shape({x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired}),width:o.PropTypes.oneOfType([o.PropTypes.number,o.PropTypes.string])},b.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const w=b;var _=n(296),S=n.n(_),j=n(96),A=n.n(j),C=function(ne){var J=getComputedStyle(ne,null);return J.getPropertyValue("overflow")+J.getPropertyValue("overflow-y")+J.getPropertyValue("overflow-x")};const N=function(ne){if(!(ne instanceof HTMLElement))return window;for(var J=ne;J&&J instanceof HTMLElement;){if(/(scroll|auto)/.test(C(J)))return J;J=J.parentNode}return window};function T(ne){return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},T(ne)}var P=["delayMethod","delayTime"];function D(){return D=Object.assign?Object.assign.bind():function(ne){for(var J=1;J<arguments.length;J++){var ve=arguments[J];for(var be in ve)Object.prototype.hasOwnProperty.call(ve,be)&&(ne[be]=ve[be])}return ne},D.apply(this,arguments)}function O(ne,J){for(var ve=0;ve<J.length;ve++){var be=J[ve];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ne,(Ve=(function(Qe,We){if(T(Qe)!=="object"||Qe===null)return Qe;var xe=Qe[Symbol.toPrimitive];if(xe!==void 0){var Te=xe.call(Qe,"string");if(T(Te)!=="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Qe)})(be.key),T(Ve)==="symbol"?Ve:String(Ve)),be)}var Ve}function I(ne,J){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,be){return ve.__proto__=be,ve},I(ne,J)}function L(ne,J){if(J&&(T(J)==="object"||typeof J=="function"))return J;if(J!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(ne)}function z(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function q(ne){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},q(ne)}var V=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},F=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const U=function(ne){var J=(function(ve){(function(te,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");te.prototype=Object.create(oe&&oe.prototype,{constructor:{value:te,writable:!0,configurable:!0}}),Object.defineProperty(te,"prototype",{writable:!1}),oe&&I(te,oe)})(Te,ve);var be,Ve,Qe,We,xe=(Qe=Te,We=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var te,oe=q(Qe);if(We){var K=q(this).constructor;te=Reflect.construct(oe,arguments,K)}else te=oe.apply(this,arguments);return L(this,te)});function Te(te){var oe;if((function(ae,Re){if(!(ae instanceof Re))throw new TypeError("Cannot call a class as a function")})(this,Te),(oe=xe.call(this,te)).useIntersectionObserver=te.useIntersectionObserver&&l(),oe.useIntersectionObserver)return L(oe);var K=oe.onChangeScroll.bind(z(oe));return te.delayMethod==="debounce"?oe.delayedScroll=S()(K,te.delayTime):te.delayMethod==="throttle"&&(oe.delayedScroll=A()(K,te.delayTime)),oe.state={scrollPosition:{x:V(),y:F()}},oe.baseComponentRef=a().createRef(),oe}return be=Te,(Ve=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||N(this.baseComponentRef.current)!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=N(this.baseComponentRef.current),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:V(),y:F()}})}},{key:"render",value:function(){var te=this.props,oe=(te.delayMethod,te.delayTime,(function(ae,Re){if(ae==null)return{};var Z,Me,ye=(function(Ue,Je){if(Ue==null)return{};var Ke,lt,yt={},at=Object.keys(Ue);for(lt=0;lt<at.length;lt++)Ke=at[lt],Je.indexOf(Ke)>=0||(yt[Ke]=Ue[Ke]);return yt})(ae,Re);if(Object.getOwnPropertySymbols){var Ae=Object.getOwnPropertySymbols(ae);for(Me=0;Me<Ae.length;Me++)Z=Ae[Me],Re.indexOf(Z)>=0||Object.prototype.propertyIsEnumerable.call(ae,Z)&&(ye[Z]=ae[Z])}return ye})(te,P)),K=this.useIntersectionObserver?null:this.state.scrollPosition;return a().createElement(ne,D({forwardRef:this.baseComponentRef,scrollPosition:K},oe))}}])&&O(be.prototype,Ve),Object.defineProperty(be,"prototype",{writable:!1}),Te})(a().Component);return J.propTypes={delayMethod:o.PropTypes.oneOf(["debounce","throttle"]),delayTime:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool},J.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},J};function H(ne){return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},H(ne)}function $(ne,J){for(var ve=0;ve<J.length;ve++){var be=J[ve];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ne,(Ve=(function(Qe,We){if(H(Qe)!=="object"||Qe===null)return Qe;var xe=Qe[Symbol.toPrimitive];if(xe!==void 0){var Te=xe.call(Qe,"string");if(H(Te)!=="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Qe)})(be.key),H(Ve)==="symbol"?Ve:String(Ve)),be)}var Ve}function W(ne,J){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,be){return ve.__proto__=be,ve},W(ne,J)}function le(ne){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},le(ne)}var ie=(function(ne){(function(xe,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Te&&Te.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Te&&W(xe,Te)})(We,ne);var J,ve,be,Ve,Qe=(be=We,Ve=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var xe,Te=le(be);if(Ve){var te=le(this).constructor;xe=Reflect.construct(Te,arguments,te)}else xe=Te.apply(this,arguments);return(function(oe,K){if(K&&(H(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae})(oe)})(this,xe)});function We(xe){return(function(Te,te){if(!(Te instanceof te))throw new TypeError("Cannot call a class as a function")})(this,We),Qe.call(this,xe)}return J=We,(ve=[{key:"render",value:function(){return a().createElement(w,this.props)}}])&&$(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),We})(a().Component);const re=U(ie);function _e(ne){return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},_e(ne)}function pe(ne,J){for(var ve=0;ve<J.length;ve++){var be=J[ve];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ne,(Ve=(function(Qe,We){if(_e(Qe)!=="object"||Qe===null)return Qe;var xe=Qe[Symbol.toPrimitive];if(xe!==void 0){var Te=xe.call(Qe,"string");if(_e(Te)!=="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Qe)})(be.key),_e(Ve)==="symbol"?Ve:String(Ve)),be)}var Ve}function Ne(ne,J){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,be){return ve.__proto__=be,ve},Ne(ne,J)}function je(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function Oe(ne){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},Oe(ne)}var Ge=(function(ne){(function(xe,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Te&&Te.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Te&&Ne(xe,Te)})(We,ne);var J,ve,be,Ve,Qe=(be=We,Ve=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var xe,Te=Oe(be);if(Ve){var te=Oe(this).constructor;xe=Reflect.construct(Te,arguments,te)}else xe=Te.apply(this,arguments);return(function(oe,K){if(K&&(_e(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return je(oe)})(this,xe)});function We(xe){var Te;(function(Re,Z){if(!(Re instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,We),Te=Qe.call(this,xe);var te=xe.afterLoad,oe=xe.beforeLoad,K=xe.scrollPosition,ae=xe.visibleByDefault;return Te.state={visible:ae},ae&&(oe(),te()),Te.onVisible=Te.onVisible.bind(je(Te)),Te.isScrollTracked=!!(K&&Number.isFinite(K.x)&&K.x>=0&&Number.isFinite(K.y)&&K.y>=0),Te}return J=We,(ve=[{key:"componentDidUpdate",value:function(xe,Te){Te.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var xe=this.props,Te=xe.className,te=xe.delayMethod,oe=xe.delayTime,K=xe.height,ae=xe.placeholder,Re=xe.scrollPosition,Z=xe.style,Me=xe.threshold,ye=xe.useIntersectionObserver,Ae=xe.width;return this.isScrollTracked||ye&&l()?a().createElement(w,{className:Te,height:K,onVisible:this.onVisible,placeholder:ae,scrollPosition:Re,style:Z,threshold:Me,useIntersectionObserver:ye,width:Ae}):a().createElement(re,{className:Te,delayMethod:te,delayTime:oe,height:K,onVisible:this.onVisible,placeholder:ae,style:Z,threshold:Me,width:Ae})}}])&&pe(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),We})(a().Component);Ge.propTypes={afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool},Ge.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Pe=Ge;function Fe(ne){return Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},Fe(ne)}var Y=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function Ie(ne,J){var ve=Object.keys(ne);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(ne);J&&(be=be.filter((function(Ve){return Object.getOwnPropertyDescriptor(ne,Ve).enumerable}))),ve.push.apply(ve,be)}return ve}function Xe(ne){for(var J=1;J<arguments.length;J++){var ve=arguments[J]!=null?arguments[J]:{};J%2?Ie(Object(ve),!0).forEach((function(be){ue(ne,be,ve[be])})):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(ve)):Ie(Object(ve)).forEach((function(be){Object.defineProperty(ne,be,Object.getOwnPropertyDescriptor(ve,be))}))}return ne}function ue(ne,J,ve){return(J=me(J))in ne?Object.defineProperty(ne,J,{value:ve,enumerable:!0,configurable:!0,writable:!0}):ne[J]=ve,ne}function Be(){return Be=Object.assign?Object.assign.bind():function(ne){for(var J=1;J<arguments.length;J++){var ve=arguments[J];for(var be in ve)Object.prototype.hasOwnProperty.call(ve,be)&&(ne[be]=ve[be])}return ne},Be.apply(this,arguments)}function rt(ne,J){for(var ve=0;ve<J.length;ve++){var be=J[ve];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ne,me(be.key),be)}}function me(ne){var J=(function(ve,be){if(Fe(ve)!=="object"||ve===null)return ve;var Ve=ve[Symbol.toPrimitive];if(Ve!==void 0){var Qe=Ve.call(ve,"string");if(Fe(Qe)!=="object")return Qe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)})(ne);return Fe(J)==="symbol"?J:String(J)}function X(ne,J){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ve,be){return ve.__proto__=be,ve},X(ne,J)}function G(ne){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(J){return J.__proto__||Object.getPrototypeOf(J)},G(ne)}var de=(function(ne){(function(xe,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");xe.prototype=Object.create(Te&&Te.prototype,{constructor:{value:xe,writable:!0,configurable:!0}}),Object.defineProperty(xe,"prototype",{writable:!1}),Te&&X(xe,Te)})(We,ne);var J,ve,be,Ve,Qe=(be=We,Ve=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var xe,Te=G(be);if(Ve){var te=G(this).constructor;xe=Reflect.construct(Te,arguments,te)}else xe=Te.apply(this,arguments);return(function(oe,K){if(K&&(Fe(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae})(oe)})(this,xe)});function We(xe){var Te;return(function(te,oe){if(!(te instanceof oe))throw new TypeError("Cannot call a class as a function")})(this,We),(Te=Qe.call(this,xe)).state={loaded:!1},Te}return J=We,(ve=[{key:"onImageLoad",value:function(){var xe=this;return this.state.loaded?null:function(Te){xe.props.onLoad(Te),xe.props.afterLoad(),xe.setState({loaded:!0})}}},{key:"getImg",value:function(){var xe=this.props,Te=(xe.afterLoad,xe.beforeLoad,xe.delayMethod,xe.delayTime,xe.effect,xe.placeholder,xe.placeholderSrc,xe.scrollPosition,xe.threshold,xe.useIntersectionObserver,xe.visibleByDefault,xe.wrapperClassName,xe.wrapperProps,(function(te,oe){if(te==null)return{};var K,ae,Re=(function(Me,ye){if(Me==null)return{};var Ae,Ue,Je={},Ke=Object.keys(Me);for(Ue=0;Ue<Ke.length;Ue++)Ae=Ke[Ue],ye.indexOf(Ae)>=0||(Je[Ae]=Me[Ae]);return Je})(te,oe);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(te);for(ae=0;ae<Z.length;ae++)K=Z[ae],oe.indexOf(K)>=0||Object.prototype.propertyIsEnumerable.call(te,K)&&(Re[K]=te[K])}return Re})(xe,Y));return a().createElement("img",Be({},Te,{onLoad:this.onImageLoad()}))}},{key:"getLazyLoadImage",value:function(){var xe=this.props,Te=xe.beforeLoad,te=xe.className,oe=xe.delayMethod,K=xe.delayTime,ae=xe.height,Re=xe.placeholder,Z=xe.scrollPosition,Me=xe.style,ye=xe.threshold,Ae=xe.useIntersectionObserver,Ue=xe.visibleByDefault,Je=xe.width;return a().createElement(Pe,{beforeLoad:Te,className:te,delayMethod:oe,delayTime:K,height:ae,placeholder:Re,scrollPosition:Z,style:Me,threshold:ye,useIntersectionObserver:Ae,visibleByDefault:Ue,width:Je},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(xe){var Te=this.props,te=Te.effect,oe=Te.height,K=Te.placeholderSrc,ae=Te.width,Re=Te.wrapperClassName,Z=Te.wrapperProps,Me=this.state.loaded,ye=Me?" lazy-load-image-loaded":"",Ae=Me||!K?{}:{backgroundImage:"url(".concat(K,")"),backgroundSize:"100% 100%"};return a().createElement("span",Be({className:Re+" lazy-load-image-background "+te+ye,style:Xe(Xe({},Ae),{},{color:"transparent",display:"inline-block",height:oe,width:ae})},Z),xe)}},{key:"render",value:function(){var xe=this.props,Te=xe.effect,te=xe.placeholderSrc,oe=xe.visibleByDefault,K=xe.wrapperClassName,ae=xe.wrapperProps,Re=this.getLazyLoadImage();return(Te||te)&&!oe||K||ae?this.getWrappedLazyLoadImage(Re):Re}}])&&rt(J.prototype,ve),Object.defineProperty(J,"prototype",{writable:!1}),We})(a().Component);de.propTypes={onLoad:o.PropTypes.func,afterLoad:o.PropTypes.func,beforeLoad:o.PropTypes.func,delayMethod:o.PropTypes.string,delayTime:o.PropTypes.number,effect:o.PropTypes.string,placeholderSrc:o.PropTypes.string,threshold:o.PropTypes.number,useIntersectionObserver:o.PropTypes.bool,visibleByDefault:o.PropTypes.bool,wrapperClassName:o.PropTypes.string,wrapperProps:o.PropTypes.object},de.defaultProps={onLoad:function(){},afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const fe=de})(),$C.exports=r})()),$C.exports}VSe();const{min:qSe,max:GSe}=Math,gp=(t,e=0,n=1)=>qSe(GSe(e,t),n),F4=t=>{t._clipped=!1,t._unclipped=t.slice(0);for(let e=0;e<=3;e++)e<3?((t[e]<0||t[e]>255)&&(t._clipped=!0),t[e]=gp(t[e],0,255)):e===3&&(t[e]=gp(t[e],0,1));return t},pte={};for(let t of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])pte[`[object ${t}]`]=t.toLowerCase();function Tn(t){return pte[Object.prototype.toString.call(t)]||"object"}const vn=(t,e=null)=>t.length>=3?Array.prototype.slice.call(t):Tn(t[0])=="object"&&e?e.split("").filter(n=>t[0][n]!==void 0).map(n=>t[0][n]):t[0].slice(0),vx=t=>{if(t.length<2)return null;const e=t.length-1;return Tn(t[e])=="string"?t[e].toLowerCase():null},{PI:NN,min:mte,max:gte}=Math,ol=t=>Math.round(t*100)/100,NI=t=>Math.round(t*100)/100,Lu=NN*2,zC=NN/3,WSe=NN/180,XSe=180/NN;function vte(t){return[...t.slice(0,3).reverse(),...t.slice(3)]}const hn={format:{},autodetect:[]};let _t=class{constructor(...e){const n=this;if(Tn(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=vx(e),i=!1;if(!r){i=!0,hn.sorted||(hn.autodetect=hn.autodetect.sort((a,o)=>o.p-a.p),hn.sorted=!0);for(let a of hn.autodetect)if(r=a.test(...e),r)break}if(hn.format[r]){const a=hn.format[r].apply(null,i?e:e.slice(0,-1));n._rgb=F4(a)}else throw new Error("unknown format: "+e);n._rgb.length===3&&n._rgb.push(1)}toString(){return Tn(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}};const YSe="3.1.2",kn=(...t)=>new _t(...t);kn.version=YSe;const dv={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},KSe=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,QSe=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,xte=t=>{if(t.match(KSe)){(t.length===4||t.length===7)&&(t=t.substr(1)),t.length===3&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);const e=parseInt(t,16),n=e>>16,r=e>>8&255,i=e&255;return[n,r,i,1]}if(t.match(QSe)){(t.length===5||t.length===9)&&(t=t.substr(1)),t.length===4&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16),n=e>>24&255,r=e>>16&255,i=e>>8&255,a=Math.round((e&255)/255*100)/100;return[n,r,i,a]}throw new Error(`unknown hex color: ${t}`)},{round:i_}=Math,yte=(...t)=>{let[e,n,r,i]=vn(t,"rgba"),a=vx(t)||"auto";i===void 0&&(i=1),a==="auto"&&(a=i<1?"rgba":"rgb"),e=i_(e),n=i_(n),r=i_(r);let l="000000"+(e<<16|n<<8|r).toString(16);l=l.substr(l.length-6);let c="0"+i_(i*255).toString(16);switch(c=c.substr(c.length-2),a.toLowerCase()){case"rgba":return`#${l}${c}`;case"argb":return`#${c}${l}`;default:return`#${l}`}};_t.prototype.name=function(){const t=yte(this._rgb,"rgb");for(let e of Object.keys(dv))if(dv[e]===t)return e.toLowerCase();return t};hn.format.named=t=>{if(t=t.toLowerCase(),dv[t])return xte(dv[t]);throw new Error("unknown color name: "+t)};hn.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Tn(t)==="string"&&dv[t.toLowerCase()])return"named"}});_t.prototype.alpha=function(t,e=!1){return t!==void 0&&Tn(t)==="number"?e?(this._rgb[3]=t,this):new _t([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]};_t.prototype.clipped=function(){return this._rgb._clipped||!1};const Uc={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},ZSe=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function zu(t){const e=ZSe.get(String(t).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+t);Uc.labWhitePoint=t,Uc.Xn=e[0],Uc.Zn=e[1]}function nb(){return Uc.labWhitePoint}const U4=(...t)=>{t=vn(t,"lab");const[e,n,r]=t,[i,a,o]=JSe(e,n,r),[l,c,u]=bte(i,a,o);return[l,c,u,t.length>3?t[3]:1]},JSe=(t,e,n)=>{const{kE:r,kK:i,kKE:a,Xn:o,Yn:l,Zn:c}=Uc,u=(t+16)/116,d=.002*e+u,f=u-.005*n,h=d*d*d,p=f*f*f,y=h>r?h:(116*d-16)/i,g=t>a?Math.pow((t+16)/116,3):t/i,v=p>r?p:(116*f-16)/i,b=y*o,w=g*l,_=v*c;return[b,w,_]},HC=t=>{const e=Math.sign(t);return t=Math.abs(t),(t<=.0031308?t*12.92:1.055*Math.pow(t,1/2.4)-.055)*e},bte=(t,e,n)=>{const{MtxAdaptMa:r,MtxAdaptMaI:i,MtxXYZ2RGB:a,RefWhiteRGB:o,Xn:l,Yn:c,Zn:u}=Uc,d=l*r.m00+c*r.m10+u*r.m20,f=l*r.m01+c*r.m11+u*r.m21,h=l*r.m02+c*r.m12+u*r.m22,p=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,y=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,g=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,v=(t*r.m00+e*r.m10+n*r.m20)*(p/d),b=(t*r.m01+e*r.m11+n*r.m21)*(y/f),w=(t*r.m02+e*r.m12+n*r.m22)*(g/h),_=v*i.m00+b*i.m10+w*i.m20,S=v*i.m01+b*i.m11+w*i.m21,j=v*i.m02+b*i.m12+w*i.m22,A=HC(_*a.m00+S*a.m10+j*a.m20),C=HC(_*a.m01+S*a.m11+j*a.m21),N=HC(_*a.m02+S*a.m12+j*a.m22);return[A*255,C*255,N*255]},B4=(...t)=>{const[e,n,r,...i]=vn(t,"rgb"),[a,o,l]=wte(e,n,r),[c,u,d]=eje(a,o,l);return[c,u,d,...i.length>0&&i[0]<1?[i[0]]:[]]};function eje(t,e,n){const{Xn:r,Yn:i,Zn:a,kE:o,kK:l}=Uc,c=t/r,u=e/i,d=n/a,f=c>o?Math.pow(c,1/3):(l*c+16)/116,h=u>o?Math.pow(u,1/3):(l*u+16)/116,p=d>o?Math.pow(d,1/3):(l*d+16)/116;return[116*h-16,500*(f-h),200*(h-p)]}function VC(t){const e=Math.sign(t);return t=Math.abs(t),(t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4))*e}const wte=(t,e,n)=>{t=VC(t/255),e=VC(e/255),n=VC(n/255);const{MtxRGB2XYZ:r,MtxAdaptMa:i,MtxAdaptMaI:a,Xn:o,Yn:l,Zn:c,As:u,Bs:d,Cs:f}=Uc;let h=t*r.m00+e*r.m10+n*r.m20,p=t*r.m01+e*r.m11+n*r.m21,y=t*r.m02+e*r.m12+n*r.m22;const g=o*i.m00+l*i.m10+c*i.m20,v=o*i.m01+l*i.m11+c*i.m21,b=o*i.m02+l*i.m12+c*i.m22;let w=h*i.m00+p*i.m10+y*i.m20,_=h*i.m01+p*i.m11+y*i.m21,S=h*i.m02+p*i.m12+y*i.m22;return w*=g/u,_*=v/d,S*=b/f,h=w*a.m00+_*a.m10+S*a.m20,p=w*a.m01+_*a.m11+S*a.m21,y=w*a.m02+_*a.m12+S*a.m22,[h,p,y]};_t.prototype.lab=function(){return B4(this._rgb)};const tje=(...t)=>new _t(...t,"lab");Object.assign(kn,{lab:tje,getLabWhitePoint:nb,setLabWhitePoint:zu});hn.format.lab=U4;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"lab"),Tn(t)==="array"&&t.length===3)return"lab"}});_t.prototype.darken=function(t=1){const e=this,n=e.lab();return n[0]-=Uc.Kn*t,new _t(n,"lab").alpha(e.alpha(),!0)};_t.prototype.brighten=function(t=1){return this.darken(-t)};_t.prototype.darker=_t.prototype.darken;_t.prototype.brighter=_t.prototype.brighten;_t.prototype.get=function(t){const[e,n]=t.split("."),r=this[e]();if(n){const i=e.indexOf(n)-(e.substr(0,2)==="ok"?2:0);if(i>-1)return r[i];throw new Error(`unknown channel ${n} in mode ${e}`)}else return r};const{pow:nje}=Math,rje=1e-7,ije=20;_t.prototype.luminance=function(t,e="rgb"){if(t!==void 0&&Tn(t)==="number"){if(t===0)return new _t([0,0,0,this._rgb[3]],"rgb");if(t===1)return new _t([255,255,255,this._rgb[3]],"rgb");let n=this.luminance(),r=ije;const i=(o,l)=>{const c=o.interpolate(l,.5,e),u=c.luminance();return Math.abs(t-u)<rje||!r--?c:u>t?i(o,c):i(c,l)},a=(n>t?i(new _t([0,0,0]),this):i(this,new _t([255,255,255]))).rgb();return new _t([...a,this._rgb[3]])}return sje(...this._rgb.slice(0,3))};const sje=(t,e,n)=>(t=qC(t),e=qC(e),n=qC(n),.2126*t+.7152*e+.0722*n),qC=t=>(t/=255,t<=.03928?t/12.92:nje((t+.055)/1.055,2.4)),Bs={},fv=(t,e,n=.5,...r)=>{let i=r[0]||"lrgb";if(!Bs[i]&&!r.length&&(i=Object.keys(Bs)[0]),!Bs[i])throw new Error(`interpolation mode ${i} is not defined`);return Tn(t)!=="object"&&(t=new _t(t)),Tn(e)!=="object"&&(e=new _t(e)),Bs[i](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};_t.prototype.mix=_t.prototype.interpolate=function(t,e=.5,...n){return fv(this,t,e,...n)};_t.prototype.premultiply=function(t=!1){const e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new _t([e[0]*n,e[1]*n,e[2]*n,n],"rgb")};const{sin:aje,cos:oje}=Math,_te=(...t)=>{let[e,n,r]=vn(t,"lch");return isNaN(r)&&(r=0),r=r*WSe,[e,oje(r)*n,aje(r)*n]},$4=(...t)=>{t=vn(t,"lch");const[e,n,r]=t,[i,a,o]=_te(e,n,r),[l,c,u]=U4(i,a,o);return[l,c,u,t.length>3?t[3]:1]},lje=(...t)=>{const e=vte(vn(t,"hcl"));return $4(...e)},{sqrt:cje,atan2:uje,round:dje}=Math,Ste=(...t)=>{const[e,n,r]=vn(t,"lab"),i=cje(n*n+r*r);let a=(uje(r,n)*XSe+360)%360;return dje(i*1e4)===0&&(a=Number.NaN),[e,i,a]},z4=(...t)=>{const[e,n,r,...i]=vn(t,"rgb"),[a,o,l]=B4(e,n,r),[c,u,d]=Ste(a,o,l);return[c,u,d,...i.length>0&&i[0]<1?[i[0]]:[]]};_t.prototype.lch=function(){return z4(this._rgb)};_t.prototype.hcl=function(){return vte(z4(this._rgb))};const fje=(...t)=>new _t(...t,"lch"),hje=(...t)=>new _t(...t,"hcl");Object.assign(kn,{lch:fje,hcl:hje});hn.format.lch=$4;hn.format.hcl=lje;["lch","hcl"].forEach(t=>hn.autodetect.push({p:2,test:(...e)=>{if(e=vn(e,t),Tn(e)==="array"&&e.length===3)return t}}));_t.prototype.saturate=function(t=1){const e=this,n=e.lch();return n[1]+=Uc.Kn*t,n[1]<0&&(n[1]=0),new _t(n,"lch").alpha(e.alpha(),!0)};_t.prototype.desaturate=function(t=1){return this.saturate(-t)};_t.prototype.set=function(t,e,n=!1){const[r,i]=t.split("."),a=this[r]();if(i){const o=r.indexOf(i)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(Tn(e)=="string")switch(e.charAt(0)){case"+":a[o]+=+e;break;case"-":a[o]+=+e;break;case"*":a[o]*=+e.substr(1);break;case"/":a[o]/=+e.substr(1);break;default:a[o]=+e}else if(Tn(e)==="number")a[o]=e;else throw new Error("unsupported value for Color.set");const l=new _t(a,r);return n?(this._rgb=l._rgb,this):l}throw new Error(`unknown channel ${i} in mode ${r}`)}else return a};_t.prototype.tint=function(t=.5,...e){return fv(this,"white",t,...e)};_t.prototype.shade=function(t=.5,...e){return fv(this,"black",t,...e)};const pje=(t,e,n)=>{const r=t._rgb,i=e._rgb;return new _t(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};Bs.rgb=pje;const{sqrt:GC,pow:Um}=Math,mje=(t,e,n)=>{const[r,i,a]=t._rgb,[o,l,c]=e._rgb;return new _t(GC(Um(r,2)*(1-n)+Um(o,2)*n),GC(Um(i,2)*(1-n)+Um(l,2)*n),GC(Um(a,2)*(1-n)+Um(c,2)*n),"rgb")};Bs.lrgb=mje;const gje=(t,e,n)=>{const r=t.lab(),i=e.lab();return new _t(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};Bs.lab=gje;const xx=(t,e,n,r)=>{let i,a;r==="hsl"?(i=t.hsl(),a=e.hsl()):r==="hsv"?(i=t.hsv(),a=e.hsv()):r==="hcg"?(i=t.hcg(),a=e.hcg()):r==="hsi"?(i=t.hsi(),a=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",i=t.hcl(),a=e.hcl()):r==="oklch"&&(i=t.oklch().reverse(),a=e.oklch().reverse());let o,l,c,u,d,f;(r.substr(0,1)==="h"||r==="oklch")&&([o,c,d]=i,[l,u,f]=a);let h,p,y,g;return!isNaN(o)&&!isNaN(l)?(l>o&&l-o>180?g=l-(o+360):l<o&&o-l>180?g=l+360-o:g=l-o,p=o+n*g):isNaN(o)?isNaN(l)?p=Number.NaN:(p=l,(d==1||d==0)&&r!="hsv"&&(h=u)):(p=o,(f==1||f==0)&&r!="hsv"&&(h=c)),h===void 0&&(h=c+n*(u-c)),y=d+n*(f-d),r==="oklch"?new _t([y,h,p],r):new _t([p,h,y],r)},jte=(t,e,n)=>xx(t,e,n,"lch");Bs.lch=jte;Bs.hcl=jte;const vje=t=>{if(Tn(t)=="number"&&t>=0&&t<=16777215){const e=t>>16,n=t>>8&255,r=t&255;return[e,n,r,1]}throw new Error("unknown num color: "+t)},xje=(...t)=>{const[e,n,r]=vn(t,"rgb");return(e<<16)+(n<<8)+r};_t.prototype.num=function(){return xje(this._rgb)};const yje=(...t)=>new _t(...t,"num");Object.assign(kn,{num:yje});hn.format.num=vje;hn.autodetect.push({p:5,test:(...t)=>{if(t.length===1&&Tn(t[0])==="number"&&t[0]>=0&&t[0]<=16777215)return"num"}});const bje=(t,e,n)=>{const r=t.num(),i=e.num();return new _t(r+n*(i-r),"num")};Bs.num=bje;const{floor:wje}=Math,_je=(...t)=>{t=vn(t,"hcg");let[e,n,r]=t,i,a,o;r=r*255;const l=n*255;if(n===0)i=a=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const c=wje(e),u=e-c,d=r*(1-n),f=d+l*(1-u),h=d+l*u,p=d+l;switch(c){case 0:[i,a,o]=[p,h,d];break;case 1:[i,a,o]=[f,p,d];break;case 2:[i,a,o]=[d,p,h];break;case 3:[i,a,o]=[d,f,p];break;case 4:[i,a,o]=[h,d,p];break;case 5:[i,a,o]=[p,d,f];break}}return[i,a,o,t.length>3?t[3]:1]},Sje=(...t)=>{const[e,n,r]=vn(t,"rgb"),i=mte(e,n,r),a=gte(e,n,r),o=a-i,l=o*100/255,c=i/(255-o)*100;let u;return o===0?u=Number.NaN:(e===a&&(u=(n-r)/o),n===a&&(u=2+(r-e)/o),r===a&&(u=4+(e-n)/o),u*=60,u<0&&(u+=360)),[u,l,c]};_t.prototype.hcg=function(){return Sje(this._rgb)};const jje=(...t)=>new _t(...t,"hcg");kn.hcg=jje;hn.format.hcg=_je;hn.autodetect.push({p:1,test:(...t)=>{if(t=vn(t,"hcg"),Tn(t)==="array"&&t.length===3)return"hcg"}});const Eje=(t,e,n)=>xx(t,e,n,"hcg");Bs.hcg=Eje;const{cos:Bm}=Math,Nje=(...t)=>{t=vn(t,"hsi");let[e,n,r]=t,i,a,o;return isNaN(e)&&(e=0),isNaN(n)&&(n=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-n)/3,i=(1+n*Bm(Lu*e)/Bm(zC-Lu*e))/3,a=1-(o+i)):e<2/3?(e-=1/3,i=(1-n)/3,a=(1+n*Bm(Lu*e)/Bm(zC-Lu*e))/3,o=1-(i+a)):(e-=2/3,a=(1-n)/3,o=(1+n*Bm(Lu*e)/Bm(zC-Lu*e))/3,i=1-(a+o)),i=gp(r*i*3),a=gp(r*a*3),o=gp(r*o*3),[i*255,a*255,o*255,t.length>3?t[3]:1]},{min:Aje,sqrt:Cje,acos:Mje}=Math,Tje=(...t)=>{let[e,n,r]=vn(t,"rgb");e/=255,n/=255,r/=255;let i;const a=Aje(e,n,r),o=(e+n+r)/3,l=o>0?1-a/o:0;return l===0?i=NaN:(i=(e-n+(e-r))/2,i/=Cje((e-n)*(e-n)+(e-r)*(n-r)),i=Mje(i),r>n&&(i=Lu-i),i/=Lu),[i*360,l,o]};_t.prototype.hsi=function(){return Tje(this._rgb)};const Pje=(...t)=>new _t(...t,"hsi");kn.hsi=Pje;hn.format.hsi=Nje;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"hsi"),Tn(t)==="array"&&t.length===3)return"hsi"}});const Dje=(t,e,n)=>xx(t,e,n,"hsi");Bs.hsi=Dje;const AI=(...t)=>{t=vn(t,"hsl");const[e,n,r]=t;let i,a,o;if(n===0)i=a=o=r*255;else{const l=[0,0,0],c=[0,0,0],u=r<.5?r*(1+n):r+n-r*n,d=2*r-u,f=e/360;l[0]=f+1/3,l[1]=f,l[2]=f-1/3;for(let h=0;h<3;h++)l[h]<0&&(l[h]+=1),l[h]>1&&(l[h]-=1),6*l[h]<1?c[h]=d+(u-d)*6*l[h]:2*l[h]<1?c[h]=u:3*l[h]<2?c[h]=d+(u-d)*(2/3-l[h])*6:c[h]=d;[i,a,o]=[c[0]*255,c[1]*255,c[2]*255]}return t.length>3?[i,a,o,t[3]]:[i,a,o,1]},Ete=(...t)=>{t=vn(t,"rgba");let[e,n,r]=t;e/=255,n/=255,r/=255;const i=mte(e,n,r),a=gte(e,n,r),o=(a+i)/2;let l,c;return a===i?(l=0,c=Number.NaN):l=o<.5?(a-i)/(a+i):(a-i)/(2-a-i),e==a?c=(n-r)/(a-i):n==a?c=2+(r-e)/(a-i):r==a&&(c=4+(e-n)/(a-i)),c*=60,c<0&&(c+=360),t.length>3&&t[3]!==void 0?[c,l,o,t[3]]:[c,l,o]};_t.prototype.hsl=function(){return Ete(this._rgb)};const Rje=(...t)=>new _t(...t,"hsl");kn.hsl=Rje;hn.format.hsl=AI;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"hsl"),Tn(t)==="array"&&t.length===3)return"hsl"}});const Oje=(t,e,n)=>xx(t,e,n,"hsl");Bs.hsl=Oje;const{floor:Ije}=Math,kje=(...t)=>{t=vn(t,"hsv");let[e,n,r]=t,i,a,o;if(r*=255,n===0)i=a=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const l=Ije(e),c=e-l,u=r*(1-n),d=r*(1-n*c),f=r*(1-n*(1-c));switch(l){case 0:[i,a,o]=[r,f,u];break;case 1:[i,a,o]=[d,r,u];break;case 2:[i,a,o]=[u,r,f];break;case 3:[i,a,o]=[u,d,r];break;case 4:[i,a,o]=[f,u,r];break;case 5:[i,a,o]=[r,u,d];break}}return[i,a,o,t.length>3?t[3]:1]},{min:Lje,max:Fje}=Math,Uje=(...t)=>{t=vn(t,"rgb");let[e,n,r]=t;const i=Lje(e,n,r),a=Fje(e,n,r),o=a-i;let l,c,u;return u=a/255,a===0?(l=Number.NaN,c=0):(c=o/a,e===a&&(l=(n-r)/o),n===a&&(l=2+(r-e)/o),r===a&&(l=4+(e-n)/o),l*=60,l<0&&(l+=360)),[l,c,u]};_t.prototype.hsv=function(){return Uje(this._rgb)};const Bje=(...t)=>new _t(...t,"hsv");kn.hsv=Bje;hn.format.hsv=kje;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"hsv"),Tn(t)==="array"&&t.length===3)return"hsv"}});const $je=(t,e,n)=>xx(t,e,n,"hsv");Bs.hsv=$je;function wj(t,e){let n=t.length;Array.isArray(t[0])||(t=[t]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,i=e[0].map((o,l)=>e.map(c=>c[l])),a=t.map(o=>i.map(l=>Array.isArray(o)?o.reduce((c,u,d)=>c+u*(l[d]||0),0):l.reduce((c,u)=>c+u*o,0)));return n===1&&(a=a[0]),r===1?a.map(o=>o[0]):a}const H4=(...t)=>{t=vn(t,"lab");const[e,n,r,...i]=t,[a,o,l]=zje([e,n,r]),[c,u,d]=bte(a,o,l);return[c,u,d,...i.length>0&&i[0]<1?[i[0]]:[]]};function zje(t){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],n=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=wj(n,t);return wj(e,r.map(i=>i**3))}const V4=(...t)=>{const[e,n,r,...i]=vn(t,"rgb"),a=wte(e,n,r);return[...Hje(a),...i.length>0&&i[0]<1?[i[0]]:[]]};function Hje(t){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],n=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=wj(e,t);return wj(n,r.map(i=>Math.cbrt(i)))}_t.prototype.oklab=function(){return V4(this._rgb)};const Vje=(...t)=>new _t(...t,"oklab");Object.assign(kn,{oklab:Vje});hn.format.oklab=H4;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"oklab"),Tn(t)==="array"&&t.length===3)return"oklab"}});const qje=(t,e,n)=>{const r=t.oklab(),i=e.oklab();return new _t(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"oklab")};Bs.oklab=qje;const Gje=(t,e,n)=>xx(t,e,n,"oklch");Bs.oklch=Gje;const{pow:WC,sqrt:XC,PI:YC,cos:Z8,sin:J8,atan2:Wje}=Math,Xje=(t,e="lrgb",n=null)=>{const r=t.length;n||(n=Array.from(new Array(r)).map(()=>1));const i=r/n.reduce(function(f,h){return f+h});if(n.forEach((f,h)=>{n[h]*=i}),t=t.map(f=>new _t(f)),e==="lrgb")return Yje(t,n);const a=t.shift(),o=a.get(e),l=[];let c=0,u=0;for(let f=0;f<o.length;f++)if(o[f]=(o[f]||0)*n[0],l.push(isNaN(o[f])?0:n[0]),e.charAt(f)==="h"&&!isNaN(o[f])){const h=o[f]/180*YC;c+=Z8(h)*n[0],u+=J8(h)*n[0]}let d=a.alpha()*n[0];t.forEach((f,h)=>{const p=f.get(e);d+=f.alpha()*n[h+1];for(let y=0;y<o.length;y++)if(!isNaN(p[y]))if(l[y]+=n[h+1],e.charAt(y)==="h"){const g=p[y]/180*YC;c+=Z8(g)*n[h+1],u+=J8(g)*n[h+1]}else o[y]+=p[y]*n[h+1]});for(let f=0;f<o.length;f++)if(e.charAt(f)==="h"){let h=Wje(u/l[f],c/l[f])/YC*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[f]=h}else o[f]=o[f]/l[f];return d/=r,new _t(o,e).alpha(d>.99999?1:d,!0)},Yje=(t,e)=>{const n=t.length,r=[0,0,0,0];for(let i=0;i<t.length;i++){const a=t[i],o=e[i]/n,l=a._rgb;r[0]+=WC(l[0],2)*o,r[1]+=WC(l[1],2)*o,r[2]+=WC(l[2],2)*o,r[3]+=l[3]*o}return r[0]=XC(r[0]),r[1]=XC(r[1]),r[2]=XC(r[2]),r[3]>.9999999&&(r[3]=1),new _t(F4(r))},{pow:Kje}=Math;function _j(t){let e="rgb",n=kn("#ccc"),r=0,i=[0,1],a=[],o=[0,0],l=!1,c=[],u=!1,d=0,f=1,h=!1,p={},y=!0,g=1;const v=function(C){if(C=C||["#fff","#000"],C&&Tn(C)==="string"&&kn.brewer&&kn.brewer[C.toLowerCase()]&&(C=kn.brewer[C.toLowerCase()]),Tn(C)==="array"){C.length===1&&(C=[C[0],C[0]]),C=C.slice(0);for(let N=0;N<C.length;N++)C[N]=kn(C[N]);a.length=0;for(let N=0;N<C.length;N++)a.push(N/(C.length-1))}return j(),c=C},b=function(C){if(l!=null){const N=l.length-1;let T=0;for(;T<N&&C>=l[T];)T++;return T-1}return 0};let w=C=>C,_=C=>C;const S=function(C,N){let T,P;if(N==null&&(N=!1),isNaN(C)||C===null)return n;N?P=C:l&&l.length>2?P=b(C)/(l.length-2):f!==d?P=(C-d)/(f-d):P=1,P=_(P),N||(P=w(P)),g!==1&&(P=Kje(P,g)),P=o[0]+P*(1-o[0]-o[1]),P=gp(P,0,1);const D=Math.floor(P*1e4);if(y&&p[D])T=p[D];else{if(Tn(c)==="array")for(let O=0;O<a.length;O++){const I=a[O];if(P<=I){T=c[O];break}if(P>=I&&O===a.length-1){T=c[O];break}if(P>I&&P<a[O+1]){P=(P-I)/(a[O+1]-I),T=kn.interpolate(c[O],c[O+1],P,e);break}}else Tn(c)==="function"&&(T=c(P));y&&(p[D]=T)}return T};var j=()=>p={};v(t);const A=function(C){const N=kn(S(C));return u&&N[u]?N[u]():N};return A.classes=function(C){if(C!=null){if(Tn(C)==="array")l=C,i=[C[0],C[C.length-1]];else{const N=kn.analyze(i);C===0?l=[N.min,N.max]:l=kn.limits(N,"e",C)}return A}return l},A.domain=function(C){if(!arguments.length)return i;d=C[0],f=C[C.length-1],a=[];const N=c.length;if(C.length===N&&d!==f)for(let T of Array.from(C))a.push((T-d)/(f-d));else{for(let T=0;T<N;T++)a.push(T/(N-1));if(C.length>2){const T=C.map((D,O)=>O/(C.length-1)),P=C.map(D=>(D-d)/(f-d));P.every((D,O)=>T[O]===D)||(_=D=>{if(D<=0||D>=1)return D;let O=0;for(;D>=P[O+1];)O++;const I=(D-P[O])/(P[O+1]-P[O]);return T[O]+I*(T[O+1]-T[O])})}}return i=[d,f],A},A.mode=function(C){return arguments.length?(e=C,j(),A):e},A.range=function(C,N){return v(C),A},A.out=function(C){return u=C,A},A.spread=function(C){return arguments.length?(r=C,A):r},A.correctLightness=function(C){return C==null&&(C=!0),h=C,j(),h?w=function(N){const T=S(0,!0).lab()[0],P=S(1,!0).lab()[0],D=T>P;let O=S(N,!0).lab()[0];const I=T+(P-T)*N;let L=O-I,z=0,q=1,V=20;for(;Math.abs(L)>.01&&V-- >0;)(function(){return D&&(L*=-1),L<0?(z=N,N+=(q-N)*.5):(q=N,N+=(z-N)*.5),O=S(N,!0).lab()[0],L=O-I})();return N}:w=N=>N,A},A.padding=function(C){return C!=null?(Tn(C)==="number"&&(C=[C,C]),o=C,A):o},A.colors=function(C,N){arguments.length<2&&(N="hex");let T=[];if(arguments.length===0)T=c.slice(0);else if(C===1)T=[A(.5)];else if(C>1){const P=i[0],D=i[1]-P;T=Qje(0,C).map(O=>A(P+O/(C-1)*D))}else{t=[];let P=[];if(l&&l.length>2)for(let D=1,O=l.length,I=1<=O;I?D<O:D>O;I?D++:D--)P.push((l[D-1]+l[D])*.5);else P=i;T=P.map(D=>A(D))}return kn[N]&&(T=T.map(P=>P[N]())),T},A.cache=function(C){return C!=null?(y=C,A):y},A.gamma=function(C){return C!=null?(g=C,A):g},A.nodata=function(C){return C!=null?(n=kn(C),A):n},A}function Qje(t,e,n){let r=[],i=t<e,a=e;for(let o=t;i?o<a:o>a;i?o++:o--)r.push(o);return r}const Zje=function(t){let e=[1,1];for(let n=1;n<t;n++){let r=[1];for(let i=1;i<=e.length;i++)r[i]=(e[i]||0)+e[i-1];e=r}return e},Jje=function(t){let e,n,r,i;if(t=t.map(a=>new _t(a)),t.length===2)[n,r]=t.map(a=>a.lab()),e=function(a){const o=[0,1,2].map(l=>n[l]+a*(r[l]-n[l]));return new _t(o,"lab")};else if(t.length===3)[n,r,i]=t.map(a=>a.lab()),e=function(a){const o=[0,1,2].map(l=>(1-a)*(1-a)*n[l]+2*(1-a)*a*r[l]+a*a*i[l]);return new _t(o,"lab")};else if(t.length===4){let a;[n,r,i,a]=t.map(o=>o.lab()),e=function(o){const l=[0,1,2].map(c=>(1-o)*(1-o)*(1-o)*n[c]+3*(1-o)*(1-o)*o*r[c]+3*(1-o)*o*o*i[c]+o*o*o*a[c]);return new _t(l,"lab")}}else if(t.length>=5){let a,o,l;a=t.map(c=>c.lab()),l=t.length-1,o=Zje(l),e=function(c){const u=1-c,d=[0,1,2].map(f=>a.reduce((h,p,y)=>h+o[y]*u**(l-y)*c**y*p[f],0));return new _t(d,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},eEe=t=>{const e=Jje(t);return e.scale=()=>_j(e),e},{round:Nte}=Math;_t.prototype.rgb=function(t=!0){return t===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Nte)};_t.prototype.rgba=function(t=!0){return this._rgb.slice(0,4).map((e,n)=>n<3?t===!1?e:Nte(e):e)};const tEe=(...t)=>new _t(...t,"rgb");Object.assign(kn,{rgb:tEe});hn.format.rgb=(...t)=>{const e=vn(t,"rgba");return e[3]===void 0&&(e[3]=1),e};hn.autodetect.push({p:3,test:(...t)=>{if(t=vn(t,"rgba"),Tn(t)==="array"&&(t.length===3||t.length===4&&Tn(t[3])=="number"&&t[3]>=0&&t[3]<=1))return"rgb"}});const tc=(t,e,n)=>{if(!tc[n])throw new Error("unknown blend mode "+n);return tc[n](t,e)},th=t=>(e,n)=>{const r=kn(n).rgb(),i=kn(e).rgb();return kn.rgb(t(r,i))},nh=t=>(e,n)=>{const r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r},nEe=t=>t,rEe=(t,e)=>t*e/255,iEe=(t,e)=>t>e?e:t,sEe=(t,e)=>t>e?t:e,aEe=(t,e)=>255*(1-(1-t/255)*(1-e/255)),oEe=(t,e)=>e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255)),lEe=(t,e)=>255*(1-(1-e/255)/(t/255)),cEe=(t,e)=>t===255?255:(t=255*(e/255)/(1-t/255),t>255?255:t);tc.normal=th(nh(nEe));tc.multiply=th(nh(rEe));tc.screen=th(nh(aEe));tc.overlay=th(nh(oEe));tc.darken=th(nh(iEe));tc.lighten=th(nh(sEe));tc.dodge=th(nh(cEe));tc.burn=th(nh(lEe));const{pow:uEe,sin:dEe,cos:fEe}=Math;function hEe(t=300,e=-1.5,n=1,r=1,i=[0,1]){let a=0,o;Tn(i)==="array"?o=i[1]-i[0]:(o=0,i=[i,i]);const l=function(c){const u=Lu*((t+120)/360+e*c),d=uEe(i[0]+o*c,r),h=(a!==0?n[0]+c*a:n)*d*(1-d)/2,p=fEe(u),y=dEe(u),g=d+h*(-.14861*p+1.78277*y),v=d+h*(-.29227*p-.90649*y),b=d+h*(1.97294*p);return kn(F4([g*255,v*255,b*255,1]))};return l.start=function(c){return c==null?t:(t=c,l)},l.rotations=function(c){return c==null?e:(e=c,l)},l.gamma=function(c){return c==null?r:(r=c,l)},l.hue=function(c){return c==null?n:(n=c,Tn(n)==="array"?(a=n[1]-n[0],a===0&&(n=n[1])):a=0,l)},l.lightness=function(c){return c==null?i:(Tn(c)==="array"?(i=c,o=c[1]-c[0]):(i=[c,c],o=0),l)},l.scale=()=>kn.scale(l),l.hue(n),l}const pEe="0123456789abcdef",{floor:mEe,random:gEe}=Math,vEe=()=>{let t="#";for(let e=0;e<6;e++)t+=pEe.charAt(mEe(gEe()*16));return new _t(t,"hex")},{log:ez,pow:xEe,floor:yEe,abs:bEe}=Math;function Ate(t,e=null){const n={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Tn(t)==="object"&&(t=Object.values(t)),t.forEach(r=>{e&&Tn(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(n.values.push(r),n.sum+=r,r<n.min&&(n.min=r),r>n.max&&(n.max=r),n.count+=1)}),n.domain=[n.min,n.max],n.limits=(r,i)=>Cte(n,r,i),n}function Cte(t,e="equal",n=7){Tn(t)=="array"&&(t=Ate(t));const{min:r,max:i}=t,a=t.values.sort((l,c)=>l-c);if(n===1)return[r,i];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(i)),e.substr(0,1)==="e"){o.push(r);for(let l=1;l<n;l++)o.push(r+l/n*(i-r));o.push(i)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const l=Math.LOG10E*ez(r),c=Math.LOG10E*ez(i);o.push(r);for(let u=1;u<n;u++)o.push(xEe(10,l+u/n*(c-l)));o.push(i)}else if(e.substr(0,1)==="q"){o.push(r);for(let l=1;l<n;l++){const c=(a.length-1)*l/n,u=yEe(c);if(u===c)o.push(a[u]);else{const d=c-u;o.push(a[u]*(1-d)+a[u+1]*d)}}o.push(i)}else if(e.substr(0,1)==="k"){let l;const c=a.length,u=new Array(c),d=new Array(n);let f=!0,h=0,p=null;p=[],p.push(r);for(let v=1;v<n;v++)p.push(r+v/n*(i-r));for(p.push(i);f;){for(let b=0;b<n;b++)d[b]=0;for(let b=0;b<c;b++){const w=a[b];let _=Number.MAX_VALUE,S;for(let j=0;j<n;j++){const A=bEe(p[j]-w);A<_&&(_=A,S=j),d[S]++,u[b]=S}}const v=new Array(n);for(let b=0;b<n;b++)v[b]=null;for(let b=0;b<c;b++)l=u[b],v[l]===null?v[l]=a[b]:v[l]+=a[b];for(let b=0;b<n;b++)v[b]*=1/d[b];f=!1;for(let b=0;b<n;b++)if(v[b]!==p[b]){f=!0;break}p=v,h++,h>200&&(f=!1)}const y={};for(let v=0;v<n;v++)y[v]=[];for(let v=0;v<c;v++)l=u[v],y[l].push(a[v]);let g=[];for(let v=0;v<n;v++)g.push(y[v][0]),g.push(y[v][y[v].length-1]);g=g.sort((v,b)=>v-b),o.push(g[0]);for(let v=1;v<g.length;v+=2){const b=g[v];!isNaN(b)&&o.indexOf(b)===-1&&o.push(b)}}return o}const wEe=(t,e)=>{t=new _t(t),e=new _t(e);const n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const tz=.027,_Ee=5e-4,SEe=.1,nz=1.14,s_=.022,rz=1.414,jEe=(t,e)=>{t=new _t(t),e=new _t(e),t.alpha()<1&&(t=fv(e,t,t.alpha(),"rgb"));const n=iz(...t.rgb()),r=iz(...e.rgb()),i=n>=s_?n:n+Math.pow(s_-n,rz),a=r>=s_?r:r+Math.pow(s_-r,rz),o=Math.pow(a,.56)-Math.pow(i,.57),l=Math.pow(a,.65)-Math.pow(i,.62),c=Math.abs(a-i)<_Ee?0:i<a?o*nz:l*nz;return(Math.abs(c)<SEe?0:c>0?c-tz:c+tz)*100};function iz(t,e,n){return .2126729*Math.pow(t/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(n/255,2.4)}const{sqrt:_u,pow:pi,min:EEe,max:NEe,atan2:sz,abs:az,cos:a_,sin:oz,exp:AEe,PI:lz}=Math;function CEe(t,e,n=1,r=1,i=1){var a=function(le){return 360*le/(2*lz)},o=function(le){return 2*lz*le/360};t=new _t(t),e=new _t(e);const[l,c,u]=Array.from(t.lab()),[d,f,h]=Array.from(e.lab()),p=(l+d)/2,y=_u(pi(c,2)+pi(u,2)),g=_u(pi(f,2)+pi(h,2)),v=(y+g)/2,b=.5*(1-_u(pi(v,7)/(pi(v,7)+pi(25,7)))),w=c*(1+b),_=f*(1+b),S=_u(pi(w,2)+pi(u,2)),j=_u(pi(_,2)+pi(h,2)),A=(S+j)/2,C=a(sz(u,w)),N=a(sz(h,_)),T=C>=0?C:C+360,P=N>=0?N:N+360,D=az(T-P)>180?(T+P+360)/2:(T+P)/2,O=1-.17*a_(o(D-30))+.24*a_(o(2*D))+.32*a_(o(3*D+6))-.2*a_(o(4*D-63));let I=P-T;I=az(I)<=180?I:P<=T?I+360:I-360,I=2*_u(S*j)*oz(o(I)/2);const L=d-l,z=j-S,q=1+.015*pi(p-50,2)/_u(20+pi(p-50,2)),V=1+.045*A,F=1+.015*A*O,U=30*AEe(-pi((D-275)/25,2)),$=-(2*_u(pi(A,7)/(pi(A,7)+pi(25,7))))*oz(2*o(U)),W=_u(pi(L/(n*q),2)+pi(z/(r*V),2)+pi(I/(i*F),2)+$*(z/(r*V))*(I/(i*F)));return NEe(0,EEe(100,W))}function MEe(t,e,n="lab"){t=new _t(t),e=new _t(e);const r=t.get(n),i=e.get(n);let a=0;for(let o in r){const l=(r[o]||0)-(i[o]||0);a+=l*l}return Math.sqrt(a)}const TEe=(...t)=>{try{return new _t(...t),!0}catch{return!1}},PEe={cool(){return _j([kn.hsl(180,1,.9),kn.hsl(250,.7,.4)])},hot(){return _j(["#000","#f00","#ff0","#fff"]).mode("rgb")}},CI={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Mte=Object.keys(CI),cz=new Map(Mte.map(t=>[t.toLowerCase(),t])),DEe=typeof Proxy=="function"?new Proxy(CI,{get(t,e){const n=e.toLowerCase();if(cz.has(n))return t[cz.get(n)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(Mte)}}):CI,REe=(...t)=>{t=vn(t,"cmyk");const[e,n,r,i]=t,a=t.length>4?t[4]:1;return i===1?[0,0,0,a]:[e>=1?0:255*(1-e)*(1-i),n>=1?0:255*(1-n)*(1-i),r>=1?0:255*(1-r)*(1-i),a]},{max:uz}=Math,OEe=(...t)=>{let[e,n,r]=vn(t,"rgb");e=e/255,n=n/255,r=r/255;const i=1-uz(e,uz(n,r)),a=i<1?1/(1-i):0,o=(1-e-i)*a,l=(1-n-i)*a,c=(1-r-i)*a;return[o,l,c,i]};_t.prototype.cmyk=function(){return OEe(this._rgb)};const IEe=(...t)=>new _t(...t,"cmyk");Object.assign(kn,{cmyk:IEe});hn.format.cmyk=REe;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"cmyk"),Tn(t)==="array"&&t.length===4)return"cmyk"}});const kEe=(...t)=>{const e=vn(t,"hsla");let n=vx(t)||"lsa";return e[0]=ol(e[0]||0)+"deg",e[1]=ol(e[1]*100)+"%",e[2]=ol(e[2]*100)+"%",n==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),n="hsla"):e.length=3,`${n.substr(0,3)}(${e.join(" ")})`},LEe=(...t)=>{const e=vn(t,"lab");let n=vx(t)||"lab";return e[0]=ol(e[0])+"%",e[1]=ol(e[1]),e[2]=ol(e[2]),n==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},FEe=(...t)=>{const e=vn(t,"lch");let n=vx(t)||"lab";return e[0]=ol(e[0])+"%",e[1]=ol(e[1]),e[2]=isNaN(e[2])?"none":ol(e[2])+"deg",n==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},UEe=(...t)=>{const e=vn(t,"lab");return e[0]=ol(e[0]*100)+"%",e[1]=NI(e[1]),e[2]=NI(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},Tte=(...t)=>{const[e,n,r,...i]=vn(t,"rgb"),[a,o,l]=V4(e,n,r),[c,u,d]=Ste(a,o,l);return[c,u,d,...i.length>0&&i[0]<1?[i[0]]:[]]},BEe=(...t)=>{const e=vn(t,"lch");return e[0]=ol(e[0]*100)+"%",e[1]=NI(e[1]),e[2]=isNaN(e[2])?"none":ol(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:KC}=Math,$Ee=(...t)=>{const e=vn(t,"rgba");let n=vx(t)||"rgb";if(n.substr(0,3)==="hsl")return kEe(Ete(e),n);if(n.substr(0,3)==="lab"){const r=nb();zu("d50");const i=LEe(B4(e),n);return zu(r),i}if(n.substr(0,3)==="lch"){const r=nb();zu("d50");const i=FEe(z4(e),n);return zu(r),i}return n.substr(0,5)==="oklab"?UEe(V4(e)):n.substr(0,5)==="oklch"?BEe(Tte(e)):(e[0]=KC(e[0]),e[1]=KC(e[1]),e[2]=KC(e[2]),(n==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),n="rgba"),`${n.substr(0,3)}(${e.slice(0,n==="rgb"?3:4).join(" ")})`)},Pte=(...t)=>{t=vn(t,"lch");const[e,n,r,...i]=t,[a,o,l]=_te(e,n,r),[c,u,d]=H4(a,o,l);return[c,u,d,...i.length>0&&i[0]<1?[i[0]]:[]]},Ku=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Wl=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Sj=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,pl=/\s*/.source,yx=/\s+/.source,q4=/\s*,\s*/.source,AN=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,bx=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,Dte=new RegExp("^rgba?\\("+pl+[Ku,Ku,Ku].join(yx)+bx+"\\)$"),Rte=new RegExp("^rgb\\("+pl+[Ku,Ku,Ku].join(q4)+pl+"\\)$"),Ote=new RegExp("^rgba\\("+pl+[Ku,Ku,Ku,Wl].join(q4)+pl+"\\)$"),Ite=new RegExp("^hsla?\\("+pl+[AN,Sj,Sj].join(yx)+bx+"\\)$"),kte=new RegExp("^hsl?\\("+pl+[AN,Sj,Sj].join(q4)+pl+"\\)$"),Lte=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Fte=new RegExp("^lab\\("+pl+[Wl,Wl,Wl].join(yx)+bx+"\\)$"),Ute=new RegExp("^lch\\("+pl+[Wl,Wl,AN].join(yx)+bx+"\\)$"),Bte=new RegExp("^oklab\\("+pl+[Wl,Wl,Wl].join(yx)+bx+"\\)$"),$te=new RegExp("^oklch\\("+pl+[Wl,Wl,AN].join(yx)+bx+"\\)$"),{round:zte}=Math,$m=t=>t.map((e,n)=>n<=2?gp(zte(e),0,255):e),mi=(t,e=0,n=100,r=!1)=>(typeof t=="string"&&t.endsWith("%")&&(t=parseFloat(t.substring(0,t.length-1))/100,r?t=e+(t+1)*.5*(n-e):t=e+t*(n-e)),+t),Ks=(t,e)=>t==="none"?e:t,G4=t=>{if(t=t.toLowerCase().trim(),t==="transparent")return[0,0,0,0];let e;if(hn.format.named)try{return hn.format.named(t)}catch{}if((e=t.match(Dte))||(e=t.match(Rte))){let n=e.slice(1,4);for(let i=0;i<3;i++)n[i]=+mi(Ks(n[i],0),0,255);n=$m(n);const r=e[4]!==void 0?+mi(e[4],0,1):1;return n[3]=r,n}if(e=t.match(Ote)){const n=e.slice(1,5);for(let r=0;r<4;r++)n[r]=+mi(n[r],0,255);return n}if((e=t.match(Ite))||(e=t.match(kte))){const n=e.slice(1,4);n[0]=+Ks(n[0].replace("deg",""),0),n[1]=+mi(Ks(n[1],0),0,100)*.01,n[2]=+mi(Ks(n[2],0),0,100)*.01;const r=$m(AI(n)),i=e[4]!==void 0?+mi(e[4],0,1):1;return r[3]=i,r}if(e=t.match(Lte)){const n=e.slice(1,4);n[1]*=.01,n[2]*=.01;const r=AI(n);for(let i=0;i<3;i++)r[i]=zte(r[i]);return r[3]=+e[4],r}if(e=t.match(Fte)){const n=e.slice(1,4);n[0]=mi(Ks(n[0],0),0,100),n[1]=mi(Ks(n[1],0),-125,125,!0),n[2]=mi(Ks(n[2],0),-125,125,!0);const r=nb();zu("d50");const i=$m(U4(n));zu(r);const a=e[4]!==void 0?+mi(e[4],0,1):1;return i[3]=a,i}if(e=t.match(Ute)){const n=e.slice(1,4);n[0]=mi(n[0],0,100),n[1]=mi(Ks(n[1],0),0,150,!1),n[2]=+Ks(n[2].replace("deg",""),0);const r=nb();zu("d50");const i=$m($4(n));zu(r);const a=e[4]!==void 0?+mi(e[4],0,1):1;return i[3]=a,i}if(e=t.match(Bte)){const n=e.slice(1,4);n[0]=mi(Ks(n[0],0),0,1),n[1]=mi(Ks(n[1],0),-.4,.4,!0),n[2]=mi(Ks(n[2],0),-.4,.4,!0);const r=$m(H4(n)),i=e[4]!==void 0?+mi(e[4],0,1):1;return r[3]=i,r}if(e=t.match($te)){const n=e.slice(1,4);n[0]=mi(Ks(n[0],0),0,1),n[1]=mi(Ks(n[1],0),0,.4,!1),n[2]=+Ks(n[2].replace("deg",""),0);const r=$m(Pte(n)),i=e[4]!==void 0?+mi(e[4],0,1):1;return r[3]=i,r}};G4.test=t=>Dte.test(t)||Ite.test(t)||Fte.test(t)||Ute.test(t)||Bte.test(t)||$te.test(t)||Rte.test(t)||Ote.test(t)||kte.test(t)||Lte.test(t)||t==="transparent";_t.prototype.css=function(t){return $Ee(this._rgb,t)};const zEe=(...t)=>new _t(...t,"css");kn.css=zEe;hn.format.css=G4;hn.autodetect.push({p:5,test:(t,...e)=>{if(!e.length&&Tn(t)==="string"&&G4.test(t))return"css"}});hn.format.gl=(...t)=>{const e=vn(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const HEe=(...t)=>new _t(...t,"gl");kn.gl=HEe;_t.prototype.gl=function(){const t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};_t.prototype.hex=function(t){return yte(this._rgb,t)};const VEe=(...t)=>new _t(...t,"hex");kn.hex=VEe;hn.format.hex=xte;hn.autodetect.push({p:4,test:(t,...e)=>{if(!e.length&&Tn(t)==="string"&&[3,4,5,6,7,8,9].indexOf(t.length)>=0)return"hex"}});const{log:o_}=Math,Hte=t=>{const e=t/100;let n,r,i;return e<66?(n=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*o_(r),i=e<20?0:-254.76935184120902+.8274096064007395*(i=e-10)+115.67994401066147*o_(i)):(n=351.97690566805693+.114206453784165*(n=e-55)-40.25366309332127*o_(n),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*o_(r),i=255),[n,r,i,1]},{round:qEe}=Math,GEe=(...t)=>{const e=vn(t,"rgb"),n=e[0],r=e[2];let i=1e3,a=4e4;const o=.4;let l;for(;a-i>o;){l=(a+i)*.5;const c=Hte(l);c[2]/c[0]>=r/n?a=l:i=l}return qEe(l)};_t.prototype.temp=_t.prototype.kelvin=_t.prototype.temperature=function(){return GEe(this._rgb)};const QC=(...t)=>new _t(...t,"temp");Object.assign(kn,{temp:QC,kelvin:QC,temperature:QC});hn.format.temp=hn.format.kelvin=hn.format.temperature=Hte;_t.prototype.oklch=function(){return Tte(this._rgb)};const WEe=(...t)=>new _t(...t,"oklch");Object.assign(kn,{oklch:WEe});hn.format.oklch=Pte;hn.autodetect.push({p:2,test:(...t)=>{if(t=vn(t,"oklch"),Tn(t)==="array"&&t.length===3)return"oklch"}});Object.assign(kn,{analyze:Ate,average:Xje,bezier:eEe,blend:tc,brewer:DEe,Color:_t,colors:dv,contrast:wEe,contrastAPCA:jEe,cubehelix:hEe,deltaE:CEe,distance:MEe,input:hn,interpolate:fv,limits:Cte,mix:fv,random:vEe,scale:_j,scales:PEe,valid:TEe});function XEe(){BSe.init({duration:1e3,easing:"ease-in-out",once:!0,mirror:!1,offset:100})}function Kn({children:t,requiredRole:e,requireAuth:n=!0}){const{user:r,loading:i}=ur();if(i)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(Da,{className:"h-8 w-8 animate-spin text-primary"})});if(n&&!r)return s.jsx(Ky,{to:"/login",replace:!0});if(e&&r){if(r.role==="admin")return s.jsx(s.Fragment,{children:t});if(r.role!==e){if(e==="affiliate"&&!r.isAffiliate)return s.jsx(Ky,{to:"/affiliate",replace:!0});if(e==="merchant"&&!r.isMerchant)return s.jsx(Ky,{to:"/merchant",replace:!0});const a={customer:"/",affiliate:"/affiliate/dashboard",merchant:"/merchant/dashboard",admin:"/admin"};return s.jsx(Ky,{to:a[r.role]||"/",replace:!0})}if((e==="merchant"||e==="affiliate")&&r.accountStatus!=="approved")return s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"max-w-md text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"حسابك قيد المراجعة"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:r.accountStatus==="pending"?"حسابك قيد المراجعة من قبل الإدارة. سيتم إشعارك عند الموافقة.":`تم رفض حسابك. السبب: ${r.rejectionReason||"غير محدد"}`}),s.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"العودة للصفحة الرئيسية"})]})})}return s.jsx(s.Fragment,{children:t})}const st=M.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));st.displayName="Input";var YEe="Separator",dz="horizontal",KEe=["horizontal","vertical"],Vte=M.forwardRef((t,e)=>{const{decorative:n,orientation:r=dz,...i}=t,a=QEe(r)?r:dz,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Mt.div,{"data-orientation":a,...l,...i,ref:e})});Vte.displayName=YEe;function QEe(t){return KEe.includes(t)}var qte=Vte;const Br=M.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx(qte,{ref:i,decorative:n,orientation:e,className:Nt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Br.displayName=qte.displayName;function ZEe(){return s.jsx("footer",{className:"bg-gradient-to-br from-purple-50 via-white to-orange-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-900 border-t border-purple-100 dark:border-purple-900",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ot,{to:"/",className:"text-2xl font-bold bg-gradient-to-r from-primary via-purple-600 to-secondary bg-clip-text text-transparent",children:"EgyGo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"وجهتك الوحيدة للمنتجات عالية الجودة مع أفضل برنامج شراكة في الصناعة."}),s.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900 transition-colors",children:s.jsx(oye,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-sky-100 hover:text-sky-600 dark:hover:bg-sky-900 transition-colors",children:s.jsx(L0e,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-pink-100 hover:text-pink-600 dark:hover:bg-pink-900 transition-colors",children:s.jsx(Sye,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900 transition-colors",children:s.jsx(K0e,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"روابط سريعة"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ot,{to:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"معلومات عنا"})}),s.jsx("li",{children:s.jsx(ot,{to:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"اتصل بنا"})}),s.jsx("li",{children:s.jsx(ot,{to:"/shipping",className:"text-muted-foreground hover:text-primary transition-colors",children:"معلومات الشحن"})}),s.jsx("li",{children:s.jsx(ot,{to:"/returns",className:"text-muted-foreground hover:text-primary transition-colors",children:"الإرجاع والاستبدال"})}),s.jsx("li",{children:s.jsx(ot,{to:"/faq",className:"text-muted-foreground hover:text-primary transition-colors",children:"الأسئلة الشائعة"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold bg-gradient-to-r from-orange-500 to-yellow-500 bg-clip-text text-transparent",children:"برنامج الشراكة"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx(ot,{to:"/affiliate",className:"text-muted-foreground hover:text-secondary transition-colors",children:"انضم كشريك"})}),s.jsx("li",{children:s.jsx(ot,{to:"/affiliate/dashboard",className:"text-muted-foreground hover:text-secondary transition-colors",children:"لوحة تحكم الشراكة"})}),s.jsx("li",{children:s.jsx(ot,{to:"/affiliate/resources",className:"text-muted-foreground hover:text-secondary transition-colors",children:"مصادر التسويق"})}),s.jsx("li",{children:s.jsx(ot,{to:"/affiliate/commission",className:"text-muted-foreground hover:text-secondary transition-colors",children:"هيكل العمولة"})}),s.jsx("li",{children:s.jsx(ot,{to:"/affiliate/support",className:"text-muted-foreground hover:text-secondary transition-colors",children:"دعم الشركاء"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"ابق على اطلاع"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"اشترك للحصول على عروض خاصة وهدايا مجانية وفرص شراكة."}),s.jsxs("div",{className:"flex space-x-2 rtl:space-x-reverse",children:[s.jsx(st,{placeholder:"أدخل بريدك الإلكتروني",type:"email",className:"flex-1"}),s.jsxs(ge,{size:"sm",className:"bg-gradient-to-r from-primary to-secondary hover:from-purple-700 hover:to-orange-600",children:[s.jsx(Kc,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"اشترك"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"بالاشتراك، فإنك توافق على سياسة الخصوصية وشروط الخدمة."})]})]}),s.jsx(Br,{className:"my-8"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"© 2024 EgyGo. جميع الحقوق محفوظة."}),s.jsxs("div",{className:"flex space-x-4 rtl:space-x-reverse mt-4 sm:mt-0",children:[s.jsx(ot,{to:"/privacy",className:"hover:text-primary transition-colors",children:"سياسة الخصوصية"}),s.jsx(ot,{to:"/terms",className:"hover:text-primary transition-colors",children:"شروط الخدمة"}),s.jsx(ot,{to:"/cookies",className:"hover:text-primary transition-colors",children:"سياسة ملفات تعريف الارتباط"})]})]})]})})}function JEe({className:t}){return null}function eNe({className:t}){const[e,n]=M.useState(!1);M.useEffect(()=>{const i=()=>{n(window.scrollY>320)};return i(),window.addEventListener("scroll",i,{passive:!0}),()=>{window.removeEventListener("scroll",i)}},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return s.jsx("button",{type:"button",onClick:r,"aria-label":"العودة لأعلى الصفحة",className:Nt("fixed bottom-6 end-6 z-40 inline-flex h-11 w-11 items-center justify-center rounded-full","bg-primary text-primary-foreground shadow-lg transition-all","hover:shadow-xl focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","focus-visible:ring-primary",e?"opacity-100 scale-100":"pointer-events-none opacity-0 scale-95",t),children:s.jsx(l4,{className:"h-5 w-5"})})}const ce=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Nt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ce.displayName="Card";const Ee=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Nt("flex flex-col space-y-1.5 p-6",t),...e}));Ee.displayName="CardHeader";const Ce=M.forwardRef(({className:t,...e},n)=>s.jsx("h3",{ref:n,className:Nt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ce.displayName="CardTitle";const on=M.forwardRef(({className:t,...e},n)=>s.jsx("p",{ref:n,className:Nt("text-sm text-muted-foreground",t),...e}));on.displayName="CardDescription";const he=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Nt("p-6 pt-0",t),...e}));he.displayName="CardContent";const tNe=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Nt("flex items-center p-6 pt-0",t),...e}));tNe.displayName="CardFooter";const As={title:"إيجي جو - تسوق أونلاين في مصر | منتجات أصلية بأفضل الأسعار",description:"تسوق الآن من إيجي جو واحصل على أفضل المنتجات بأسعار تنافسية. شحن سريع لجميع أنحاء مصر، دفع عند الاستلام، وضمان على جميع المنتجات. انضم لبرنامج التسويق بالعمولة واكسب حتى 25%",keywords:"تسوق أونلاين, تسوق في مصر, شراء اونلاين, منتجات مصرية, التسوق الالكتروني, دفع عند الاستلام, شحن مجاني, تسويق بالعمولة, افلييت مصر, egygo, ايجي جو",image:"https://egygo.me/og-image.jpg",siteUrl:"https://egygo.me",siteName:"إيجي جو"};function nNe({title:t,description:e,keywords:n,image:r,type:i="website",price:a,currency:o="EGP",availability:l,brand:c,sku:u,rating:d,reviewCount:f,category:h}){const p=ac(),y=`${As.siteUrl}${p.pathname}`,g=t?`${t} | ${As.siteName}`:As.title,v=e||As.description,b=n||As.keywords,w=r||As.image,_=i==="product"&&a?{"@context":"https://schema.org","@type":"Product",name:t,description:v,brand:c?{"@type":"Brand",name:c}:void 0,sku:u,category:h,image:w,offers:{"@type":"Offer",price:a,priceCurrency:o,availability:l==="in stock"?"https://schema.org/InStock":"https://schema.org/OutOfStock"}}:null,S={"@context":"https://schema.org","@type":"Organization",name:As.siteName,url:As.siteUrl,logo:`${As.siteUrl}/logo.png`,description:As.description,sameAs:["https://www.facebook.com/egygo","https://www.instagram.com/egygo","https://twitter.com/egygo"],contactPoint:{"@type":"ContactPoint",contactType:"Customer Service",telephone:"+20-123-456-7890",email:"support@egygo.com",availableLanguage:["ar","en"]}},j={"@context":"https://schema.org","@type":"WebSite",name:As.siteName,url:As.siteUrl,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${window.location.origin}/#/products?search={search_term_string}`},"query-input":"required name=search_term_string"}},A=p.pathname.split("/").filter(Boolean),C=A.length>0?{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"الرئيسية",item:As.siteUrl},...A.map((N,T)=>({"@type":"ListItem",position:T+2,name:N,item:`${As.siteUrl}/${A.slice(0,T+1).join("/")}`}))]}:null;return s.jsxs(dSe,{children:[s.jsx("html",{lang:"ar",dir:"rtl"}),s.jsx("title",{children:g}),s.jsx("meta",{name:"description",content:v}),s.jsx("meta",{name:"keywords",content:b}),s.jsx("meta",{property:"og:type",content:i}),s.jsx("meta",{property:"og:url",content:y}),s.jsx("meta",{property:"og:title",content:g}),s.jsx("meta",{property:"og:description",content:v}),s.jsx("meta",{property:"og:image",content:w}),s.jsx("meta",{property:"og:site_name",content:As.siteName}),s.jsx("meta",{property:"og:locale",content:"ar_EG"}),s.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),s.jsx("meta",{name:"twitter:url",content:y}),s.jsx("meta",{name:"twitter:title",content:g}),s.jsx("meta",{name:"twitter:description",content:v}),s.jsx("meta",{name:"twitter:image",content:w}),s.jsx("meta",{name:"robots",content:"index, follow"}),s.jsx("meta",{name:"googlebot",content:"index, follow"}),s.jsx("meta",{name:"language",content:"Arabic"}),s.jsx("meta",{name:"author",content:As.siteName}),s.jsx("link",{rel:"canonical",href:y}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5"}),s.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),s.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(S)}),s.jsx("script",{type:"application/ld+json",children:JSON.stringify(j)}),C&&s.jsx("script",{type:"application/ld+json",children:JSON.stringify(C)}),_&&s.jsx("script",{type:"application/ld+json",children:JSON.stringify(_)})]})}const rNe={home:()=>({title:"إيجي جو - تسوق أونلاين في مصر",description:"أفضل موقع تسوق أونلاين في مصر. منتجات أصلية، أسعار تنافسية، شحن سريع، دفع عند الاستلام. انضم لبرنامج التسويق بالعمولة واكسب حتى 25%",keywords:"تسوق أونلاين مصر, شراء اونلاين, افضل موقع تسوق, egygo"}),products:t=>({title:t?`تسوق ${t}`:"تسوق جميع المنتجات",description:`اكتشف مجموعة واسعة من ${t||"المنتجات"} بأفضل الأسعار. شحن سريع لجميع أنحاء مصر ودفع عند الاستلام`,keywords:`${t||"منتجات"}, تسوق ${t||"اونلاين"}, شراء ${t||"منتجات"} مصر`}),affiliate:()=>({title:"برنامج التسويق بالعمولة - اكسب حتى 25%",description:"انضم لبرنامج التسويق بالعمولة من إيجي جو واكسب عمولة تصل إلى 25% على كل عملية بيع. أدوات تسويقية احترافية، دعم مستمر، وسحب أرباح سريع",keywords:"تسويق بالعمولة, افلييت مصر, اكسب من الانترنت, عمولة تسويق, affiliate egypt"}),merchant:()=>({title:"انضم كتاجر - بيع منتجاتك على إيجي جو",description:"ابدأ البيع على إيجي جو واصل لآلاف العملاء في مصر. لوحة تحكم احترافية، تقارير مفصلة، ودعم تقني متواصل",keywords:"بيع منتجات اونلاين, تجارة الكترونية مصر, merchant egypt, بائع اونلاين"}),login:()=>({title:"تسجيل الدخول - إيجي جو",description:"سجل دخولك لحسابك في إيجي جو وابدأ التسوق الآن",keywords:"تسجيل دخول, login egygo"}),register:()=>({title:"إنشاء حساب جديد - إيجي جو",description:"أنشئ حسابك المجاني في إيجي جو وابدأ التسوق أو التسويق بالعمولة",keywords:"انشاء حساب, تسجيل جديد, register egygo"}),cart:()=>({title:"عربة التسوق",description:"راجع منتجاتك وأكمل عملية الشراء بسهولة",keywords:"عربة التسوق, سلة المشتريات, cart"}),checkout:()=>({title:"إتمام الطلب",description:"أكمل طلبك الآن. دفع عند الاستلام متاح لجميع أنحاء مصر",keywords:"اتمام الطلب, checkout, دفع عند الاستلام"})};function iNe(){const{data:t,isLoading:e}=ci({queryKey:zs.categories,queryFn:px.getAll}),{data:n,isLoading:r}=ci({queryKey:[...zs.products,"featured"],queryFn:()=>hl.getAll({sortBy:"featured",limit:4})}),{data:i,isLoading:a}=ci({queryKey:[...zs.products,"bestsellers"],queryFn:()=>hl.getAll({sortBy:"rating",limit:4})}),o=t?.categories||[],l=n?.products||[],c=i?.products.filter(u=>u.reviewCount>50)||[];return e||r?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx(Da,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"space-y-16 pb-16",children:[s.jsx(nNe,{...rNe.home()}),s.jsxs("section",{className:"relative bg-gradient-to-br from-primary via-purple-600 to-secondary text-white overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 animate-pulse"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"relative container mx-auto px-4 py-24 lg:py-32",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{variant:"secondary",className:"text-primary bg-gradient-to-r from-white to-yellow-50 shadow-lg",children:"✨ منتجات مميزة"}),s.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:["تسوق بذكاء،",s.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:" اربح أكثر"})]}),s.jsx("p",{className:"text-xl text-white/90 max-w-lg",children:"اكتشف مجموعة متنوعة من المنتجات عالية الجودة وانضم لبرنامج الشراكة لتحقيق دخل إضافي مميز."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold",asChild:!0,children:s.jsxs(ot,{to:"/products",children:["تسوق الآن",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",asChild:!0,children:s.jsxs(ot,{to:"/affiliate",children:[s.jsx(wi,{className:"ml-2 h-5 w-5 rtl:ml-0 rtl:mr-2"}),"انضم لبرنامج الشراكة"]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-8",children:[s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-300",children:"+10K"}),s.jsx("div",{className:"text-sm text-white/80",children:"عميل راضي"})]}),s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all",children:[s.jsx("div",{className:"text-2xl font-bold text-green-300",children:"+500"}),s.jsx("div",{className:"text-sm text-white/80",children:"منتج"})]}),s.jsxs("div",{className:"text-center bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-300",children:"+1K"}),s.jsx("div",{className:"text-sm text-white/80",children:"مسوق"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 items-center",children:[s.jsx("div",{className:"space-y-4",children:l.slice(0,2).map((u,d)=>s.jsx(ot,{to:`/product/${u.id}`,children:s.jsx(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 hover:bg-white/20 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl",children:s.jsxs(he,{className:"p-4",children:[s.jsx("img",{src:ps(u.images?.[0]),alt:u.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),s.jsx("h3",{className:"font-semibold text-white text-sm",children:u.name}),s.jsxs("p",{className:"text-brand-yellow font-bold",children:["$",u.price]})]})})},u.id))}),s.jsx("div",{className:"space-y-4 mt-8",children:l.slice(2,4).map((u,d)=>s.jsx(ot,{to:`/product/${u.id}`,children:s.jsx(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 hover:bg-white/20 hover:scale-105 transition-all duration-300 cursor-pointer shadow-lg hover:shadow-xl",children:s.jsxs(he,{className:"p-4",children:[s.jsx("img",{src:ps(u.images?.[0]),alt:u.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),s.jsx("h3",{className:"font-semibold text-white text-sm",children:u.name}),s.jsxs("p",{className:"text-brand-yellow font-bold",children:["$",u.price]})]})})},u.id))})]})})]})})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 space-y-2",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"تسوق حسب الفئة"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"اكتشف مجموعتنا الواسعة من المنتجات عبر فئات مختلفة"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:o.filter(u=>u.slug).map(u=>s.jsx(ot,{to:`/category/${u.slug}`,className:"group",children:s.jsxs(ce,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group-hover:scale-105",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:u.image||"/placeholder.svg",alt:u.name,className:"w-full h-32 object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"})]}),s.jsxs(he,{className:"p-4 text-center",children:[s.jsx("h3",{className:"font-semibold mb-1",children:u.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.productCount," منتج"]})]})]})},u.id))})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"المنتجات المميزة"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"منتجات مختارة بعناية خصيصًا لك"})]}),s.jsx(ge,{variant:"outline",asChild:!0,children:s.jsxs(ot,{to:"/products",children:["عرض الكل",s.jsx(oi,{className:"mr-2 h-4 w-4 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(u=>s.jsx(ot,{to:`/product/${u.id}`,children:s.jsxs(ce,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:ps(u.images?.[0]),alt:u.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),u.originalPrice&&u.originalPrice>u.price&&s.jsxs(jt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:["وفر $",(u.originalPrice-u.price).toFixed(0)]}),s.jsxs("div",{className:"absolute top-2 right-2 bg-brand-orange text-white text-xs px-2 py-1 rounded",children:[u.affiliateCommission,"% عمولة"]})]}),s.jsxs(he,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>s.jsx(da,{className:`h-4 w-4 ${f<Math.floor(u.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u.reviewCount,")"]})]}),s.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:u.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-bold",children:["$",u.price]}),u.originalPrice&&u.originalPrice>u.price&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",u.originalPrice]})]})}),s.jsx(ge,{size:"sm",children:s.jsx(ti,{className:"h-4 w-4"})})]})]})]})},u.id))})]}),s.jsx("section",{className:"bg-gradient-to-r from-brand-orange to-brand-purple text-white",children:s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{variant:"secondary",className:"text-brand-orange bg-white/90",children:"💰 برنامج الشراكة"}),s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"ابدأ تكسب دلوقتي مع برنامج الشراكة"}),s.jsx("p",{className:"text-xl text-white/90",children:"انضم لآلاف المسوقين الناجحين واكسب عمولة لحد 25% على كل عملية بيع تيجي منك. الانضمام مجاني وعندنا كل الأدوات اللي تحتاجها عشان تنجح."})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-lg backdrop-blur-sm",children:[s.jsx(br,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg",children:"لحد 25%"}),s.jsx("div",{className:"text-sm text-white/80",children:"عمولة"})]}),s.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-lg backdrop-blur-sm",children:[s.jsx(wi,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg",children:"+1000"}),s.jsx("div",{className:"text-sm text-white/80",children:"مسوق نشط"})]}),s.jsxs("div",{className:"text-center p-4 bg-white/10 rounded-lg backdrop-blur-sm",children:[s.jsx(av,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("div",{className:"font-bold text-lg",children:"+10 مليون جنيه"}),s.jsx("div",{className:"text-sm text-white/80",children:"اتدفع عمولات"})]})]}),s.jsx(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold",asChild:!0,children:s.jsxs(ot,{to:"/affiliate",children:["انضم لبرنامج الشراكة",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})]}),s.jsx("div",{className:"relative",children:s.jsxs(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-white",children:"لماذا تختار برنامجنا؟"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-yellow flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:"✓"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"معدلات عمولة عالية"}),s.jsx("p",{className:"text-white/80 text-sm",children:"اكسب 8-25% عمولة على جميع المبيعات"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-yellow flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:"✓"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"تتبع فوري"}),s.jsx("p",{className:"text-white/80 text-sm",children:"راقب أداءك وأرباحك مباشرة"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-yellow flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:"✓"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"دعم تسويقي"}),s.jsx("p",{className:"text-white/80 text-sm",children:"احصل على بانرات وروابط ومواد ترويجية"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-brand-yellow flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-xs font-bold text-primary",children:"✓"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white",children:"دفعات سريعة"}),s.jsx("p",{className:"text-white/80 text-sm",children:"دفعات أسبوعية عبر PayPal أو التحويل البنكي"})]})]})]})]})})]})})}),c.length>0&&s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"الأكثر مبيعًا"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"منتجاتنا الأكثر شعبية المحبوبة من العملاء حول العالم"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.slice(0,4).map(u=>s.jsx(ot,{to:`/product/${u.id}`,children:s.jsxs(ce,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300 cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:ps(u.images?.[0]),alt:u.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx(jt,{className:"absolute top-2 left-2 bg-success text-success-foreground",children:"الأكثر مبيعًا"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-brand-orange text-white text-xs px-2 py-1 rounded",children:[u.affiliateCommission,"% عمولة"]})]}),s.jsxs(he,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((d,f)=>s.jsx(da,{className:`h-4 w-4 ${f<Math.floor(u.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},f))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u.reviewCount,")"]})]}),s.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:u.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-bold",children:["$",u.price]}),u.originalPrice&&u.originalPrice>u.price&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",u.originalPrice]})]})}),s.jsx(ge,{size:"sm",children:s.jsx(ti,{className:"h-4 w-4"})})]})]})]})},u.id))})]}),s.jsx("section",{className:"bg-muted/40",children:s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid gap-12 lg:grid-cols-[1.1fr_0.9fr] items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(jt,{className:"bg-primary/10 text-primary",children:"لماذا إيجي جو؟"}),s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold leading-tight",children:"ثقة كاملة، دعم حقيقي، وتجربة تسوق ولا أسهل"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"بنقدم لك أقوى تجربة تسوق إلكتروني في مصر: منتجات أصلية مضمونة، دعم عربي 24/7، وسياسة إرجاع سهلة. هدفنا إنك تشتري وتكسب وأنت مطمن."}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:[{icon:m0e,title:"ضمان استرجاع 30 يوم",description:"في حالة المنتج مش مطابق للتوقعات، نرجعلك فلوسك بالكامل بدون أسئلة."},{icon:va,title:"شحن سريع داخل مصر",description:"شراكتنا مع أفضل شركات الشحن تضمن توصيل الطلب في 2-4 أيام عمل."},{icon:OZ,title:"خدمة عملاء ودعم تسويقي",description:"فريق عربي جاهز يساعدك بالهاتف، الواتساب، أو الإيميل طول اليوم."},{icon:Wxe,title:"تتبع لحظي للطلبات",description:"تابع حالة الطلب لحظة بلحظة من حسابك أو عبر صفحة تتبع الطلبات."}].map(u=>s.jsx(ce,{className:"h-full",children:s.jsxs(he,{className:"flex h-full flex-col gap-3 p-5",children:[s.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary",children:s.jsx(u.icon,{className:"h-5 w-5"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"text-lg font-semibold",children:u.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:u.description})]})]})},u.title))})]}),s.jsxs(ce,{className:"shadow-lg",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-2xl",children:"آراء عملائنا"})}),s.jsxs(he,{className:"space-y-6",children:[[{name:"محمود السيد",role:"مسوق شريك",quote:"أرباحي زادت 3 أضعاف من أول شهر مع إيجي جو. لوحة التحكم واضحة، والعمولات بتتصرف في مواعيدها."},{name:"إسراء أحمد",role:"عميلة",quote:"تجربة الشراء كانت ممتازة، خدمة العملاء ساعدوني أختار الهدية المناسبة ووصلت في يومين."}].map(u=>s.jsxs("div",{className:"rounded-xl bg-muted/80 p-5",children:[s.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["“",u.quote,"”"]}),s.jsxs("div",{className:"mt-4 text-sm font-semibold",children:[u.name,s.jsxs("span",{className:"ms-2 text-xs text-muted-foreground",children:["• ",u.role]})]})]},u.name)),s.jsxs("div",{className:"rounded-xl border border-dashed border-primary/50 p-5 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"عايز تتأكد بنفسك؟"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"تواصل مع فريق الدعم أو اطلب مكالمة مجانية دلوقتي وهنرد عليك خلال دقائق."}),s.jsx(ge,{asChild:!0,variant:"outline",children:s.jsx(ot,{to:"/contact",children:"تواصل معنا الآن"})})]})]})]})]})})}),s.jsx("section",{className:"bg-gradient-to-r from-brand-purple via-primary to-brand-orange text-white",children:s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"inline-block",children:s.jsx(jt,{variant:"secondary",className:"text-primary bg-white/90 text-lg px-4 py-2",children:"🏪 للتجار والبائعين"})}),s.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold leading-tight",children:["هل لديك منتجات للبيع؟",s.jsx("br",{}),s.jsx("span",{className:"text-brand-yellow",children:"ابدأ البيع معنا!"})]}),s.jsx("p",{className:"text-xl text-white/90",children:"انضم إلى أكثر من 500 تاجر ناجح على إيجي جو. عمولات منخفضة (5-10%)، دفعات أسبوعية، ووصول لملايين العملاء المحتملين."}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold mb-1",children:"5-10%"}),s.jsx("div",{className:"text-sm text-white/80",children:"عمولة فقط"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold mb-1",children:"+500"}),s.jsx("div",{className:"text-sm text-white/80",children:"تاجر نشط"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold mb-1",children:"أسبوعي"}),s.jsx("div",{className:"text-sm text-white/80",children:"دفع الأرباح"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold mb-1",children:"مجاني"}),s.jsx("div",{className:"text-sm text-white/80",children:"بدون رسوم"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold",asChild:!0,children:s.jsxs(ot,{to:"/register?type=merchant",children:["ابدأ البيع الآن",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",asChild:!0,children:s.jsx(ot,{to:"/merchant",children:"اعرف المزيد"})})]})]}),s.jsx("div",{className:"relative",children:s.jsxs(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-white text-2xl mb-4",children:"لماذا تبيع على إيجي جو؟"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(kr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"عمولات منخفضة"}),s.jsx("p",{className:"text-sm text-white/80",children:"ادفع 5-10% فقط - أقل من المنافسين"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(Dp,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"تحليلات متقدمة"}),s.jsx("p",{className:"text-sm text-white/80",children:"تتبع مبيعاتك وأدائك لحظياً"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(wi,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"ملايين العملاء"}),s.jsx("p",{className:"text-sm text-white/80",children:"وصول لقاعدة عملاء ضخمة جاهزة للشراء"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-white/20 rounded-full p-2",children:s.jsx(av,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-white mb-1",children:"دعم مخصص"}),s.jsx("p",{className:"text-sm text-white/80",children:"فريق دعم متخصص لمساعدتك 24/7"})]})]})]})]})})]})})})]})}const sNe=()=>{const t=ac();return M.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function Ew(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aNe=[" ","Enter","ArrowUp","ArrowDown"],oNe=[" ","Enter"],kp="Select",[CN,MN,lNe]=ww(kp),[wx]=Ni(kp,[lNe,Qf]),TN=Qf(),[cNe,rh]=wx(kp),[uNe,dNe]=wx(kp),Gte=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=t,g=TN(e),[v,b]=M.useState(null),[w,_]=M.useState(null),[S,j]=M.useState(!1),A=eh(u),[C,N]=Ba({prop:r,defaultProp:i??!1,onChange:a,caller:kp}),[T,P]=Ba({prop:o,defaultProp:l,onChange:c,caller:kp}),D=M.useRef(null),O=v?y||!!v.closest("form"):!0,[I,L]=M.useState(new Set),z=Array.from(I).map(q=>q.props.value).join(";");return s.jsx(XL,{...g,children:s.jsxs(cNe,{required:p,scope:e,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Li(),value:T,onValueChange:P,open:C,onOpenChange:N,dir:A,triggerPointerDownPosRef:D,disabled:h,children:[s.jsx(CN.Provider,{scope:e,children:s.jsx(uNe,{scope:t.__scopeSelect,onNativeOptionAdd:M.useCallback(q=>{L(V=>new Set(V).add(q))},[]),onNativeOptionRemove:M.useCallback(q=>{L(V=>{const F=new Set(V);return F.delete(q),F})},[]),children:n})}),O?s.jsxs(gne,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:q=>P(q.target.value),disabled:h,form:y,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(I)]},z):null]})})};Gte.displayName=kp;var Wte="SelectTrigger",Xte=M.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=TN(n),o=rh(Wte,n),l=o.disabled||r,c=Jt(e,o.onTriggerChange),u=MN(n),d=M.useRef("touch"),[f,h,p]=xne(g=>{const v=u().filter(_=>!_.disabled),b=v.find(_=>_.value===o.value),w=yne(v,g,b);w!==void 0&&o.onValueChange(w.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(uw,{asChild:!0,...a,children:s.jsx(Mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vne(o.value)?"":void 0,...i,ref:c,onClick:St(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:St(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:St(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&aNe.includes(g.key)&&(y(),g.preventDefault())})})})});Xte.displayName=Wte;var Yte="SelectValue",Kte=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=rh(Yte,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Jt(e,c.onValueNodeChange);return fi(()=>{u(d)},[u,d]),s.jsx(Mt.span,{...l,ref:f,style:{pointerEvents:"none"},children:vne(c.value)?s.jsx(s.Fragment,{children:o}):a})});Kte.displayName=Yte;var fNe="SelectIcon",Qte=M.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Mt.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Qte.displayName=fNe;var hNe="SelectPortal",Zte=t=>s.jsx(dw,{asChild:!0,...t});Zte.displayName=hNe;var Lp="SelectContent",Jte=M.forwardRef((t,e)=>{const n=rh(Lp,t.__scopeSelect),[r,i]=M.useState();if(fi(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?ow.createPortal(s.jsx(ene,{scope:t.__scopeSelect,children:s.jsx(CN.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(tne,{...t,ref:e})});Jte.displayName=Lp;var Pl=10,[ene,ih]=wx(Lp),pNe="SelectContentImpl",mNe=Lf("SelectContent.RemoveScroll"),tne=M.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v,...b}=t,w=rh(Lp,n),[_,S]=M.useState(null),[j,A]=M.useState(null),C=Jt(e,pe=>S(pe)),[N,T]=M.useState(null),[P,D]=M.useState(null),O=MN(n),[I,L]=M.useState(!1),z=M.useRef(!1);M.useEffect(()=>{if(_)return mN(_)},[_]),hN();const q=M.useCallback(pe=>{const[Ne,...je]=O().map(Pe=>Pe.ref.current),[Oe]=je.slice(-1),Ge=document.activeElement;for(const Pe of pe)if(Pe===Ge||(Pe?.scrollIntoView({block:"nearest"}),Pe===Ne&&j&&(j.scrollTop=0),Pe===Oe&&j&&(j.scrollTop=j.scrollHeight),Pe?.focus(),document.activeElement!==Ge))return},[O,j]),V=M.useCallback(()=>q([N,_]),[q,N,_]);M.useEffect(()=>{I&&V()},[I,V]);const{onOpenChange:F,triggerPointerDownPosRef:U}=w;M.useEffect(()=>{if(_){let pe={x:0,y:0};const Ne=Oe=>{pe={x:Math.abs(Math.round(Oe.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(Oe.pageY)-(U.current?.y??0))}},je=Oe=>{pe.x<=10&&pe.y<=10?Oe.preventDefault():_.contains(Oe.target)||F(!1),document.removeEventListener("pointermove",Ne),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",je,{capture:!0})}}},[_,F,U]),M.useEffect(()=>{const pe=()=>F(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[F]);const[H,$]=xne(pe=>{const Ne=O().filter(Ge=>!Ge.disabled),je=Ne.find(Ge=>Ge.ref.current===document.activeElement),Oe=yne(Ne,pe,je);Oe&&setTimeout(()=>Oe.ref.current.focus())}),W=M.useCallback((pe,Ne,je)=>{const Oe=!z.current&&!je;(w.value!==void 0&&w.value===Ne||Oe)&&(T(pe),Oe&&(z.current=!0))},[w.value]),le=M.useCallback(()=>_?.focus(),[_]),ie=M.useCallback((pe,Ne,je)=>{const Oe=!z.current&&!je;(w.value!==void 0&&w.value===Ne||Oe)&&D(pe)},[w.value]),re=r==="popper"?MI:nne,_e=re===MI?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:v}:{};return s.jsx(ene,{scope:n,content:_,viewport:j,onViewportChange:A,itemRefCallback:W,selectedItem:N,onItemLeave:le,itemTextRefCallback:ie,focusSelectedItem:V,selectedItemText:P,position:r,isPositioned:I,searchRef:H,children:s.jsx(gw,{as:mNe,allowPinchZoom:!0,children:s.jsx(mw,{asChild:!0,trapped:w.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:St(i,pe=>{w.trigger?.focus({preventScroll:!0}),pe.preventDefault()}),children:s.jsx(ox,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(re,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:pe=>pe.preventDefault(),...b,..._e,onPlaced:()=>L(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:St(b.onKeyDown,pe=>{const Ne=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!Ne&&pe.key.length===1&&$(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Oe=O().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ge=pe.target,Pe=Oe.indexOf(Ge);Oe=Oe.slice(Pe+1)}setTimeout(()=>q(Oe)),pe.preventDefault()}})})})})})})});tne.displayName=pNe;var gNe="SelectItemAlignedPosition",nne=M.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=rh(Lp,n),o=ih(Lp,n),[l,c]=M.useState(null),[u,d]=M.useState(null),f=Jt(e,C=>d(C)),h=MN(n),p=M.useRef(!1),y=M.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=o,_=M.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&v&&b){const C=a.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(a.dir!=="rtl"){const Ge=P.left-N.left,Pe=T.left-Ge,Fe=C.left-Pe,Y=C.width+Fe,Ie=Math.max(Y,N.width),Xe=window.innerWidth-Pl,ue=tb(Pe,[Pl,Math.max(Pl,Xe-Ie)]);l.style.minWidth=Y+"px",l.style.left=ue+"px"}else{const Ge=N.right-P.right,Pe=window.innerWidth-T.right-Ge,Fe=window.innerWidth-C.right-Pe,Y=C.width+Fe,Ie=Math.max(Y,N.width),Xe=window.innerWidth-Pl,ue=tb(Pe,[Pl,Math.max(Pl,Xe-Ie)]);l.style.minWidth=Y+"px",l.style.right=ue+"px"}const D=h(),O=window.innerHeight-Pl*2,I=g.scrollHeight,L=window.getComputedStyle(u),z=parseInt(L.borderTopWidth,10),q=parseInt(L.paddingTop,10),V=parseInt(L.borderBottomWidth,10),F=parseInt(L.paddingBottom,10),U=z+q+I+F+V,H=Math.min(v.offsetHeight*5,U),$=window.getComputedStyle(g),W=parseInt($.paddingTop,10),le=parseInt($.paddingBottom,10),ie=C.top+C.height/2-Pl,re=O-ie,_e=v.offsetHeight/2,pe=v.offsetTop+_e,Ne=z+q+pe,je=U-Ne;if(Ne<=ie){const Ge=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const Pe=u.clientHeight-g.offsetTop-g.offsetHeight,Fe=Math.max(re,_e+(Ge?le:0)+Pe+V),Y=Ne+Fe;l.style.height=Y+"px"}else{const Ge=D.length>0&&v===D[0].ref.current;l.style.top="0px";const Fe=Math.max(ie,z+g.offsetTop+(Ge?W:0)+_e)+je;l.style.height=Fe+"px",g.scrollTop=Ne-ie+g.offsetTop}l.style.margin=`${Pl}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=O+"px",r?.(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,g,v,b,a.dir,r]);fi(()=>_(),[_]);const[S,j]=M.useState();fi(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const A=M.useCallback(C=>{C&&y.current===!0&&(_(),w?.(),y.current=!1)},[_,w]);return s.jsx(xNe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Mt.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nne.displayName=gNe;var vNe="SelectPopperPosition",MI=M.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Pl,...a}=t,o=TN(n);return s.jsx(aN,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});MI.displayName=vNe;var[xNe,W4]=wx(Lp,{}),TI="SelectViewport",rne=M.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=ih(TI,n),o=W4(TI,n),l=Jt(e,a.onViewportChange),c=M.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(CN.Slot,{scope:n,children:s.jsx(Mt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:St(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h?.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-Pl*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<y){const w=b+p,_=Math.min(y,w),S=w-_;f.style.height=_+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rne.displayName=TI;var ine="SelectGroup",[yNe,bNe]=wx(ine),wNe=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Li();return s.jsx(yNe,{scope:n,id:i,children:s.jsx(Mt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});wNe.displayName=ine;var sne="SelectLabel",ane=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=bNe(sne,n);return s.jsx(Mt.div,{id:i.id,...r,ref:e})});ane.displayName=sne;var jj="SelectItem",[_Ne,one]=wx(jj),lne=M.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=rh(jj,n),c=ih(jj,n),u=l.value===r,[d,f]=M.useState(a??""),[h,p]=M.useState(!1),y=Jt(e,w=>c.itemRefCallback?.(w,r,i)),g=Li(),v=M.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(_Ne,{scope:n,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:M.useCallback(w=>{f(_=>_||(w?.textContent??"").trim())},[]),children:s.jsx(CN.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:s.jsx(Mt.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:St(o.onFocus,()=>p(!0)),onBlur:St(o.onBlur,()=>p(!1)),onClick:St(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:St(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:St(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:St(o.onPointerMove,w=>{v.current=w.pointerType,i?c.onItemLeave?.():v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:St(o.onPointerLeave,w=>{w.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:St(o.onKeyDown,w=>{c.searchRef?.current!==""&&w.key===" "||(oNe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});lne.displayName=jj;var e0="SelectItemText",cne=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=rh(e0,n),l=ih(e0,n),c=one(e0,n),u=dNe(e0,n),[d,f]=M.useState(null),h=Jt(e,b=>f(b),c.onItemTextChange,b=>l.itemTextRefCallback?.(b,c.value,c.disabled)),p=d?.textContent,y=M.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return fi(()=>(g(y),()=>v(y)),[g,v,y]),s.jsxs(s.Fragment,{children:[s.jsx(Mt.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ow.createPortal(a.children,o.valueNode):null]})});cne.displayName=e0;var une="SelectItemIndicator",dne=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return one(une,n).isSelected?s.jsx(Mt.span,{"aria-hidden":!0,...r,ref:e}):null});dne.displayName=une;var PI="SelectScrollUpButton",fne=M.forwardRef((t,e)=>{const n=ih(PI,t.__scopeSelect),r=W4(PI,t.__scopeSelect),[i,a]=M.useState(!1),o=Jt(e,r.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(pne,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fne.displayName=PI;var DI="SelectScrollDownButton",hne=M.forwardRef((t,e)=>{const n=ih(DI,t.__scopeSelect),r=W4(DI,t.__scopeSelect),[i,a]=M.useState(!1),o=Jt(e,r.onScrollButtonChange);return fi(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(pne,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hne.displayName=DI;var pne=M.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=ih("SelectScrollButton",n),o=M.useRef(null),l=MN(n),c=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>c(),[c]),fi(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Mt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:St(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:St(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:St(i.onPointerLeave,()=>{c()})})}),SNe="SelectSeparator",mne=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Mt.div,{"aria-hidden":!0,...r,ref:e})});mne.displayName=SNe;var RI="SelectArrow",jNe=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=TN(n),a=rh(RI,n),o=ih(RI,n);return a.open&&o.position==="popper"?s.jsx(oN,{...i,...r,ref:e}):null});jNe.displayName=RI;var ENe="SelectBubbleInput",gne=M.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=M.useRef(null),a=Jt(r,i),o=Ew(e);return M.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(Mt.select,{...n,style:{...WQ,...n.style},ref:a,defaultValue:e})});gne.displayName=ENe;function vne(t){return t===""||t===void 0}function xne(t){const e=is(t),n=M.useRef(""),r=M.useRef(0),i=M.useCallback(o=>{const l=n.current+o;e(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),a=M.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function yne(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=NNe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function NNe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ANe=Gte,bne=Xte,CNe=Kte,MNe=Qte,TNe=Zte,wne=Jte,PNe=rne,_ne=ane,Sne=lne,DNe=cne,RNe=dne,jne=fne,Ene=hne,Nne=mne;const Lr=ANe,qr=CNe,Mr=M.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(bne,{ref:r,className:Nt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(MNe,{asChild:!0,children:s.jsx(o4,{className:"h-4 w-4 opacity-50"})})]}));Mr.displayName=bne.displayName;const Ane=M.forwardRef(({className:t,...e},n)=>s.jsx(jne,{ref:n,className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(l4,{className:"h-4 w-4"})}));Ane.displayName=jne.displayName;const Cne=M.forwardRef(({className:t,...e},n)=>s.jsx(Ene,{ref:n,className:Nt("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(o4,{className:"h-4 w-4"})}));Cne.displayName=Ene.displayName;const Tr=M.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(TNe,{children:s.jsxs(wne,{ref:i,className:Nt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(Ane,{}),s.jsx(PNe,{className:Nt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(Cne,{})]})}));Tr.displayName=wne.displayName;const ONe=M.forwardRef(({className:t,...e},n)=>s.jsx(_ne,{ref:n,className:Nt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ONe.displayName=_ne.displayName;const At=M.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(Sne,{ref:r,className:Nt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(RNe,{children:s.jsx(ul,{className:"h-4 w-4"})})}),s.jsx(DNe,{children:e})]}));At.displayName=Sne.displayName;const INe=M.forwardRef(({className:t,...e},n)=>s.jsx(Nne,{ref:n,className:Nt("-mx-1 my-1 h-px bg-muted",t),...e}));INe.displayName=Nne.displayName;var PN="Checkbox",[kNe]=Ni(PN),[LNe,X4]=kNe(PN);function FNe(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,p]=Ba({prop:n,defaultProp:i??!1,onChange:c,caller:PN}),[y,g]=M.useState(null),[v,b]=M.useState(null),w=M.useRef(!1),_=y?!!o||!!y.closest("form"):!0,S={checked:h,disabled:a,setChecked:p,control:y,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Tf(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:b};return s.jsx(LNe,{scope:e,...S,children:UNe(f)?f(S):r})}var Mne="CheckboxTrigger",Tne=M.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:y}=X4(Mne,t),g=Jt(i,d),v=M.useRef(c);return M.useEffect(()=>{const b=a?.form;if(b){const w=()=>f(v.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[a,f]),s.jsx(Mt.button,{type:"button",role:"checkbox","aria-checked":Tf(c)?"mixed":c,"aria-required":u,"data-state":Ine(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:g,onKeyDown:St(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:St(n,b=>{f(w=>Tf(w)?!0:!w),y&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});Tne.displayName=Mne;var Y4=M.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return s.jsx(FNe,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(Tne,{...f,ref:e,__scopeCheckbox:n}),h&&s.jsx(One,{__scopeCheckbox:n})]})})});Y4.displayName=PN;var Pne="CheckboxIndicator",Dne=M.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=X4(Pne,n);return s.jsx(Hi,{present:r||Tf(a.checked)||a.checked===!0,children:s.jsx(Mt.span,{"data-state":Ine(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Dne.displayName=Pne;var Rne="CheckboxBubbleInput",One=M.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=X4(Rne,t),y=Jt(n,p),g=Ew(a),v=cw(r);M.useEffect(()=>{const w=h;if(!w)return;const _=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(_,"checked").set,A=!i.current;if(g!==a&&j){const C=new Event("click",{bubbles:A});w.indeterminate=Tf(a),j.call(w,Tf(a)?!1:a),w.dispatchEvent(C)}},[h,g,a,i]);const b=M.useRef(Tf(a)?!1:a);return s.jsx(Mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});One.displayName=Rne;function UNe(t){return typeof t=="function"}function Tf(t){return t==="indeterminate"}function Ine(t){return Tf(t)?"indeterminate":t?"checked":"unchecked"}const Qc=M.forwardRef(({className:t,...e},n)=>s.jsx(Y4,{ref:n,className:Nt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(Dne,{className:Nt("flex items-center justify-center text-current"),children:s.jsx(ul,{className:"h-4 w-4"})})}));Qc.displayName=Y4.displayName;var BNe="Label",kne=M.forwardRef((t,e)=>s.jsx(Mt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kne.displayName=BNe;var Lne=kne;const $Ne=pw("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=M.forwardRef(({className:t,...e},n)=>s.jsx(Lne,{ref:n,className:Nt($Ne(),t),...e}));qe.displayName=Lne.displayName;function An({className:t,shimmer:e=!1,...n}){return s.jsx("div",{className:Nt(e?"shimmer bg-muted rounded-md":"animate-pulse rounded-md bg-muted",t),...n})}function zNe(){return s.jsx(ce,{className:"overflow-hidden",children:s.jsxs(he,{className:"p-0",children:[s.jsx(An,{className:"aspect-square w-full",shimmer:!0}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(An,{className:"h-5 w-20"}),s.jsx(An,{className:"h-6 w-full"}),s.jsx(An,{className:"h-6 w-3/4"}),s.jsx(An,{className:"h-4 w-24"}),s.jsx(An,{className:"h-8 w-32",shimmer:!0}),s.jsx(An,{className:"h-10 w-full"})]})]})})}function Fne({count:t=8}){return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:t}).map((e,n)=>s.jsx(zNe,{},n))})}function HNe(){return s.jsx(ce,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs(he,{className:"p-0",children:[s.jsx(An,{className:"aspect-video w-full"}),s.jsxs("div",{className:"p-4",children:[s.jsx(An,{className:"h-6 w-3/4 mb-2"}),s.jsx(An,{className:"h-4 w-1/2"})]})]})})}function VNe({cols:t=5}){return s.jsx("tr",{children:Array.from({length:t}).map((e,n)=>s.jsx("td",{className:"p-4",children:s.jsx(An,{className:"h-4 w-full"})},n))})}function K4({rows:t=5,cols:e=5}){return s.jsx(s.Fragment,{children:Array.from({length:t}).map((n,r)=>s.jsx(VNe,{cols:e},r))})}function Q4(){return s.jsx(ce,{children:s.jsxs(he,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(An,{className:"h-4 w-24"}),s.jsx(An,{className:"h-8 w-32"})]}),s.jsx(An,{className:"h-12 w-12 rounded-full"})]}),s.jsx("div",{className:"mt-4",children:s.jsx(An,{className:"h-3 w-full"})})]})})}function Une({count:t=4}){return s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:Array.from({length:t}).map((e,n)=>s.jsx(Q4,{},n))})}function qNe(){return s.jsxs("div",{className:"space-y-4 mb-8",children:[s.jsx(An,{className:"h-10 w-64"}),s.jsx(An,{className:"h-4 w-full max-w-2xl"})]})}function Bne({children:t}){return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(qNe,{}),t]})}function fz(){const{slug:t}=dN(),[e,n]=M.useState(""),[r,i]=M.useState("featured"),[a,o]=M.useState([]),[l,c]=M.useState({min:0,max:1e3}),[u,d]=M.useState(!1),[f,h]=M.useState(1),p=12,{data:y}=ci({queryKey:zs.categories,queryFn:px.getAll}),g=M.useMemo(()=>{const T={page:f,limit:p,sortBy:r};if(e&&(T.searchQuery=e),!t&&a.length>0&&a[0]){const P=y?.categories.find(D=>D.id===a[0]);P&&(T.categoryId=P.id)}return l.min>0&&(T.minPrice=l.min),l.max<1e3&&(T.maxPrice=l.max),T},[t,e,r,a,l,u,f,y]),{data:v,isLoading:b,error:w}=ci({queryKey:t?[...zs.categoryProducts(t),g]:[...zs.products,g],queryFn:()=>t?hl.getByCategory(t,g):hl.getAll(g)}),_=t?y?.categories.find(T=>T.slug===t):null,S=y?.categories||[],j=v?.products||[],A=v?.total||0,C=M.useMemo(()=>u?j.filter(T=>T.originalPrice&&T.originalPrice>T.price):j,[j,u]),N=()=>s.jsxs("div",{className:"space-y-6",children:[!t&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"الفئات"}),s.jsx("div",{className:"space-y-2",children:S.map(T=>s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:T.id,checked:a.includes(T.id),onCheckedChange:P=>{o(P?[...a,T.id]:a.filter(D=>D!==T.id)),h(1)}}),s.jsxs(qe,{htmlFor:T.id,className:"text-sm cursor-pointer",children:[T.name," (",T.productCount,")"]})]},T.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"نطاق السعر"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(st,{type:"number",placeholder:"الحد الأدنى",value:l.min,onChange:T=>{c({...l,min:Number(T.target.value)||0}),h(1)},className:"w-24"}),s.jsx("span",{className:"self-center",children:"-"}),s.jsx(st,{type:"number",placeholder:"الحد الأقصى",value:l.max,onChange:T=>{c({...l,max:Number(T.target.value)||1e3}),h(1)},className:"w-24"})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"العروض الخاصة"}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"on-sale",checked:u,onCheckedChange:T=>{d(!!T),h(1)}}),s.jsx(qe,{htmlFor:"on-sale",className:"text-sm cursor-pointer",children:"المنتجات المخفضة فقط"})]})]}),s.jsx(ge,{variant:"outline",onClick:()=>{o([]),c({min:0,max:1e3}),d(!1),n(""),h(1)},className:"w-full",children:"مسح جميع المرشحات"})]});return b?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(Fne,{count:p})}):w?s.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"حدث خطأ"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"فشل في تحميل المنتجات"}),s.jsx(ge,{onClick:()=>window.location.reload(),children:"إعادة المحاولة"})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-2",children:_?_.name:"جميع المنتجات"}),s.jsx("p",{className:"text-muted-foreground",children:_?`اكتشف منتجات ${_.name} المذهلة`:"اكتشف مجموعتنا الكاملة من المنتجات عالية الجودة"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(dl,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4 rtl:right-3 rtl:left-auto"}),s.jsx(st,{type:"search",placeholder:"البحث عن المنتجات...",className:"pr-10 rtl:pr-10 rtl:pl-4",value:e,onChange:T=>{n(T.target.value),h(1)}})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Lr,{value:r,onValueChange:T=>{i(T),h(1)},children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{placeholder:"ترتيب حسب"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"featured",children:"مميز"}),s.jsx(At,{value:"price_asc",children:"السعر: من الأقل إلى الأعلى"}),s.jsx(At,{value:"price_desc",children:"السعر: من الأعلى إلى الأقل"}),s.jsx(At,{value:"rating",children:"الأعلى تقييمًا"}),s.jsx(At,{value:"newest",children:"الأحدث"})]})]}),s.jsxs(N4,{children:[s.jsx(A4,{asChild:!0,children:s.jsxs(ge,{variant:"outline",className:"lg:hidden",children:[s.jsx(b0e,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"المرشحات"]})}),s.jsxs(SN,{side:"right",className:"w-80",children:[s.jsx(C4,{children:s.jsx(M4,{children:"المرشحات"})}),s.jsx("div",{className:"mt-6",children:s.jsx(N,{})})]})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsxs(ce,{className:"p-6 sticky top-24",children:[s.jsxs("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(dye,{className:"h-4 w-4"}),"المرشحات"]}),s.jsx(Br,{className:"mb-4"}),s.jsx(N,{})]})}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("div",{className:"mb-4 flex justify-between items-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["عرض ",C.length," من ",A," منتج"]})}),C.length===0?s.jsxs(ce,{className:"p-12 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لم يتم العثور على منتجات"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"جرب تعديل البحث أو معايير التصفية"}),s.jsx(ge,{variant:"outline",onClick:()=>{o([]),c({min:0,max:1e3}),d(!1),n(""),h(1)},children:"مسح المرشحات"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:C.map(T=>s.jsx(ot,{to:`/product/${T.id}`,className:"block",children:s.jsxs(ce,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300 h-full",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:ps(T.images?.[0]),alt:T.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),T.originalPrice&&T.originalPrice>T.price&&s.jsxs(jt,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:["وفر $",(T.originalPrice-T.price).toFixed(0)]}),s.jsxs("div",{className:"absolute top-2 right-2 bg-brand-orange text-white text-xs px-2 py-1 rounded",children:[T.affiliateCommission,"% عمولة"]})]}),s.jsxs(he,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((P,D)=>s.jsx(da,{className:`h-4 w-4 ${D<Math.floor(T.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},D))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",T.reviewCount,")"]})]}),s.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:T.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:T.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"space-y-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-lg font-bold",children:["$",T.price]}),T.originalPrice&&T.originalPrice>T.price&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",T.originalPrice]})]})}),s.jsxs(ge,{size:"sm",onClick:P=>{P.preventDefault()},children:[s.jsx(ti,{className:"h-4 w-4 ml-1 rtl:ml-0 rtl:mr-1"}),"إضافة للسلة"]})]})]})]})},T.id))}),A>p&&s.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[s.jsx(ge,{variant:"outline",disabled:f===1,onClick:()=>h(f-1),children:"السابق"}),s.jsxs("span",{className:"px-4 py-2",children:["صفحة ",f," من ",Math.ceil(A/p)]}),s.jsx(ge,{variant:"outline",disabled:f>=Math.ceil(A/p),onClick:()=>h(f+1),children:"التالي"})]})]})]})]})]})}function hz(){const{data:t,isLoading:e}=ci({queryKey:zs.categories,queryFn:px.getAll}),n=t?.categories||[];return e?s.jsx("div",{className:"container mx-auto px-4 py-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:8}).map((r,i)=>s.jsx(HNe,{},i))}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"جميع التصنيفات"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"استكشف مجموعتنا الواسعة من المنتجات عبر فئات مختلفة"})]}),n.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(er,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"لا توجد تصنيفات متاحة"}),s.jsx("p",{className:"text-muted-foreground",children:"سيتم إضافة التصنيفات قريباً"})]}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-6",children:n.map(r=>s.jsx(ot,{to:r.slug?`/category/${r.slug}`:"#",className:`group ${r.slug?"":"pointer-events-none"}`,children:s.jsxs(ce,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group-hover:scale-105",children:[s.jsxs("div",{className:"relative aspect-square",children:[s.jsx("img",{src:ps(r.image)||"/placeholder.svg",alt:r.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),s.jsxs(he,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-center mb-2 line-clamp-2",children:r.name}),r.productCount>0&&s.jsxs(jt,{variant:"secondary",className:"w-full justify-center",children:[r.productCount," منتج"]}),r.description&&s.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2 line-clamp-2",children:r.description})]})]})},r.id))}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(ot,{to:"/products",className:"inline-flex items-center gap-2 text-primary hover:underline",children:[s.jsx(er,{className:"h-5 w-5"}),"عرض جميع المنتجات"]})})]})}const Pu=[{id:"electronics",name:"الإلكترونيات",slug:"electronics",description:"أحدث الأجهزة الإلكترونية والتكنولوجيا",image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=500&h=300&fit=crop",productCount:45,createdAt:new Date,updatedAt:new Date},{id:"fashion",name:"الأزياء",slug:"fashion",description:"أزياء عصرية وأناقة متميزة",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=500&h=300&fit=crop",productCount:78,createdAt:new Date,updatedAt:new Date},{id:"home-garden",name:"المنزل والحديقة",slug:"home-garden",description:"كل ما تحتاجه للمنزل والحديقة",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=500&h=300&fit=crop",productCount:32,createdAt:new Date,updatedAt:new Date},{id:"sports",name:"الرياضة واللياقة",slug:"sports",description:"معدات رياضية ولياقة بدنية",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=500&h=300&fit=crop",productCount:67,createdAt:new Date,updatedAt:new Date},{id:"beauty",name:"الجمال والصحة",slug:"beauty",description:"منتجات العناية والجمال",image:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=500&h=300&fit=crop",productCount:54,createdAt:new Date,updatedAt:new Date},{id:"books",name:"الكتب والوسائط",slug:"books",description:"كتب ووسائط تعليمية وترفيهية",image:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=500&h=300&fit=crop",productCount:89,createdAt:new Date,updatedAt:new Date}],pz=[{id:"wireless-headphones-pro",name:"سماعات لاسلكية احترافية",description:"سماعات لاسلكية متميزة بتقنية إلغاء الضوضاء مع بطارية تدوم 30 ساعة وجودة صوت عالية الوضوح.",price:299.99,originalPrice:399.99,sku:"WH-PRO-001",inStock:!0,stockQuantity:50,rating:4.8,reviewCount:127,affiliateCommission:8,categoryId:"electronics",createdAt:new Date,updatedAt:new Date,category:Pu[0],images:[{id:"1",url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=800&h=600&fit=crop",alt:"سماعات لاسلكية احترافية",order:0,productId:"wireless-headphones-pro",createdAt:new Date},{id:"2",url:"https://images.unsplash.com/photo-1484704849700-f032a568e944?w=800&h=600&fit=crop",alt:"سماعات لاسلكية احترافية - منظر جانبي",order:1,productId:"wireless-headphones-pro",createdAt:new Date}],tags:[{id:"1",name:"لاسلكي"},{id:"2",name:"إلغاء الضوضاء"},{id:"3",name:"متميز"},{id:"4",name:"صوت"}],reviews:[]},{id:"smart-fitness-watch",name:"ساعة ذكية للياقة البدنية",description:"ساعة لياقة بدنية متطورة مع مراقبة معدل ضربات القلب ونظام تحديد المواقع وبطارية تدوم 7 أيام.",price:249.99,originalPrice:299.99,sku:"SW-FIT-001",inStock:!0,stockQuantity:30,rating:4.6,reviewCount:89,affiliateCommission:12,categoryId:"sports",createdAt:new Date,updatedAt:new Date,category:Pu[3],images:[{id:"3",url:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=800&h=600&fit=crop",alt:"ساعة ذكية للياقة البدنية",order:0,productId:"smart-fitness-watch",createdAt:new Date}],tags:[{id:"5",name:"لياقة"},{id:"6",name:"ساعة ذكية"},{id:"7",name:"صحة"},{id:"8",name:"جي بي اس"}],reviews:[]},{id:"organic-skincare-set",name:"مجموعة العناية الطبيعية بالبشرة",description:"مجموعة كاملة من 5 قطع للعناية الطبيعية بالبشرة مع مكونات طبيعية لجميع أنواع البشرة.",price:89.99,originalPrice:129.99,sku:"SK-NAT-001",inStock:!0,stockQuantity:75,rating:4.9,reviewCount:203,affiliateCommission:15,categoryId:"beauty",createdAt:new Date,updatedAt:new Date,category:Pu[4],images:[{id:"4",url:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=800&h=600&fit=crop",alt:"مجموعة العناية الطبيعية بالبشرة",order:0,productId:"organic-skincare-set",createdAt:new Date}],tags:[{id:"9",name:"طبيعي"},{id:"10",name:"عناية بالبشرة"},{id:"11",name:"أعشاب"},{id:"12",name:"روتين"}],reviews:[]},{id:"ergonomic-office-chair",name:"كرسي مكتب مريح",description:"كرسي مكتب متميز بتصميم مريح مع دعم أسفل الظهر وارتفاع قابل للتعديل وتصميم شبكي للتهوية.",price:399.99,originalPrice:549.99,sku:"CH-ERG-001",inStock:!0,stockQuantity:20,rating:4.7,reviewCount:156,affiliateCommission:10,categoryId:"home-garden",createdAt:new Date,updatedAt:new Date,category:Pu[2],images:[{id:"5",url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&h=600&fit=crop",alt:"كرسي مكتب مريح",order:0,productId:"ergonomic-office-chair",createdAt:new Date}],tags:[],reviews:[]},{id:"vintage-leather-jacket",name:"جاكيت جلدي كلاسيكي",description:"جاكيت جلدي أصيل بطراز كلاسيكي مصنوع من جلد البقر المتميز مع تفاصيل تصميم تقليدية.",price:199.99,originalPrice:279.99,sku:"LJ-VIN-001",inStock:!0,stockQuantity:15,rating:4.5,reviewCount:78,affiliateCommission:18,categoryId:"fashion",createdAt:new Date,updatedAt:new Date,category:Pu[1],images:[{id:"6",url:"https://images.unsplash.com/photo-1551698618-1dfe5d97d256?w=800&h=600&fit=crop",alt:"جاكيت جلدي كلاسيكي",order:0,productId:"vintage-leather-jacket",createdAt:new Date}],tags:[{id:"13",name:"كلاسيكي"},{id:"14",name:"جلد"},{id:"15",name:"جاكيت"},{id:"16",name:"أناقة"}],reviews:[]},{id:"programming-mastery-book",name:"إتقان البرمجة: الدليل الشامل",description:"دليل شامل للبرمجة يغطي اللغات الحديثة والأطر وأفضل الممارسات في البرمجة.",price:49.99,originalPrice:69.99,sku:"BK-PRG-001",inStock:!0,stockQuantity:100,rating:4.8,reviewCount:342,affiliateCommission:25,categoryId:"books",createdAt:new Date,updatedAt:new Date,category:Pu[5],images:[{id:"7",url:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=800&h=600&fit=crop",alt:"إتقان البرمجة: الدليل الشامل",order:0,productId:"programming-mastery-book",createdAt:new Date}],tags:[{id:"17",name:"برمجة"},{id:"18",name:"تعليم"},{id:"19",name:"تكنولوجيا"},{id:"20",name:"دليل"}],reviews:[]},{id:"wireless-gaming-mouse",name:"فأرة ألعاب لاسلكية",description:"فأرة ألعاب لاسلكية عالية الدقة مع إضاءة RGB وأزرار قابلة للتخصيص.",price:79.99,originalPrice:99.99,sku:"MS-GAM-001",inStock:!0,stockQuantity:25,rating:4.4,reviewCount:95,affiliateCommission:12,categoryId:"electronics",createdAt:new Date,updatedAt:new Date,category:Pu[0],images:[{id:"8",url:"https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=800&h=600&fit=crop",alt:"فأرة ألعاب لاسلكية",order:0,productId:"wireless-gaming-mouse",createdAt:new Date}],tags:[{id:"21",name:"ألعاب"},{id:"22",name:"لاسلكي"},{id:"23",name:"RGB"},{id:"24",name:"دقة"}],reviews:[]},{id:"yoga-mat-premium",name:"سجادة يوغا متميزة",description:"سجادة يوغا متميزة مقاومة للانزلاق مع توسيد ممتاز ومواد صديقة للبيئة.",price:59.99,originalPrice:79.99,sku:"YM-PRM-001",inStock:!0,stockQuantity:40,rating:4.7,reviewCount:167,affiliateCommission:20,categoryId:"sports",createdAt:new Date,updatedAt:new Date,category:Pu[3],images:[{id:"9",url:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop",alt:"سجادة يوغا متميزة",order:0,productId:"yoga-mat-premium",createdAt:new Date}],tags:[{id:"25",name:"يوغا"},{id:"26",name:"لياقة"},{id:"27",name:"صديق للبيئة"},{id:"28",name:"مقاوم للانزلاق"}],reviews:[]}],mz=t=>new Promise(e=>setTimeout(e,t)),Z4={getAll:async t=>{await mz(500);let e=[...pz];if(t?.categoryId&&(e=e.filter(o=>o.categoryId===t.categoryId)),t?.searchQuery){const o=t.searchQuery.toLowerCase();e=e.filter(l=>l.name.toLowerCase().includes(o)||l.description.toLowerCase().includes(o))}switch(t?.minPrice&&(e=e.filter(o=>o.price>=t.minPrice)),t?.maxPrice&&(e=e.filter(o=>o.price<=t.maxPrice)),t?.sortBy){case"price_asc":e.sort((o,l)=>o.price-l.price);break;case"price_desc":e.sort((o,l)=>l.price-o.price);break;case"rating":e.sort((o,l)=>l.rating-o.rating);break;case"newest":e.sort((o,l)=>l.createdAt.getTime()-o.createdAt.getTime());break;default:e.sort((o,l)=>l.rating*l.reviewCount-o.rating*o.reviewCount)}const n=t?.page||1,r=t?.limit||12,i=(n-1)*r;return{products:e.slice(i,i+r),total:e.length,page:n,limit:r}},getById:async t=>{await mz(300);const e=pz.find(n=>n.id===t);if(!e)throw new Error("المنتج غير موجود");return e},getByCategory:async(t,e)=>{const n=Pu.find(r=>r.slug===t);if(!n)throw new Error("الفئة غير موجودة");return Z4.getAll({...e,categoryId:n.id})}};function GNe(){const[t,e]=M.useState([]);M.useEffect(()=>{Z4.getAll({sortBy:"featured",limit:4}).then(a=>{e(a.products)}).catch(()=>{e([])})},[]);const n=[{icon:kr,title:"معدلات عمولة عالية",description:"اكسب 8-25% عمولة على كل عملية بيع تحيلها",highlight:"حتى 25%"},{icon:Dp,title:"تحليلات فورية",description:"تتبع أداءك مع تحليلات وتقارير مفصلة",highlight:"تتبع مباشر"},{icon:Y0,title:"وصول عالمي",description:"روج للعملاء حول العالم مع الشحن الدولي",highlight:"عالمي"},{icon:Ui,title:"دفعات أسبوعية",description:"احصل على أموالك كل أسبوع عبر PayPal أو التحويل البنكي",highlight:"دفع أسبوعي"},{icon:Fs,title:"حماية الكوكيز",description:"تتبع الكوكيز لمدة 30 يومًا يضمن حصولك على الرصيد لجميع المبيعات",highlight:"كوكيز 30 يوم"},{icon:IZ,title:"دعم تسويقي",description:"احصل على بانرات وروابط ومواد ترويجية",highlight:"دعم كامل"}],r=[{step:"1",title:"اشترك مجانًا",description:"أنشئ حساب الشراكة في أقل من دقيقتين"},{step:"2",title:"احصل على روابطك",description:"احصل على روابط الشراكة الفريدة ومواد التسويق"},{step:"3",title:"ابدأ الترويج",description:"شارك المنتجات على موقعك أو وسائل التواصل أو البريد الإلكتروني"},{step:"4",title:"اكسب العمولات",description:"احصل على أموالك أسبوعيًا عن كل عملية بيع تحققها"}],i=[{name:"سارة أحمد",role:"مدونة أسلوب حياة",image:"https://images.unsplash.com/photo-1494790108755-2616b612b132?w=100&h=100&fit=crop&crop=face",quote:"أنا مع برنامج شراكة إيجي جو منذ 6 أشهر وقد كسبت أكثر من 5000 دولار. المنتجات عالية الجودة ومعدلات العمولة لا تُقاوم!",earnings:"$5,240",rating:5},{name:"محمد علي",role:"مراجع تقني",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",quote:"لوحة التحليلات مذهلة. يمكنني رؤية أي المنتجات تعمل بشكل أفضل بالضبط وتحسين المحتوى تبعًا لذلك. أفضل برنامج شراكة انضممت إليه.",earnings:"$8,150",rating:5},{name:"فاطمة خالد",role:"مؤثرة وسائل التواصل",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face",quote:"برنامج شراكة إيجي جو حول وسائل التواصل الاجتماعي إلى مصدر دخل حقيقي. الدفعات الأسبوعية تغير قواعد اللعبة للتدفق النقدي.",earnings:"$12,890",rating:5}];return s.jsxs("div",{className:"space-y-16 pb-16",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-brand-orange via-brand-purple to-primary text-white overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative container mx-auto px-4 py-24 lg:py-32",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{variant:"secondary",className:"text-primary bg-white/90",children:"💎 برنامج الشراكة الأعلى دفعًا"}),s.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:["حول جمهورك إلى",s.jsx("span",{className:"text-brand-yellow",children:" دخل"})]}),s.jsx("p",{className:"text-xl text-white/90 max-w-lg",children:"انضم إلى أكثر من 1000 شريك ناجح يكسبون عمولة تصل إلى 25% بترويج منتجات عالية الجودة سيحبها جمهورك."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ot,{to:"/register?type=affiliate",children:s.jsxs(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold w-full sm:w-auto",children:["انضم مجانًا اليوم",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",children:"عرض معدلات العمولة"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"25%"}),s.jsx("div",{className:"text-sm text-white/80",children:"أقصى عمولة"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"+$2M"}),s.jsx("div",{className:"text-sm text-white/80",children:"مدفوع"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"+1000"}),s.jsx("div",{className:"text-sm text-white/80",children:"شريك نشط"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsxs(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"text-white flex items-center gap-2",children:[s.jsx(br,{className:"h-5 w-5"}),"لوحة تحكم أرباح الشراكة"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-yellow",children:"$1,247"}),s.jsx("div",{className:"text-xs text-white/80",children:"هذا الشهر"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-yellow",children:"$8,392"}),s.jsx("div",{className:"text-xs text-white/80",children:"المجموع المكتسب"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-yellow",children:"156"}),s.jsx("div",{className:"text-xs text-white/80",children:"النقرات"})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[s.jsx("div",{className:"text-2xl font-bold text-brand-yellow",children:"23"}),s.jsx("div",{className:"text-xs text-white/80",children:"المبيعات"})]})]}),s.jsx("div",{className:"text-center text-white/90 text-sm",children:"تتبع وتحليلات فورية مشمولة"})]})]})})]})})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"لماذا تختار برنامج الشراكة لدينا؟"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"نحن نقدم أفضل الشروط وأعلى معدلات العمولة والدعم الأكثر شمولية في الصناعة"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((a,o)=>s.jsxs(ce,{className:"relative overflow-hidden group hover:shadow-lg transition-all duration-300",children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(a.icon,{className:"h-8 w-8 text-brand-orange"}),s.jsx(jt,{variant:"secondary",className:"text-brand-orange bg-brand-orange/10",children:a.highlight})]}),s.jsx(Ce,{className:"text-xl",children:a.title})]}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:a.description})})]},o))})]}),s.jsx("section",{className:"bg-secondary/50",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"هيكل العمولة"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"مبيعات أعلى = معدلات عمولة أعلى"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(ce,{className:"text-center",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{className:"text-2xl text-brand-orange",children:"8%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"معدل العمولة"})]}),s.jsxs(he,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"مبتدئ"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"$0 - $500 مبيعات شهرية"})]})]}),s.jsxs(ce,{className:"text-center border-brand-orange",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{className:"text-2xl text-brand-orange",children:"15%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"معدل العمولة"})]}),s.jsxs(he,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"برونزي"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"$500 - $2,000 مبيعات شهرية"})]})]}),s.jsxs(ce,{className:"text-center border-brand-purple",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{className:"text-2xl text-brand-purple",children:"20%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"معدل العمولة"})]}),s.jsxs(he,{children:[s.jsx("p",{className:"font-semibold mb-2",children:"فضي"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"$2,000 - $5,000 مبيعات شهرية"})]})]}),s.jsxs(ce,{className:"text-center border-primary bg-primary/5",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{className:"text-2xl text-primary",children:"25%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"معدل العمولة"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[s.jsx("p",{className:"font-semibold",children:"ذهبي"}),s.jsx(av,{className:"h-4 w-4 text-primary"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+$5,000 مبيعات شهرية"})]})]})]})]})}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"كيف يعمل"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"ابدأ في 4 خطوات بسيطة"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:r.map((a,o)=>s.jsxs("div",{className:"text-center relative",children:[o<r.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-8 left-1/2 w-full h-0.5 bg-gradient-to-r from-brand-orange to-brand-purple transform translate-x-8"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-brand-orange to-brand-purple rounded-full flex items-center justify-center text-white font-bold text-xl relative z-10",children:a.step}),s.jsx("h3",{className:"font-semibold text-lg mb-2",children:a.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:a.description})]})]},o))})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"منتجات عالية التحويل"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"روج لهذه المنتجات الأكثر مبيعًا واحصل على أقصى أرباحك"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(a=>s.jsxs(ce,{className:"group overflow-hidden hover:shadow-lg transition-all duration-300",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:ps(a.images?.[0]),alt:a.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx(jt,{className:"absolute top-2 left-2 bg-success text-success-foreground",children:"عالي التحويل"}),s.jsxs("div",{className:"absolute top-2 right-2 bg-brand-orange text-white text-xs px-2 py-1 rounded font-bold",children:[a.affiliateCommission,"% عمولة"]})]}),s.jsxs(he,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-2 line-clamp-2",children:a.name}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-lg font-bold",children:["$",a.price]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-semibold text-brand-orange",children:["$",(a.price*(a.affiliateCommission/100)).toFixed(2)," ","لكل بيعة"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"عمولة"})]})]})]})]},a.id))})]}),s.jsx("section",{className:"bg-secondary/50",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"قصص النجاح"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"اسمع من أفضل الشركاء أداءً لدينا"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((a,o)=>s.jsxs(ce,{className:"relative",children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:a.image,alt:a.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:a.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.role})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(a.rating)].map((l,c)=>s.jsx(da,{className:"h-4 w-4 text-yellow-400 fill-current"},c))})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("p",{className:"text-muted-foreground italic",children:['"',a.quote,'"']}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(jt,{variant:"secondary",className:"text-brand-orange bg-brand-orange/10",children:["المجموع المكتسب: ",a.earnings]})})]})]},o))})]})}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"الأسئلة الشائعة"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"كل ما تحتاج لمعرفته حول برنامج الشراكة لدينا"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"كيف أحصل على الدفع؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"ندفع للشركاء أسبوعيًا عبر PayPal أو التحويل البنكي المباشر. الحد الأدنى للدفع هو 50 دولار."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"هل هناك رسوم انضمام؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"لا، الانضمام إلى برنامج الشراكة مجاني تمامًا. لا توجد رسوم خفية أو تكاليف."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"كم تدوم الكوكيز؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"كوكيزنا تدوم لمدة 30 يومًا، مما يمنحك وقتًا كافيًا لكسب عمولة على العملاء المحالين."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"هل يمكنني الترويج على وسائل التواصل الاجتماعي؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"نعم! يمكنك الترويج على أي منصة بما في ذلك وسائل التواصل الاجتماعي والمدونات والبريد الإلكتروني وأكثر."})})]})]})]}),s.jsx("section",{className:"bg-gradient-to-r from-brand-orange to-brand-purple text-white",children:s.jsx("div",{className:"container mx-auto px-4 py-16 text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"جاهز للبدء في الكسب؟"}),s.jsx("p",{className:"text-xl text-white/90",children:"انضم إلى آلاف الشركاء الناجحين وابدأ في كسب عمولة تصل إلى 25% اليوم. يستغرق أقل من دقيقتين للبدء."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold",children:["انضم مجانًا الآن",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",children:"اتصل بالدعم"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-white/80 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"انضمام مجاني"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"بدون رسوم شهرية"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"دفعات أسبوعية"]})]})]})})})]})}function WNe(){const[t,e]=M.useState(!1),[n,r]=M.useState(""),[i,a]=M.useState(""),[o,l]=M.useState(!1),[c,u]=M.useState(!1),[d,f]=M.useState(""),{login:h,loginWithGoogle:p,loginWithFacebook:y,user:g}=ur(),v=xa(),b=async w=>{w.preventDefault(),f(""),u(!0);try{await h(n,i),v("/")}catch(_){f(_?.message||"حدث خطأ أثناء تسجيل الدخول")}finally{u(!1)}};return g?(v("/"),null):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-50 via-white to-orange-50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-900 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ot,{to:"/",className:"text-3xl font-bold bg-gradient-to-r from-primary via-purple-600 to-secondary bg-clip-text text-transparent",children:"إيجي جو"}),s.jsx("h2",{className:"mt-6 text-3xl font-bold bg-gradient-to-r from-purple-600 to-orange-500 bg-clip-text text-transparent",children:"تسجيل الدخول"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["أو"," ",s.jsx(ot,{to:"/register",className:"font-medium text-primary hover:text-primary/80 transition-colors",children:"إنشاء حساب جديد"})]})]}),s.jsxs(ce,{className:"shadow-xl border-purple-100 dark:border-purple-900",children:[s.jsxs(Ee,{className:"bg-gradient-to-r from-purple-50 to-orange-50 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsx(Ce,{className:"text-2xl",children:"أهلاً بك مرة أخرى"}),s.jsx(on,{children:"قم بتسجيل الدخول للوصول إلى حسابك ومتابعة التسوق"})]}),s.jsxs(he,{children:[s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[d&&s.jsx("div",{className:"p-3 text-sm text-red-600 bg-gradient-to-r from-red-50 to-red-100 border border-red-300 rounded-md shadow-sm",children:d}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Kc,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"أدخل بريدك الإلكتروني",value:n,onChange:w=>r(w.target.value),className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"password",children:"كلمة المرور"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(dj,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"password",name:"password",type:t?"text":"password",autoComplete:"current-password",required:!0,placeholder:"أدخل كلمة المرور",value:i,onChange:w=>a(w.target.value),className:"pr-10 pl-10"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 left-0 pl-3 flex items-center",onClick:()=>e(!t),children:t?s.jsx(dI,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx($s,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"remember-me",checked:o,onCheckedChange:w=>l(!!w)}),s.jsx(qe,{htmlFor:"remember-me",className:"text-sm cursor-pointer",children:"تذكرني"})]}),s.jsx("div",{className:"text-sm",children:s.jsx(ot,{to:"/forgot-password",className:"font-medium text-primary hover:text-primary/80 transition-colors",children:"نسيت كلمة المرور؟"})})]}),s.jsx(ge,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري تسجيل الدخول..."]}):s.jsxs("div",{className:"flex items-center justify-center gap-2",children:["تسجيل الدخول",s.jsx(oi,{className:"h-4 w-4 rtl:rotate-180"})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Br,{})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"أو"})})]})}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:()=>{p().catch(w=>{f("حدث خطأ أثناء تسجيل الدخول بـ Google"),console.error(w)})},children:[s.jsxs("svg",{className:"w-5 h-5 ml-2 rtl:ml-0 rtl:mr-2",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"متابعة بحساب Google"]}),s.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:()=>{y().catch(w=>{f("حدث خطأ أثناء تسجيل الدخول بـ Facebook"),console.error(w)})},children:[s.jsx("svg",{className:"w-5 h-5 ml-2 rtl:ml-0 rtl:mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"متابعة بحساب Facebook"]})]}),s.jsx("div",{className:"mt-6 p-4 bg-brand-orange/10 rounded-lg border border-brand-orange/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-brand-orange font-medium mb-2",children:"💰 هل تريد الانضمام لبرنامج الشراكة؟"}),s.jsx(ot,{to:"/affiliate",className:"text-sm text-brand-orange hover:text-brand-orange/80 font-medium underline",children:"اكسب عمولة تصل إلى 25% من كل عملية بيع تحيلها"})]})})]})]}),s.jsx("div",{className:"text-center text-sm text-gray-600",children:s.jsxs("p",{children:["بتسجيل الدخول، فإنك توافق على"," ",s.jsx(ot,{to:"/terms",className:"text-primary hover:text-primary/80",children:"شروط الخدمة"})," ","و"," ",s.jsx(ot,{to:"/privacy",className:"text-primary hover:text-primary/80",children:"سياسة الخصوصية"})]})})]})})}function XNe(){const[t,e]=M.useState(!1),[n,r]=M.useState(!1),[i,a]=M.useState({name:"",email:"",phone:"",alternativePhone:"",password:"",confirmPassword:""}),[o,l]=M.useState("customer"),[c,u]=M.useState(!1),[d,f]=M.useState(!1),[h,p]=M.useState(!1),[y,g]=M.useState(""),{register:v,user:b}=ur(),w=xa(),[_]=hxe();M.useEffect(()=>{const A=_.get("type");(A==="affiliate"||A==="merchant")&&l(A)},[_]);const S=A=>C=>{a(N=>({...N,[A]:C.target.value}))};if(b)return w("/"),null;const j=async A=>{if(A.preventDefault(),g(""),!c){g("يجب الموافقة على شروط الخدمة للمتابعة");return}if(!i.phone){g("رقم الهاتف مطلوب");return}if(!d){g("يجب تأكيد توفر رقم الهاتف على WhatsApp أو للاتصال");return}if(i.password!==i.confirmPassword){g("كلمات المرور غير متطابقة");return}if(i.password.length<6){g("كلمة المرور يجب أن تكون 6 أحرف على الأقل");return}p(!0);try{const C=await v(i.email,i.password,i.name,o,i.phone,i.alternativePhone);if(C)try{await tt.createDocument(un.databaseId,"notifications","unique()",{userId:C.$id,title:"👋 مرحباً بك في إيجي جو",message:o==="customer"?"نتمنى لك تجربة تسوق ممتعة! ابدأ باستكشاف منتجاتنا الآن":"⏳ تم استلام طلبك وجاري المراجعة. سنخطرك فوراً عند الموافقة على حسابك",type:"info",isRead:!1,link:o==="customer"?"/products":void 0})}catch(N){console.error("Error creating welcome notification:",N)}o==="affiliate"||o==="merchant"?(alert(`تم إنشاء حسابك كـ${o==="affiliate"?"مسوق":"تاجر"} بنجاح!

⏳ حسابك قيد المراجعة من قبل الإدارة
📧 سيتم إخطارك عبر البريد الإلكتروني فور الموافقة
⚠️ لن تتمكن من الوصول لكامل المميزات حتى تتم الموافقة على حسابك`),w("/login")):w("/")}catch(C){g(C instanceof Error?C.message:"حدث خطأ أثناء إنشاء الحساب"),alert("حدث خطأ في إنشاء الحساب")}finally{p(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-100 via-pink-50 to-orange-100 dark:from-neutral-900 dark:via-purple-950 dark:to-neutral-900 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx(ot,{to:"/",className:"text-4xl font-extrabold bg-gradient-to-r from-primary via-purple-600 to-secondary bg-clip-text text-transparent drop-shadow-lg",children:"إيجي جو"}),s.jsx("h2",{className:"mt-4 text-2xl font-bold bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 bg-clip-text text-transparent",children:"أهلاً بك في عالم التسوق الذكي"}),s.jsx("p",{className:"mt-2 text-base text-gray-700 dark:text-gray-200",children:"أنشئ حسابك الجديد وابدأ رحلتك معنا الآن"}),s.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["أو",s.jsx(ot,{to:"/login",className:"font-medium text-primary hover:text-primary/80 transition-colors mx-1",children:"تسجيل الدخول لحساب موجود"})]})]}),y&&s.jsx("div",{className:"bg-gradient-to-r from-red-100 to-red-200 border-2 border-red-400 text-red-700 px-4 py-3 rounded-lg text-center text-sm font-medium shadow-lg animate-pulse",children:y}),s.jsxs(ce,{className:"shadow-2xl border-2 border-purple-200 dark:border-purple-800",children:[s.jsxs(Ee,{className:"bg-gradient-to-r from-purple-50 via-pink-50 to-orange-50 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsx(Ce,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"انضم إلى إيجي جو"}),s.jsx(on,{className:"text-gray-700 dark:text-gray-200",children:"استمتع بتجربة تسوق احترافية وميزات حصرية"})]}),s.jsxs(he,{children:[s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"name",children:"الاسم الكامل"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(cv,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,placeholder:"أدخل اسمك الكامل",value:i.name,onChange:S("name"),className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Kc,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"أدخل بريدك الإلكتروني",value:i.email,onChange:S("email"),className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsxs(qe,{htmlFor:"phone",children:["رقم الهاتف ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsx(st,{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,placeholder:"مثال: 01012345678",value:i.phone,onChange:S("phone"),className:"pr-10"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"سيتم استخدام هذا الرقم للتواصل معك"})]}),s.jsxs("div",{className:"flex items-start space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"whatsapp-available",checked:d,onCheckedChange:A=>f(!!A)}),s.jsxs("div",{className:"grid gap-1.5 leading-none",children:[s.jsxs(qe,{htmlFor:"whatsapp-available",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:["هذا الرقم متاح على WhatsApp أو للاتصال ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"تأكد من إمكانية التواصل معك عبر هذا الرقم"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"alternativePhone",children:"رقم هاتف بديل (اختياري)"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),s.jsx(st,{id:"alternativePhone",name:"alternativePhone",type:"tel",autoComplete:"tel",placeholder:"رقم إضافي للتواصل (اختياري)",value:i.alternativePhone,onChange:S("alternativePhone"),className:"pr-10"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"يمكنك إضافة رقم آخر للتواصل معك"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"password",children:"كلمة المرور"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(dj,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"password",name:"password",type:t?"text":"password",autoComplete:"new-password",required:!0,placeholder:"أدخل كلمة المرور (6 أحرف على الأقل)",value:i.password,onChange:S("password"),className:"pr-10 pl-10"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 left-0 pl-3 flex items-center",onClick:()=>e(!t),children:t?s.jsx(dI,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx($s,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(dj,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",autoComplete:"new-password",required:!0,placeholder:"أعد إدخال كلمة المرور",value:i.confirmPassword,onChange:S("confirmPassword"),className:"pr-10 pl-10"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 left-0 pl-3 flex items-center",onClick:()=>r(!n),children:n?s.jsx(dI,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx($s,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"نوع الحساب"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3 mt-2",children:[s.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse p-4 rounded-lg border-2 cursor-pointer transition-all ${o==="customer"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l("customer"),children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="customer"?"border-primary":"border-gray-300"}`,children:o==="customer"&&s.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:"🛒 عميل"}),s.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"تسوق واشتري المنتجات"})]})]}),s.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse p-4 rounded-lg border-2 cursor-pointer transition-all ${o==="affiliate"?"border-brand-orange bg-brand-orange/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l("affiliate"),children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="affiliate"?"border-brand-orange":"border-gray-300"}`,children:o==="affiliate"&&s.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-orange"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-brand-orange",children:"💰 مسوق بالعمولة"}),s.jsx("p",{className:"text-xs text-brand-orange/80 mt-0.5",children:"اكسب عمولة على كل عملية بيع"}),s.jsx("p",{className:"text-xs text-amber-600 mt-1 font-medium",children:"⏳ يتطلب موافقة الإدارة"})]})]}),s.jsxs("div",{className:`flex items-center space-x-3 rtl:space-x-reverse p-4 rounded-lg border-2 cursor-pointer transition-all ${o==="merchant"?"border-brand-purple bg-brand-purple/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l("merchant"),children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${o==="merchant"?"border-brand-purple":"border-gray-300"}`,children:o==="merchant"&&s.jsx("div",{className:"w-3 h-3 rounded-full bg-brand-purple"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-brand-purple",children:"🏪 تاجر"}),s.jsx("p",{className:"text-xs text-brand-purple/80 mt-0.5",children:"اعرض وبع منتجاتك على المنصة"}),s.jsx("p",{className:"text-xs text-purple-600 mt-1 font-medium",children:"⏳ يتطلب موافقة الإدارة"})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"accept-terms",checked:c,onCheckedChange:A=>u(!!A),required:!0}),s.jsxs(qe,{htmlFor:"accept-terms",className:"text-sm cursor-pointer",children:["أوافق على"," ",s.jsx(ot,{to:"/terms",className:"text-primary hover:text-primary/80 underline",children:"شروط الخدمة"})," ","و"," ",s.jsx(ot,{to:"/privacy",className:"text-primary hover:text-primary/80 underline",children:"سياسة الخصوصية"})]})]}),s.jsx(ge,{type:"submit",className:"w-full bg-gradient-to-r from-brand-orange to-brand-purple text-white font-bold py-3 text-lg rounded-lg shadow-md hover:from-brand-purple hover:to-brand-orange transition-all duration-200",disabled:h||!c,children:h?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري إنشاء الحساب..."]}):s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-base font-bold",children:"إنشاء الحساب"}),s.jsx(oi,{className:"h-5 w-5 rtl:rotate-180"})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx(Br,{})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-background text-muted-foreground",children:"أو يمكنك التسجيل عبر"})})]})}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs(ge,{type:"button",variant:"outline",className:"w-full border-gray-300 hover:border-primary",onClick:()=>{console.log("التسجيل بـ Google")},children:[s.jsxs("svg",{className:"w-5 h-5 ml-2 rtl:ml-0 rtl:mr-2",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"التسجيل بحساب Google"]}),s.jsxs(ge,{type:"button",variant:"outline",className:"w-full border-gray-300 hover:border-primary",onClick:()=>{console.log("التسجيل بـ Facebook")},children:[s.jsx("svg",{className:"w-5 h-5 ml-2 rtl:ml-0 rtl:mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"التسجيل بحساب Facebook"]})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center mt-6",children:["جميع بياناتك محمية وفق ",s.jsx(ot,{to:"/privacy",className:"underline text-primary",children:"سياسة الخصوصية"})," الخاصة بنا."]})]})]})]})})}function YNe(){const[t,e]=M.useState(""),[n,r]=M.useState(!1),[i,a]=M.useState(!1),o=async l=>{l.preventDefault(),r(!0);try{await new Promise(c=>setTimeout(c,1500)),console.log("إرسال رابط إعادة تعيين كلمة المرور إلى:",t),a(!0)}catch(c){console.error("خطأ في إرسال البريد الإلكتروني:",c),alert("حدث خطأ في إرسال البريد الإلكتروني")}finally{r(!1)}};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsx("div",{className:"text-center",children:s.jsx(ot,{to:"/",className:"text-3xl font-bold text-primary",children:"EgyGo"})}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Fi,{className:"h-8 w-8 text-green-600"})}),s.jsx(Ce,{className:"text-2xl",children:"تم إرسال البريد الإلكتروني!"}),s.jsx(on,{children:"تحقق من بريدك الإلكتروني للحصول على رابط إعادة تعيين كلمة المرور"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[s.jsx("p",{children:"أرسلنا رابط إعادة تعيين كلمة المرور إلى:"}),s.jsx("p",{className:"font-medium text-gray-900 mt-1",children:t})]}),s.jsxs("div",{className:"text-center text-sm text-gray-600",children:[s.jsx("p",{children:"لم تستلم البريد الإلكتروني؟ تحقق من مجلد الرسائل غير المرغوب فيها أو"}),s.jsx("button",{onClick:()=>{a(!1),e("")},className:"text-primary hover:text-primary/80 font-medium underline",children:"جرب مرة أخرى"})]}),s.jsx("div",{className:"pt-4",children:s.jsx(ge,{asChild:!0,className:"w-full",children:s.jsxs(ot,{to:"/login",children:["العودة لتسجيل الدخول",s.jsx(oi,{className:"h-4 w-4 mr-2 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})})]})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ot,{to:"/",className:"text-3xl font-bold text-primary",children:"شوب كو"}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"نسيت كلمة المرور؟"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"أدخل بريدك الإلكتروني وسنرسل لك رابط لإعادة تعيين كلمة المرور"})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"إعادة تعيين كلمة المرور"}),s.jsx(on,{children:"سنرسل لك رابط آمن لإعادة تعيين كلمة المرور على بريدك الإلكتروني"})]}),s.jsxs(he,{children:[s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx(Kc,{className:"h-5 w-5 text-gray-400"})}),s.jsx(st,{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,placeholder:"أدخل بريدك الإلكتروني المسجل",value:t,onChange:l=>e(l.target.value),className:"pr-10"})]})]}),s.jsx(ge,{type:"submit",className:"w-full",disabled:n||!t,children:n?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري الإرسال..."]}):s.jsxs("div",{className:"flex items-center justify-center gap-2",children:["إرسال رابط إعادة التعيين",s.jsx(oi,{className:"h-4 w-4 rtl:rotate-180"})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(ot,{to:"/login",className:"text-sm text-primary hover:text-primary/80 font-medium",children:"← العودة لتسجيل الدخول"})})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["تحتاج مساعدة؟"," ",s.jsx(ot,{to:"/contact",className:"text-primary hover:text-primary/80 font-medium",children:"اتصل بنا"})]})})]})})}var DN="Tabs",[KNe]=Ni(DN,[mx]),$ne=mx(),[QNe,J4]=KNe(DN),zne=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=eh(l),[f,h]=Ba({prop:r,onChange:i,defaultProp:a??"",caller:DN});return s.jsx(QNe,{scope:n,baseId:Li(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Mt.div,{dir:d,"data-orientation":o,...u,ref:e})})});zne.displayName=DN;var Hne="TabsList",Vne=M.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=J4(Hne,n),o=$ne(n);return s.jsx(v4,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Mt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Vne.displayName=Hne;var qne="TabsTrigger",Gne=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=J4(qne,n),l=$ne(n),c=Yne(o.baseId,r),u=Kne(o.baseId,r),d=r===o.value;return s.jsx(x4,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(Mt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:St(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:St(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:St(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});Gne.displayName=qne;var Wne="TabsContent",Xne=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=J4(Wne,n),c=Yne(l.baseId,r),u=Kne(l.baseId,r),d=r===l.value,f=M.useRef(d);return M.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Hi,{present:i||d,children:({present:h})=>s.jsx(Mt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});Xne.displayName=Wne;function Yne(t,e){return`${t}-trigger-${e}`}function Kne(t,e){return`${t}-content-${e}`}var ZNe=zne,Qne=Vne,Zne=Gne,Jne=Xne;const vl=ZNe,No=M.forwardRef(({className:t,...e},n)=>s.jsx(Qne,{ref:n,className:Nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));No.displayName=Qne.displayName;const mn=M.forwardRef(({className:t,...e},n)=>s.jsx(Zne,{ref:n,className:Nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));mn.displayName=Zne.displayName;const gn=M.forwardRef(({className:t,...e},n)=>s.jsx(Jne,{ref:n,className:Nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));gn.displayName=Jne.displayName;const ZC="68de037e003bd03c4d45",JC={USERS:"users",ORDERS:"orders",COMMISSIONS:"commissions",PRODUCTS:"products"},IS={getStats:async t=>{try{const e=await tt.getDocument(ZC,JC.USERS,t),r=(await tt.listDocuments(ZC,JC.COMMISSIONS,[Se.equal("affiliateId",t),Se.orderDesc("$createdAt")])).documents,i=r.filter(p=>p.status==="paid").reduce((p,y)=>p+y.amount,0),a=r.filter(p=>p.status==="pending").reduce((p,y)=>p+y.amount,0),l=(await tt.listDocuments(ZC,JC.ORDERS,[Se.equal("affiliateCode",e.affiliateCode||""),Se.limit(1e3)])).documents,c=l.length,u=new Date,d=new Date(u.getFullYear(),u.getMonth(),1),f=r.filter(p=>new Date(p.$createdAt)>=d).reduce((p,y)=>p+y.amount,0),h=r.slice(0,10).map(p=>({id:p.$id,orderId:p.orderId,amount:p.amount,status:p.status,createdAt:p.$createdAt}));return{affiliateCode:e.affiliateCode||`AFF${t.substring(0,6).toUpperCase()}`,commissionRate:e.commissionRate||10,totalEarnings:i,pendingEarnings:a,thisMonthEarnings:f,referralCount:c,recentCommissions:h,clicks:e.clicks||0,conversions:l.length,conversionRate:e.clicks?(l.length/e.clicks*100).toFixed(2):0}}catch(e){throw console.error("Error fetching affiliate stats:",e),e}},getWithdrawals:async t=>{try{return[]}catch(e){return console.error("Error fetching withdrawals:",e),[]}},requestWithdrawal:async(t,e,n,r)=>{try{throw new Error("سيتم تفعيل طلبات السحب قريباً")}catch(i){throw new Error(i.message||"فشل في إنشاء طلب السحب")}}};function gz(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState([]),[i,a]=M.useState(null),[o,l]=M.useState(null),[c,u]=M.useState(!0),[d,f]=M.useState(null);M.useEffect(()=>{h()},[t]);const h=async()=>{try{if(u(!0),f(null),!t){f("يجب تسجيل الدخول أولاً");return}if(!t.isAffiliate&&t.role!=="affiliate"&&t.role!=="admin"){f("ليس لديك صلاحية الوصول لهذه الصفحة. يجب أن تكون مسوق بالعمولة.");return}const g=await Z4.getAll({limit:6});if(r(g.products||[]),t?.$id)try{const v=await IS.getStats(t.$id);l(v||{totalClicks:0,totalOrders:0,totalEarnings:0,pendingEarnings:0,affiliateCode:t.affiliateCode||`AFF${t.$id.slice(0,6).toUpperCase()}`,conversionRate:0})}catch(v){console.error("Error loading stats:",v),l({totalClicks:0,totalOrders:0,totalEarnings:0,pendingEarnings:0,affiliateCode:t.affiliateCode||`AFF${t.$id.slice(0,6).toUpperCase()}`,conversionRate:0})}}catch(g){console.error("Error loading data:",g),f("فشل في تحميل البيانات. حاول مرة أخرى."),e({variant:"destructive",title:"خطأ",description:"فشل في تحميل البيانات"})}finally{u(!1)}},p=g=>{const v=window.location.origin,b=o?.affiliateCode||"NOCODE";return`${v}/products/${g}?ref=${b}`},y=async(g,v)=>{try{await navigator.clipboard.writeText(g),a(v),setTimeout(()=>a(null),2e3),e({title:"تم النسخ",description:"تم نسخ الرابط بنجاح"})}catch(b){console.error("فشل في نسخ الرابط:",b),e({variant:"destructive",title:"خطأ",description:"فشل في نسخ الرابط"})}};return s.jsx("div",{className:"container mx-auto px-4 py-8 space-y-8 bg-gradient-to-br from-orange-50/50 via-white to-yellow-50/50 dark:from-neutral-900 dark:via-neutral-900 dark:to-neutral-900 min-h-screen",children:c?s.jsx("div",{className:"py-8",children:s.jsx(Une,{count:4})}):d?s.jsx(ce,{className:"border-red-200 bg-red-50 dark:bg-red-950/20",children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(fN,{className:"h-12 w-12 text-red-500 mx-auto"}),s.jsx("h2",{className:"text-xl font-semibold text-red-700 dark:text-red-400",children:d}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsx(ge,{onClick:()=>window.location.href="/login",variant:"outline",children:"تسجيل الدخول"}),s.jsx(ge,{onClick:()=>window.location.href="/affiliate",children:"التسجيل كمسوق"})]})]})})}):o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-orange-600 to-yellow-500 bg-clip-text text-transparent",children:["مرحباً، ",t?.name||"الشريك"]}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"إليك نظرة عامة على أداء شراكتك"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx(jt,{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg",children:"شريك نشط"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ce,{className:"border-orange-200 dark:border-orange-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-orange-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الأرباح"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.totalEarnings.toFixed(2)," ج.م"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+12.5% من الشهر الماضي"})]})]}),s.jsxs(ce,{className:"border-green-200 dark:border-green-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-green-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"أرباح هذا الشهر"}),s.jsx(br,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.thisMonthEarnings.toFixed(2)," ج.م"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+8.2% من الشهر الماضي"})]})]}),s.jsxs(ce,{className:"border-blue-200 dark:border-blue-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-blue-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"النقرات هذا الشهر"}),s.jsx($s,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.clicks?.toLocaleString()||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"إجمالي النقرات"})]})]}),s.jsxs(ce,{className:"border-purple-200 dark:border-purple-900 shadow-lg hover:shadow-xl transition-shadow bg-gradient-to-br from-white to-purple-50/30 dark:from-neutral-800 dark:to-neutral-800",children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"معدل التحويل"}),s.jsx(VZ,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.conversionRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+0.8% من الشهر الماضي"})]})]})]}),s.jsxs(vl,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(No,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"overview",children:"نظرة عامة"}),s.jsx(mn,{value:"links",children:"روابط الشراكة"}),s.jsx(mn,{value:"performance",children:"الأداء"}),s.jsx(mn,{value:"resources",children:"مصادر التسويق"})]}),s.jsx(gn,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(wi,{className:"h-5 w-5"}),"معلومات الحساب"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm font-medium",children:"كود الشراكة"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:o.affiliateCode}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>y(o.affiliateCode,"code"),children:s.jsx(Rp,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm font-medium",children:"معدل العمولة"}),s.jsxs("p",{className:"text-lg font-semibold text-brand-orange mt-1",children:[o.commissionRate,"%"]})]})]}),s.jsx(Br,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm font-medium",children:"عدد الإحالات"}),s.jsx("p",{className:"text-lg font-semibold mt-1",children:o.referralCount})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-sm font-medium",children:"تاريخ الانضمام"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date().toLocaleDateString("ar")})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"النشاط الأخير"})}),s.jsx(he,{children:s.jsx("div",{className:"space-y-3",children:o.recentCommissions&&o.recentCommissions.length>0?o.recentCommissions.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(kr,{className:"h-4 w-4 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"عمولة جديدة"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["طلب #",g.orderId.substring(0,8)]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold text-green-600",children:["+",g.amount.toFixed(2)," ج.م"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(g.createdAt).toLocaleDateString("ar")})]})]},g.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"لا يوجد نشاط حديث"})})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"إجراءات سريعة"})}),s.jsxs(he,{className:"space-y-3",children:[s.jsx(ge,{className:"w-full justify-start",asChild:!0,children:s.jsxs(ot,{to:"/affiliate/withdraw",children:[s.jsx(kr,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"سحب الأرباح"]})}),s.jsx(ge,{variant:"outline",className:"w-full justify-start",asChild:!0,children:s.jsxs(ot,{to:"/affiliate/resources",children:[s.jsx(Xc,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"مواد التسويق"]})}),s.jsx(ge,{variant:"outline",className:"w-full justify-start",asChild:!0,children:s.jsxs(ot,{to:"/affiliate/support",children:[s.jsx(wi,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"الدعم الفني"]})})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"الأرباح المعلقة"})}),s.jsx(he,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-brand-orange",children:[o.pendingEarnings.toFixed(2)," ج.م"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"سيتم دفعها خلال 7 أيام"}),s.jsx(ge,{size:"sm",className:"mt-3",asChild:!0,children:s.jsx(ot,{to:"/affiliate/withdraw",children:"عرض التفاصيل"})})]})})]})]})]})}),s.jsx(gn,{value:"links",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"إنشاء روابط الشراكة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"قم بإنشاء روابط شراكة مخصصة للمنتجات لمشاركتها مع جمهورك"})]}),s.jsx(he,{children:s.jsx("div",{className:"space-y-4",children:n.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:g.images[0]?.url||"/placeholder.svg",alt:g.name,className:"w-12 h-12 object-cover rounded"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:g.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["عمولة: ",g.affiliateCommission,"% ($",(g.price*g.affiliateCommission/100).toFixed(2),")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(st,{value:p(g.id),readOnly:!0,className:"w-80"}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>y(p(g.id),g.id),children:i===g.id?"تم النسخ!":s.jsx(Rp,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:p(g.id),target:"_blank",rel:"noopener noreferrer",children:s.jsx(c4,{className:"h-4 w-4"})})})]})]},g.id))})})]})}),s.jsx(gn,{value:"performance",className:"space-y-6",children:s.jsx("div",{className:"grid lg:grid-cols-2 gap-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"إحصائيات الأداء"})}),s.jsx(he,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:o.clicks||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي النقرات"})]}),s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:o.conversions||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"إجمالي التحويلات"})]}),s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.conversionRate||0,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"معدل التحويل"})]}),s.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:o.referralCount||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"عدد الإحالات"})]})]})})]})})}),s.jsx(gn,{value:"resources",className:"space-y-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(fw,{className:"h-5 w-5"}),"بانرات إعلانية"]})}),s.jsxs(he,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"قم بتحميل بانرات جاهزة لاستخدامها في موقعك أو وسائل التواصل"}),s.jsx(ge,{className:"w-full",children:"تحميل البانرات"})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Dp,{className:"h-5 w-5"}),"نصائح التسويق"]})}),s.jsxs(he,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"اكتشف أفضل الاستراتيجيات لزيادة مبيعاتك وأرباحك"}),s.jsx(ge,{variant:"outline",className:"w-full",children:"عرض النصائح"})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(av,{className:"h-5 w-5"}),"شهادات المنتجات"]})}),s.jsxs(he,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"احصل على شهادات ومراجعات موثوقة لمشاركتها مع العملاء"}),s.jsx(ge,{variant:"outline",className:"w-full",children:"عرض الشهادات"})]})]})]})})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"لم يتم العثور على بيانات الشريك"}),s.jsx(ge,{asChild:!0,children:s.jsx(ot,{to:"/",children:"العودة للرئيسية"})})]})})}var eM={exports:{}},tM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vz;function JNe(){if(vz)return tM;vz=1;var t=ax();function e(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(f,h){var p=h(),y=r({inst:{value:p,getSnapshot:h}}),g=y[0].inst,v=y[1];return a(function(){g.value=p,g.getSnapshot=h,c(g)&&v({inst:g})},[f,p,h]),i(function(){return c(g)&&v({inst:g}),f(function(){c(g)&&v({inst:g})})},[f]),o(p),p}function c(f){var h=f.getSnapshot;f=f.value;try{var p=h();return!n(f,p)}catch{return!0}}function u(f,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return tM.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,tM}var xz;function e2e(){return xz||(xz=1,eM.exports=JNe()),eM.exports}var t2e=e2e();function n2e(){return t2e.useSyncExternalStore(r2e,()=>!0,()=>!1)}function r2e(){return()=>{}}var e5="Avatar",[i2e]=Ni(e5),[s2e,ere]=i2e(e5),tre=M.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=M.useState("idle");return s.jsx(s2e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Mt.span,{...r,ref:e})})});tre.displayName=e5;var nre="AvatarImage",rre=M.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=ere(nre,n),l=a2e(r,a),c=is(u=>{i(u),o.onImageLoadingStatusChange(u)});return fi(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Mt.img,{...a,ref:e,src:r}):null});rre.displayName=nre;var ire="AvatarFallback",sre=M.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=ere(ire,n),[o,l]=M.useState(r===void 0);return M.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Mt.span,{...i,ref:e}):null});sre.displayName=ire;function yz(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function a2e(t,{referrerPolicy:e,crossOrigin:n}){const r=n2e(),i=M.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=M.useState(()=>yz(a,t));return fi(()=>{l(yz(a,t))},[a,t]),fi(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,e]),o}var are=tre,ore=rre,lre=sre;const rb=M.forwardRef(({className:t,...e},n)=>s.jsx(are,{ref:n,className:Nt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));rb.displayName=are.displayName;const Ej=M.forwardRef(({className:t,...e},n)=>s.jsx(ore,{ref:n,className:Nt("aspect-square h-full w-full",t),...e}));Ej.displayName=ore.displayName;const ib=M.forwardRef(({className:t,...e},n)=>s.jsx(lre,{ref:n,className:Nt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ib.displayName=lre.displayName;const o2e=[{title:"لوحة التحكم",href:"/admin",icon:Aye,roles:["admin"]},{title:"إدارة المنتجات",href:"/admin/products",icon:er,roles:["admin","merchant"]},{title:"إدارة الفئات",href:"/admin/categories",icon:RZ,roles:["admin","merchant"]},{title:"إدارة المستخدمين والشركاء",href:"/admin/users",icon:wi,roles:["admin"]},{title:"إدارة الطلبات",href:"/admin/orders",icon:ti,roles:["admin"]},{title:"إدارة العمولات",href:"/admin/commissions",icon:kr,roles:["admin"]},{title:"الإشعارات",href:"/admin/notifications",icon:Yu,roles:["admin"]},{title:"الإعدادات",href:"/admin/settings",icon:zZ,roles:["admin"]}],bz=({onLinkClick:t})=>{const e=ac(),n=xa(),{user:r}=ur(),i=()=>{n("/login"),t?.()},a=o2e.filter(o=>o.roles.includes(r?.role||"customer"));return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsx("h2",{className:"text-xl font-bold text-primary",children:r?.role==="merchant"?"لوحة تحكم التاجر":"لوحة تحكم الإدارة"})}),s.jsx("nav",{className:"flex-1 p-4 space-y-2",children:a.map(o=>{const l=o.icon,c=e.pathname===o.href;return s.jsxs(ot,{to:o.href,onClick:t,className:`flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors hover:bg-accent ${c?"bg-accent text-accent-foreground":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx(l,{className:"h-4 w-4"}),s.jsx("span",{children:o.title})]},o.href)})}),s.jsxs("div",{className:"p-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs(rb,{className:"h-8 w-8",children:[s.jsx(Ej,{src:""}),s.jsx(ib,{children:"أدمن"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:"المدير العام"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@example.com"})]})]}),s.jsxs(ge,{variant:"outline",size:"sm",className:"w-full justify-start gap-2",onClick:i,children:[s.jsx(kZ,{className:"h-4 w-4"}),"تسجيل الخروج"]})]})]})},xo=({children:t})=>{const[e,n]=M.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs(N4,{open:e,onOpenChange:n,children:[s.jsx("div",{className:"lg:hidden",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h1",{className:"text-lg font-semibold",children:"لوحة التحكم"}),s.jsx(A4,{asChild:!0,children:s.jsx(ge,{variant:"outline",size:"icon",children:s.jsx(LZ,{className:"h-4 w-4"})})})]})}),s.jsx(SN,{side:"right",className:"w-[280px] p-0",children:s.jsx(bz,{onLinkClick:()=>n(!1)})})]}),s.jsxs("div",{className:"lg:flex",children:[s.jsx("div",{className:"hidden lg:block lg:w-[280px] lg:border-r lg:bg-muted/30",children:s.jsx("div",{className:"sticky top-0 h-screen",children:s.jsx(bz,{})})}),s.jsx("div",{className:"flex-1 lg:max-w-[calc(100vw-280px)]",children:s.jsx("main",{className:"p-4 lg:p-6",children:t})})]})]})},Zr=un.databaseId,Jr={PRODUCTS:un.collections.products,CATEGORIES:un.collections.categories,ORDERS:un.collections.orders,USERS:un.collections.users,REVIEWS:un.collections.reviews,COMMISSIONS:"commissions",NOTIFICATIONS:"notifications"},l2e={getStats:async()=>{try{const t=await tt.listDocuments(Zr,Jr.ORDERS,[Se.orderDesc("$createdAt"),Se.limit(100)]),e=await tt.listDocuments(Zr,Jr.PRODUCTS,[Se.limit(1e3)]),n=await tt.listDocuments(Zr,Jr.USERS,[Se.limit(1e3)]);let r=0;try{r=(await tt.listDocuments(Zr,Jr.USERS,[Se.equal("isAffiliate",!0),Se.limit(1e3)])).total}catch(w){console.error("Error fetching affiliates:",w),r=n.documents.filter(S=>S.isAffiliate===!0).length}const i=await tt.listDocuments(Zr,Jr.COMMISSIONS,[Se.limit(1e3)]),a=new Date;a.setDate(1),a.setHours(0,0,0,0);const o=t.documents.filter(w=>new Date(w.$createdAt)>=a),l=o.filter(w=>w.status!=="CANCELLED").reduce((w,_)=>w+(_.total||0),0),c=t.documents.filter(w=>w.status!=="CANCELLED").reduce((w,_)=>w+(_.total||0),0),u=t.documents.filter(w=>w.status==="PENDING").length,d=i.documents.filter(w=>w.status==="PENDING").reduce((w,_)=>w+(_.amount||0),0),f=t.documents.slice(0,10).map(w=>({id:w.$id,orderNumber:w.orderNumber,status:w.status,total:w.total,createdAt:w.$createdAt,userId:w.userId})),h={};t.documents.forEach(w=>{w.items&&Array.isArray(w.items)&&w.items.forEach(_=>{const S=_.productId;h[S]||(h[S]={productId:S,quantity:0,revenue:0}),h[S].quantity+=_.quantity||0,h[S].revenue+=(_.price||0)*(_.quantity||0)})});const p=Object.values(h).sort((w,_)=>_.quantity-w.quantity).slice(0,5),y=t.documents.filter(w=>w.status==="COMPLETED").length,g=t.total>0?y/t.total*100:0,v=t.total>0?c/t.total:0;let b=0;try{const w=await tt.listDocuments(Zr,Jr.REVIEWS,[Se.limit(1e3)]);w.total>0&&(b=w.documents.reduce((S,j)=>S+(j.rating||0),0)/w.total)}catch(w){console.error("Error fetching reviews:",w),b=0}return{totalRevenue:c,totalOrders:t.total,totalProducts:e.total,totalUsers:n.total,pendingOrders:u,totalAffiliates:r,pendingCommissions:d,thisMonthRevenue:l,thisMonthOrders:o.length,recentOrders:f,topProducts:p,conversionRate:g,averageOrderValue:v,customerSatisfaction:b}}catch(t){return console.error("Error fetching admin stats:",t),{totalRevenue:0,totalOrders:0,totalProducts:0,totalUsers:0,pendingOrders:0,totalAffiliates:0,pendingCommissions:0,thisMonthRevenue:0,thisMonthOrders:0,recentOrders:[],topProducts:[],conversionRate:0,averageOrderValue:0,customerSatisfaction:0}}}},nM={create:async(t,e)=>{try{console.log("Creating product with data:",t),console.log("User ID (merchantId):",e);const n={name:t.name,description:t.description,price:t.price,comparePrice:t.comparePrice||t.originalPrice||null,stock:t.stock||t.stockQuantity||0,categoryId:t.categoryId,images:t.images||[],tags:t.tags||[],isActive:t.isActive??!0,isFeatured:t.isFeatured??!1,rating:0,reviewCount:0};t.merchantId?n.merchantId=t.merchantId:e&&(n.merchantId=e,console.log("Auto-assigned merchantId:",e)),t.colors&&Array.isArray(t.colors)&&(n.colors=t.colors),t.sizes&&Array.isArray(t.sizes)&&(n.sizes=t.sizes),t.colorSizeInventory&&(n.colorSizeInventory=t.colorSizeInventory,console.log("📦 Saving colorSizeInventory:",t.colorSizeInventory));try{const r=await tt.createDocument(Zr,Jr.PRODUCTS,"unique()",n);return console.log("Product created successfully:",r),{id:r.$id,name:r.name,description:r.description,price:r.price,comparePrice:r.comparePrice,stock:r.stock,categoryId:r.categoryId,images:r.images,tags:r.tags,isActive:r.isActive,isFeatured:r.isFeatured,rating:r.rating,reviewCount:r.reviewCount,createdAt:r.$createdAt}}catch(r){if(r.message?.includes("Unknown attribute")){console.warn("Retrying without optional attributes:",r.message),delete n.colorSizeInventory,delete n.merchantId,delete n.colors,delete n.sizes;const i=await tt.createDocument(Zr,Jr.PRODUCTS,"unique()",n);return console.log("Product created successfully (without optional fields):",i),{id:i.$id,name:i.name,description:i.description,price:i.price,comparePrice:i.comparePrice,stock:i.stock,categoryId:i.categoryId,images:i.images,tags:i.tags,isActive:i.isActive,isFeatured:i.isFeatured,rating:i.rating,reviewCount:i.reviewCount,createdAt:i.$createdAt}}throw r}}catch(n){throw console.error("Product creation error:",n),new Error(n.message||"فشل في إنشاء المنتج")}},update:async t=>{try{const{id:e,...n}=t,r={};n.name&&(r.name=n.name),n.description&&(r.description=n.description),n.price!==void 0&&(r.price=n.price),(n.comparePrice!==void 0||n.originalPrice!==void 0)&&(r.comparePrice=n.comparePrice||n.originalPrice||null),(n.stock!==void 0||n.stockQuantity!==void 0)&&(r.stock=n.stock??n.stockQuantity??0),n.categoryId&&(r.categoryId=n.categoryId),n.images&&(r.images=n.images),n.tags&&(r.tags=n.tags),n.isActive!==void 0&&(r.isActive=n.isActive),n.isFeatured!==void 0&&(r.isFeatured=n.isFeatured),n.rating!==void 0&&(r.rating=n.rating),n.reviewCount!==void 0&&(r.reviewCount=n.reviewCount),n.merchantId&&(r.merchantId=n.merchantId),n.colors&&(r.colors=n.colors),n.sizes&&(r.sizes=n.sizes),n.colorSizeInventory!==void 0&&(r.colorSizeInventory=n.colorSizeInventory,console.log("📦 Updating colorSizeInventory:",n.colorSizeInventory));try{const i=await tt.updateDocument(Zr,Jr.PRODUCTS,e,r);return{id:i.$id,name:i.name,description:i.description,price:i.price,comparePrice:i.comparePrice,stock:i.stock,categoryId:i.categoryId,images:i.images,tags:i.tags,isActive:i.isActive,isFeatured:i.isFeatured,rating:i.rating,reviewCount:i.reviewCount,updatedAt:i.$updatedAt}}catch(i){if(i.message?.includes("Unknown attribute")){console.warn("Retrying update without optional attributes:",i.message),delete r.colorSizeInventory,delete r.merchantId,delete r.colors,delete r.sizes;const a=await tt.updateDocument(Zr,Jr.PRODUCTS,e,r);return{id:a.$id,name:a.name,description:a.description,price:a.price,comparePrice:a.comparePrice,stock:a.stock,categoryId:a.categoryId,images:a.images,tags:a.tags,isActive:a.isActive,isFeatured:a.isFeatured,rating:a.rating,reviewCount:a.reviewCount,updatedAt:a.$updatedAt}}throw i}}catch(e){throw new Error(e.message||"فشل في تحديث المنتج")}},delete:async t=>{try{return await tt.deleteDocument(Zr,Jr.PRODUCTS,t),{message:"تم حذف المنتج بنجاح"}}catch(e){throw new Error(e.message||"فشل في حذف المنتج")}}},rM={create:async t=>{try{const e=t.slug||t.name.toLowerCase().replace(/[أ-ي\s]+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""),n=await tt.createDocument(Zr,Jr.CATEGORIES,"unique()",{name:t.name,description:t.description||"",image:t.image||"",isActive:!0});return{id:n.$id,name:n.name,slug:e,description:n.description,image:n.image,productCount:0,createdAt:n.$createdAt}}catch(e){throw console.error("Category creation error:",e),new Error(e.message||"فشل في إنشاء الفئة")}},update:async(t,e)=>{try{const n=await tt.updateDocument(Zr,Jr.CATEGORIES,t,{name:e.name,description:e.description,image:e.image}),r=e.name.toLowerCase().replace(/[أ-ي\s]+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return{id:n.$id,name:n.name,slug:r,description:n.description,image:n.image,updatedAt:n.$updatedAt}}catch(n){throw console.error("Category update error:",n),new Error(n.message||"فشل في تحديث الفئة")}},delete:async t=>{try{return await tt.deleteDocument(Zr,Jr.CATEGORIES,t),{message:"تم حذف الفئة بنجاح"}}catch(e){throw new Error(e.message||"فشل في حذف الفئة")}}},iM={getAll:async()=>{try{console.log("Fetching all users from Appwrite Auth...");try{const t=await la.get();console.log("Current user:",t);const e=await tt.listDocuments(Zr,Jr.USERS,[Se.orderDesc("$createdAt"),Se.limit(1e3)]);if(console.log("Users from collection:",e),e.documents.length>0)return e.documents.map(n=>({id:n.$id,email:n.email||n.userEmail||"",name:n.name||n.userName||n.email?.split("@")[0]||"مستخدم",avatar:n.avatar||n.profileImage||"",role:n.role||(n.isAdmin?"ADMIN":"USER"),isActive:n.isActive!==!1,isAffiliate:n.isAffiliate===!0,isMerchant:n.isMerchant===!0,createdAt:n.$createdAt,updatedAt:n.$updatedAt}))}catch(t){console.log("Users collection error:",t);try{console.log("Attempting to fetch users via alternative method...")}catch(e){console.error("Auth API error:",e)}}return console.warn("⚠️ No users collection found. Please create 'users' collection in Appwrite."),console.warn("📝 Collection should have attributes: email, name, avatar, role, isActive, isAffiliate, isMerchant"),[]}catch(t){return console.error("Error fetching users:",t),[]}},getAllAffiliates:async()=>{try{try{const t=await tt.listDocuments(Zr,Jr.USERS,[Se.equal("isAffiliate",!0),Se.limit(1e3)]);if(t.documents.length>0)return t.documents.map(e=>({id:e.$id,email:e.email||e.userEmail||"",name:e.name||e.userName||e.email?.split("@")[0]||"شريك",affiliateCode:e.affiliateCode||`AFF${e.$id.substring(0,6).toUpperCase()}`,commissionRate:e.commissionRate||15,totalEarnings:e.totalEarnings||0,pendingEarnings:e.pendingEarnings||0,referralCount:e.referralCount||0,joinedAt:e.$createdAt,user:{id:e.$id,email:e.email||e.userEmail||"",name:e.name||e.userName||e.email?.split("@")[0]||"شريك",avatar:e.avatar||"",role:"USER",isActive:e.isActive!==!1,createdAt:e.$createdAt,updatedAt:e.$updatedAt}}))}catch(t){console.log("Error fetching affiliates from collection:",t)}return console.warn("⚠️ No affiliates found in users collection."),console.warn("📝 Make sure users with isAffiliate=true exist in the database."),[]}catch(t){return console.error("Error fetching affiliates:",t),[]}},updateRole:async(t,e)=>{try{const n=await tt.updateDocument(Zr,Jr.USERS,t,{role:e});return{id:n.$id,role:n.role||"USER",updatedAt:n.$updatedAt}}catch(n){throw console.error("Error updating role:",n),new Error(n.message||"فشل في تحديث دور المستخدم")}},updateStatus:async(t,e)=>{try{const n=await tt.updateDocument(Zr,Jr.USERS,t,{isActive:e});return{id:n.$id,isActive:n.isActive,updatedAt:n.$updatedAt}}catch(n){throw new Error(n.message||"فشل في تحديث حالة المستخدم")}}},wz={getAll:async()=>{try{return(await tt.listDocuments(Zr,Jr.ORDERS,[Se.orderDesc("$createdAt")])).documents.map(e=>({id:e.$id,orderNumber:e.orderNumber,status:e.status,total:e.total,userId:e.userId,createdAt:e.$createdAt}))}catch(t){return console.error("Error fetching orders:",t),[]}},updateStatus:async(t,e)=>{try{const n=await tt.updateDocument(Zr,Jr.ORDERS,t,{status:e});return{id:n.$id,status:n.status,updatedAt:n.$updatedAt}}catch(n){throw new Error(n.message||"فشل في تحديث حالة الطلب")}}},_z={getAll:async()=>{try{return(await tt.listDocuments(Zr,Jr.COMMISSIONS,[Se.orderDesc("$createdAt")])).documents.map(e=>({id:e.$id,amount:e.amount,status:e.status,affiliateId:e.affiliateId,orderId:e.orderId,createdAt:e.$createdAt}))}catch(t){return console.error("Error fetching commissions:",t),[]}},updateStatus:async(t,e)=>{try{const n=await tt.updateDocument(Zr,Jr.COMMISSIONS,t,{status:e});return{id:n.$id,status:n.status,updatedAt:n.$updatedAt}}catch(n){throw new Error(n.message||"فشل في تحديث حالة العمولة")}}},zd=({title:t,value:e,description:n,icon:r,trend:i})=>s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:t}),s.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e}),n&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),i&&s.jsxs("div",{className:`flex items-center text-xs mt-1 ${i.isPositive?"text-green-600":"text-red-600"}`,children:[s.jsx(br,{className:"h-3 w-3 mr-1"}),i.isPositive?"+":"",i.value,"% من الشهر الماضي"]})]})]}),c2e=({status:t})=>{const e={PENDING:{label:"في الانتظار",variant:"secondary"},PROCESSING:{label:"قيد المعالجة",variant:"default"},SHIPPED:{label:"تم الشحن",variant:"outline"},DELIVERED:{label:"تم التسليم",variant:"secondary"},CANCELLED:{label:"ملغي",variant:"destructive"}},n=e[t]||e.PENDING;return s.jsx(jt,{variant:n.variant,children:n.label})};function Sz(){const[t,e]=M.useState(null),[n,r]=M.useState(!0);return M.useEffect(()=>{(async()=>{r(!0);try{const a=await l2e.getStats();e(a)}catch(a){console.error("Error fetching admin stats:",a),e(null)}finally{r(!1)}})()},[]),n?s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"لوحة التحكم"})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[...Array(4)].map((i,a)=>s.jsxs(ce,{children:[s.jsx(Ee,{className:"animate-pulse",children:s.jsx("div",{className:"h-4 bg-muted rounded w-24"})}),s.jsxs(he,{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-16 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-32"})]})]},a))})]})}):t?s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"لوحة التحكم"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ge,{size:"sm",children:"تحديث البيانات"})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(zd,{title:"إجمالي المستخدمين",value:t.totalUsers.toLocaleString(),icon:wi,trend:{value:12,isPositive:!0}}),s.jsx(zd,{title:"إجمالي المنتجات",value:t.totalProducts,icon:er,trend:{value:8,isPositive:!0}}),s.jsx(zd,{title:"إجمالي الطلبات",value:t.totalOrders.toLocaleString(),icon:ti,trend:{value:15,isPositive:!0}}),s.jsx(zd,{title:"إجمالي الإيرادات",value:`${t.totalRevenue.toLocaleString()} ج.م`,icon:kr,trend:{value:23,isPositive:!0}})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(zd,{title:"الطلبات المعلقة",value:t.pendingOrders,description:"تحتاج لمراجعة",icon:Ui}),s.jsx(zd,{title:"إجمالي الشركاء",value:t.totalAffiliates,icon:AS,trend:{value:5,isPositive:!0}}),s.jsx(zd,{title:"العمولات المعلقة",value:`${t.pendingCommissions.toLocaleString()} ج.م`,description:"في انتظار الدفع",icon:fN}),s.jsx(zd,{title:"إيرادات هذا الشهر",value:`${t.thisMonthRevenue.toLocaleString()} ج.م`,description:`${t.thisMonthOrders} طلب`,icon:br})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"المنتجات الأكثر مبيعاً"}),s.jsx(on,{children:"أفضل المنتجات من حيث المبيعات"})]}),s.jsx(he,{children:s.jsx("div",{className:"space-y-4",children:t.topProducts.map((i,a)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center text-sm font-medium",children:a+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:i.product.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.soldQuantity," قطعة •"," ",i.revenue.toLocaleString()," ج.م"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.product.price," ج.م"]})]},i.product.id))})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"الطلبات الحديثة"}),s.jsx(on,{children:"آخر الطلبات المستلمة"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"space-y-4",children:t.recentOrders.map(i=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:i.orderNumber}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(i.createdAt).toLocaleDateString("ar-EG")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:[i.total," ج.م"]}),s.jsx(c2e,{status:i.status})]})]},i.id))}),s.jsx("div",{className:"mt-4",children:s.jsx(ge,{variant:"outline",size:"sm",className:"w-full",children:"عرض جميع الطلبات"})})]})]})]})]})}):null}const _o=M.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));_o.displayName="Textarea";const vs=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Nt("w-full caption-bottom text-sm",t),...e})}));vs.displayName="Table";const xs=M.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Nt("[&_tr]:border-b",t),...e}));xs.displayName="TableHeader";const ys=M.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Nt("[&_tr:last-child]:border-0",t),...e}));ys.displayName="TableBody";const u2e=M.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));u2e.displayName="TableFooter";const Vn=M.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Vn.displayName="TableRow";const ut=M.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Nt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ut.displayName="TableHead";const dt=M.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Nt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));dt.displayName="TableCell";const d2e=M.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Nt("mt-4 text-sm text-muted-foreground",t),...e}));d2e.displayName="TableCaption";function f2e({value:t=[],onChange:e,maxFiles:n=5,disabled:r=!1}){const[i,a]=M.useState(!1),[o,l]=M.useState(t.map(h=>({url:h,fileId:$u.extractFileId(h)||void 0}))),c=M.useRef(null),{toast:u}=mr(),d=async h=>{const p=Array.from(h.target.files||[]);if(p.length===0)return;if(o.length+p.length>n){u({title:"تحذير",description:`يمكنك رفع ${n} صور كحد أقصى`,variant:"destructive"});return}const y=$u.validateFiles(p);if(!y.valid){u({title:"خطأ في الملفات",description:y.errors.join(`
`),variant:"destructive"});return}a(!0);try{const g=await $u.uploadFiles(p),v=g.map(w=>({url:w.url,fileId:w.fileId})),b=[...o,...v];l(b),e(b.map(w=>w.url)),u({title:"تم الرفع بنجاح",description:`تم رفع ${g.length} صورة بنجاح`})}catch(g){u({title:"فشل الرفع",description:g.message||"حدث خطأ أثناء رفع الصور",variant:"destructive"})}finally{a(!1),c.current&&(c.current.value="")}},f=async h=>{const p=o[h];if(p.fileId)try{await $u.deleteFile(p.fileId)}catch(g){console.error("Failed to delete file:",g)}const y=o.filter((g,v)=>v!==h);l(y),e(y.map(g=>g.url)),u({title:"تم الحذف",description:"تم حذف الصورة بنجاح"})};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("input",{ref:c,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",multiple:!0,onChange:d,disabled:r||i||o.length>=n,className:"hidden"}),s.jsx(ge,{type:"button",variant:"outline",onClick:()=>c.current?.click(),disabled:r||i||o.length>=n,className:"w-full",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Da,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الرفع..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lv,{className:"ml-2 h-4 w-4"}),"رفع صور (",o.length,"/",n,")"]})}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["الحد الأقصى: ",n," صور، 5 ميجابايت لكل صورة (JPG, PNG, WEBP)"]})]}),o.length>0&&s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:o.map((h,p)=>s.jsx(ce,{className:"relative group",children:s.jsxs("div",{className:"aspect-square",children:[s.jsx("img",{src:h.url,alt:`صورة ${p+1}`,className:"w-full h-full object-cover rounded-lg",onError:y=>{y.currentTarget.src="/placeholder.svg"}}),p===0&&s.jsx(jt,{className:"absolute top-2 left-2 bg-primary",children:"رئيسية"}),s.jsx(ge,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>f(p),disabled:r||i,children:s.jsx(tm,{className:"h-4 w-4"})})]})},p))}),o.length===0&&!i&&s.jsx(ce,{className:"border-dashed",children:s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(K0,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"لم يتم رفع صور بعد"})]})})]})}const jz=({product:t,categories:e,onSubmit:n,onCancel:r})=>{const[i,a]=M.useState({name:t?.name||"",description:t?.description||"",price:t?.price||0,originalPrice:t?.originalPrice||0,categoryId:t?.category||"",images:t?.images||[],tags:t?.tags?.join(", ")||"",stockQuantity:100,affiliateCommission:t?.affiliateCommission||8,colors:t?.colors?.join(", ")||"",sizes:t?.sizes?.join(", ")||""}),[o,l]=M.useState(()=>{try{const f=t?.colorSizeInventory;return f?JSON.parse(f):[]}catch{return[]}}),c=f=>{f.preventDefault();const h=i.colors.split(",").map(b=>b.trim()).filter(Boolean),p=i.sizes.split(",").map(b=>b.trim()).filter(Boolean),y=[];h.length>0&&p.length>0&&y.push(...o);const g=y.reduce((b,w)=>b+w.quantity,0);console.log("📦 Inventory data being saved:",y),console.log("📊 Total stock calculated:",g);const v={...i,images:i.images,tags:i.tags.split(",").map(b=>b.trim()).filter(Boolean),colors:h,sizes:p,colorSizeInventory:JSON.stringify(y),stock:g||i.stockQuantity||0};console.log("💾 Submit data:",v),n(t?{...v,id:t.id}:v)},u=()=>{const f=i.colors.split(",").map(p=>p.trim()).filter(Boolean),h=i.sizes.split(",").map(p=>p.trim()).filter(Boolean);if(f.length>0&&h.length>0){const p=[];f.forEach(y=>{h.forEach(g=>{const v=o.find(b=>b.color===y&&b.size===g);p.push({color:y,size:g,quantity:v?.quantity||0})})}),l(p)}},d=(f,h,p)=>{l(y=>y.map(g=>g.color===f&&g.size===h?{...g,quantity:Math.max(0,p)}:g))};return s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"name",children:"اسم المنتج"}),s.jsx(st,{id:"name",value:i.name,onChange:f=>a(h=>({...h,name:f.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"category",children:"الفئة"}),s.jsxs(Lr,{value:i.categoryId,onValueChange:f=>a(h=>({...h,categoryId:f})),children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"اختر فئة"})}),s.jsx(Tr,{children:e.map(f=>s.jsx(At,{value:f.id,children:f.name},f.id))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"description",children:"الوصف"}),s.jsx(_o,{id:"description",value:i.description,onChange:f=>a(h=>({...h,description:f.target.value})),rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"price",children:"السعر (ج.م)"}),s.jsx(st,{id:"price",type:"number",value:i.price,onChange:f=>a(h=>({...h,price:Number(f.target.value)})),min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"originalPrice",children:"السعر الأصلي (ج.م)"}),s.jsx(st,{id:"originalPrice",type:"number",value:i.originalPrice,onChange:f=>a(h=>({...h,originalPrice:Number(f.target.value)})),min:"0",step:"0.01"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"affiliateCommission",children:"نسبة العمولة (%)"}),s.jsx(st,{id:"affiliateCommission",type:"number",value:i.affiliateCommission,onChange:f=>a(h=>({...h,affiliateCommission:Number(f.target.value)})),min:"0",max:"100",step:"0.1",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"صور المنتج"}),s.jsx(f2e,{value:i.images,onChange:f=>a(h=>({...h,images:f})),maxFiles:5})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"tags",children:"الكلمات المفتاحية (منفصلة بفواصل)"}),s.jsx(st,{id:"tags",value:i.tags,onChange:f=>a(h=>({...h,tags:f.target.value})),placeholder:"إلكترونيات, سماعات, بلوتوث"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"colors",children:"الألوان المتاحة (منفصلة بفواصل)"}),s.jsx(st,{id:"colors",value:i.colors,onChange:f=>{a(h=>({...h,colors:f.target.value}))},onBlur:u,placeholder:"أحمر, أزرق, أخضر"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"مثال: أحمر, أزرق, أسود أو Red, Blue, Black"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"sizes",children:"المقاسات المتاحة (منفصلة بفواصل)"}),s.jsx(st,{id:"sizes",value:i.sizes,onChange:f=>{a(h=>({...h,sizes:f.target.value}))},onBlur:u,placeholder:"S, M, L, XL"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"مثال: S, M, L, XL أو 38, 40, 42, 44"})]})]}),o.length>0&&s.jsxs("div",{className:"space-y-3 border rounded-lg p-4 bg-muted/20",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(qe,{className:"text-base font-semibold",children:"المخزون لكل لون ومقاس"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["إجمالي المخزون: ",o.reduce((f,h)=>f+h.quantity,0)]})]}),s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 max-h-[300px] overflow-y-auto",children:o.map((f,h)=>s.jsxs("div",{className:"space-y-1 border rounded p-2 bg-background",children:[s.jsxs("div",{className:"text-xs font-medium text-center",children:[f.color," - ",f.size]}),s.jsx(st,{type:"number",min:"0",value:f.quantity,onChange:p=>d(f.color,f.size,Number(p.target.value)),className:"h-8 text-center",placeholder:"0"})]},h))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"💡 أدخل الكمية المتاحة لكل تركيبة لون ومقاس. المخزون الإجمالي سيتم حسابه تلقائياً."})]}),s.jsxs(Gl,{children:[s.jsx(ge,{type:"button",variant:"outline",onClick:r,children:"إلغاء"}),s.jsx(ge,{type:"submit",children:t?"تحديث المنتج":"إضافة المنتج"})]})]})};function h2e(){const{user:t}=ur(),[e,n]=M.useState([]),[r,i]=M.useState([]),[a,o]=M.useState(!0),[l,c]=M.useState(""),[u,d]=M.useState("all"),[f,h]=M.useState(!1),[p,y]=M.useState(null);M.useEffect(()=>{(async()=>{o(!0);try{const[j,A]=await Promise.all([hl.getAll({}),px.getAll()]);let C=j.products;t&&t.labels&&!t.labels.includes("admin")&&(console.log("Filtering products for merchant:",t.$id),C=j.products.filter(N=>N.merchantId===t.$id),console.log("Merchant products:",C.length)),n(C),i(A.categories)}catch(j){console.error("Error fetching data:",j)}o(!1)})()},[t]);const g=e.filter(S=>{const j=S.name.toLowerCase().includes(l.toLowerCase())||S.description.toLowerCase().includes(l.toLowerCase()),A=u==="all"||S.category===u;return j&&A}),v=async S=>{try{const j=await nM.create(S,t?.$id);n(A=>[j,...A]),h(!1)}catch(j){console.error("Error adding product:",j),alert("فشل في إضافة المنتج")}},b=async S=>{try{const j=e.find(T=>T.id===S.id),A=t&&t.labels?.includes("admin"),C=j&&j.merchantId===t?.$id;if(!A&&!C){alert("ليس لديك صلاحية لتعديل هذا المنتج");return}const N=await nM.update(S);n(T=>T.map(P=>P.id===S.id?{...N,category:S.categoryId||P.category}:P)),y(null)}catch(j){console.error("Error updating product:",j),alert("فشل في تحديث المنتج")}},w=async S=>{if(confirm("هل أنت متأكد من حذف هذا المنتج؟"))try{const j=e.find(N=>N.id===S),A=t&&t.labels?.includes("admin"),C=j&&j.merchantId===t?.$id;if(!A&&!C){alert("ليس لديك صلاحية لحذف هذا المنتج");return}await nM.delete(S),n(N=>N.filter(T=>T.id!==S))}catch(j){console.error("Error deleting product:",j),alert("فشل في حذف المنتج")}},_=S=>{if(S.colorSizeInventory)try{const j=JSON.parse(S.colorSizeInventory);if(Array.isArray(j)&&j.length>0)return j.reduce((C,N)=>C+(N.quantity||0),0)>0}catch(j){console.error("Error parsing inventory for product:",S.id,j)}return S.colors?.length>0||S.sizes?.length>0||S.stock!==void 0&&S.stock>0?!0:S.inStock!==void 0?S.inStock:!0};return a?s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة المنتجات"})}),s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-10 bg-muted rounded mb-4"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((S,j)=>s.jsx("div",{className:"h-16 bg-muted rounded"},j))})]})]})}):s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة المنتجات"}),s.jsxs(_i,{open:f,onOpenChange:h,children:[s.jsx($f,{asChild:!0,children:s.jsxs(ge,{children:[s.jsx(sl,{className:"h-4 w-4 mr-2"}),"إضافة منتج جديد"]})}),s.jsxs(di,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"إضافة منتج جديد"}),s.jsx(ga,{children:"أدخل تفاصيل المنتج الجديد"})]}),s.jsx(jz,{categories:r,onSubmit:v,onCancel:()=>h(!1)})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المنتجات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"المنتجات المتاحة"}),s.jsx(br,{className:"h-4 w-4 text-green-600"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(S=>_(S)).length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"المنتجات غير المتاحة"}),s.jsx(Z0,{className:"h-4 w-4 text-red-600"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.filter(S=>!_(S)).length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"متوسط التقييم"}),s.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length>0?(e.reduce((S,j)=>S+j.rating,0)/e.length).toFixed(1):"0.0"})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في المنتجات...",value:l,onChange:S=>c(S.target.value),className:"pl-10"})]})}),s.jsxs(Lr,{value:u,onValueChange:d,children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع الفئات"}),r.map(S=>s.jsx(At,{value:S.id,children:S.name},S.id))]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["المنتجات (",g.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"المنتج"}),s.jsx(ut,{children:"الفئة"}),s.jsx(ut,{children:"السعر"}),s.jsx(ut,{children:"التقييم"}),s.jsx(ut,{children:"المخزون"}),s.jsx(ut,{children:"العمولة"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:g.map(S=>{const j=r.find(A=>A.id===S.category);return s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:ps(S.images?.[0]),alt:S.name,className:"w-10 h-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:S.name}),s.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:S.description})]})]})}),s.jsx(dt,{children:s.jsx(jt,{variant:"outline",children:j?.name||S.category})}),s.jsx(dt,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[S.price," ج.م"]}),S.originalPrice&&s.jsxs("div",{className:"text-sm text-muted-foreground line-through",children:[S.originalPrice," ج.م"]})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{children:S.rating.toFixed(1)}),s.jsxs("span",{className:"text-muted-foreground",children:["(",S.reviewCount,")"]})]})}),s.jsx(dt,{children:s.jsx(jt,{variant:S.inStock?"default":"secondary",children:S.inStock?"متاح":"غير متاح"})}),s.jsxs(dt,{children:[S.affiliateCommission,"%"]}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(_i,{open:p?.id===S.id,onOpenChange:A=>!A&&y(null),children:[s.jsx($f,{asChild:!0,children:s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>y(S),children:s.jsx(ld,{className:"h-4 w-4"})})}),s.jsxs(di,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"تعديل المنتج"}),s.jsx(ga,{children:"تعديل تفاصيل المنتج"})]}),p&&s.jsx(jz,{product:p,categories:r,onSubmit:b,onCancel:()=>y(null)})]})]}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{confirm("هل أنت متأكد من حذف هذا المنتج؟")&&w(S.id)},children:s.jsx(fl,{className:"h-4 w-4 text-red-600"})})]})})]},S.id)})})]})})]})]})})}const Ez=({category:t,onSubmit:e,onCancel:n})=>{const[r,i]=M.useState({name:t?.name||"",slug:t?.slug||"",description:t?.description||"",image:t?.image||""}),a=c=>{c.preventDefault(),e(r)},o=c=>c.toLowerCase().replace(/[أ-ي]/g,u=>({أ:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"dh",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"d",ط:"t",ظ:"dh",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y"})[u]||u).replace(/\s+/g,"-").replace(/[^\w\-]+/g,""),l=c=>{i(u=>({...u,name:c,slug:t?u.slug:o(c)}))};return s.jsxs("form",{onSubmit:a,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"name",children:"اسم الفئة"}),s.jsx(st,{id:"name",value:r.name,onChange:c=>l(c.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"slug",children:"الرابط (Slug)"}),s.jsx(st,{id:"slug",value:r.slug,onChange:c=>i(u=>({...u,slug:c.target.value})),placeholder:"electronics",required:!0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["سيكون الرابط: /category/",r.slug]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"description",children:"الوصف"}),s.jsx(_o,{id:"description",value:r.description,onChange:c=>i(u=>({...u,description:c.target.value})),rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"image",children:"رابط الصورة"}),s.jsx(st,{id:"image",value:r.image,onChange:c=>i(u=>({...u,image:c.target.value})),placeholder:"/placeholder.svg"})]}),s.jsxs(Gl,{children:[s.jsx(ge,{type:"button",variant:"outline",onClick:n,children:"إلغاء"}),s.jsx(ge,{type:"submit",children:t?"تحديث الفئة":"إضافة الفئة"})]})]})};function p2e(){const{toast:t}=mr(),[e,n]=M.useState([]),[r,i]=M.useState(!0),[a,o]=M.useState(""),[l,c]=M.useState(!1),[u,d]=M.useState(null);M.useEffect(()=>{(async()=>{i(!0);try{const v=await px.getAll();n(v.categories)}catch(v){console.error("Error fetching categories:",v)}i(!1)})()},[]);const f=e.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.slug.toLowerCase().includes(a.toLowerCase())),h=async g=>{try{console.log("Creating category with data:",g);const v=await rM.create(g);console.log("Category created successfully:",v),n(b=>[v,...b]),c(!1),t({title:"تم بنجاح",description:"تم إضافة الفئة بنجاح"})}catch(v){console.error("Error adding category:",v);const b=v?.message||v?.toString()||"فشل في إضافة الفئة";t({variant:"destructive",title:"خطأ",description:b})}},p=async g=>{if(u)try{const v=await rM.update(u.id,g);n(b=>b.map(w=>w.id===u.id?{...w,...v}:w)),d(null)}catch(v){console.error("Error updating category:",v),alert("فشل في تحديث الفئة")}},y=async g=>{if(confirm("هل أنت متأكد من حذف هذه الفئة؟"))try{await rM.delete(g),n(v=>v.filter(b=>b.id!==g))}catch(v){console.error("Error deleting category:",v),alert("فشل في حذف الفئة")}};return r?s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة الفئات"})}),s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-10 bg-muted rounded mb-4"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((g,v)=>s.jsx("div",{className:"h-16 bg-muted rounded"},v))})]})]})}):s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة الفئات"}),s.jsxs(_i,{open:l,onOpenChange:c,children:[s.jsx($f,{asChild:!0,children:s.jsxs(ge,{children:[s.jsx(sl,{className:"h-4 w-4 mr-2"}),"إضافة فئة جديدة"]})}),s.jsxs(di,{className:"max-w-md",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"إضافة فئة جديدة"}),s.jsx(ga,{children:"أدخل تفاصيل الفئة الجديدة"})]}),s.jsx(Ez,{onSubmit:h,onCancel:()=>c(!1)})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الفئات"}),s.jsx(RZ,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المنتجات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.reduce((g,v)=>g+v.productCount,0)})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"متوسط المنتجات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:e.length>0?Math.round(e.reduce((g,v)=>g+v.productCount,0)/e.length):0})})]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في الفئات...",value:a,onChange:g=>o(g.target.value),className:"pl-10"})]})})}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["الفئات (",f.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"الفئة"}),s.jsx(ut,{children:"الرابط"}),s.jsx(ut,{children:"الوصف"}),s.jsx(ut,{children:"عدد المنتجات"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:f.map(g=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:g.image||"/placeholder.svg",alt:g.name,className:"w-10 h-10 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",g.id]})]})]})}),s.jsx(dt,{children:s.jsxs("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:["/category/",g.slug]})}),s.jsx(dt,{children:s.jsx("div",{className:"max-w-[300px] truncate text-sm text-muted-foreground",children:g.description||"لا يوجد وصف"})}),s.jsx(dt,{children:s.jsx("div",{className:"text-center",children:s.jsx("span",{className:"font-medium",children:g.productCount})})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsxs(_i,{open:u?.id===g.id,onOpenChange:v=>!v&&d(null),children:[s.jsx($f,{asChild:!0,children:s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>d(g),children:s.jsx(ld,{className:"h-4 w-4"})})}),s.jsxs(di,{className:"max-w-md",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"تعديل الفئة"}),s.jsx(ga,{children:"تعديل تفاصيل الفئة"})]}),u&&s.jsx(Ez,{category:u,onSubmit:p,onCancel:()=>d(null)})]})]}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>{confirm("هل أنت متأكد من حذف هذه الفئة؟")&&y(g.id)},children:s.jsx(fl,{className:"h-4 w-4 text-red-600"})})]})})]},g.id))})]})})]})]})})}const m2e=({role:t})=>{const e={USER:{label:"مستخدم",variant:"secondary"},ADMIN:{label:"مدير",variant:"default"},SUPER_ADMIN:{label:"مدير عام",variant:"destructive"}},n=e[t]||e.USER;return s.jsx(jt,{variant:n.variant,children:n.label})},g2e=({isActive:t})=>s.jsx(jt,{variant:t?"default":"secondary",children:t?"نشط":"معطل"});function Nz(){const[t,e]=M.useState([]),[n,r]=M.useState([]),[i,a]=M.useState(!0),[o,l]=M.useState(""),[c,u]=M.useState(""),{toast:d}=mr();M.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0),console.log("Starting to fetch users and affiliates...");const[j,A]=await Promise.all([iM.getAll().catch(C=>(console.error("Failed to fetch users:",C),[])),iM.getAllAffiliates().catch(C=>(console.error("Failed to fetch affiliates:",C),[]))]);console.log("Users data:",j),console.log("Affiliates data:",A),e(j),r(A)}catch(j){console.error("Error fetching data:",j),d({variant:"destructive",title:"خطأ",description:"فشل في تحميل البيانات"})}finally{a(!1)}},h=t.filter(j=>j.name?.toLowerCase().includes(o.toLowerCase())||j.email.toLowerCase().includes(o.toLowerCase())),p=n.filter(j=>j.name.toLowerCase().includes(c.toLowerCase())||j.email.toLowerCase().includes(c.toLowerCase())||j.affiliateCode.toLowerCase().includes(c.toLowerCase())),y=async j=>{try{const A=t.find(C=>C.id===j);if(!A)return;await iM.updateStatus(j,!A.isActive),e(C=>C.map(N=>N.id===j?{...N,isActive:!N.isActive}:N)),d({title:"تم التحديث",description:"تم تحديث حالة المستخدم بنجاح"})}catch(A){d({variant:"destructive",title:"خطأ",description:A.message||"فشل في تحديث حالة المستخدم"})}},g=t.length,v=t.filter(j=>j.isActive).length,b=t.filter(j=>j.role==="ADMIN"||j.role==="SUPER_ADMIN").length,w=n.length,_=n.reduce((j,A)=>j+A.totalEarnings,0),S=n.reduce((j,A)=>j+A.pendingEarnings,0);return s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة المستخدمين والشركاء"})}),i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-8",children:Array.from({length:4}).map((j,A)=>s.jsx(Q4,{},A))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx("table",{className:"min-w-full",children:s.jsx("tbody",{children:s.jsx(K4,{rows:8,cols:7})})})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المستخدمين"}),s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v," نشط"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"المديرين"}),s.jsx(AS,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:b})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الشركاء"}),s.jsx(AS,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.toLocaleString()," ج.م إجمالي الأرباح"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الأرباح المعلقة"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[S.toLocaleString()," ج.م"]})})]})]}),s.jsxs(vl,{defaultValue:"users",className:"space-y-4",children:[s.jsxs(No,{children:[s.jsxs(mn,{value:"users",children:["المستخدمين (",g,")"]}),s.jsxs(mn,{value:"affiliates",children:["الشركاء (",w,")"]})]}),s.jsxs(gn,{value:"users",className:"space-y-4",children:[t.length===0&&!i&&s.jsx(ce,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950",children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wi,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"⚠️ لا يمكن عرض بيانات المستخدمين"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-3",children:"لعرض المستخدمين الحقيقيين، يجب إنشاء collection في Appwrite Database:"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-lg p-4 border border-amber-200",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"خطوات الإعداد:"}),s.jsxs("ol",{className:"text-sm space-y-2 list-decimal list-inside",children:[s.jsxs("li",{children:["افتح ",s.jsx("a",{href:"https://cloud.appwrite.io/console",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:"Appwrite Console"})]}),s.jsxs("li",{children:["اذهب إلى Database → أنشئ collection اسمه ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"users"})]}),s.jsxs("li",{children:["أضف Attributes التالية:",s.jsxs("ul",{className:"mt-1 mr-6 space-y-1 list-disc list-inside text-xs",children:[s.jsxs("li",{children:[s.jsx("code",{children:"email"})," (string, required)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"name"})," (string)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"avatar"})," (string)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"role"}),' (string, default: "USER")']}),s.jsxs("li",{children:[s.jsx("code",{children:"isActive"})," (boolean, default: true)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"isAffiliate"})," (boolean)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"isMerchant"})," (boolean)"]})]})]}),s.jsx("li",{children:"اضبط Permissions للقراءة والكتابة"}),s.jsx("li",{children:"أضف مستخدمين للـ collection"})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["💡 ",s.jsx("strong",{children:"ملاحظة:"})," يمكنك أيضاً استخدام Appwrite Functions لمزامنة Auth Users مع الـ collection تلقائياً."]})]})})}),t.length>0&&s.jsx("div",{className:"flex gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في المستخدمين...",value:o,onChange:j=>l(j.target.value),className:"pl-10"})]})})}),t.length>0&&s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["المستخدمين (",h.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"المستخدم"}),s.jsx(ut,{children:"البريد الإلكتروني"}),s.jsx(ut,{children:"الدور"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"تاريخ التسجيل"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:h.map(j=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(rb,{className:"h-8 w-8",children:[s.jsx(Ej,{src:j.avatar}),s.jsx(ib,{children:j.name?.charAt(0)||j.email.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name||"غير محدد"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",j.id]})]})]})}),s.jsx(dt,{children:j.email}),s.jsx(dt,{children:s.jsx(m2e,{role:j.role})}),s.jsx(dt,{children:s.jsx(g2e,{isActive:j.isActive})}),s.jsx(dt,{children:new Date(j.createdAt).toLocaleDateString("ar-EG")}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",size:"sm",children:s.jsx(ld,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>y(j.id),children:j.isActive?s.jsx(Exe,{className:"h-4 w-4 text-red-600"}):s.jsx(Fi,{className:"h-4 w-4 text-green-600"})})]})})]},j.id))})]})})]})]}),s.jsxs(gn,{value:"affiliates",className:"space-y-4",children:[n.length===0&&!i&&s.jsx(ce,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950",children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(AS,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"⚠️ لا يوجد شركاء تسويق حالياً"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mb-3",children:"لعرض المسوقين بالعمولة، تأكد من:"})]})]}),s.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-lg p-4 border border-amber-200",children:s.jsxs("ul",{className:"text-sm space-y-2 list-disc list-inside",children:[s.jsxs("li",{children:["وجود collection ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"users"})," في قاعدة البيانات"]}),s.jsxs("li",{children:["وجود attribute ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"isAffiliate"})," (boolean)"]}),s.jsxs("li",{children:["تعيين ",s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"isAffiliate = true"})," للمستخدمين المسوقين"]}),s.jsxs("li",{children:["إضافة attributes للعمولات:",s.jsxs("ul",{className:"mt-1 mr-6 space-y-1 list-circle list-inside text-xs",children:[s.jsxs("li",{children:[s.jsx("code",{children:"affiliateCode"})," (string)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"commissionRate"})," (number, مثال: 15)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"totalEarnings"})," (number)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"pendingEarnings"})," (number)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"referralCount"})," (number)"]})]})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["💡 ",s.jsx("strong",{children:"نصيحة:"})," يمكن للمستخدمين التسجيل كمسوقين من صفحة ",s.jsx("code",{children:"/affiliate"})]})]})})}),n.length>0&&s.jsx("div",{className:"flex gap-4",children:s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في الشركاء...",value:c,onChange:j=>u(j.target.value),className:"pl-10"})]})})}),n.length>0&&s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["الشركاء (",p.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"الشريك"}),s.jsx(ut,{children:"كود الشريك"}),s.jsx(ut,{children:"نسبة العمولة"}),s.jsx(ut,{children:"إجمالي الأرباح"}),s.jsx(ut,{children:"الأرباح المعلقة"}),s.jsx(ut,{children:"عدد الإحالات"}),s.jsx(ut,{children:"تاريخ الانضمام"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:p.map(j=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(rb,{className:"h-8 w-8",children:[s.jsx(Ej,{src:j.user.avatar}),s.jsx(ib,{children:j.name.charAt(0)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:j.email})]})]})}),s.jsx(dt,{children:s.jsx(jt,{variant:"outline",children:j.affiliateCode})}),s.jsxs(dt,{children:[j.commissionRate,"%"]}),s.jsxs(dt,{children:[j.totalEarnings.toLocaleString()," ج.م"]}),s.jsxs(dt,{children:[j.pendingEarnings.toLocaleString()," ج.م"]}),s.jsx(dt,{children:j.referralCount}),s.jsx(dt,{children:new Date(j.joinedAt).toLocaleDateString("ar-EG")}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",size:"sm",children:s.jsx(ld,{className:"h-4 w-4"})}),s.jsx(ge,{variant:"outline",size:"sm",children:s.jsx(kr,{className:"h-4 w-4"})})]})})]},j.id))})]})})]})]})]})]})]})})}const jy=void 0;function v2e(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState([]),[i,a]=M.useState(!1),[o,l]=M.useState(""),[c,u]=M.useState("all"),[d,f]=M.useState(!1),[h,p]=M.useState({email:"",password:"",name:"",phone:"",role:"customer",defaultMarkupPercentage:"20"}),[y,g]=M.useState(!1),[v,b]=M.useState(null),[w,_]=M.useState("20"),[S,j]=M.useState(!1),[A,C]=M.useState(null),[N,T]=M.useState({name:"",email:"",phone:"",role:"customer",defaultMarkupPercentage:"20"});M.useEffect(()=>{P()},[]);const P=async()=>{a(!0);try{const U=await tt.listDocuments(jy,"userPreferences",[Se.limit(100),Se.orderDesc("$createdAt")]);r(U.documents)}catch{e({title:"خطأ",description:"فشل تحميل المستخدمين",variant:"destructive"})}finally{a(!1)}},D=async()=>{if(!h.email||!h.password||!h.name){e({title:"تحذير",description:"الرجاء ملء جميع الحقول المطلوبة",variant:"destructive"});return}try{const U=za.unique();await tt.createDocument(jy,"userPreferences",U,{userId:U,email:h.email,name:h.name,phone:h.phone||"",role:h.role,isAdmin:h.role==="admin",isAffiliate:h.role==="affiliate",isMerchant:h.role==="merchant",isIntermediary:!1,affiliateCode:h.role==="affiliate"?`AFF${Date.now()}`:"",intermediaryCode:"",defaultMarkupPercentage:0,commissionRate:h.role==="affiliate"?10:0}),e({title:"نجح!",description:`تم إنشاء حساب ${h.name} بنجاح`}),f(!1),p({email:"",password:"",name:"",phone:"",role:"customer",defaultMarkupPercentage:"20"}),P()}catch(U){e({title:"خطأ",description:U.message||"فشل إنشاء الحساب",variant:"destructive"})}},O=async()=>{if(!(!v||!w))try{const U=`INT${Date.now()}`;await tt.updateDocument(jy,"userPreferences",v.$id,{role:"intermediary",isIntermediary:!0,intermediaryCode:U,defaultMarkupPercentage:parseFloat(w)}),e({title:"تم التفعيل!",description:`تم تفعيل دور الوسيط لـ ${v.name}`}),g(!1),b(null),_("20"),P()}catch(U){e({title:"خطأ",description:U.message||"فشل تفعيل دور الوسيط",variant:"destructive"})}},I=U=>{b(U),g(!0)},L=U=>{C(U),T({name:U.name||"",email:U.email||"",phone:U.phone||"",role:U.role||"customer",defaultMarkupPercentage:U.defaultMarkupPercentage?.toString()||"20"}),j(!0)},z=async()=>{if(!A||!N.name||!N.email){e({title:"تحذير",description:"الرجاء ملء جميع الحقول المطلوبة",variant:"destructive"});return}try{await tt.updateDocument(jy,"userPreferences",A.$id,{name:N.name,email:N.email,phone:N.phone||"",role:N.role,isAdmin:N.role==="admin",isAffiliate:N.role==="affiliate",isMerchant:N.role==="merchant",defaultMarkupPercentage:A.isIntermediary?parseFloat(N.defaultMarkupPercentage):A.defaultMarkupPercentage||0}),e({title:"نجح!",description:`تم تحديث ${N.name} بنجاح`}),j(!1),C(null),P()}catch(U){e({title:"خطأ",description:U.message||"فشل تحديث المستخدم",variant:"destructive"})}},q=async(U,H)=>{if(confirm(`هل أنت متأكد من حذف ${H}؟`))try{await tt.deleteDocument(jy,"userPreferences",U),e({title:"تم الحذف",description:`تم حذف ${H}`}),P()}catch{e({title:"خطأ",description:"فشل حذف المستخدم",variant:"destructive"})}},V=U=>{const H={admin:"bg-red-100 text-red-800",intermediary:"bg-purple-100 text-purple-800",merchant:"bg-blue-100 text-blue-800",affiliate:"bg-green-100 text-green-800",customer:"bg-gray-100 text-gray-800"},$={admin:"مدير",intermediary:"وسيط",merchant:"تاجر",affiliate:"مسوق",customer:"عميل"};return s.jsx(jt,{className:H[U]||H.customer,children:$[U]||U})},F=n.filter(U=>{const H=U.name?.toLowerCase().includes(o.toLowerCase())||U.email?.toLowerCase().includes(o.toLowerCase())||U.phone?.includes(o),$=c==="all"||U.role===c;return H&&$});return s.jsx("div",{className:"container mx-auto p-6",dir:"rtl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(wi,{className:"h-8 w-8"}),"إدارة المستخدمين"]}),s.jsx("p",{className:"text-muted-foreground",children:"إدارة حسابات المستخدمين والوسطاء"})]}),s.jsxs(ge,{onClick:()=>f(!0),children:[s.jsx($0e,{className:"h-4 w-4 ml-2"}),"إضافة مستخدم"]})]}),s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"بحث"}),s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(st,{placeholder:"ابحث بالاسم، البريد، أو الهاتف...",value:o,onChange:U=>l(U.target.value),className:"pr-10"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"تصفية حسب الدور"}),s.jsxs(Lr,{value:c,onValueChange:u,children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"الكل"}),s.jsx(At,{value:"admin",children:"مدير"}),s.jsx(At,{value:"intermediary",children:"وسيط"}),s.jsx(At,{value:"merchant",children:"تاجر"}),s.jsx(At,{value:"affiliate",children:"مسوق"}),s.jsx(At,{value:"customer",children:"عميل"})]})]})]})]})})}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["المستخدمون (",F.length,")"]})}),s.jsx(he,{children:i?s.jsx(K4,{rows:8,cols:7}):F.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد نتائج"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"الاسم"}),s.jsx(ut,{children:"البريد الإلكتروني"}),s.jsx(ut,{children:"الهاتف"}),s.jsx(ut,{children:"الدور"}),s.jsx(ut,{children:"الكود"}),s.jsx(ut,{children:"تاريخ الإنشاء"}),s.jsx(ut,{children:"إجراءات"})]})}),s.jsx(ys,{children:F.map(U=>s.jsxs(Vn,{children:[s.jsx(dt,{className:"font-medium",children:U.name}),s.jsx(dt,{children:U.email}),s.jsx(dt,{children:U.phone||"-"}),s.jsx(dt,{children:V(U.role)}),s.jsx(dt,{children:s.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded",children:U.affiliateCode||U.intermediaryCode||"-"})}),s.jsx(dt,{children:new Date(U.$createdAt).toLocaleDateString("ar-EG")}),s.jsx(dt,{children:s.jsxs("div",{className:"flex gap-2",children:[U.role==="customer"&&!U.isIntermediary&&s.jsx(ge,{size:"sm",variant:"default",className:"bg-purple-600 hover:bg-purple-700",onClick:()=>I(U),children:"تفعيل الوسيط"}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>L(U),children:s.jsx(ld,{className:"h-4 w-4"})}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>q(U.$id,U.name),children:s.jsx(fl,{className:"h-4 w-4"})})]})})]},U.$id))})]})})})]}),s.jsx(_i,{open:d,onOpenChange:f,children:s.jsxs(di,{className:"sm:max-w-[500px]",dir:"rtl",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"إضافة مستخدم جديد"}),s.jsx(ga,{children:"أدخل بيانات المستخدم الجديد"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"name",children:"الاسم *"}),s.jsx(st,{id:"name",value:h.name,onChange:U=>p({...h,name:U.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني *"}),s.jsx(st,{id:"email",type:"email",value:h.email,onChange:U=>p({...h,email:U.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"password",children:"كلمة المرور *"}),s.jsx(st,{id:"password",type:"password",value:h.password,onChange:U=>p({...h,password:U.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"phone",children:"الهاتف"}),s.jsx(st,{id:"phone",type:"tel",value:h.phone,onChange:U=>p({...h,phone:U.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"role",children:"الدور *"}),s.jsxs(Lr,{value:h.role,onValueChange:U=>p({...h,role:U}),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"customer",children:"عميل"}),s.jsx(At,{value:"affiliate",children:"مسوق"}),s.jsx(At,{value:"merchant",children:"تاجر"}),s.jsx(At,{value:"admin",children:"مدير"})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"ملاحظة: دور الوسيط يمكن تفعيله للعملاء من خلال الجدول"})]})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>f(!1),children:"إلغاء"}),s.jsx(ge,{onClick:D,children:"إنشاء الحساب"})]})]})}),s.jsx(_i,{open:y,onOpenChange:g,children:s.jsxs(di,{className:"sm:max-w-[500px]",dir:"rtl",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"تفعيل دور الوسيط"}),s.jsxs(ga,{children:["تفعيل دور الوسيط لـ ",v?.name]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[s.jsx("strong",{children:"العميل:"})," ",v?.name]}),s.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[s.jsx("strong",{children:"البريد:"})," ",v?.email]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"intermediary-markup",children:"نسبة الترميز الافتراضية (%)"}),s.jsx(st,{id:"intermediary-markup",type:"number",min:"0",max:"100",value:w,onChange:U=>_(U.target.value),placeholder:"مثال: 20"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"النسبة التي سيتم إضافتها على سعر المنتج الأصلي"})]}),s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"ℹ️ سيتم توليد كود وسيط فريد تلقائياً"}),s.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"ℹ️ سيتمكن الوسيط من إضافة المنتجات من روابط خارجية"})]})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>{g(!1),b(null),_("20")},children:"إلغاء"}),s.jsx(ge,{onClick:O,className:"bg-purple-600 hover:bg-purple-700",children:"تفعيل الوسيط"})]})]})}),s.jsx(_i,{open:S,onOpenChange:j,children:s.jsxs(di,{className:"max-w-md",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"تعديل بيانات المستخدم"}),s.jsx(ga,{children:"قم بتعديل بيانات المستخدم وحفظ التغييرات"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-name",children:"الاسم"}),s.jsx(st,{id:"edit-name",value:N.name,onChange:U=>T({...N,name:U.target.value}),placeholder:"أدخل اسم المستخدم"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-email",children:"البريد الإلكتروني"}),s.jsx(st,{id:"edit-email",type:"email",value:N.email,onChange:U=>T({...N,email:U.target.value}),placeholder:"user@example.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-phone",children:"رقم الهاتف"}),s.jsx(st,{id:"edit-phone",value:N.phone,onChange:U=>T({...N,phone:U.target.value}),placeholder:"+20 123 456 7890"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-role",children:"الدور"}),s.jsxs("select",{id:"edit-role",className:"w-full p-2 border rounded-md bg-background",value:N.role,onChange:U=>T({...N,role:U.target.value}),children:[s.jsx("option",{value:"customer",children:"عميل"}),s.jsx("option",{value:"affiliate",children:"مسوق بالعمولة"}),s.jsx("option",{value:"merchant",children:"تاجر"}),s.jsx("option",{value:"admin",children:"مدير"})]})]}),A?.isIntermediary&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-markup",children:"نسبة الهامش الربحي الافتراضية (%)"}),s.jsx(st,{id:"edit-markup",type:"number",min:"0",max:"100",value:N.defaultMarkupPercentage,onChange:U=>T({...N,defaultMarkupPercentage:U.target.value}),placeholder:"20"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"النسبة التي سيتم إضافتها على سعر المنتج الأصلي"})]})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>{j(!1),C(null)},children:"إلغاء"}),s.jsx(ge,{onClick:z,className:"bg-blue-600 hover:bg-blue-700",children:"حفظ التعديلات"})]})]})})]})})}const x2e=({status:t})=>{const e={PENDING:{label:"في الانتظار",variant:"secondary",icon:Ui},PROCESSING:{label:"قيد المعالجة",variant:"default",icon:ti},SHIPPED:{label:"تم الشحن",variant:"outline",icon:va},DELIVERED:{label:"تم التسليم",variant:"secondary",icon:Fi},CANCELLED:{label:"ملغي",variant:"destructive",icon:ov}},n=e[t]||e.PENDING,r=n.icon;return s.jsxs(jt,{variant:n.variant,className:"flex items-center gap-1",children:[s.jsx(r,{className:"h-3 w-3"}),n.label]})},y2e=({status:t})=>{const e={PENDING:{label:"في الانتظار",variant:"secondary"},PAID:{label:"مدفوع",variant:"default"},FAILED:{label:"فشل",variant:"destructive"},REFUNDED:{label:"مسترد",variant:"outline"}},n=e[t]||e.PENDING;return s.jsx(jt,{variant:n.variant,children:n.label})};function b2e(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,a]=M.useState(""),[o,l]=M.useState("all"),[c,u]=M.useState("all");M.useEffect(()=>{(async()=>{r(!0);try{const _=await wz.getAll();e(_)}catch(_){console.error("Error fetching orders:",_),e([])}r(!1)})()},[]);const d=t.filter(w=>{const _=w.orderNumber?.toLowerCase().includes(i.toLowerCase())||w.userId?.toLowerCase().includes(i.toLowerCase()),S=o==="all"||w.status===o;return _&&S}),f=async(w,_)=>{try{await wz.updateStatus(w,_),e(S=>S.map(j=>j.id===w?{...j,status:_,updatedAt:new Date().toISOString()}:j))}catch(S){console.error("Error updating order status:",S),alert("فشل في تحديث حالة الطلب")}},h=t.length,p=t.filter(w=>w.status==="PENDING").length,y=t.filter(w=>w.status==="PROCESSING").length,g=t.filter(w=>w.status==="SHIPPED").length,v=t.reduce((w,_)=>w+_.total,0),b=t.filter(w=>w.paymentStatus==="PAID").reduce((w,_)=>w+_.total,0);return s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة الطلبات"})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الطلبات"}),s.jsx(ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:h})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الطلبات المعلقة"}),s.jsx(Ui,{className:"h-4 w-4 text-amber-600"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y," قيد المعالجة"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"تم الشحن"}),s.jsx(va,{className:"h-4 w-4 text-blue-600"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:g})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الإيرادات"}),s.jsx(kr,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[v.toLocaleString()," ج.م"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.toLocaleString()," ج.م مدفوع"]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في الطلبات...",value:i,onChange:w=>a(w.target.value),className:"pl-10"})]})}),s.jsxs(Lr,{value:o,onValueChange:l,children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{placeholder:"حالة الطلب"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع الحالات"}),s.jsx(At,{value:"PENDING",children:"في الانتظار"}),s.jsx(At,{value:"PROCESSING",children:"قيد المعالجة"}),s.jsx(At,{value:"SHIPPED",children:"تم الشحن"}),s.jsx(At,{value:"DELIVERED",children:"تم التسليم"}),s.jsx(At,{value:"CANCELLED",children:"ملغي"})]})]}),s.jsxs(Lr,{value:c,onValueChange:u,children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{placeholder:"حالة الدفع"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع حالات الدفع"}),s.jsx(At,{value:"PENDING",children:"في الانتظار"}),s.jsx(At,{value:"PAID",children:"مدفوع"}),s.jsx(At,{value:"FAILED",children:"فشل"}),s.jsx(At,{value:"REFUNDED",children:"مسترد"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["الطلبات (",d.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"رقم الطلب"}),s.jsx(ut,{children:"العميل"}),s.jsx(ut,{children:"المنتجات"}),s.jsx(ut,{children:"المبلغ"}),s.jsx(ut,{children:"حالة الطلب"}),s.jsx(ut,{children:"حالة الدفع"}),s.jsx(ut,{children:"التاريخ"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:d.map(w=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:w.orderNumber})}),s.jsx(dt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:w.user?.name||"غير محدد"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:w.user?.email})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm",children:[w.items.length," منتج",w.items.length>0&&s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[w.items[0].product.name,w.items.length>1&&` +${w.items.length-1} أخرى`]})]})}),s.jsxs(dt,{children:[s.jsxs("div",{className:"font-medium",children:[w.total.toLocaleString()," ج.م"]}),w.discount>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["خصم: ",w.discount," ج.م"]})]}),s.jsx(dt,{children:s.jsx(x2e,{status:w.status})}),s.jsx(dt,{children:s.jsx(y2e,{status:w.paymentStatus})}),s.jsxs(dt,{children:[s.jsx("div",{className:"text-sm",children:new Date(w.createdAt).toLocaleDateString("ar-EG")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(w.createdAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{variant:"outline",size:"sm",children:s.jsx($s,{className:"h-4 w-4"})}),s.jsxs(Lr,{value:w.status,onValueChange:_=>f(w.id,_),children:[s.jsx(Mr,{className:"w-[120px] h-8",children:s.jsx(ld,{className:"h-3 w-3"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"PENDING",children:"في الانتظار"}),s.jsx(At,{value:"PROCESSING",children:"قيد المعالجة"}),s.jsx(At,{value:"SHIPPED",children:"تم الشحن"}),s.jsx(At,{value:"DELIVERED",children:"تم التسليم"}),s.jsx(At,{value:"CANCELLED",children:"ملغي"})]})]})]})})]},w.id))})]})})]})]})})}const w2e=({status:t})=>{const e={PENDING:{label:"في الانتظار",variant:"secondary",icon:Ui},APPROVED:{label:"موافق عليها",variant:"default",icon:ul},PAID:{label:"مدفوعة",variant:"secondary",icon:Jl},CANCELLED:{label:"ملغية",variant:"destructive",icon:tm}},n=e[t]||e.PENDING,r=n.icon;return s.jsxs(jt,{variant:n.variant,className:"flex items-center gap-1",children:[s.jsx(r,{className:"h-3 w-3"}),n.label]})};function _2e(){const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,a]=M.useState(""),[o,l]=M.useState("all");M.useEffect(()=>{(async()=>{r(!0);try{const S=await _z.getAll();e(S)}catch(S){console.error("Error fetching commissions:",S),e([])}finally{r(!1)}})()},[]);const c=t.filter(_=>{const S=_.affiliate.name.toLowerCase().includes(i.toLowerCase())||_.affiliate.email.toLowerCase().includes(i.toLowerCase())||_.affiliate.affiliateCode.toLowerCase().includes(i.toLowerCase())||_.order.orderNumber.toLowerCase().includes(i.toLowerCase()),j=o==="all"||_.status===o;return S&&j}),u=async(_,S)=>{try{await _z.updateStatus(_,S),e(j=>j.map(A=>A.id===_?{...A,status:S,updatedAt:new Date().toISOString()}:A))}catch(j){console.error("Error updating commission status:",j)}},d=t.length,f=t.filter(_=>_.status==="PENDING"),h=t.filter(_=>_.status==="APPROVED"),p=t.filter(_=>_.status==="PAID"),y=t.reduce((_,S)=>_+S.amount,0),g=f.reduce((_,S)=>_+S.amount,0),v=h.reduce((_,S)=>_+S.amount,0),b=p.reduce((_,S)=>_+S.amount,0),w=new Set(t.map(_=>_.affiliateId)).size;return s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"إدارة العمولات"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ge,{variant:"outline",children:[s.jsx(Jl,{className:"h-4 w-4 mr-2"}),"دفع العمولات المعتمدة"]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي العمولات"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[y.toLocaleString()," ج.م إجمالي"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"في الانتظار"}),s.jsx(Ui,{className:"h-4 w-4 text-amber-600"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.toLocaleString()," ج.م"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"معتمدة"}),s.jsx(ul,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.toLocaleString()," ج.م جاهزة للدفع"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"مدفوعة"}),s.jsx(br,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:p.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[b.toLocaleString()," ج.م مدفوعة"]})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الشركاء النشطين"}),s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"لديهم عمولات هذا الشهر"})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"متوسط العمولة"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[d>0?(y/d).toFixed(2):"0"," ","ج.م"]})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"معدل الموافقة"}),s.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[d>0?Math.round((h.length+p.length)/d*100):0,"%"]})})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(st,{placeholder:"البحث في العمولات...",value:i,onChange:_=>a(_.target.value),className:"pl-10"})]})}),s.jsxs(Lr,{value:o,onValueChange:l,children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{placeholder:"حالة العمولة"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع الحالات"}),s.jsx(At,{value:"PENDING",children:"في الانتظار"}),s.jsx(At,{value:"APPROVED",children:"معتمدة"}),s.jsx(At,{value:"PAID",children:"مدفوعة"}),s.jsx(At,{value:"CANCELLED",children:"ملغية"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{children:["العمولات (",c.length,")"]})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"الشريك"}),s.jsx(ut,{children:"الطلب"}),s.jsx(ut,{children:"المنتج"}),s.jsx(ut,{children:"المبلغ"}),s.jsx(ut,{children:"النسبة"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"التاريخ"}),s.jsx(ut,{className:"text-center",children:"الإجراءات"})]})}),s.jsx(ys,{children:c.map(_=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:_.affiliate.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:_.affiliate.affiliateCode})]})}),s.jsx(dt,{children:s.jsx(jt,{variant:"outline",children:_.order.orderNumber})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:_.product?.name||"غير محدد"})}),s.jsx(dt,{children:s.jsxs("div",{className:"font-medium",children:[_.amount.toFixed(2)," ج.م"]})}),s.jsxs(dt,{children:[_.percentage,"%"]}),s.jsx(dt,{children:s.jsx(w2e,{status:_.status})}),s.jsxs(dt,{children:[s.jsx("div",{className:"text-sm",children:new Date(_.createdAt).toLocaleDateString("ar-EG")}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(_.createdAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[_.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>u(_.id,"APPROVED"),children:s.jsx(ul,{className:"h-4 w-4 text-green-600"})}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>u(_.id,"CANCELLED"),children:s.jsx(tm,{className:"h-4 w-4 text-red-600"})})]}),_.status==="APPROVED"&&s.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>u(_.id,"PAID"),children:[s.jsx(Jl,{className:"h-4 w-4"}),"دفع"]}),_.status==="PAID"&&s.jsx(jt,{variant:"secondary",children:"تم الدفع"}),_.status==="CANCELLED"&&s.jsx(jt,{variant:"destructive",children:"ملغية"})]})})]},_.id))})]})})]})]})})}var t5="Progress",n5=100,[S2e]=Ni(t5),[j2e,E2e]=S2e(t5),cre=M.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=N2e,...o}=t;(i||i===0)&&!Az(i)&&console.error(A2e(`${i}`,"Progress"));const l=Az(i)?i:n5;r!==null&&!Cz(r,l)&&console.error(C2e(`${r}`,"Progress"));const c=Cz(r,l)?r:null,u=Nj(c)?a(c,l):void 0;return s.jsx(j2e,{scope:n,value:c,max:l,children:s.jsx(Mt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Nj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":fre(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});cre.displayName=t5;var ure="ProgressIndicator",dre=M.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=E2e(ure,n);return s.jsx(Mt.div,{"data-state":fre(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});dre.displayName=ure;function N2e(t,e){return`${Math.round(t/e*100)}%`}function fre(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Nj(t){return typeof t=="number"}function Az(t){return Nj(t)&&!isNaN(t)&&t>0}function Cz(t,e){return Nj(t)&&!isNaN(t)&&t<=e&&t>=0}function A2e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${n5}\`.`}function C2e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${n5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var hre=cre,M2e=dre;const Fp=M.forwardRef(({className:t,value:e,...n},r)=>s.jsx(hre,{ref:r,className:Nt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:s.jsx(M2e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Fp.displayName=hre.displayName;function T2e({productId:t}){const{user:e}=ur(),{toast:n}=mr(),r=Zf(),[i,a]=M.useState(!1),[o,l]=M.useState(5),[c,u]=M.useState(""),{data:d,isLoading:f}=ci({queryKey:zs.reviews(t),queryFn:()=>TC.getProductReviews(t)}),h=d?.reviews||[],p=d?.stats||{totalReviews:0,averageRating:0,ratingDistribution:[]},y=ql({mutationFn:TC.createReview,onSuccess:()=>{r.invalidateQueries({queryKey:zs.reviews(t)}),a(!1),u(""),l(5),n({title:"✅ تمت إضافة التقييم",description:"شكراً لتقييمك! تم إضافة مراجعتك بنجاح"})},onError:_=>{n({title:"خطأ",description:_.message||"فشل في إضافة المراجعة",variant:"destructive"})}}),g=ql({mutationFn:({id:_,userId:S})=>TC.deleteReview(_,S),onSuccess:()=>{r.invalidateQueries({queryKey:zs.reviews(t)}),n({title:"تم الحذف",description:"تم حذف التقييم بنجاح"})},onError:_=>{n({title:"خطأ",description:_.message||"فشل في حذف المراجعة",variant:"destructive"})}}),v=()=>{if(!e){n({title:"يجب تسجيل الدخول",description:"الرجاء تسجيل الدخول لإضافة تقييم",variant:"destructive"});return}y.mutate({productId:t,userId:e.$id,rating:o,comment:c.trim()||void 0})},b=_=>{e&&confirm("هل أنت متأكد من حذف التقييم؟")&&g.mutate({id:_,userId:e.$id})},w=h.find(_=>e&&_.userEmail===e.email);return f?s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsx("p",{className:"text-center text-muted-foreground",children:"جاري تحميل التقييمات..."})})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"تقييمات المنتج"})}),s.jsxs(he,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-5xl font-bold mb-2",children:p.averageRating.toFixed(1)}),s.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[1,2,3,4,5].map(_=>s.jsx(da,{className:`h-6 w-6 ${_<=Math.round(p.averageRating)?"fill-yellow-400 text-yellow-400":"text-muted"}`},_))}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["بناءً على ",p.totalReviews," تقييم"]})]}),s.jsx("div",{className:"space-y-2",children:p.ratingDistribution.map(_=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-1 w-16",children:[s.jsx("span",{className:"text-sm font-medium",children:_.stars}),s.jsx(da,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),s.jsx(Fp,{value:_.percentage,className:"flex-1"}),s.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:_.count})]},_.stars))})]}),s.jsx(Br,{className:"my-6"}),e&&!w&&s.jsxs(ge,{onClick:()=>a(!0),className:"w-full",children:[s.jsx(sl,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"أضف تقييمك"]}),!e&&s.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"يجب تسجيل الدخول لإضافة تقييم"})]})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(ce,{children:s.jsx(he,{className:"p-6 text-center text-muted-foreground",children:"لا توجد تقييمات لهذا المنتج بعد. كن أول من يقيم!"})}):h.map(_=>s.jsx(ce,{children:s.jsxs(he,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(rb,{children:s.jsx(ib,{children:_.userName.substring(0,2).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:_.userName}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(S=>s.jsx(da,{className:`h-4 w-4 ${S<=_.rating?"fill-yellow-400 text-yellow-400":"text-muted"}`},S))}),s.jsx("span",{className:"text-sm text-muted-foreground",children:_.date})]})]})]}),e&&_.userEmail===e.email&&s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>b(_.id),disabled:g.isPending,children:s.jsx(fl,{className:"h-4 w-4 text-destructive"})})]}),_.comment&&s.jsx("p",{className:"text-muted-foreground",children:_.comment})]})},_.id))}),s.jsx(_i,{open:i,onOpenChange:a,children:s.jsxs(di,{children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"أضف تقييمك"}),s.jsx(ga,{children:"شاركنا رأيك حول هذا المنتج"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"التقييم"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(_=>s.jsx("button",{type:"button",onClick:()=>l(_),className:"focus:outline-none",children:s.jsx(da,{className:`h-8 w-8 cursor-pointer transition-colors ${_<=o?"fill-yellow-400 text-yellow-400":"text-muted hover:text-yellow-200"}`})},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"التعليق (اختياري)"}),s.jsx(_o,{placeholder:"اكتب تعليقك هنا...",value:c,onChange:_=>u(_.target.value),rows:4})]})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>a(!1),disabled:y.isPending,children:"إلغاء"}),s.jsx(ge,{onClick:v,disabled:y.isPending,children:y.isPending?"جاري الإضافة...":"إضافة التقييم"})]})]})})]})}function P2e(){const{id:t}=dN(),{user:e}=ur(),{toast:n}=mr(),{addItem:r}=gx(),[i,a]=M.useState(0),[o,l]=M.useState(1),[c,u]=M.useState(!1),[d,f]=M.useState(""),[h,p]=M.useState(""),[y,g]=M.useState(!1),[v,b]=M.useState(!1),[w,_]=M.useState(0),[S,j]=M.useState([]),A=[{name:"أسود",value:"black",hex:"#000000"},{name:"أبيض",value:"white",hex:"#FFFFFF",border:!0},{name:"أزرق",value:"blue",hex:"#3B82F6"},{name:"أحمر",value:"red",hex:"#EF4444"},{name:"أخضر",value:"green",hex:"#10B981"}],C=["S","M","L","XL","XXL"],{data:N,isLoading:T}=ci({queryKey:[...zs.products,t],queryFn:()=>hl.getById(t),enabled:!!t});if(M.useEffect(()=>{if(N)try{const z=N.colorSizeInventory;if(z&&z!=="[]"&&z!==""){const F=JSON.parse(z);if(F.length>0){j(F);const U=F.reduce((H,$)=>H+($.quantity||0),0);_(U),console.log("📦 Product inventory loaded:",{total:U,inventory:F});return}}const q=N.colors||[],V=N.sizes||[];if(q.length>0||V.length>0)_(999),console.log("✅ Product has colors/sizes, defaulting to stock: 999");else{const F=N.stock||N.stockQuantity||0;_(F>0?F:999),console.log("📦 Using old stock or default:",F||999)}}catch(z){console.error("❌ Error parsing inventory:",z),_(999)}},[N]),T)return s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx(Da,{className:"h-8 w-8 animate-spin"})});if(!N)return s.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"المنتج غير موجود"}),s.jsx(ge,{asChild:!0,children:s.jsx(ot,{to:"/products",children:"العودة للمنتجات"})})]});const P=N.images?.length?N.images:[{url:"https://via.placeholder.com/600x600?text=No+Image",alt:N.name}],D=N.originalPrice?Math.round((N.originalPrice-N.price)/N.originalPrice*100):0,O=()=>{if(A.length>0&&!d){n({title:"يرجى اختيار اللون",description:"الرجاء اختيار لون المنتج قبل الإضافة للسلة",variant:"destructive"});return}if(C.length>0&&!h){n({title:"يرجى اختيار المقاس",description:"الرجاء اختيار مقاس المنتج قبل الإضافة للسلة",variant:"destructive"});return}const z=d?A.find(V=>V.value===d)?.name:void 0;r({productId:N.id,name:N.name,price:N.price,originalPrice:N.originalPrice,image:P[0]?.url||"",quantity:o,stockQuantity:w,inStock:w>0,color:z,size:h||void 0});const q=[z,h].filter(Boolean).join(" - ");n({title:"✅ تمت الإضافة لسلة التسوق",description:`تم إضافة ${o} من ${N.name}${q?` (${q})`:""} إلى سلة التسوق`})},I=()=>{u(!c),n({title:c?"تمت الإزالة من المفضلة":"تمت الإضافة للمفضلة",description:c?"تم إزالة المنتج من قائمة المفضلة":"تم إضافة المنتج إلى قائمة المفضلة"})},L=()=>{navigator.share?navigator.share({title:N.name,text:N.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),n({title:"تم النسخ",description:"تم نسخ رابط المنتج إلى الحافظة"}))};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ot,{to:"/",className:"hover:text-foreground",children:"الرئيسية"}),s.jsx("span",{children:"/"}),s.jsx(ot,{to:"/products",className:"hover:text-foreground",children:"المنتجات"}),s.jsx("span",{children:"/"}),N.category?.slug?s.jsx(ot,{to:`/category/${N.category.slug}`,className:"hover:text-foreground",children:N.category.name}):s.jsx("span",{className:"text-muted-foreground",children:N.category?.name||"غير محدد"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-foreground",children:N.name})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-muted group cursor-zoom-in",onClick:()=>g(!0),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[s.jsx("img",{src:P[i].url,alt:P[i].alt||N.name,className:`w-full h-full object-cover transition-transform duration-300 ${v?"scale-110":"scale-100"}`}),D>0&&s.jsxs(jt,{className:"absolute top-4 left-4 bg-red-500",children:["خصم ",D,"%"]}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:s.jsx(qZ,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),P.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:P.map((z,q)=>s.jsx("button",{onClick:()=>a(q),className:`aspect-square rounded-lg overflow-hidden border-2 transition-colors ${i===q?"border-primary":"border-transparent hover:border-muted-foreground"}`,children:s.jsx("img",{src:z.url,alt:z.alt||`${N.name} ${q+1}`,className:"w-full h-full object-cover"})},q))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:N.name}),s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((z,q)=>s.jsx(da,{className:`h-5 w-5 ${q<Math.floor(N.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},q)),s.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:["(",N.reviewCount," تقييم)"]})]}),s.jsx(Br,{orientation:"vertical",className:"h-5"}),s.jsx(jt,{variant:w>0?"default":"destructive",children:w>0?`متوفر (${w})`:"غير متوفر"})]})]}),s.jsx(Br,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsxs("span",{className:"text-4xl font-bold text-primary",children:[N.price.toLocaleString()," ج.م"]}),N.originalPrice&&s.jsxs("span",{className:"text-2xl text-muted-foreground line-through",children:[N.originalPrice.toLocaleString()," ج.م"]})]}),N.originalPrice&&s.jsxs("p",{className:"text-sm text-green-600",children:["وفّر ",(N.originalPrice-N.price).toLocaleString()," ج.م"]})]}),s.jsx(Br,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"وصف المنتج"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:N.description})]}),s.jsx(Br,{}),A.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold",children:["اللون: ",d&&s.jsx("span",{className:"text-primary",children:A.find(z=>z.value===d)?.name})]}),s.jsx("div",{className:"flex gap-3 flex-wrap",children:A.map(z=>s.jsx("button",{onClick:()=>f(z.value),className:`relative w-12 h-12 rounded-full transition-all ${d===z.value?"ring-2 ring-primary ring-offset-2 scale-110":"hover:scale-105"} ${z.border?"border-2 border-gray-300":""}`,style:{backgroundColor:z.hex},title:z.name,children:d===z.value&&s.jsx(ul,{className:"h-6 w-6 absolute inset-0 m-auto text-white drop-shadow-lg",style:{color:z.value==="white"?"#000000":"#ffffff"}})},z.value))})]}),C.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"font-semibold",children:["المقاس: ",h&&s.jsx("span",{className:"text-primary",children:h})]}),s.jsx("div",{className:"flex gap-2 flex-wrap",children:C.map(z=>s.jsx("button",{onClick:()=>p(z),className:`px-6 py-3 rounded-lg border-2 font-medium transition-all ${h===z?"border-primary bg-primary text-primary-foreground":"border-muted hover:border-primary/50"}`,children:z},z))})]}),s.jsx(Br,{}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-semibold",children:"الكمية:"}),s.jsxs("div",{className:"flex items-center border rounded-lg",children:[s.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>l(Math.max(1,o-1)),disabled:w===0,children:s.jsx(UZ,{className:"h-4 w-4"})}),s.jsx("span",{className:"px-4 font-semibold min-w-[3rem] text-center",children:o}),s.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>l(Math.min(w,o+1)),disabled:w===0,children:s.jsx(sl,{className:"h-4 w-4"})})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",w," متوفر)"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ge,{size:"lg",className:"flex-1",onClick:O,disabled:w===0,children:[s.jsx(ti,{className:"ml-2 h-5 w-5 rtl:ml-0 rtl:mr-2"}),"أضف إلى السلة"]}),s.jsx(ge,{size:"lg",variant:c?"default":"outline",onClick:I,children:s.jsx(Yc,{className:`h-5 w-5 ${c?"fill-current":""}`})}),s.jsx(ge,{size:"lg",variant:"outline",onClick:L,children:s.jsx(fw,{className:"h-5 w-5"})})]}),s.jsx(ge,{size:"lg",variant:"secondary",className:"w-full",asChild:!0,disabled:w===0,children:s.jsxs(ot,{to:"/cart",children:["اشتر الآن",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})]}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(va,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"شحن مجاني"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"للطلبات فوق 500 ج.م"})]})]}),s.jsx(Br,{}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fs,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"ضمان الجودة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ضمان استرجاع المال لمدة 14 يوم"})]})]}),s.jsx(Br,{}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(er,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"توصيل سريع"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"يصلك خلال 2-5 أيام عمل"})]})]})]})}),e?.role!=="customer"&&s.jsx(ce,{className:"bg-gradient-to-br from-primary/10 to-brand-purple/10",children:s.jsxs(he,{className:"p-6",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"عمولة الشركاء"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[N.affiliateCommission,"%"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["اكسب ",(N.price*N.affiliateCommission/100).toLocaleString()," ","ج.م على كل عملية بيع"]})]})})]})]}),s.jsxs(vl,{defaultValue:"reviews",className:"space-y-8",children:[s.jsxs(No,{className:"grid w-full grid-cols-3",children:[s.jsxs(mn,{value:"reviews",children:["التقييمات (",N.reviewCount,")"]}),s.jsx(mn,{value:"specs",children:"المواصفات"}),s.jsx(mn,{value:"shipping",children:"الشحن والإرجاع"})]}),s.jsx(gn,{value:"reviews",className:"space-y-6",children:s.jsx(T2e,{productId:N.id})}),s.jsx(gn,{value:"specs",children:s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[s.jsx("span",{className:"font-semibold",children:"رمز المنتج (SKU)"}),s.jsx("span",{children:N.sku||"غير متوفر"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[s.jsx("span",{className:"font-semibold",children:"الفئة"}),s.jsx("span",{children:N.category.name})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[s.jsx("span",{className:"font-semibold",children:"الحالة"}),s.jsx("span",{children:w>0?"متوفر":"غير متوفر"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[s.jsx("span",{className:"font-semibold",children:"الكمية المتوفرة"}),s.jsx("span",{children:w})]})]})})})}),s.jsx(gn,{value:"shipping",children:s.jsx(ce,{children:s.jsxs(he,{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"سياسة الشحن"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"• شحن مجاني للطلبات فوق 500 ج.م"}),s.jsx("li",{children:"• التوصيل خلال 2-5 أيام عمل"}),s.jsx("li",{children:"• الدفع عند الاستلام متاح"}),s.jsx("li",{children:"• تتبع الشحنة متاح لجميع الطلبات"})]})]}),s.jsx(Br,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-3",children:"سياسة الإرجاع"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"• إمكانية الإرجاع خلال 14 يوم من تاريخ الاستلام"}),s.jsx("li",{children:"• يجب أن يكون المنتج في حالته الأصلية"}),s.jsx("li",{children:"• استرجاع كامل المبلغ أو استبدال المنتج"}),s.jsx("li",{children:"• تكلفة الشحن على العميل في حالة الإرجاع"})]})]})]})})})]})]}),y&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>g(!1),children:[s.jsx("button",{onClick:()=>g(!1),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10",children:s.jsx(tm,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"absolute top-4 left-4 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[i+1," / ",P.length]}),s.jsx("div",{className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center justify-center",children:s.jsx("img",{src:P[i].url,alt:P[i].alt||N.name,className:"max-w-full max-h-full object-contain",onClick:z=>z.stopPropagation()})}),P.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:z=>{z.stopPropagation(),a(q=>q>0?q-1:P.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:s.jsx(oi,{className:"w-6 h-6 text-white"})}),s.jsx("button",{onClick:z=>{z.stopPropagation(),a(q=>q<P.length-1?q+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:s.jsx(oi,{className:"w-6 h-6 text-white rotate-180"})})]}),P.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/50 p-2 rounded-lg",children:P.map((z,q)=>s.jsx("button",{onClick:V=>{V.stopPropagation(),a(q)},className:`w-16 h-16 rounded overflow-hidden border-2 transition-all ${i===q?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:s.jsx("img",{src:z.url,alt:z.alt||"",className:"w-full h-full object-cover"})},q))})]})]})}function D2e(){const{toast:t}=mr(),{items:e,removeItem:n,updateQuantity:r,clearCart:i,subtotal:a}=gx(),[o,l]=M.useState(""),[c,u]=M.useState(null),d={WELCOME10:10,SAVE20:20,SUMMER15:15,EGYGO25:25},f=(D,O)=>{if(O<1)return;const I=e.find(L=>L.id===D);if(I){if(O>I.stockQuantity){t({title:"الكمية غير متوفرة",description:`الكمية المتوفرة فقط ${I.stockQuantity}`,variant:"destructive"});return}r(D,O)}},[h,p]=M.useState(!1),[y,g]=M.useState(null),v=D=>{g(D),p(!0)},b=()=>{y&&(n(y),t({title:"تمت الإزالة",description:"تم إزالة المنتج من السلة"})),p(!1),g(null)},w=()=>{i(),t({title:"تم إفراغ السلة",description:"تم إزالة جميع المنتجات من السلة"})},_=()=>{const D=o.trim().toUpperCase(),O=d[D];if(!O){t({title:"كود خاطئ",description:"الكود الذي أدخلته غير صحيح",variant:"destructive"});return}if(c?.code===D){t({title:"تم تطبيق الكود مسبقاً",description:"هذا الكود مُطبق بالفعل",variant:"default"});return}u({code:D,percentage:O}),t({title:"تم تطبيق الكود",description:`تم خصم ${O}% من إجمالي المشتريات`})},S=()=>{u(null),l(""),t({title:"تمت إزالة الخصم",description:"تم إلغاء كود الخصم"})},A=e.reduce((D,O)=>D+(O.originalPrice||O.price)*O.quantity,0)-a,C=c?Math.round(a*(c.percentage/100)):0,N=a-C,T=N>=500?0:50,P=N+T;return e.length===0?s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"text-center space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-6 bg-muted rounded-full",children:s.jsx(hw,{className:"h-16 w-16 text-muted-foreground"})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"سلة التسوق فارغة"}),s.jsx("p",{className:"text-muted-foreground",children:"لم تقم بإضافة أي منتجات إلى سلة التسوق بعد"})]}),s.jsx(ge,{size:"lg",asChild:!0,children:s.jsxs(ot,{to:"/products",children:["تصفح المنتجات",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})]})})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"سلة التسوق"}),s.jsxs("p",{className:"text-muted-foreground",children:["لديك ",e.length," منتج في السلة"]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between",children:[s.jsx(Ce,{children:"المنتجات"}),s.jsxs(ge,{variant:"ghost",size:"sm",onClick:w,className:"text-destructive hover:text-destructive",children:[s.jsx(fl,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"إفراغ السلة"]})]}),s.jsx(he,{className:"space-y-4",children:e.map((D,O)=>s.jsxs("div",{children:[O>0&&s.jsx(Br,{className:"my-4"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(ot,{to:`/product/${D.productId}`,className:"flex-shrink-0",children:s.jsx("img",{src:D.image,alt:D.name,className:"w-24 h-24 object-cover rounded-lg"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ot,{to:`/product/${D.productId}`,className:"hover:text-primary",children:s.jsx("h3",{className:"font-semibold mb-1 line-clamp-2",children:D.name})}),(D.color||D.size)&&s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[D.color&&s.jsxs(jt,{variant:"outline",className:"text-xs",children:["اللون: ",D.color]}),D.size&&s.jsxs(jt,{variant:"outline",className:"text-xs",children:["المقاس: ",D.size]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("span",{className:"text-lg font-bold text-primary",children:[D.price.toLocaleString()," ج.م"]}),D.originalPrice&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[D.originalPrice.toLocaleString()," ج.م"]}),s.jsxs(jt,{variant:"secondary",className:"text-xs",children:["وفر"," ",Math.round((D.originalPrice-D.price)/D.originalPrice*100),"%"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center border rounded-lg",children:[s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>f(D.id,D.quantity-1),disabled:D.quantity<=1,children:s.jsx(UZ,{className:"h-4 w-4"})}),s.jsx("span",{className:"px-4 py-2 font-medium min-w-[3rem] text-center",children:D.quantity}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>f(D.id,D.quantity+1),disabled:D.quantity>=D.stockQuantity,children:s.jsx(sl,{className:"h-4 w-4"})})]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["متوفر: ",D.stockQuantity]})]})]}),s.jsxs(_i,{open:h,onOpenChange:p,children:[s.jsx($f,{asChild:!0,children:s.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>v(D.id),className:"flex-shrink-0",children:s.jsx(fl,{className:"h-5 w-5 text-destructive"})})}),s.jsxs(di,{children:[s.jsx(Si,{children:s.jsx(ji,{children:"تأكيد إزالة المنتج"})}),s.jsx("p",{children:"هل أنت متأكد أنك تريد إزالة هذا المنتج من السلة؟"}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"destructive",onClick:b,children:"نعم، إزالة"}),s.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"إلغاء"})]})]})]})]})]},D.id))})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-4 space-y-4",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(hj,{className:"h-5 w-5"}),"كود الخصم"]})}),s.jsx(he,{children:c?s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:c.code}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:["خصم ",c.percentage,"%"]})]}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:S,children:"إزالة"})]})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx(st,{placeholder:"أدخل كود الخصم",value:o,onChange:D=>l(D.target.value.toUpperCase()),onKeyDown:D=>{D.key==="Enter"&&_()}}),s.jsx(ge,{className:"w-full",onClick:_,disabled:!o.trim(),children:"تطبيق الكود"}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx("p",{className:"font-semibold mb-1",children:"أكواد متاحة:"}),s.jsx("p",{children:"• WELCOME10 - خصم 10%"}),s.jsx("p",{children:"• SAVE20 - خصم 20%"}),s.jsx("p",{children:"• SUMMER15 - خصم 15%"})]})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"ملخص الطلب"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"المجموع الفرعي"}),s.jsxs("span",{children:[a.toLocaleString()," ج.م"]})]}),A>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[s.jsx("span",{children:"وفرت"}),s.jsxs("span",{children:["- ",A.toLocaleString()," ج.م"]})]}),c&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600 dark:text-green-400",children:[s.jsxs("span",{children:["خصم الكود (",c.percentage,"%)"]}),s.jsxs("span",{children:["- ",C.toLocaleString()," ج.م"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(va,{className:"h-4 w-4"}),s.jsx("span",{className:"text-muted-foreground",children:"الشحن"})]}),s.jsx("span",{className:T===0?"text-green-600 dark:text-green-400":"",children:T===0?"مجاني":`${T} ج.م`})]}),N<500&&s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg text-xs text-blue-700 dark:text-blue-300",children:[s.jsx(er,{className:"h-4 w-4 inline-block ml-1"}),"اشترِ بـ ",(500-N).toLocaleString()," ج.م إضافية للحصول على شحن مجاني!"]})]}),s.jsx(Br,{}),s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"الإجمالي"}),s.jsxs("span",{className:"text-primary",children:[P.toLocaleString()," ج.م"]})]}),s.jsx(ge,{size:"lg",className:"w-full",asChild:!0,children:s.jsxs(ot,{to:"/checkout",children:["إتمام الطلب",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{variant:"outline",size:"lg",className:"w-full",asChild:!0,children:s.jsx(ot,{to:"/products",children:"متابعة التسوق"})})]})]})]})})]})]})})}var r5="Radio",[R2e,pre]=Ni(r5),[O2e,I2e]=R2e(r5),mre=M.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[f,h]=M.useState(null),p=Jt(e,v=>h(v)),y=M.useRef(!1),g=f?u||!!f.closest("form"):!0;return s.jsxs(O2e,{scope:n,checked:i,disabled:o,children:[s.jsx(Mt.button,{type:"button",role:"radio","aria-checked":i,"data-state":yre(i),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:St(t.onClick,v=>{i||c?.(),g&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),g&&s.jsx(xre,{control:f,bubbles:!y.current,name:r,value:l,checked:i,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});mre.displayName=r5;var gre="RadioIndicator",vre=M.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,a=I2e(gre,n);return s.jsx(Hi,{present:r||a.checked,children:s.jsx(Mt.span,{"data-state":yre(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});vre.displayName=gre;var k2e="RadioBubbleInput",xre=M.forwardRef(({__scopeRadio:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=M.useRef(null),l=Jt(o,a),c=Ew(n),u=cw(e);return M.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),s.jsx(Mt.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xre.displayName=k2e;function yre(t){return t?"checked":"unchecked"}var L2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RN="RadioGroup",[F2e]=Ni(RN,[mx,pre]),bre=mx(),wre=pre(),[U2e,B2e]=F2e(RN),_re=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=t,p=bre(n),y=eh(u),[g,v]=Ba({prop:a,defaultProp:i??null,onChange:f,caller:RN});return s.jsx(U2e,{scope:n,name:r,required:o,disabled:l,value:g,onValueChange:v,children:s.jsx(v4,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:s.jsx(Mt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...h,ref:e})})})});_re.displayName=RN;var Sre="RadioGroupItem",jre=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,a=B2e(Sre,n),o=a.disabled||r,l=bre(n),c=wre(n),u=M.useRef(null),d=Jt(e,u),f=a.value===i.value,h=M.useRef(!1);return M.useEffect(()=>{const p=g=>{L2e.includes(g.key)&&(h.current=!0)},y=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),s.jsx(x4,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(mre,{disabled:o,required:a.required,checked:f,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:St(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:St(i.onFocus,()=>{h.current&&u.current?.click()})})})});jre.displayName=Sre;var $2e="RadioGroupIndicator",Ere=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=wre(n);return s.jsx(vre,{...i,...r,ref:e})});Ere.displayName=$2e;var Nre=_re,Are=jre,z2e=Ere;const ON=M.forwardRef(({className:t,...e},n)=>s.jsx(Nre,{className:Nt("grid gap-2",t),...e,ref:n}));ON.displayName=Nre.displayName;const Tc=M.forwardRef(({className:t,...e},n)=>s.jsx(Are,{ref:n,className:Nt("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(z2e,{className:"flex items-center justify-center",children:s.jsx(PZ,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Tc.displayName=Are.displayName;function H2e(){const t=xa(),{toast:e}=mr(),{items:n}=gx(),[r,i]=M.useState(!1),[a,o]=M.useState(0),[l,c]=M.useState("cash"),[u,d]=M.useState(""),[f,h]=M.useState(null),[p,y]=M.useState(!1);M.useEffect(()=>{n.length===0&&(e({title:"السلة فارغة",description:"الرجاء إضافة منتجات للسلة أولاً",variant:"destructive"}),t("/products"))},[n,t,e]);const g=n.reduce((S,j)=>S+j.price*j.quantity,0),v=g>=500?0:50;let b=0;f&&(f.type==="percentage"?b=g*f.value/100:b=f.value);const w=g+v-b,_=async S=>{S.preventDefault(),i(!0),o(0);let j=0;const A=setInterval(()=>{j+=Math.random()*30,o(Math.min(j,100))},200);await new Promise(C=>setTimeout(C,2e3)),clearInterval(A),o(100),e({title:"تم إرسال الطلب بنجاح!",description:"سيتم التواصل معك قريباً لتأكيد الطلب"}),setTimeout(()=>{i(!1),o(0),t("/orders")},800)};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إتمام الطلب"}),s.jsx("p",{className:"text-muted-foreground",children:"أكمل البيانات لإتمام طلبك"})]}),s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"السلة"}),s.jsx("span",{className:"text-xs font-medium text-primary",children:"البيانات"}),s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"تأكيد"})]}),s.jsx(Fp,{value:66,className:"h-2 bg-muted"})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(cv,{className:"h-5 w-5"}),"المعلومات الشخصية"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"firstName",children:"الاسم الأول *"}),s.jsx(st,{id:"firstName",placeholder:"محمد",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"lastName",children:"اسم العائلة *"}),s.jsx(st,{id:"lastName",placeholder:"أحمد",required:!0})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Kc,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground rtl:right-auto rtl:left-3"}),s.jsx(st,{id:"email",type:"email",placeholder:"email@example.com",className:"pr-10 rtl:pr-3 rtl:pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"phone",children:"رقم الهاتف *"}),s.jsxs("div",{className:"relative",children:[s.jsx(hf,{className:"absolute right-3 top-3 h-4 w-4 text-muted-foreground rtl:right-auto rtl:left-3"}),s.jsx(st,{id:"phone",type:"tel",placeholder:"+20 123 456 7890",className:"pr-10 rtl:pr-3 rtl:pl-10",required:!0})]})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Q0,{className:"h-5 w-5"}),"عنوان الشحن"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"city",children:"المدينة *"}),s.jsx(st,{id:"city",placeholder:"القاهرة",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"state",children:"المحافظة *"}),s.jsx(st,{id:"state",placeholder:"القاهرة",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"address",children:"العنوان التفصيلي *"}),s.jsx(_o,{id:"address",placeholder:"الشارع، رقم المبنى، الدور، الشقة",rows:3,required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"postalCode",children:"الرمز البريدي"}),s.jsx(st,{id:"postalCode",placeholder:"12345"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"landmark",children:"علامة مميزة"}),s.jsx(st,{id:"landmark",placeholder:"بجوار المسجد / المدرسة"})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Jl,{className:"h-5 w-5"}),"طريقة الدفع"]})}),s.jsxs(he,{children:[s.jsxs(ON,{value:l,onValueChange:c,className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-4 border rounded-lg cursor-pointer hover:bg-muted",children:[s.jsx(Tc,{value:"cash",id:"cash"}),s.jsx(qe,{htmlFor:"cash",className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(va,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"الدفع عند الاستلام"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ادفع نقداً عند استلام الطلب"})]})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse p-4 border rounded-lg cursor-pointer hover:bg-muted",children:[s.jsx(Tc,{value:"card",id:"card"}),s.jsx(qe,{htmlFor:"card",className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Jl,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold flex items-center gap-2",children:["الدفع بالبطاقة",s.jsxs("span",{className:"inline-flex gap-1 ml-2",children:[s.jsxs("svg",{width:"24",height:"14",viewBox:"0 0 24 14",fill:"none",children:[s.jsx("rect",{width:"24",height:"14",rx:"2",fill:"#fff"}),s.jsx("text",{x:"3",y:"11","font-size":"8",fill:"#1a237e",children:"VISA"})]}),s.jsxs("svg",{width:"24",height:"14",viewBox:"0 0 24 14",fill:"none",children:[s.jsx("rect",{width:"24",height:"14",rx:"2",fill:"#fff"}),s.jsx("circle",{cx:"8",cy:"7",r:"5",fill:"#f44336"}),s.jsx("circle",{cx:"16",cy:"7",r:"5",fill:"#ff9800"}),s.jsx("text",{x:"5",y:"12","font-size":"6",fill:"#222",children:"MC"})]}),s.jsxs("svg",{width:"24",height:"14",viewBox:"0 0 24 14",fill:"none",children:[s.jsx("rect",{width:"24",height:"14",rx:"2",fill:"#fff"}),s.jsx("text",{x:"2",y:"11","font-size":"8",fill:"#1976d2",children:"AMEX"})]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Visa, Mastercard, American Express"})]})]})})]})]}),l==="card"&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-lg space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"cardNumber",children:"رقم البطاقة"}),s.jsx(st,{id:"cardNumber",placeholder:"1234 5678 9012 3456",required:l==="card"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"expiry",children:"تاريخ الانتهاء"}),s.jsx(st,{id:"expiry",placeholder:"MM/YY",required:l==="card"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"cvv",children:"CVV"}),s.jsx(st,{id:"cvv",placeholder:"123",maxLength:4,required:l==="card"})]})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"ملاحظات إضافية"})}),s.jsx(he,{children:s.jsx(_o,{placeholder:"أي ملاحظات خاصة بالطلب...",rows:3})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(ce,{className:"sticky top-4",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"ملخص الطلب"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:n.map(S=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("img",{src:S.image,alt:S.name,className:"w-16 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm line-clamp-2",children:S.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["الكمية: ",S.quantity]})]}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"font-semibold text-sm",children:[(S.price*S.quantity).toLocaleString()," ج.م"]})})]},S.id))}),s.jsx(Br,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"المجموع الفرعي"}),s.jsxs("span",{className:"font-semibold",children:[g.toLocaleString()," ج.م"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"الشحن"}),s.jsx("span",{className:"font-semibold",children:v===0?"مجاني":`${v} ج.م`})]}),s.jsx(Br,{}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"font-bold",children:"الإجمالي"}),s.jsxs("span",{className:"font-bold text-primary text-2xl",children:[w.toLocaleString()," ج.م"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{type:"submit",size:"lg",className:"w-full",disabled:r,children:r?"جاري المعالجة...":s.jsxs(s.Fragment,{children:["تأكيد الطلب",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),r&&s.jsx(Fp,{value:a,className:"h-2 bg-muted"})]}),s.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground text-center",children:[s.jsx("p",{children:"🔒 معاملاتك آمنة ومشفرة"}),s.jsx("p",{children:"سيتم التواصل معك خلال 24 ساعة"})]})]})]})})]})]})]})})}const V2e={PENDING:{label:"قيد الانتظار",icon:Ui,color:"bg-yellow-500",variant:"default"},CONFIRMED:{label:"مؤكد",icon:Fi,color:"bg-blue-500",variant:"default"},SHIPPED:{label:"تم الشحن",icon:va,color:"bg-purple-500",variant:"default"},DELIVERED:{label:"تم التوصيل",icon:Fi,color:"bg-green-500",variant:"default"},CANCELLED:{label:"ملغي",icon:ov,color:"bg-red-500",variant:"destructive"}};function Mz(){const{user:t}=ur(),[e,n]=M.useState(new Set),{data:r=[],isLoading:i,isError:a,error:o}=ci({queryKey:zs.orders(t?.$id||""),queryFn:()=>UJ.getUserOrders(t?.$id||""),enabled:!!t?.$id}),l=c=>{const u=new Set(e);u.has(c)?u.delete(c):u.add(c),n(u)};return t?i?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Da,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل طلباتك..."})]})}):a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs(ce,{className:"w-full max-w-md",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-center text-red-500",children:"خطأ في التحميل"})}),s.jsxs(he,{className:"text-center",children:[s.jsx("p",{className:"mb-4",children:o instanceof Error?o.message:"حدث خطأ أثناء تحميل الطلبات"}),s.jsx(ge,{onClick:()=>window.location.reload(),children:"إعادة المحاولة"})]})]})}):r.length===0?s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[s.jsx(er,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"لا توجد طلبات حتى الآن"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"ابدأ بتصفح منتجاتنا واطلب ما يناسبك"}),s.jsx(ge,{asChild:!0,children:s.jsx(ot,{to:"/products",children:"تصفح المنتجات"})})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"طلباتي"}),s.jsxs("p",{className:"text-muted-foreground",children:["لديك ",r.length," طلب إجمالي"]})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:s.jsx(Ui,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.filter(c=>c.status==="PENDING").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"قيد الانتظار"})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(va,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.filter(c=>c.status==="SHIPPED").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"تم الشحن"})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Fi,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.filter(c=>c.status==="DELIVERED").length}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"تم التوصيل"})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(er,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:r.reduce((c,u)=>c+u.total,0).toLocaleString()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي المشتريات"})]})]})})})]}),s.jsx("div",{className:"space-y-4",children:r.map(c=>{const u=V2e[c.status],d=u.icon,f=e.has(c.id);return s.jsxs(ce,{children:[s.jsx(Ee,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ce,{className:"text-lg",children:c.orderNumber}),s.jsxs(jt,{variant:u.variant,className:"flex items-center gap-1",children:[s.jsx(d,{className:"h-3 w-3"}),u.label]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[s.jsxs("span",{children:["التاريخ: ",new Date(c.date).toLocaleDateString("ar")]}),s.jsxs("span",{children:[c.itemsCount," منتج"]}),s.jsxs("span",{className:"font-semibold text-primary",children:[c.total.toLocaleString()," ج.م"]})]})]}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>l(c.id),children:f?s.jsxs(s.Fragment,{children:[s.jsx(l4,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"إخفاء التفاصيل"]}):s.jsxs(s.Fragment,{children:[s.jsx($s,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"عرض التفاصيل"]})})]})}),f&&s.jsxs(he,{className:"pt-0 space-y-4",children:[s.jsx(Br,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"المنتجات"}),s.jsx("div",{className:"space-y-3",children:c.items.map(h=>s.jsxs("div",{className:"flex gap-3 p-3 bg-muted rounded-lg",children:[s.jsx(ot,{to:`/product/${h.productId}`,children:s.jsx("img",{src:h.image,alt:h.name,className:"w-16 h-16 object-cover rounded"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(ot,{to:`/product/${h.productId}`,className:"hover:text-primary",children:s.jsx("p",{className:"font-medium",children:h.name})}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["الكمية: ",h.quantity," × ",h.price.toLocaleString()," ","ج.م"]})]}),s.jsx("div",{className:"text-left",children:s.jsxs("p",{className:"font-semibold",children:[(h.price*h.quantity).toLocaleString()," ج.م"]})})]},h.id))})]}),s.jsx(Br,{}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"عنوان التوصيل"}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("p",{children:c.shippingAddress.city}),s.jsx("p",{children:c.shippingAddress.address}),s.jsx("p",{children:c.shippingAddress.phone})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"تفاصيل الدفع"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"المجموع الفرعي"}),s.jsxs("span",{children:[c.total.toLocaleString()," ج.م"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"الشحن"}),s.jsx("span",{children:"مجاني"})]}),s.jsx(Br,{}),s.jsxs("div",{className:"flex justify-between font-bold text-base",children:[s.jsx("span",{children:"الإجمالي"}),s.jsxs("span",{className:"text-primary",children:[c.total.toLocaleString()," ج.م"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx(ge,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(ot,{to:`/orders/${c.id}/track`,children:"تتبع الطلب"})}),c.status==="DELIVERED"&&s.jsx(ge,{variant:"outline",size:"sm",children:"إعادة الطلب"}),c.status==="PENDING"&&s.jsx(ge,{variant:"destructive",size:"sm",children:"إلغاء الطلب"})]})]})]},c.id)})})]})}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs(ce,{className:"w-full max-w-md",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-center",children:"تسجيل الدخول مطلوب"})}),s.jsxs(he,{className:"text-center",children:[s.jsx("p",{className:"mb-4",children:"يرجى تسجيل الدخول لعرض طلباتك"}),s.jsx(ot,{to:"/login",children:s.jsx(ge,{children:"تسجيل الدخول"})})]})]})})}function q2e(){return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"شروط الاستخدام"}),s.jsx("p",{className:"text-muted-foreground",children:"آخر تحديث: 1 أكتوبر 2025"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"1. مقدمة"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"مرحباً بك في إيجي جو (EgyGo). باستخدامك لموقعنا، فإنك توافق على الالتزام بشروط الاستخدام التالية. يرجى قراءتها بعناية قبل استخدام خدماتنا."}),s.jsx("p",{children:"نحتفظ بالحق في تعديل هذه الشروط في أي وقت، وسيتم إخطارك بأي تغييرات جوهرية عبر البريد الإلكتروني أو من خلال إشعار على الموقع."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"2. استخدام الموقع"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2.1 الأهلية"}),s.jsx("p",{children:"يجب أن يكون عمرك 18 عاماً على الأقل لاستخدام خدماتنا. باستخدامك للموقع، فإنك تقر بأنك تستوفي هذا الشرط."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2.2 حسابك"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"أنت مسؤول عن الحفاظ على سرية بيانات حسابك"}),s.jsx("li",{children:"يجب عليك إخطارنا فوراً بأي استخدام غير مصرح به لحسابك"}),s.jsx("li",{children:"نحن غير مسؤولين عن أي خسارة ناتجة عن عدم الامتثال لهذا البند"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"2.3 الاستخدام المقبول"}),s.jsx("p",{children:"يُمنع استخدام الموقع في:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"أي غرض غير قانوني أو احتيالي"}),s.jsx("li",{children:"التحرش أو الإساءة لمستخدمين آخرين"}),s.jsx("li",{children:"نشر محتوى مسيء أو ضار أو غير لائق"}),s.jsx("li",{children:"محاولة اختراق أو إلحاق الضرر بالموقع"}),s.jsx("li",{children:"جمع معلومات المستخدمين الآخرين دون إذن"})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"3. المنتجات والطلبات"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3.1 معلومات المنتج"}),s.jsx("p",{children:"نبذل قصارى جهدنا لعرض المنتجات بدقة، لكن لا يمكننا ضمان أن عرض الألوان على شاشتك دقيق تماماً."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3.2 التسعير"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"جميع الأسعار معروضة بالجنيه المصري"}),s.jsx("li",{children:"نحتفظ بالحق في تغيير الأسعار في أي وقت"}),s.jsx("li",{children:"في حالة وجود خطأ في السعر، سنخطرك ونعطيك خيار إلغاء الطلب"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3.3 تأكيد الطلب"}),s.jsx("p",{children:"استلامك لرسالة تأكيد الطلب لا يعني قبولنا للطلب. نحتفظ بالحق في رفض أو إلغاء أي طلب لأي سبب."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"4. الشحن والتوصيل"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4.1 مناطق التوصيل"}),s.jsx("p",{children:"نقوم بالتوصيل لجميع أنحاء جمهورية مصر العربية. قد تختلف أوقات التوصيل حسب الموقع."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4.2 مدة التوصيل"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"القاهرة والجيزة: 2-3 أيام عمل"}),s.jsx("li",{children:"باقي المحافظات: 3-5 أيام عمل"}),s.jsx("li",{children:"قد تزيد المدة في المواسم والأعياد"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"4.3 رسوم الشحن"}),s.jsx("p",{children:"الشحن مجاني للطلبات فوق 500 جنيه. تطبق رسوم شحن بقيمة 50 جنيه للطلبات الأقل من ذلك."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"5. الإرجاع والاسترداد"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5.1 حق الإرجاع"}),s.jsx("p",{children:"يمكنك إرجاع المنتج خلال 14 يوم من تاريخ الاستلام، بشرط أن يكون المنتج في حالته الأصلية مع التغليف والملحقات."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5.2 المنتجات غير القابلة للإرجاع"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"المنتجات المخصصة أو المصنوعة حسب الطلب"}),s.jsx("li",{children:"المنتجات سريعة التلف"}),s.jsx("li",{children:"المنتجات الرقمية التي تم تنزيلها"}),s.jsx("li",{children:"منتجات النظافة الشخصية المفتوحة"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5.3 طريقة الاسترداد"}),s.jsx("p",{children:"سيتم استرداد المبلغ بنفس طريقة الدفع الأصلية خلال 7-14 يوم عمل من استلام المنتج المرتجع."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"6. برنامج الشراكة"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6.1 العضوية"}),s.jsx("p",{children:"للانضمام إلى برنامج الشراكة، يجب أن تكون لديك حساب نشط وأن توافق على شروط البرنامج الإضافية."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6.2 العمولات"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"تختلف نسب العمولة حسب المنتج (5-25%)"}),s.jsx("li",{children:"يتم احتساب العمولة بعد إتمام عملية البيع وتأكيد الاستلام"}),s.jsx("li",{children:"لا تطبق العمولات على الطلبات الملغاة أو المرتجعة"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"6.3 سحب الأرباح"}),s.jsx("p",{children:"يمكن سحب الأرباح عند الوصول للحد الأدنى (500 جنيه) خلال 3-7 أيام عمل."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"7. الملكية الفكرية"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsx("p",{children:"جميع المحتويات على الموقع، بما في ذلك النصوص والصور والشعارات والتصميمات، محمية بحقوق الملكية الفكرية. يُمنع استخدامها دون إذن كتابي مسبق."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"8. إخلاء المسؤولية"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:'نقدم الموقع "كما هو" دون أي ضمانات. لا نتحمل المسؤولية عن:'}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"أي أضرار مباشرة أو غير مباشرة ناتجة عن استخدام الموقع"}),s.jsx("li",{children:"انقطاع الخدمة أو الأخطاء التقنية"}),s.jsx("li",{children:"دقة أو اكتمال المعلومات المقدمة"}),s.jsx("li",{children:"محتوى أو سلوك أطراف ثالثة"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"9. القانون الحاكم"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsx("p",{children:"تخضع هذه الشروط للقوانين المصرية. أي نزاع ينشأ عن هذه الشروط يخضع للاختصاص القضائي للمحاكم المصرية."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"10. الاتصال بنا"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"إذا كان لديك أي أسئلة حول شروط الاستخدام، يرجى التواصل معنا:"}),s.jsxs("ul",{className:"space-y-2 mt-2",children:[s.jsx("li",{children:"📧 البريد الإلكتروني: support@shopko.com"}),s.jsx("li",{children:"📱 الهاتف: +20 123 456 7890"}),s.jsx("li",{children:"📍 العنوان: القاهرة، مصر"})]})]})]})]})]})})}function G2e(){return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"سياسة الخصوصية"}),s.jsx("p",{className:"text-muted-foreground",children:"آخر تحديث: 1 أكتوبر 2025"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"1. المعلومات التي نجمعها"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"1.1 المعلومات الشخصية"}),s.jsx("p",{children:"نقوم بجمع المعلومات التالية عند تسجيلك أو إجراء عملية شراء:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"الاسم الكامل"}),s.jsx("li",{children:"البريد الإلكتروني"}),s.jsx("li",{children:"رقم الهاتف"}),s.jsx("li",{children:"عنوان الشحن والفواتير"}),s.jsx("li",{children:"معلومات الدفع (يتم تشفيرها)"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"1.2 المعلومات التقنية"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"عنوان IP"}),s.jsx("li",{children:"نوع المتصفح والجهاز"}),s.jsx("li",{children:"نظام التشغيل"}),s.jsx("li",{children:"ملفات تعريف الارتباط (Cookies)"}),s.jsx("li",{children:"سجل التصفح على موقعنا"})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"2. كيفية استخدام معلوماتك"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"نستخدم معلوماتك للأغراض التالية:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"معالجة وإتمام طلباتك"}),s.jsx("li",{children:"التواصل معك بخصوص طلباتك وحسابك"}),s.jsx("li",{children:"تحسين خدماتنا وتجربة المستخدم"}),s.jsx("li",{children:"إرسال العروض والتحديثات (يمكنك إلغاء الاشتراك)"}),s.jsx("li",{children:"منع الاحتيال وتعزيز الأمان"}),s.jsx("li",{children:"الامتثال للمتطلبات القانونية"}),s.jsx("li",{children:"تحليل الأداء والإحصائيات"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"3. مشاركة المعلومات"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"نحن لا نبيع معلوماتك الشخصية. قد نشارك معلوماتك مع:"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3.1 مقدمي الخدمات"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[s.jsx("li",{children:"شركات الشحن والتوصيل"}),s.jsx("li",{children:"معالجي الدفع (Stripe، PayPal)"}),s.jsx("li",{children:"مزودي الاستضافة والبنية التحتية"}),s.jsx("li",{children:"أدوات التحليل (Google Analytics)"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"3.2 المتطلبات القانونية"}),s.jsx("p",{children:"قد نفصح عن معلوماتك إذا كان ذلك مطلوباً بموجب القانون أو لحماية حقوقنا وسلامة مستخدمينا."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"4. حماية المعلومات"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"نتخذ إجراءات أمنية لحماية معلوماتك، بما في ذلك:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"التشفير باستخدام SSL/TLS"}),s.jsx("li",{children:"جدران الحماية والأنظمة الأمنية"}),s.jsx("li",{children:"الوصول المحدود للبيانات الحساسة"}),s.jsx("li",{children:"المراجعة الدورية للأمن"}),s.jsx("li",{children:"النسخ الاحتياطي المنتظم"})]}),s.jsx("p",{className:"mt-4",children:"ومع ذلك، لا يمكن ضمان أمان الإنترنت بنسبة 100%. نحثك على حماية كلمة المرور الخاصة بك."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"5. ملفات تعريف الارتباط (Cookies)"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"نستخدم ملفات تعريف الارتباط لـ:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"تذكر تفضيلاتك وإعداداتك"}),s.jsx("li",{children:"الحفاظ على سلة التسوق"}),s.jsx("li",{children:"تحليل حركة المرور على الموقع"}),s.jsx("li",{children:"تحسين تجربة المستخدم"})]}),s.jsx("p",{className:"mt-4",children:"يمكنك التحكم في ملفات تعريف الارتباط من خلال إعدادات المتصفح."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"6. حقوقك"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"لديك الحقوق التالية فيما يتعلق بمعلوماتك:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"الوصول إلى معلوماتك الشخصية"}),s.jsx("li",{children:"تصحيح المعلومات غير الدقيقة"}),s.jsx("li",{children:"حذف معلوماتك (بشرط عدم وجود التزامات قانونية)"}),s.jsx("li",{children:"إلغاء الاشتراك في النشرات الإخبارية"}),s.jsx("li",{children:"تقييد معالجة معلوماتك"}),s.jsx("li",{children:"نقل بياناتك"})]}),s.jsx("p",{className:"mt-4",children:"للمطالبة بأي من هذه الحقوق، يرجى التواصل معنا."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"7. الأطفال"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsx("p",{children:"خدماتنا غير موجهة للأطفال دون سن 18 عاماً. لا نجمع معلومات عن قصد من الأطفال. إذا علمنا أننا جمعنا معلومات من طفل، سنحذفها فوراً."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"8. الروابط الخارجية"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsx("p",{children:"قد يحتوي موقعنا على روابط لمواقع خارجية. لسنا مسؤولين عن ممارسات الخصوصية لهذه المواقع. ننصحك بمراجعة سياسات الخصوصية الخاصة بهم."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"9. التغييرات على السياسة"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsx("p",{children:"قد نقوم بتحديث سياسة الخصوصية من وقت لآخر. سنخطرك بأي تغييرات جوهرية عبر البريد الإلكتروني أو من خلال إشعار بارز على الموقع."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"10. الاتصال بنا"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"إذا كان لديك أي أسئلة أو مخاوف بشأن سياسة الخصوصية:"}),s.jsxs("ul",{className:"space-y-2 mt-2",children:[s.jsx("li",{children:"📧 البريد الإلكتروني: privacy@shopko.com"}),s.jsx("li",{children:"📱 الهاتف: +20 123 456 7890"}),s.jsx("li",{children:"📍 العنوان: القاهرة، مصر"})]})]})]})]})]})})}function W2e(){return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"سياسة الإرجاع والاستبدال"}),s.jsx("p",{className:"text-muted-foreground",children:"نحن نهتم برضاك التام عن مشترياتك"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(ce,{className:"bg-primary/5 border-primary/20",children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"✓"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"ضمان الرضا 100%"}),s.jsx("p",{className:"text-muted-foreground",children:"إذا لم تكن راضياً عن مشترياتك، يمكنك إرجاعها خلال 14 يوماً من تاريخ الاستلام واسترداد كامل المبلغ أو استبدال المنتج."})]})]})})}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"1. فترة الإرجاع"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"لديك 14 يوماً من تاريخ استلام المنتج لبدء عملية الإرجاع. بعد انتهاء هذه الفترة، لن نتمكن للأسف من قبول الإرجاع."}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg mt-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"مثال:"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:"• تاريخ الاستلام: 1 أكتوبر 2025"}),s.jsx("li",{children:"• آخر موعد للإرجاع: 15 أكتوبر 2025"})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"2. شروط الإرجاع"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"لكي يتم قبول الإرجاع، يجب أن:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"يكون المنتج في حالته الأصلية دون استخدام"}),s.jsx("li",{children:"يكون في العبوة والتغليف الأصلي"}),s.jsx("li",{children:"تكون جميع الملحقات والأدلة موجودة"}),s.jsx("li",{children:"لا توجد علامات تلف أو خدوش"}),s.jsx("li",{children:"لم يتم غسله أو تعديله (للملابس)"}),s.jsx("li",{children:"تكون الملصقات والعلامات متصلة"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"3. المنتجات غير القابلة للإرجاع"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"الأصناف التالية غير قابلة للإرجاع لأسباب صحية أو عملية:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"منتجات النظافة الشخصية المفتوحة أو المستخدمة"}),s.jsx("li",{children:"المنتجات القابلة للتلف (الطعام، الزهور)"}),s.jsx("li",{children:"المنتجات المخصصة أو المصنوعة حسب الطلب"}),s.jsx("li",{children:"البرمجيات أو المحتوى الرقمي الذي تم تنزيله"}),s.jsx("li",{children:"بطاقات الهدايا"}),s.jsx("li",{children:"الملابس الداخلية والجوارب المفتوحة"}),s.jsx("li",{children:"العناصر المخفضة في التصفية النهائية (حسب التوضيح)"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"4. خطوات الإرجاع"})}),s.jsx(he,{className:"space-y-4 text-muted-foreground",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"تواصل معنا"}),s.jsx("p",{className:"text-sm",children:"اتصل بفريق الدعم عبر البريد الإلكتروني أو الهاتف لبدء عملية الإرجاع. ستحتاج إلى رقم الطلب."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"احصل على رقم الإرجاع"}),s.jsx("p",{className:"text-sm",children:"سنزودك برقم إرجاع (RMA) وتعليمات الشحن. لا ترسل المنتج دون الحصول على رقم الإرجاع."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"قم بتغليف المنتج"}),s.jsx("p",{className:"text-sm",children:"أعد تغليف المنتج بعناية في عبوته الأصلية مع جميع الملحقات. أضف رقم الإرجاع داخل الطرد."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:"4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"شحن المنتج"}),s.jsx("p",{className:"text-sm",children:"أرسل المنتج إلى العنوان المحدد. احتفظ برقم التتبع للمتابعة."})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold",children:"5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"استلم الاسترداد"}),s.jsx("p",{className:"text-sm",children:"بعد فحص المنتج (3-5 أيام عمل)، سنقوم بمعالجة الاسترداد. سيظهر في حسابك خلال 7-14 يوم عمل."})]})]})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"5. تكاليف الشحن"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5.1 في حالة العيوب أو الأخطاء"}),s.jsx("p",{children:"إذا كان المنتج معيباً أو وصلك منتج خاطئ، سنتحمل نحن تكاليف الإرجاع بالكامل. سنرسل لك ملصق شحن مدفوع مسبقاً."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"5.2 في حالة تغيير الرأي"}),s.jsx("p",{children:"إذا كنت ترغب في إرجاع منتج لأي سبب آخر (تغيير الرأي، لا يناسبك، إلخ)، ستكون تكاليف الشحن على عاتقك."})]}),s.jsxs("div",{className:"bg-muted p-4 rounded-lg mt-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"ملاحظة:"}),s.jsx("p",{className:"text-sm",children:"تكاليف الشحن الأصلية غير قابلة للاسترداد إلا في حالة العيوب أو الأخطاء من جانبنا."})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"6. الاستبدال"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"يمكنك استبدال المنتج بمقاس أو لون أو موديل مختلف في نفس الفترة (14 يوم). الاستبدال مجاني إذا كان المنتج معيباً أو خاطئاً من جانبنا."}),s.jsx("p",{className:"mt-2",children:"في حالة الاختلاف في السعر عند الاستبدال، سنقوم بتسوية الفرق معك."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"7. المنتجات المعيبة"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"إذا وصلك منتج تالف أو معيب، يرجى:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"التواصل معنا خلال 48 ساعة من الاستلام"}),s.jsx("li",{children:"تقديم صور واضحة للعيب أو التلف"}),s.jsx("li",{children:"عدم استخدام المنتج إذا كان ذلك آمناً"})]}),s.jsx("p",{className:"mt-4",children:"سنقوم باستبدال المنتج فوراً أو استرداد كامل المبلغ حسب رغبتك، على نفقتنا الخاصة."})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"8. الاسترداد المتأخر"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"إذا لم تستلم الاسترداد بعد 14 يوم عمل من تأكيد الإرجاع:"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[s.jsx("li",{children:"تحقق من حسابك البنكي مرة أخرى"}),s.jsx("li",{children:"تواصل مع مصرفك أو شركة بطاقة الائتمان"}),s.jsx("li",{children:"اتصل بنا على support@shopko.com"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"9. الاتصال بنا"})}),s.jsxs(he,{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"لبدء عملية الإرجاع أو الاستبدال أو لأي استفسارات:"}),s.jsxs("ul",{className:"space-y-2 mt-2",children:[s.jsx("li",{children:"📧 البريد الإلكتروني: returns@shopko.com"}),s.jsx("li",{children:"📱 الهاتف: +20 123 456 7890 (من 9 صباحاً - 6 مساءً)"}),s.jsx("li",{children:"💬 الدردشة المباشرة على الموقع"})]}),s.jsx("div",{className:"mt-6 pt-4 border-t",children:s.jsx(ge,{size:"lg",asChild:!0,children:s.jsx(ot,{to:"/contact",children:"تواصل مع الدعم"})})})]})]})]})]})})}const i5=6048e5,X2e=864e5,l_=43200,Tz=1440,Pz=Symbol.for("constructDateFrom");function Bi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Pz in t?t[Pz](e):t instanceof Date?new t.constructor(e):new Date(e)}function Fn(t,e){return Bi(e||t,t)}function oa(t,e,n){const r=Fn(t,n?.in);return isNaN(e)?Bi(n?.in||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function nc(t,e,n){const r=Fn(t,n?.in);if(isNaN(e))return Bi(n?.in||t,NaN);if(!e)return r;const i=r.getDate(),a=Bi(n?.in||t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const o=a.getDate();return i>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}let Y2e={};function _x(){return Y2e}function Zc(t,e){const n=_x(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Fn(t,e?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Up(t,e){return Zc(t,{...e,weekStartsOn:1})}function Cre(t,e){const n=Fn(t,e?.in),r=n.getFullYear(),i=Bi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const a=Up(i),o=Bi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Up(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function hv(t){const e=Fn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function sh(t,...e){const n=Bi.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function pv(t,e){const n=Fn(t,e?.in);return n.setHours(0,0,0,0),n}function Pc(t,e,n){const[r,i]=sh(n?.in,t,e),a=pv(r),o=pv(i),l=+a-hv(a),c=+o-hv(o);return Math.round((l-c)/X2e)}function K2e(t,e){const n=Cre(t,e),r=Bi(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Up(r)}function OI(t,e,n){return oa(t,e*7,n)}function Q2e(t,e,n){return nc(t,e*12,n)}function Z2e(t,e){let n,r=e?.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const a=Fn(i,r);(!n||n<a||isNaN(+a))&&(n=a)}),Bi(r,n||NaN)}function J2e(t,e){let n,r=e?.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=Bi.bind(null,i));const a=Fn(i,r);(!n||n>a||isNaN(+a))&&(n=a)}),Bi(r,n||NaN)}function kS(t,e){const n=+Fn(t)-+Fn(e);return n<0?-1:n>0?1:n}function eAe(t){return Bi(t,Date.now())}function Ma(t,e,n){const[r,i]=sh(n?.in,t,e);return+pv(r)==+pv(i)}function s5(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tAe(t){return!(!s5(t)&&typeof t!="number"||isNaN(+Fn(t)))}function mv(t,e,n){const[r,i]=sh(n?.in,t,e),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function nAe(t,e,n){const[r,i]=sh(n?.in,t,e),a=Zc(r,n),o=Zc(i,n),l=+a-hv(a),c=+o-hv(o);return Math.round((l-c)/i5)}function rAe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function iAe(t,e){return+Fn(t)-+Fn(e)}function sAe(t,e){const n=Fn(t,e?.in);return n.setHours(23,59,59,999),n}function IN(t,e){const n=Fn(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function aAe(t,e){const n=Fn(t,e?.in);return+sAe(n,e)==+IN(n,e)}function oAe(t,e,n){const[r,i,a]=sh(n?.in,t,t,e),o=kS(i,a),l=Math.abs(mv(i,a));if(l<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*l);let c=kS(i,a)===-o;aAe(r)&&l===1&&kS(r,a)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function lAe(t,e,n){const r=iAe(t,e)/1e3;return rAe(n?.roundingMethod)(r)}function Ra(t,e){const n=Fn(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Mre(t,e){const n=Fn(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function a5(t,e){const n=_x(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Fn(t,e?.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Tre(t,e){return a5(t,{...e,weekStartsOn:1})}const cAe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uAe=(t,e,n)=>{let r;const i=cAe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function $g(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const dAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pAe={date:$g({formats:dAe,defaultWidth:"full"}),time:$g({formats:fAe,defaultWidth:"full"}),dateTime:$g({formats:hAe,defaultWidth:"full"})},mAe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gAe=(t,e,n,r)=>mAe[t];function Ec(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const vAe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xAe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_Ae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SAe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jAe={ordinalNumber:SAe,era:Ec({values:vAe,defaultWidth:"wide"}),quarter:Ec({values:xAe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ec({values:yAe,defaultWidth:"wide"}),day:Ec({values:bAe,defaultWidth:"wide"}),dayPeriod:Ec({values:wAe,defaultWidth:"wide",formattingValues:_Ae,defaultFormattingWidth:"wide"})};function Nc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?NAe(l,f=>f.test(o)):EAe(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function EAe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function NAe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Pre(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const AAe=/^(\d+)(th|st|nd|rd)?/i,CAe=/\d+/i,MAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TAe={any:[/^b/i,/^(a|c)/i]},PAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DAe={any:[/1/i,/2/i,/3/i,/4/i]},RAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},UAe={ordinalNumber:Pre({matchPattern:AAe,parsePattern:CAe,valueCallback:t=>parseInt(t,10)}),era:Nc({matchPatterns:MAe,defaultMatchWidth:"wide",parsePatterns:TAe,defaultParseWidth:"any"}),quarter:Nc({matchPatterns:PAe,defaultMatchWidth:"wide",parsePatterns:DAe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nc({matchPatterns:RAe,defaultMatchWidth:"wide",parsePatterns:OAe,defaultParseWidth:"any"}),day:Nc({matchPatterns:IAe,defaultMatchWidth:"wide",parsePatterns:kAe,defaultParseWidth:"any"}),dayPeriod:Nc({matchPatterns:LAe,defaultMatchWidth:"any",parsePatterns:FAe,defaultParseWidth:"any"})},o5={code:"en-US",formatDistance:uAe,formatLong:pAe,formatRelative:gAe,localize:jAe,match:UAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BAe(t,e){const n=Fn(t,e?.in);return Pc(n,Mre(n))+1}function Dre(t,e){const n=Fn(t,e?.in),r=+Up(n)-+K2e(n);return Math.round(r/i5)+1}function Rre(t,e){const n=Fn(t,e?.in),r=n.getFullYear(),i=_x(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Bi(e?.in||t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Zc(o,e),c=Bi(e?.in||t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Zc(c,e);return+n>=+l?r+1:+n>=+u?r:r-1}function $Ae(t,e){const n=_x(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Rre(t,e),a=Bi(e?.in||t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Zc(a,e)}function Ore(t,e){const n=Fn(t,e?.in),r=+Zc(n,e)-+$Ae(n,e);return Math.round(r/i5)+1}function rr(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Hd={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return rr(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rr(n+1,2)},d(t,e){return rr(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rr(t.getHours()%12||12,e.length)},H(t,e){return rr(t.getHours(),e.length)},m(t,e){return rr(t.getMinutes(),e.length)},s(t,e){return rr(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return rr(i,e.length)}},zm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Dz={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Hd.y(t,e)},Y:function(t,e,n,r){const i=Rre(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return rr(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):rr(a,e.length)},R:function(t,e){const n=Cre(t);return rr(n,e.length)},u:function(t,e){const n=t.getFullYear();return rr(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return rr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return rr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Hd.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return rr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ore(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):rr(i,e.length)},I:function(t,e,n){const r=Dre(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):rr(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Hd.d(t,e)},D:function(t,e,n){const r=BAe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rr(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return rr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return rr(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return rr(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zm.noon:r===0?i=zm.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zm.evening:r>=12?i=zm.afternoon:r>=4?i=zm.morning:i=zm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Hd.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Hd.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rr(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):rr(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Hd.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Hd.s(t,e)},S:function(t,e){return Hd.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Oz(r);case"XXXX":case"XX":return $h(r);case"XXXXX":case"XXX":default:return $h(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Oz(r);case"xxxx":case"xx":return $h(r);case"xxxxx":case"xxx":default:return $h(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Rz(r,":");case"OOOO":default:return"GMT"+$h(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Rz(r,":");case"zzzz":default:return"GMT"+$h(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return rr(r,e.length)},T:function(t,e,n){return rr(+t,e.length)}};function Rz(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+rr(a,2)}function Oz(t,e){return t%60===0?(t>0?"-":"+")+rr(Math.abs(t)/60,2):$h(t,e)}function $h(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=rr(Math.trunc(r/60),2),a=rr(r%60,2);return n+i+e+a}const Iz=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ire=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zAe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Iz(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Iz(r,e)).replace("{{time}}",Ire(i,e))},HAe={p:Ire,P:zAe},VAe=/^D+$/,qAe=/^Y+$/,GAe=["D","DD","YY","YYYY"];function WAe(t){return VAe.test(t)}function XAe(t){return qAe.test(t)}function YAe(t,e,n){const r=KAe(t,e,n);if(console.warn(r),GAe.includes(t))throw new RangeError(r)}function KAe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const QAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JAe=/^'([^]*?)'?$/,eCe=/''/g,tCe=/[a-zA-Z]/;function Ha(t,e,n){const r=_x(),i=n?.locale??r.locale??o5,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=Fn(t,n?.in);if(!tAe(l))throw new RangeError("Invalid time value");let c=e.match(ZAe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=HAe[f];return h(d,i.formatLong)}return d}).join("").match(QAe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:nCe(d)};if(Dz[f])return{isToken:!0,value:d};if(f.match(tCe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!n?.useAdditionalWeekYearTokens&&XAe(f)||!n?.useAdditionalDayOfYearTokens&&WAe(f))&&YAe(f,e,String(t));const h=Dz[f[0]];return h(l,f,i.localize,u)}).join("")}function nCe(t){const e=t.match(JAe);return e?e[1].replace(eCe,"'"):t}function rCe(t,e,n){const r=_x(),i=n?.locale??r.locale??o5,a=2520,o=kS(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:o}),[c,u]=sh(n?.in,...o>0?[e,t]:[t,e]),d=lAe(u,c),f=(hv(u)-hv(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<Tz){const y=Math.round(h/60);return i.formatDistance("aboutXHours",y,l)}else{if(h<a)return i.formatDistance("xDays",1,l);if(h<l_){const y=Math.round(h/Tz);return i.formatDistance("xDays",y,l)}else if(h<l_*2)return p=Math.round(h/l_),i.formatDistance("aboutXMonths",p,l)}if(p=oAe(u,c),p<12){const y=Math.round(h/l_);return i.formatDistance("xMonths",y,l)}else{const y=p%12,g=Math.trunc(p/12);return y<3?i.formatDistance("aboutXYears",g,l):y<9?i.formatDistance("overXYears",g,l):i.formatDistance("almostXYears",g+1,l)}}function iCe(t,e){return rCe(t,eAe(t),e)}function sCe(t,e){const n=Fn(t,e?.in),r=n.getFullYear(),i=n.getMonth(),a=Bi(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function aCe(t){return Math.trunc(+Fn(t)/1e3)}function oCe(t,e){const n=Fn(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),Fn(n,e?.in)}function lCe(t,e){const n=Fn(t,e?.in);return nAe(oCe(n,e),Ra(n,e),e)+1}function II(t,e){return+Fn(t)>+Fn(e)}function kre(t,e){return+Fn(t)<+Fn(e)}function l5(t,e,n){const[r,i]=sh(n?.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function cCe(t,e,n){const[r,i]=sh(n?.in,t,e);return r.getFullYear()===i.getFullYear()}function Qu(t,e,n){return oa(t,-e,n)}function sM(t,e,n){const r=Fn(t,n?.in),i=r.getFullYear(),a=r.getDate(),o=Bi(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const l=sCe(o);return r.setMonth(e,Math.min(a,l)),r}function kz(t,e,n){const r=Fn(t,n?.in);return isNaN(+r)?Bi(t,NaN):(r.setFullYear(e),r)}const uCe={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},dCe=(t,e,n)=>{const r=uCe[t];let i;return typeof r=="string"?i=r:e===1?i=r.one:e===2?i=r.two:e<=10?i=r.threeToTen.replace("{{count}}",String(e)):i=r.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"خلال "+i:"منذ "+i:i},fCe={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},hCe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},pCe={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mCe={date:$g({formats:fCe,defaultWidth:"full"}),time:$g({formats:hCe,defaultWidth:"full"}),dateTime:$g({formats:pCe,defaultWidth:"full"})},gCe={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},vCe=t=>gCe[t],xCe={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},yCe={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},bCe={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},wCe={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},_Ce={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},SCe={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},jCe=t=>String(t),ECe={ordinalNumber:jCe,era:Ec({values:xCe,defaultWidth:"wide"}),quarter:Ec({values:yCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ec({values:bCe,defaultWidth:"wide"}),day:Ec({values:wCe,defaultWidth:"wide"}),dayPeriod:Ec({values:_Ce,defaultWidth:"wide",formattingValues:SCe,defaultFormattingWidth:"wide"})},NCe=/^(\d+)(th|st|nd|rd)?/i,ACe=/\d+/i,CCe={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},MCe={any:[/قبل/,/بعد/]},TCe={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},PCe={any:[/1/i,/2/i,/3/i,/4/i]},DCe={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},RCe={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},OCe={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},ICe={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},kCe={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},LCe={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},FCe={ordinalNumber:Pre({matchPattern:NCe,parsePattern:ACe,valueCallback:t=>parseInt(t,10)}),era:Nc({matchPatterns:CCe,defaultMatchWidth:"wide",parsePatterns:MCe,defaultParseWidth:"any"}),quarter:Nc({matchPatterns:TCe,defaultMatchWidth:"wide",parsePatterns:PCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Nc({matchPatterns:DCe,defaultMatchWidth:"wide",parsePatterns:RCe,defaultParseWidth:"any"}),day:Nc({matchPatterns:OCe,defaultMatchWidth:"wide",parsePatterns:ICe,defaultParseWidth:"any"}),dayPeriod:Nc({matchPatterns:kCe,defaultMatchWidth:"any",parsePatterns:LCe,defaultParseWidth:"any"})},c5={code:"ar",formatDistance:dCe,formatLong:mCe,formatRelative:vCe,localize:ECe,match:FCe,options:{weekStartsOn:6,firstWeekContainsDate:1}};function UCe(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState([]),[i,a]=M.useState([]),[o,l]=M.useState(!0),[c,u]=M.useState("all"),[d,f]=M.useState(""),[h,p]=M.useState(!1),[y,g]=M.useState(null),[v,b]=M.useState(""),[w,_]=M.useState(!1);M.useEffect(()=>{t&&S()},[t]),M.useEffect(()=>{j()},[n,c,d]);const S=async()=>{try{l(!0);const O=await tt.listDocuments(un.databaseId,"users",[Se.equal("accountStatus","pending"),Se.orderDesc("$createdAt"),Se.limit(100)]);r(O.documents)}catch(O){console.error("Error fetching pending users:",O),e({title:"خطأ",description:"فشل في تحميل الحسابات المعلقة",variant:"destructive"})}finally{l(!1)}},j=()=>{let O=[...n];if(c==="merchant"?O=O.filter(I=>I.isMerchant):c==="affiliate"&&(O=O.filter(I=>I.isAffiliate)),d){const I=d.toLowerCase();O=O.filter(L=>L.name.toLowerCase().includes(I)||L.email.toLowerCase().includes(I)||L.phone.includes(I))}a(O)},A=async(O,I)=>{try{await tt.updateDocument(un.databaseId,"users",O,{accountStatus:"approved",approvedAt:new Date().toISOString(),approvedBy:t?.$id,isActive:!0});try{await tt.createDocument(un.databaseId,"notifications","unique()",{userId:O,title:"🎉 تمت الموافقة على حسابك",message:"مرحباً بك! تم قبول حسابك ويمكنك الآن الاستفادة من جميع المميزات",type:"account_approved",isRead:!1,link:"/dashboard"})}catch(L){console.error("Error creating notification:",L)}e({title:"✅ تمت الموافقة",description:`تم قبول حساب ${I} بنجاح`}),S()}catch(L){console.error("Error approving account:",L),e({title:"خطأ",description:"فشل في الموافقة على الحساب",variant:"destructive"})}},C=async()=>{if(!y||!v.trim()){e({title:"خطأ",description:"يجب إدخال سبب الرفض",variant:"destructive"});return}try{await tt.updateDocument(un.databaseId,"users",y.$id,{accountStatus:"rejected",rejectionReason:v,isActive:!1});try{await tt.createDocument(un.databaseId,"notifications","unique()",{userId:y.$id,title:"تحديث حول طلب حسابك",message:`عذراً، لم يتم قبول حسابك. السبب: ${v}`,type:"account_rejected",isRead:!1})}catch(O){console.error("Error creating notification:",O)}e({title:"تم الرفض",description:`تم رفض حساب ${y.name}`}),p(!1),g(null),b(""),S()}catch(O){console.error("Error rejecting account:",O),e({title:"خطأ",description:"فشل في رفض الحساب",variant:"destructive"})}},N=O=>{g(O),p(!0)},T=O=>{g(O),_(!0)},P=O=>O.isMerchant?s.jsx(jt,{className:"bg-brand-purple",children:"🏪 تاجر"}):O.isAffiliate?s.jsx(jt,{className:"bg-brand-orange",children:"💰 مسوق"}):s.jsx(jt,{variant:"secondary",children:"عميل"}),D=O=>`https://wa.me/${O.replace(/\D/g,"")}`;return o?s.jsxs(Bne,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[...Array(3)].map((O,I)=>s.jsx(Q4,{},I))}),s.jsx("div",{className:"overflow-x-auto",children:s.jsx("table",{className:"min-w-full",children:s.jsx("tbody",{children:s.jsx(K4,{rows:8,cols:7})})})})]}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الحسابات المعلقة"}),s.jsx("p",{className:"text-muted-foreground",children:"مراجعة والموافقة على حسابات التجار والمسوقين الجدد"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المعلقة"}),s.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"التجار"}),s.jsx(cv,{className:"h-4 w-4 text-brand-purple"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.filter(O=>O.isMerchant).length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"المسوقون"}),s.jsx(cv,{className:"h-4 w-4 text-brand-orange"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.filter(O=>O.isAffiliate).length})})]})]}),s.jsx(ce,{className:"mb-6",children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(qe,{htmlFor:"search",children:"بحث"}),s.jsx(st,{id:"search",placeholder:"ابحث بالاسم، البريد الإلكتروني، أو رقم الهاتف...",value:d,onChange:O=>f(O.target.value)})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(qe,{htmlFor:"filter",children:"الفلتر"}),s.jsxs(Lr,{value:c,onValueChange:O=>u(O),children:[s.jsx(Mr,{id:"filter",children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"الكل"}),s.jsx(At,{value:"merchant",children:"التجار فقط"}),s.jsx(At,{value:"affiliate",children:"المسوقون فقط"})]})]})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ui,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"لا توجد حسابات معلقة"}),s.jsx("p",{className:"text-muted-foreground",children:"جميع الحسابات الجديدة تمت مراجعتها"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"المستخدم"}),s.jsx(ut,{children:"النوع"}),s.jsx(ut,{children:"التواصل"}),s.jsx(ut,{children:"تاريخ التسجيل"}),s.jsx(ut,{className:"text-left",children:"الإجراءات"})]})}),s.jsx(ys,{children:i.map(O=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:O.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:O.email})]})}),s.jsx(dt,{children:P(O)}),s.jsx(dt,{children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("a",{href:D(O.phone),target:"_blank",rel:"noopener noreferrer",className:"text-sm text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(hf,{className:"h-3 w-3"}),O.phone]}),O.alternativePhone&&s.jsxs("a",{href:D(O.alternativePhone),target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:underline flex items-center gap-1",children:[s.jsx(hf,{className:"h-3 w-3"}),O.alternativePhone]})]})}),s.jsx(dt,{children:s.jsx("div",{className:"text-sm",children:iCe(new Date(O.$createdAt),{addSuffix:!0,locale:c5})})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>T(O),children:"عرض"}),s.jsxs(ge,{size:"sm",variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:()=>A(O.$id,O.name),children:[s.jsx(Fi,{className:"h-4 w-4 mr-1"}),"موافقة"]}),s.jsxs(ge,{size:"sm",variant:"destructive",onClick:()=>N(O),children:[s.jsx(ov,{className:"h-4 w-4 mr-1"}),"رفض"]})]})})]},O.$id))})]})})})}),s.jsx(_i,{open:h,onOpenChange:p,children:s.jsxs(di,{children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"رفض الحساب"}),s.jsxs(ga,{children:["يرجى توضيح سبب رفض حساب ",y?.name]})]}),s.jsxs("div",{className:"py-4",children:[s.jsx(qe,{htmlFor:"reason",children:"سبب الرفض"}),s.jsx(_o,{id:"reason",placeholder:"اكتب السبب بوضوح...",value:v,onChange:O=>b(O.target.value),rows:4,className:"mt-2"})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"إلغاء"}),s.jsx(ge,{variant:"destructive",onClick:C,children:"تأكيد الرفض"})]})]})}),s.jsx(_i,{open:w,onOpenChange:_,children:s.jsxs(di,{className:"max-w-2xl",children:[s.jsx(Si,{children:s.jsx(ji,{children:"تفاصيل الحساب"})}),y&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"الاسم"}),s.jsx("p",{className:"font-medium",children:y.name})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"نوع الحساب"}),s.jsx("div",{className:"mt-1",children:P(y)})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"البريد الإلكتروني"}),s.jsx("p",{className:"font-medium",children:y.email})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"رقم الهاتف"}),s.jsxs("a",{href:D(y.phone),target:"_blank",rel:"noopener noreferrer",className:"font-medium text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(hf,{className:"h-4 w-4"}),y.phone]})]}),y.alternativePhone&&s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"رقم بديل"}),s.jsxs("a",{href:D(y.alternativePhone),target:"_blank",rel:"noopener noreferrer",className:"font-medium text-green-600 hover:underline flex items-center gap-1",children:[s.jsx(hf,{className:"h-4 w-4"}),y.alternativePhone]})]}),y.affiliateCode&&s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"كود المسوق"}),s.jsx("p",{className:"font-medium font-mono",children:y.affiliateCode})]}),s.jsxs("div",{children:[s.jsx(qe,{className:"text-muted-foreground",children:"تاريخ التسجيل"}),s.jsx("p",{className:"font-medium",children:new Date(y.$createdAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(ge,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{A(y.$id,y.name),_(!1)},children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"موافقة"]}),s.jsxs(ge,{className:"flex-1",variant:"destructive",onClick:()=>{_(!1),N(y)},children:[s.jsx(ov,{className:"h-4 w-4 mr-2"}),"رفض"]})]})]})]})})]})}function BCe(){const{user:t}=ur(),e=()=>t?.isMerchant?"تاجر":t?.isAffiliate?"مسوق":"مستخدم";return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-muted/30 to-background p-4",children:s.jsxs(ce,{className:"max-w-2xl w-full",children:[s.jsxs(Ee,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Ui,{className:"h-8 w-8 text-yellow-600"})}),s.jsx(Ce,{className:"text-2xl mb-2",children:"⏳ حسابك قيد المراجعة"}),s.jsxs("p",{className:"text-muted-foreground",children:["مرحباً ",t?.name,"، شكراً لتسجيلك كـ",e()]})]}),s.jsxs(he,{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($a,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-1",children:"في انتظار موافقة الإدارة"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"حسابك الآن قيد المراجعة من قبل فريق إيجي جو. سيتم إشعارك فوراً عند الموافقة على حسابك."})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"ماذا بعد؟"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"1"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"المراجعة السريعة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"عادة ما تستغرق المراجعة من 24 إلى 48 ساعة عمل"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"2"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"التحقق من البيانات"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"سنتحقق من بياناتك ونتأكد من صحة المعلومات المقدمة"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-primary",children:"3"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"إشعار فوري"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"عند الموافقة، ستتلقى إشعاراً على الموقع ورسالة على بريدك الإلكتروني"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"بيانات التواصل المسجلة:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Kc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:t?.email})]}),t?.phone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(hf,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:t.phone})]})]})]}),s.jsxs("div",{className:"border-t pt-6 space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"يمكنك التصفح والتسوق في الموقع أثناء انتظار الموافقة"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{asChild:!0,className:"flex-1",variant:"outline",children:s.jsx(ot,{to:"/",children:"العودة للرئيسية"})}),s.jsx(ge,{asChild:!0,className:"flex-1",children:s.jsx(ot,{to:"/products",children:"تصفح المنتجات"})})]})]}),s.jsx("div",{className:"bg-muted rounded-lg p-4 text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"هل لديك استفسار؟"}),s.jsx("br",{}),"يمكنك التواصل معنا على"," ",s.jsx("a",{href:"mailto:support@egygo.me",className:"text-primary hover:underline",children:"support@egygo.me"})]})})]})]})})}const Vo=un.databaseId,qo=un.collections,$Ce=un.storageId;function zCe(t){if(!t)return"/placeholder.svg";if(typeof t=="object"&&t.url)return t.url;if(typeof t=="string"){if(t.startsWith("http://")||t.startsWith("https://"))return t;try{return Fl.getFileView($Ce,t).toString()}catch(e){return console.error("Error getting image URL:",e),"/placeholder.svg"}}return"/placeholder.svg"}async function HCe(t){try{console.log("Fetching merchant stats for user:",t);let e;try{e=await tt.listDocuments(Vo,qo.products,[Se.equal("merchantId",t),Se.limit(1e3)]),console.log("Fetched products with merchantId filter:",e.documents.length)}catch(_){console.warn("merchantId attribute not found, fetching all products:",_.message),e=await tt.listDocuments(Vo,qo.products,[Se.limit(1e3)])}const n=e.documents,r=n.length,i=n.filter(_=>_.stock>0).length,a=n.filter(_=>_.stock===0).length,o=n.map(_=>_.$id);let l=0,c=0,u=0,d=0;if(o.length>0){const _=await tt.listDocuments(Vo,qo.orderItems,[Se.equal("productId",o),Se.limit(1e3)]);for(const S of _.documents){l+=S.quantity||0,c+=(S.price||0)*(S.quantity||0);try{const j=await tt.getDocument(Vo,qo.orders,S.orderId);j.status==="pending"||j.status==="processing"?u++:j.status==="delivered"&&d++}catch(j){console.error("Error fetching order:",j)}}}const f=new Date,h=new Date(f.getTime()-720*60*60*1e3),p=new Date(f.getTime()-1440*60*60*1e3);let y=0,g=0;o.length>0&&(y=(await tt.listDocuments(Vo,qo.orderItems,[Se.equal("productId",o),Se.greaterThan("$createdAt",h.toISOString()),Se.limit(1e3)])).documents.reduce((j,A)=>j+(A.price||0)*(A.quantity||0),0),g=(await tt.listDocuments(Vo,qo.orderItems,[Se.equal("productId",o),Se.greaterThan("$createdAt",p.toISOString()),Se.lessThan("$createdAt",h.toISOString()),Se.limit(1e3)])).documents.reduce((j,A)=>j+(A.price||0)*(A.quantity||0),0));const v=g>0?(y-g)/g*100:0;let b=0,w=0;if(o.length>0){const _=await tt.listDocuments(Vo,qo.reviews,[Se.equal("productId",o),Se.limit(1e3)]);w=_.documents.length,w>0&&(b=_.documents.reduce((j,A)=>j+(A.rating||0),0)/w)}return{totalProducts:r,activeProducts:i,outOfStock:a,totalSales:l,totalRevenue:c,revenueChange:v,pendingOrders:u,completedOrders:d,avgRating:parseFloat(b.toFixed(1)),totalReviews:w}}catch(e){throw console.error("Error fetching merchant stats:",e),e}}async function VCe(t){try{console.log("Fetching merchant products for user:",t);let e;try{e=await tt.listDocuments(Vo,qo.products,[Se.equal("merchantId",t),Se.orderDesc("$createdAt"),Se.limit(100)]),console.log("Fetched products with merchantId filter:",e.documents.length)}catch{console.warn("merchantId attribute not found, fetching all products"),e=await tt.listDocuments(Vo,qo.products,[Se.orderDesc("$createdAt"),Se.limit(100)])}const n=[];for(const r of e.documents){const i=await tt.listDocuments(Vo,qo.orderItems,[Se.equal("productId",r.$id),Se.limit(1e3)]),a=i.documents.reduce((d,f)=>d+(f.quantity||0),0),o=i.documents.reduce((d,f)=>d+(f.price||0)*(f.quantity||0),0),l=await tt.listDocuments(Vo,qo.reviews,[Se.equal("productId",r.$id),Se.limit(1e3)]),c=l.documents.length>0?l.documents.reduce((d,f)=>d+(f.rating||0),0)/l.documents.length:0;let u="active";r.stock===0?u="out_of_stock":r.isActive===!1&&(u="draft"),n.push({id:r.$id,name:r.name||"",image:zCe(r.images?.[0]),price:r.price||0,stock:r.stock||0,sales:a,revenue:o,views:0,rating:parseFloat(c.toFixed(1)),status:u,categoryId:r.categoryId,description:r.description,merchantId:t})}return n}catch(e){throw console.error("Error fetching merchant products:",e),e}}async function qCe(t){try{console.log("Fetching merchant orders for user:",t);const e=await tt.listDocuments(Vo,qo.orders,[Se.orderDesc("$createdAt"),Se.limit(100)]),n=[];for(const r of e.documents){const i=r.items||[],a=i.reduce((o,l)=>o+(l.price||0)*(l.quantity||0),0);n.push({id:r.$id,orderId:r.$id,product:i.length>0?i[0].name:"منتج",customer:r.customerName||r.customerEmail||"عميل",amount:a,status:r.status||"pending",date:new Date(r.$createdAt).toISOString().split("T")[0]})}return n}catch(e){throw console.error("Error fetching merchant orders:",e),e}}function GCe(){const{user:t}=ur();if(t?.isMerchant&&t?.accountStatus==="pending")return s.jsx(BCe,{});if(!t?.isMerchant)return s.jsx(Ky,{to:"/",replace:!0});const[e,n]=M.useState(null),[r,i]=M.useState([]),[a,o]=M.useState([]),[l,c]=M.useState(!0),[u,d]=M.useState(null);return M.useEffect(()=>{if(!t)return;(async()=>{try{c(!0),d(null);const[h,p,y]=await Promise.all([HCe(t.$id),VCe(t.$id),qCe(t.$id)]);n(h),i(p.slice(0,3)),o(y.slice(0,3))}catch(h){console.error("Error fetching merchant data:",h),d("حدث خطأ أثناء تحميل البيانات")}finally{c(!1)}})()},[t]),l?s.jsx(xo,{children:s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Da,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"جاري تحميل البيانات..."})]})})}):u||!e?s.jsx(xo,{children:s.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:s.jsxs(ce,{className:"w-full max-w-md",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{className:"text-destructive",children:"خطأ"}),s.jsx(on,{children:u||"فشل تحميل البيانات"})]}),s.jsx(he,{children:s.jsx(ge,{onClick:()=>window.location.reload(),children:"إعادة المحاولة"})})]})})}):s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"لوحة تحكم التاجر"}),s.jsxs("p",{className:"text-muted-foreground",children:["مرحباً ",t?.name,"، إليك ملخص منتجاتك ومبيعاتك"]})]}),s.jsx(ot,{to:"/admin/products",children:s.jsxs(ge,{children:[s.jsx(sl,{className:"h-4 w-4 ml-2"}),"إضافة منتج جديد"]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المنتجات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.totalProducts}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.activeProducts," نشط، ",e.outOfStock," ","نفذت من المخزون"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المبيعات"}),s.jsx(ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.totalSales}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.pendingOrders," قيد التنفيذ"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الإيرادات"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",e.totalRevenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center text-xs mt-1",children:[e.revenueChange>=0?s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"h-3 w-3 text-green-500 ml-1"}),s.jsxs("span",{className:"text-green-500",children:["+",e.revenueChange.toFixed(1),"%"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Z0,{className:"h-3 w-3 text-red-500 ml-1"}),s.jsxs("span",{className:"text-red-500",children:[e.revenueChange.toFixed(1),"%"]})]}),s.jsx("span",{className:"text-muted-foreground mr-1",children:"عن الشهر الماضي"})]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"التقييم"}),s.jsx(da,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[e.avgRating,"/5.0"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e.totalReviews," تقييم"]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"أداء المنتجات"}),s.jsx(on,{children:"أفضل منتجاتك أداءً هذا الشهر"})]}),s.jsx(ot,{to:"/admin/products",children:s.jsxs(ge,{variant:"outline",size:"sm",children:["عرض الكل ",s.jsx(_xe,{className:"h-4 w-4 mr-1"})]})})]})}),s.jsx(he,{children:s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(er,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"لا توجد منتجات بعد"}),s.jsx(ot,{to:"/admin/products",children:s.jsxs(ge,{className:"mt-4",size:"sm",children:[s.jsx(sl,{className:"h-4 w-4 ml-1"}),"إضافة منتج"]})})]}):r.map(f=>{const h={active:{label:"نشط",variant:"default"},out_of_stock:{label:"نفذ من المخزون",variant:"destructive"},draft:{label:"مسودة",variant:"secondary"}},p=h[f.status]||h.active;return s.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg border",children:[s.jsx("img",{src:f.image,alt:f.name,className:"h-16 w-16 rounded object-cover"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-semibold",children:f.name}),s.jsx(jt,{variant:p.variant,children:p.label})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"السعر"}),s.jsxs("p",{className:"font-medium",children:["$",f.price]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"المبيعات"}),s.jsx("p",{className:"font-medium",children:f.sales})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"الإيرادات"}),s.jsxs("p",{className:"font-medium",children:["$",f.revenue.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"المشاهدات"}),s.jsx("p",{className:"font-medium",children:f.views})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fp,{value:f.stock>0?Math.min(f.stock/100*100,100):0,className:"flex-1"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.stock," في المخزون"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(ot,{to:`/admin/products/${f.id}`,children:s.jsxs(ge,{variant:"outline",size:"sm",children:[s.jsx(ld,{className:"h-4 w-4 ml-1"}),"تعديل"]})}),s.jsx(ot,{to:`/products/${f.id}`,children:s.jsxs(ge,{variant:"outline",size:"sm",children:[s.jsx($s,{className:"h-4 w-4 ml-1"}),"معاينة"]})})]})]},f.id)})})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"الطلبات الأخيرة"}),s.jsx(on,{children:"آخر طلبات منتجاتك"})]}),s.jsx(he,{children:s.jsx("div",{className:"space-y-3",children:a.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ti,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"لا توجد طلبات بعد"})]}):a.map(f=>{const h={pending:{label:"قيد الانتظار",variant:"secondary"},processing:{label:"قيد المعالجة",variant:"secondary"},shipped:{label:"تم الشحن",variant:"default"},delivered:{label:"تم التسليم",variant:"default"},cancelled:{label:"ملغي",variant:"destructive"}},p=h[f.status]||h.pending;return s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:["#",f.orderId.slice(0,8)]}),s.jsx(jt,{variant:p.variant,children:p.label})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.product," - ",f.customer]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f.date})]}),s.jsxs("div",{className:"text-lg font-bold",children:["$",f.amount.toLocaleString()]})]},f.id)})})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"تنبيهات ونصائح"}),s.jsx(on,{children:"تحسينات مقترحة"})]}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-3",children:[e.outOfStock>0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-yellow-200 bg-yellow-50",children:[s.jsx($a,{className:"h-5 w-5 text-yellow-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"منتجات نفذت من المخزون"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["لديك ",e.outOfStock," منتجات نفذت من المخزون. قم بتحديث الكميات."]})]})]}),e.revenueChange>0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-blue-200 bg-blue-50",children:[s.jsx(Dp,{className:"h-5 w-5 text-blue-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"أداء ممتاز"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["مبيعاتك زادت بنسبة ",e.revenueChange.toFixed(1),"% هذا الشهر!"]})]})]}),e.revenueChange<0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-red-200 bg-red-50",children:[s.jsx(Z0,{className:"h-5 w-5 text-red-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"انخفاض في المبيعات"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["مبيعاتك انخفضت بنسبة ",Math.abs(e.revenueChange).toFixed(1),"% هذا الشهر."]})]})]}),e.totalReviews>0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-green-200 bg-green-50",children:[s.jsx(da,{className:"h-5 w-5 text-green-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"تقييمات رائعة"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["لديك ",e.totalReviews," تقييم بمتوسط ",e.avgRating,"/5"]})]})]}),e.pendingOrders>0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-orange-200 bg-orange-50",children:[s.jsx(ti,{className:"h-5 w-5 text-orange-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"طلبات قيد المعالجة"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["لديك ",e.pendingOrders," طلب يحتاج إلى معالجة"]})]})]}),e.totalProducts===0&&s.jsxs("div",{className:"flex gap-3 p-3 rounded-lg border border-gray-200 bg-gray-50",children:[s.jsx(er,{className:"h-5 w-5 text-gray-600 shrink-0"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"ابدأ بإضافة منتجات"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"لم تضف أي منتجات بعد. ابدأ بإضافة منتجك الأول!"})]})]})]})})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"إجراءات سريعة"})}),s.jsx(he,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ot,{to:"/admin/products",children:s.jsx(ge,{variant:"outline",className:"w-full h-auto py-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(sl,{className:"h-6 w-6"}),s.jsx("span",{children:"إضافة منتج"})]})})}),s.jsx(ot,{to:"/admin/products",children:s.jsx(ge,{variant:"outline",className:"w-full h-auto py-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(er,{className:"h-6 w-6"}),s.jsx("span",{children:"إدارة المنتجات"})]})})}),s.jsx(ot,{to:"/admin/categories",children:s.jsx(ge,{variant:"outline",className:"w-full h-auto py-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Dp,{className:"h-6 w-6"}),s.jsx("span",{children:"إدارة الفئات"})]})})}),s.jsx(ge,{variant:"outline",className:"w-full h-auto py-4",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(da,{className:"h-6 w-6"}),s.jsx("span",{children:"عرض التقييمات"})]})})]})})]})]})})}const zf=void 0,Hf="products",Lz="product-images";async function Lre(t){try{const e=`https://api.allorigins.win/get?url=${encodeURIComponent(t)}`,i=(await(await fetch(e)).json()).contents,o=new DOMParser().parseFromString(i,"text/html"),l=o.querySelector('meta[property="og:title"]')?.getAttribute("content"),c=o.querySelector('meta[property="og:description"]')?.getAttribute("content"),u=o.querySelector('meta[property="og:image"]')?.getAttribute("content"),d=o.querySelector('meta[property="product:price:amount"]')?.getAttribute("content"),f=l||o.querySelector("h1")?.textContent?.trim()||o.querySelector(".product-title")?.textContent?.trim()||o.title,h=c||o.querySelector(".product-description")?.textContent?.trim()||o.querySelector('[itemprop="description"]')?.textContent?.trim(),p=d||o.querySelector(".price")?.textContent?.trim()||o.querySelector('[itemprop="price"]')?.getAttribute("content"),y=p?parseFloat(p.replace(/[^\d.]/g,"")):0,g=[];return u&&g.push(u),o.querySelectorAll('img[src*="product"], img[class*="product"], img[data-zoom]').forEach(v=>{const b=v.getAttribute("src")||v.getAttribute("data-src");b&&!g.includes(b)&&g.push(b.startsWith("http")?b:new URL(b,t).href)}),{name:f||"منتج مستورد",price:y||0,description:h||"",images:g.slice(0,5),category:"imported"}}catch(e){throw console.error("Error scraping product:",e),new Error("فشل استخراج بيانات المنتج من الرابط")}}async function WCe(t){try{const n=await(await fetch(t)).blob(),r=`imported-${Date.now()}-${Math.random().toString(36).substr(2,9)}.jpg`,i=new File([n],r,{type:n.type}),a=await Fl.createFile(Lz,za.unique(),i);return Fl.getFileView(Lz,a.$id).toString()}catch(e){return console.error("Error uploading image:",e),""}}async function Fre(t,e,n){try{const r=await la.get(),i=await Lre(t);let a;typeof e=="number"?a=i.price+e:e.type==="percentage"?a=i.price*(1+e.value/100):a=i.price+e.value;const o=[];if(i.images&&i.images.length>0)for(const u of i.images)try{const d=await WCe(u);d&&o.push(d)}catch(d){console.error("Error uploading image:",u,d)}const l={name:i.name,description:i.description||"",price:Math.round(a*100)/100,originalPrice:i.price,priceMarkup:typeof e=="number"?e:e.value,priceMarkupType:typeof e=="number"?"fixed":e.type,sourceUrl:t,images:o.length>0?o:["https://via.placeholder.com/400"],category:n||i.category||"imported",stock:999,isActive:!0,intermediaryId:r.$id,intermediaryName:r.name,$createdAt:new Date().toISOString()};return{success:!0,productId:(await tt.createDocument(zf,Hf,za.unique(),l)).$id,scrapedData:i}}catch(r){return console.error("Error importing product:",r),{success:!1,error:r instanceof Error?r.message:"حدث خطأ أثناء استيراد المنتج"}}}async function XCe(t,e,n){const r=[];let i=0,a=0;for(const o of t)try{const l=await Fre(o,e,n);r.push(l),l.success?i++:a++}catch(l){r.push({success:!1,error:`فشل استيراد ${o}: ${l instanceof Error?l.message:"خطأ غير معروف"}`}),a++}return{success:i,failed:a,results:r}}async function YCe(t){try{return(await tt.listDocuments(zf,Hf,[Se.equal("intermediaryId",t),Se.orderDesc("$createdAt"),Se.limit(100)])).documents}catch(e){throw console.error("Error fetching intermediary products:",e),e}}async function KCe(t,e){try{return await tt.updateDocument(zf,Hf,t,{price:Math.round(e*100)/100,priceOverride:Math.round(e*100)/100}),{success:!0}}catch(n){throw console.error("Error updating product price:",n),n}}async function QCe(t,e){try{const n=await tt.getDocument(zf,Hf,t),r={description:e,customDescription:e};return n.originalDescription||(r.originalDescription=n.description),await tt.updateDocument(zf,Hf,t,r),{success:!0}}catch(n){throw console.error("Error updating product description:",n),n}}async function ZCe(t){try{const e=await tt.getDocument(zf,Hf,t);if(!e.sourceUrl)throw new Error("لا يوجد رابط مصدر للمنتج");const n=await Lre(e.sourceUrl),r={lastSyncedAt:new Date().toISOString()};return n.price&&n.price!==e.originalPrice&&(r.originalPrice=n.price,e.priceOverride||(e.priceMarkupType==="percentage"?r.price=n.price*(1+(e.priceMarkup||0)/100):r.price=n.price+(e.priceMarkup||0),r.price=Math.round(r.price*100)/100)),n.description&&!e.customDescription?(r.originalDescription=n.description,r.description=n.description):n.description&&(r.originalDescription=n.description),n.name&&n.name!==e.name&&(r.name=n.name),await tt.updateDocument(zf,Hf,t,r),{success:!0,changes:{priceChanged:!!r.originalPrice,descriptionUpdated:!!r.originalDescription,nameUpdated:!!r.name}}}catch(e){throw console.error("Error syncing product:",e),e}}async function JCe(t){try{const e=new Date,n=[Se.equal("autoSyncEnabled",!0),Se.isNotNull("sourceUrl"),Se.limit(100)];return t&&n.push(Se.equal("intermediaryId",t)),(await tt.listDocuments(zf,Hf,n)).documents.filter(a=>{if(!a.lastSyncedAt)return!0;const o=new Date(a.lastSyncedAt),l=(a.syncIntervalMinutes||10)*60*1e3,c=new Date(o.getTime()+l);return e>=c})}catch(e){throw console.error("Error getting products needing sync:",e),e}}async function eMe(t){try{const e=await JCe(t),n={total:e.length,synced:0,failed:0,errors:[]};for(const r of e)try{await ZCe(r.$id),n.synced++}catch(i){n.failed++,n.errors.push(`${r.name}: ${i.message}`)}return n}catch(e){throw console.error("Error bulk syncing products:",e),e}}function tMe(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState([]),[i,a]=M.useState(!1),[o,l]=M.useState(""),[c,u]=M.useState("percentage"),[d,f]=M.useState("20"),[h,p]=M.useState(!1),[y,g]=M.useState(""),[v,b]=M.useState("percentage"),[w,_]=M.useState("20"),[S,j]=M.useState(!1),[A,C]=M.useState(null),[N,T]=M.useState(""),[P,D]=M.useState(""),[O,I]=M.useState(!1),[L,z]=M.useState(!1),[q,V]=M.useState(!1);M.useEffect(()=>{t&&F()},[t]);const F=async()=>{if(t){a(!0);try{const re=await YCe(t.$id);r(re)}catch{e({title:"خطأ",description:"فشل تحميل المنتجات",variant:"destructive"})}finally{a(!1)}}},U=async()=>{if(!o){e({title:"تحذير",description:"الرجاء إدخال رابط المنتج",variant:"destructive"});return}p(!0);try{const re=c==="percentage"?{type:"percentage",value:parseFloat(d)}:{type:"fixed",value:parseFloat(d)},_e=await Fre(o,re);_e.success?(e({title:"نجح!",description:"تم استيراد المنتج بنجاح"}),l(""),F()):e({title:"فشل",description:_e.error||"فشل استيراد المنتج",variant:"destructive"})}catch{e({title:"خطأ",description:"حدث خطأ أثناء الاستيراد",variant:"destructive"})}finally{p(!1)}},H=async()=>{const re=y.split(`
`).filter(_e=>_e.trim());if(re.length===0){e({title:"تحذير",description:"الرجاء إدخال روابط المنتجات",variant:"destructive"});return}j(!0);try{const _e=v==="percentage"?{type:"percentage",value:parseFloat(w)}:{type:"fixed",value:parseFloat(w)},pe=await XCe(re,_e);e({title:"اكتمل الاستيراد",description:`نجح: ${pe.success} | فشل: ${pe.failed}`}),g(""),F()}catch{e({title:"خطأ",description:"حدث خطأ أثناء الاستيراد الجماعي",variant:"destructive"})}finally{j(!1)}},$=re=>{C(re),T(re.price.toString()),D(re.customDescription||re.description||""),I(!0)},W=async()=>{if(A)try{const re=parseFloat(N);re!==A.price&&await KCe(A.$id,re),P!==(A.customDescription||A.description)&&await QCe(A.$id,P),e({title:"نجح!",description:"تم تحديث المنتج بنجاح"}),I(!1),F()}catch{e({title:"خطأ",description:"فشل تحديث المنتج",variant:"destructive"})}},le=async()=>{if(t){V(!0);try{const re=await eMe(t.$id);e({title:"اكتمل التحديث",description:`تم تحديث ${re.synced} من ${re.total} منتج`}),F()}catch{e({title:"خطأ",description:"فشل التحديث الجماعي",variant:"destructive"})}finally{V(!1)}}},ie=n.length>0?(n.reduce((re,_e)=>re+(_e.priceMarkup||0),0)/n.length).toFixed(1):0;return s.jsx("div",{className:"container mx-auto p-6",dir:"rtl",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"لوحة تحكم الوسيط"}),s.jsx("p",{className:"text-muted-foreground",children:"استورد منتجات من مواقع أخرى وحدد هامش الربح"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المنتجات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.length})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"متوسط الهامش"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[ie,"%"]})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الطلبات النشطة"}),s.jsx(ti,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:"0"})})]})]}),s.jsxs(vl,{defaultValue:"single",className:"w-full",children:[s.jsxs(No,{className:"grid w-full grid-cols-2",children:[s.jsx(mn,{value:"single",children:"استيراد منتج واحد"}),s.jsx(mn,{value:"bulk",children:"استيراد جماعي"})]}),s.jsx(gn,{value:"single",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"استيراد منتج من رابط"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"رابط المنتج"}),s.jsx(st,{placeholder:"https://example.com/product/...",value:o,onChange:re=>l(re.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"نوع الهامش"}),s.jsxs(Lr,{value:c,onValueChange:re=>u(re),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"percentage",children:"نسبة مئوية (%)"}),s.jsx(At,{value:"fixed",children:"مبلغ ثابت (جنيه)"})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"قيمة الهامش"}),s.jsx(st,{type:"number",value:d,onChange:re=>f(re.target.value),placeholder:c==="percentage"?"20":"50"})]})]}),s.jsx(ge,{onClick:U,disabled:h,className:"w-full",children:h?"جاري الاستيراد...":"استيراد المنتج"})]})]})}),s.jsx(gn,{value:"bulk",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"استيراد عدة منتجات"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"روابط المنتجات (رابط لكل سطر)"}),s.jsx("textarea",{className:"w-full min-h-[200px] p-3 border rounded-md",placeholder:`https://example.com/product1
https://example.com/product2
https://example.com/product3`,value:y,onChange:re=>g(re.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"نوع الهامش"}),s.jsxs(Lr,{value:v,onValueChange:re=>b(re),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"percentage",children:"نسبة مئوية (%)"}),s.jsx(At,{value:"fixed",children:"مبلغ ثابت (جنيه)"})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"قيمة الهامش"}),s.jsx(st,{type:"number",value:w,onChange:re=>_(re.target.value),placeholder:v==="percentage"?"20":"50"})]})]}),s.jsx(ge,{onClick:H,disabled:S,className:"w-full",children:S?"جاري الاستيراد...":"استيراد المنتجات"})]})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{children:"منتجاتي المستوردة"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ge,{onClick:le,variant:"outline",size:"sm",disabled:q,children:[s.jsx($Z,{className:`h-4 w-4 ml-2 ${q?"animate-spin":""}`}),q?"جاري المزامنة...":"مزامنة الكل"]}),s.jsxs(ge,{onClick:F,variant:"outline",size:"sm",children:[s.jsx(hx,{className:"h-4 w-4 ml-2"}),"تحديث"]})]})]})}),s.jsx(he,{children:i?s.jsx("div",{className:"text-center py-8",children:"جاري التحميل..."}):n.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"لا توجد منتجات مستوردة بعد"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"الصورة"}),s.jsx(ut,{children:"الاسم"}),s.jsx(ut,{children:"السعر"}),s.jsx(ut,{children:"إجراءات"})]})}),s.jsx(ys,{children:n.map(re=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx("img",{src:re.images?.[0]||"/placeholder.png",alt:re.name,className:"w-12 h-12 object-cover rounded"})}),s.jsx(dt,{className:"max-w-[200px]",children:s.jsx("div",{className:"truncate",children:re.name})}),s.jsxs(dt,{className:"font-bold",children:[re.price," جنيه"]}),s.jsx(dt,{children:s.jsx("div",{className:"flex gap-2",children:s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>$(re),children:s.jsx(ld,{className:"h-4 w-4"})})})})]},re.$id))})]})})})]}),s.jsx(_i,{open:O,onOpenChange:I,children:s.jsxs(di,{className:"sm:max-w-[600px]",dir:"rtl",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"تعديل المنتج"}),s.jsx(ga,{children:"قم بتعديل سعر ووصف المنتج. سيتم الاحتفاظ بالنسخة الأصلية."})]}),A&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-price",children:"السعر النهائي"}),s.jsx(st,{id:"edit-price",type:"number",step:"0.01",value:N,onChange:re=>T(re.target.value)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["السعر الأصلي: ",A.originalPrice," جنيه"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"edit-description",children:"الوصف"}),s.jsx(_o,{id:"edit-description",rows:6,value:P,onChange:re=>D(re.target.value),className:"resize-none"}),A.originalDescription&&s.jsx(ge,{type:"button",variant:"outline",size:"sm",onClick:()=>D(A.originalDescription),children:"استعادة الوصف الأصلي"})]})]}),s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>I(!1),children:"إلغاء"}),s.jsx(ge,{onClick:W,children:"حفظ التغييرات"})]})]})})]})})}const u5=new Ll,nMe="https://fra.cloud.appwrite.io/v1",rMe="68d8b9db00134c41e7c8";u5.setEndpoint(nMe).setProject(rMe);const iMe=new IJ(u5),Ro=new kJ(u5),Oo="68de037e003bd03c4d45",Fz="users",Uz="orders",aM="wishlist",c_="addresses",sMe="products",vc={async getUserProfile(t){try{return(await Ro.listDocuments(Oo,Fz,[Se.equal("email",t)])).documents[0]||null}catch(e){return console.error("Error fetching user profile:",e),null}},async updateUserProfile(t,e){try{return await Ro.updateDocument(Oo,Fz,t,e)}catch(n){throw console.error("Error updating user profile:",n),n}},async getUserOrders(t){try{return(await Ro.listDocuments(Oo,Uz,[Se.equal("userId",t),Se.orderDesc("$createdAt"),Se.limit(20)])).documents}catch(e){return console.error("Error fetching orders:",e),[]}},async getOrderDetails(t){try{return await Ro.getDocument(Oo,Uz,t)}catch(e){return console.error("Error fetching order details:",e),null}},async getUserWishlist(t){try{const e=await Ro.listDocuments(Oo,aM,[Se.equal("userId",t),Se.orderDesc("$createdAt")]);return await Promise.all(e.documents.map(async r=>{try{const i=await Ro.getDocument(Oo,sMe,r.productId);return{...r,productName:i.name,productPrice:i.price,productImage:i.images?.[0]||i.image,inStock:i.stock>0}}catch{return r}}))}catch(e){return console.error("Error fetching wishlist:",e),[]}},async addToWishlist(t,e){try{return await Ro.createDocument(Oo,aM,za.unique(),{userId:t,productId:e,createdAt:new Date().toISOString()})}catch(n){throw console.error("Error adding to wishlist:",n),n}},async removeFromWishlist(t){try{return await Ro.deleteDocument(Oo,aM,t),!0}catch(e){throw console.error("Error removing from wishlist:",e),e}},async getUserAddresses(t){try{return(await Ro.listDocuments(Oo,c_,[Se.equal("userId",t),Se.orderDesc("isDefault")])).documents}catch(e){return console.error("Error fetching addresses:",e),[]}},async addAddress(t,e){try{return await Ro.createDocument(Oo,c_,za.unique(),{userId:t,...e,createdAt:new Date().toISOString()})}catch(n){throw console.error("Error adding address:",n),n}},async updateAddress(t,e){try{return await Ro.updateDocument(Oo,c_,t,e)}catch(n){throw console.error("Error updating address:",n),n}},async deleteAddress(t){try{return await Ro.deleteDocument(Oo,c_,t),!0}catch(e){throw console.error("Error deleting address:",e),e}},async getUserStats(t){try{const e=await this.getUserOrders(t),n=await this.getUserWishlist(t),r=e.length,i=e.filter(l=>["pending","processing","shipped"].includes(l.status?.toLowerCase())).length,a=e.filter(l=>l.status?.toLowerCase()==="delivered").length,o=e.reduce((l,c)=>l+(c.total||c.totalAmount||0),0);return{totalOrders:r,activeOrders:i,completedOrders:a,totalSpent:o,savedItems:n.length,reviews:0}}catch(e){return console.error("Error calculating user stats:",e),{totalOrders:0,activeOrders:0,completedOrders:0,totalSpent:0,savedItems:0,reviews:0}}}};function Bz(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState("profile"),[i,a]=M.useState(!0),[o,l]=M.useState(!1),[c,u]=M.useState(null),[d,f]=M.useState([]),[h,p]=M.useState([]),[y,g]=M.useState([]),[v,b]=M.useState({totalOrders:0,activeOrders:0,completedOrders:0,totalSpent:0,savedItems:0,reviews:0}),[w,_]=M.useState({name:"",phone:"",birthdate:""});M.useEffect(()=>{t&&S()},[t]);const S=async()=>{if(t){a(!0);try{const D=await vc.getUserProfile(t.email);D&&(u(D),_({name:D.name||t.name||"",phone:D.phone||"",birthdate:D.birthdate||""}));const O=await vc.getUserOrders(t.$id);f(O);const I=await vc.getUserWishlist(t.$id);p(I);const L=await vc.getUserAddresses(t.$id);g(L);const z=await vc.getUserStats(t.$id);b(z)}catch(D){console.error("Error loading data:",D),e({title:"خطأ في التحميل",description:"حدث خطأ أثناء تحميل البيانات",variant:"destructive"})}finally{a(!1)}}},j=async()=>{if(c?.$id){l(!0);try{w.name!==t?.name&&await iMe.updateName(w.name),await vc.updateUserProfile(c.$id,{name:w.name,phone:w.phone,birthdate:w.birthdate,updatedAt:new Date().toISOString()}),e({title:"تم التحديث",description:"تم تحديث معلوماتك بنجاح"}),await S()}catch(D){console.error("Error updating profile:",D),e({title:"خطأ",description:"حدث خطأ في تحديث المعلومات",variant:"destructive"})}finally{l(!1)}}},A=async D=>{try{await vc.removeFromWishlist(D),e({title:"تم الحذف",description:"تم إزالة المنتج من المفضلة"});const O=await vc.getUserWishlist(t?.$id||"");p(O),b(I=>({...I,savedItems:O.length}))}catch{e({title:"خطأ",description:"حدث خطأ في إزالة المنتج",variant:"destructive"})}},C=async D=>{try{await vc.deleteAddress(D),e({title:"تم الحذف",description:"تم حذف العنوان بنجاح"});const O=await vc.getUserAddresses(t?.$id||"");g(O)}catch{e({title:"خطأ",description:"حدث خطأ في حذف العنوان",variant:"destructive"})}},N=D=>D?new Date(D).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"",T=D=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:"EGP"}).format(D||0),P=D=>{const I={pending:{label:"قيد الانتظار",variant:"secondary"},processing:{label:"قيد المعالجة",variant:"default"},shipped:{label:"تم الشحن",variant:"default"},delivered:{label:"تم التوصيل",variant:"success"},cancelled:{label:"ملغي",variant:"destructive"}}[D?.toLowerCase()]||{label:D||"غير محدد",variant:"secondary"};return s.jsx(jt,{variant:I.variant,children:I.label})};return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(Da,{className:"h-8 w-8 animate-spin text-primary"})}):t?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"حسابي"}),s.jsxs("p",{className:"text-muted-foreground",children:["مرحباً ",t?.name||t?.email," - إدارة معلوماتك وطلباتك"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4 mb-8",children:[s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي الطلبات"}),s.jsx("p",{className:"text-2xl font-bold",children:v.totalOrders})]}),s.jsx(er,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"طلبات نشطة"}),s.jsx("p",{className:"text-2xl font-bold",children:v.activeOrders})]}),s.jsx(hw,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي المشتريات"}),s.jsx("p",{className:"text-2xl font-bold",children:T(v.totalSpent)})]}),s.jsx(Jl,{className:"h-8 w-8 text-muted-foreground"})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"المفضلة"}),s.jsx("p",{className:"text-2xl font-bold",children:v.savedItems})]}),s.jsx(Yc,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),s.jsxs(vl,{value:n,onValueChange:r,children:[s.jsxs(No,{className:"grid w-full grid-cols-5",children:[s.jsx(mn,{value:"profile",children:"الملف الشخصي"}),s.jsx(mn,{value:"orders",children:"طلباتي"}),s.jsx(mn,{value:"wishlist",children:"المفضلة"}),s.jsx(mn,{value:"addresses",children:"العناوين"}),s.jsx(mn,{value:"settings",children:"الإعدادات"})]}),s.jsx(gn,{value:"profile",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"المعلومات الشخصية"}),s.jsx(on,{children:"قم بتحديث معلوماتك الشخصية"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"name",children:"الاسم الكامل"}),s.jsx(st,{id:"name",value:w.name,onChange:D=>_({...w,name:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني"}),s.jsx(st,{id:"email",type:"email",value:t?.email||"",disabled:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"phone",children:"رقم الهاتف"}),s.jsx(st,{id:"phone",value:w.phone,onChange:D=>_({...w,phone:D.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"birthdate",children:"تاريخ الميلاد"}),s.jsx(st,{id:"birthdate",type:"date",value:w.birthdate,onChange:D=>_({...w,birthdate:D.target.value})})]})]}),s.jsxs(ge,{onClick:j,disabled:o,children:[o&&s.jsx(Da,{className:"ml-2 h-4 w-4 animate-spin"}),"حفظ التغييرات"]})]})]})}),s.jsx(gn,{value:"orders",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"طلباتي"}),s.jsx(on,{children:"تتبع وإدارة طلباتك"})]}),s.jsx(he,{children:d.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(er,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"لا توجد طلبات حتى الآن"}),s.jsx(ge,{className:"mt-4",onClick:()=>window.location.href="/products",children:"تسوق الآن"})]}):s.jsx("div",{className:"space-y-4",children:d.map(D=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-16 w-16 rounded bg-gray-100 flex items-center justify-center",children:s.jsx(er,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:["#",D.orderNumber||D.$id.slice(-6)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.items?.length||0," منتجات - ",N(D.$createdAt)]}),P(D.status)]})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-lg font-bold",children:T(D.total||D.totalAmount||0)}),s.jsxs(ge,{variant:"outline",size:"sm",className:"mt-2",children:[s.jsx($s,{className:"h-4 w-4 ml-1"}),"التفاصيل"]})]})]},D.$id))})})]})}),s.jsx(gn,{value:"wishlist",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"قائمة المفضلة"}),s.jsx(on,{children:"المنتجات التي قمت بحفظها"})]}),s.jsx(he,{children:h.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yc,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"قائمة المفضلة فارغة"}),s.jsx(ge,{className:"mt-4",onClick:()=>window.location.href="/products",children:"اكتشف المنتجات"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(D=>s.jsx(ce,{children:s.jsxs(he,{className:"p-4",children:[s.jsx("img",{src:D.productImage||"/placeholder.svg",alt:D.productName,className:"w-full h-40 object-cover rounded mb-3"}),s.jsx("h4",{className:"font-semibold mb-2",children:D.productName}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-lg font-bold",children:T(D.productPrice)}),s.jsx(jt,{variant:D.inStock?"default":"secondary",children:D.inStock?"متوفر":"نفذ"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3",children:[s.jsx(ge,{size:"sm",disabled:!D.inStock,children:"أضف للسلة"}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>A(D.$id),children:"إزالة"})]})]})},D.$id))})})]})}),s.jsx(gn,{value:"addresses",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(Ce,{children:"عناويني"}),s.jsx(on,{children:"إدارة عناوين الشحن"})]}),s.jsxs(ge,{children:[s.jsx(Q0,{className:"h-4 w-4 ml-2"}),"إضافة عنوان"]})]})}),s.jsx(he,{children:y.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Q0,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"لا توجد عناوين محفوظة"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:y.map(D=>s.jsx(ce,{children:s.jsxs(he,{className:"p-4",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:D.label}),D.isDefault&&s.jsx(jt,{variant:"secondary",className:"mt-1",children:"العنوان الافتراضي"})]})}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[D.street,", ",D.city,", ",D.country]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:D.phone}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{variant:"outline",size:"sm",children:"تعديل"}),s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>C(D.$id),children:"حذف"})]})]})},D.$id))})})]})}),s.jsx(gn,{value:"settings",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"الأمان"})}),s.jsx(he,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"تغيير كلمة المرور"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"قم بتحديث كلمة المرور الخاصة بك"})]}),s.jsxs(ge,{variant:"outline",children:[s.jsx(dj,{className:"h-4 w-4 ml-2"}),"تغيير"]})]})})]})})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsx(ce,{className:"max-w-md w-full",children:s.jsx(he,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx($a,{className:"h-12 w-12 text-yellow-500 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"يرجى تسجيل الدخول"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"يجب عليك تسجيل الدخول للوصول إلى حسابك"}),s.jsx(ge,{onClick:()=>window.location.href="/login",children:"تسجيل الدخول"})]})})})})}function d5({title:t="EgyGo - متجر إلكتروني مع برنامج شراكة",description:e="تسوق منتجات عالية الجودة وانضم إلى برنامج الشراكة لتكسب عمولة تصل إلى 25% على كل عملية بيع",keywords:n="تسوق اونلاين, متجر الكتروني, برنامج شراكة, عمولات, منتجات, مصر",ogType:r="website",ogImage:i="/og-image.jpg",canonicalUrl:a}){return M.useEffect(()=>{document.title=t;const o=(l,c,u=!1)=>{const d=u?"property":"name";let f=document.querySelector(`meta[${d}="${l}"]`);f||(f=document.createElement("meta"),f.setAttribute(d,l),document.head.appendChild(f)),f.setAttribute("content",c)};if(o("description",e),o("keywords",n),o("og:title",t,!0),o("og:description",e,!0),o("og:type",r,!0),o("og:image",i,!0),o("og:url",a||window.location.href,!0),o("og:site_name","EgyGo",!0),o("twitter:card","summary_large_image"),o("twitter:title",t),o("twitter:description",e),o("twitter:image",i),a){let l=document.querySelector('link[rel="canonical"]');l||(l=document.createElement("link"),l.setAttribute("rel","canonical"),document.head.appendChild(l)),l.setAttribute("href",a)}},[t,e,n,r,i,a]),null}function aMe(){const{user:t}=ur(),{addItem:e}=gx(),{toast:n}=mr(),r=Zf(),{data:i=[],isLoading:a}=ci({queryKey:zs.wishlist(t?.$id||""),queryFn:()=>j8.getUserWishlist(t?.$id||""),enabled:!!t?.$id}),o=ql({mutationFn:({id:c})=>j8.removeFromWishlist(c,t?.$id||""),onSuccess:()=>{r.invalidateQueries({queryKey:zs.wishlist(t?.$id||"")}),n({title:"تم الحذف",description:"تم حذف المنتج من قائمة المفضلة"})},onError:c=>{n({title:"خطأ",description:c.message||"فشل في حذف المنتج",variant:"destructive"})}}),l=c=>{e({productId:c.id,name:c.name,price:c.price,image:ps(c.images?.[0]),quantity:1,stockQuantity:c.stockQuantity||c.stock||0,inStock:c.inStock??c.isActive??!0}),n({title:"تم الإضافة",description:"تم إضافة المنتج إلى السلة"})};return M.useEffect(()=>{t||(window.location.href="/login")},[t]),t?a?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(er,{className:"mx-auto h-12 w-12 text-muted-foreground animate-pulse"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"جاري التحميل..."})]})})}):s.jsxs(s.Fragment,{children:[s.jsx(d5,{title:"قائمة المفضلة",description:"عرض وإدارة المنتجات المفضلة لديك"}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Yc,{className:"h-8 w-8 text-accent fill-accent"}),s.jsx("h1",{className:"text-3xl font-bold",children:"قائمة المفضلة"})]}),s.jsxs("p",{className:"text-muted-foreground",children:["لديك ",i.length," ",i.length===1?"منتج":"منتجات"," في قائمة المفضلة"]})]}),i.length===0?s.jsx(ce,{children:s.jsx(he,{className:"py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Yc,{className:"mx-auto h-16 w-16 text-muted"}),s.jsx("h3",{className:"mt-4 text-xl font-semibold",children:"قائمة المفضلة فارغة"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"لم تقم بإضافة أي منتجات إلى قائمة المفضلة بعد"}),s.jsx(ot,{to:"/products",children:s.jsx(ge,{className:"mt-6",children:"تصفح المنتجات"})})]})})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(c=>s.jsx(ce,{className:"group hover:shadow-lg transition-shadow",children:s.jsxs(he,{className:"p-4",children:[s.jsx(ot,{to:`/products/${c.productId}`,children:s.jsxs("div",{className:"relative aspect-square mb-4 rounded-lg overflow-hidden bg-gray-100",children:[s.jsx("img",{src:ps(c.product.images?.[0]),alt:c.product.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),!c.product.inStock&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsx(jt,{variant:"destructive",children:"غير متوفر"})}),c.product.originalPrice&&s.jsxs(jt,{className:"absolute top-2 left-2 bg-red-500",children:["خصم ",Math.round((c.product.originalPrice-c.product.price)/c.product.originalPrice*100),"%"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{to:`/products/${c.productId}`,children:s.jsx("h3",{className:"font-semibold text-lg line-clamp-2 hover:text-primary",children:c.product.name})}),c.product.category&&s.jsx(jt,{variant:"outline",className:"text-xs",children:c.product.category.name}),c.product.rating>0&&s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx("span",{className:"text-yellow-500",children:"★"}),s.jsx("span",{className:"font-medium",children:c.product.rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-500",children:["(",c.product.reviewCount,")"]})]}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[c.product.price.toFixed(2)," جنيه"]}),c.product.originalPrice&&s.jsxs("span",{className:"text-sm text-gray-500 line-through",children:[c.product.originalPrice.toFixed(2)," جنيه"]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(ge,{onClick:()=>l(c.product),disabled:!c.product.inStock,className:"flex-1",children:[s.jsx(ti,{className:"h-4 w-4 ml-2"}),"أضف للسلة"]}),s.jsx(ge,{variant:"outline",size:"icon",onClick:()=>o.mutate({id:c.id}),disabled:o.isPending,children:s.jsx(fl,{className:"h-4 w-4 text-red-500"})})]})]})]})},c.id))})]})]}):null}const oMe=[{status:"PENDING",label:"قيد الانتظار",icon:Ui,description:"تم استلام طلبك وجاري المراجعة"},{status:"PROCESSING",label:"قيد التجهيز",icon:er,description:"جاري تجهيز طلبك للشحن"},{status:"SHIPPED",label:"تم الشحن",icon:va,description:"طلبك في الطريق إليك"},{status:"DELIVERED",label:"تم التسليم",icon:Fi,description:"تم تسليم طلبك بنجاح"}],lMe=["PENDING","PROCESSING","SHIPPED","DELIVERED"];function cMe(){const{orderId:t}=dN(),{user:e}=ur(),{data:n,isLoading:r}=ci({queryKey:zs.order(t||""),queryFn:()=>UJ.getOrderById(t||"",e?.$id||""),enabled:!!t&&!!e?.$id});if(r)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("p",{className:"text-gray-500",children:"جاري التحميل..."})})});if(!n)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ce,{children:s.jsxs(he,{className:"py-16 text-center",children:[s.jsx(ov,{className:"mx-auto h-16 w-16 text-gray-300 mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"الطلب غير موجود"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"لم نتمكن من العثور على هذا الطلب"}),s.jsx(ot,{to:"/orders",children:s.jsxs(ge,{children:[s.jsx(oi,{className:"h-4 w-4 ml-2"}),"العودة إلى طلباتي"]})})]})})});const i=n.status,a=lMe.indexOf(i),o=i==="CANCELLED";return s.jsxs(s.Fragment,{children:[s.jsx(d5,{title:`تتبع الطلب #${n.orderNumber}`,description:"تتبع حالة طلبك وموعد التسليم المتوقع"}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(ot,{to:"/orders",children:s.jsxs(ge,{variant:"ghost",className:"mb-6",children:[s.jsx(oi,{className:"h-4 w-4 ml-2"}),"العودة إلى طلباتي"]})}),s.jsx(ce,{className:"mb-6",children:s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsxs(Ce,{className:"text-2xl mb-2",children:["تتبع الطلب #",n.orderNumber]}),s.jsxs("p",{className:"text-gray-500",children:["تاريخ الطلب: ",new Date(n.createdAt).toLocaleDateString("ar-EG")]})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"إجمالي الطلب"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[n.total.toFixed(2)," جنيه"]})]})]})})}),o&&s.jsx(ce,{className:"mb-6 border-red-200 bg-red-50",children:s.jsx(he,{className:"py-8",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ov,{className:"h-12 w-12 text-red-500"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-red-700 mb-1",children:"تم إلغاء الطلب"}),s.jsx("p",{className:"text-red-600",children:"لقد تم إلغاء هذا الطلب. إذا كان لديك أي استفسار، يرجى التواصل مع خدمة العملاء."})]})]})})}),!o&&s.jsxs(ce,{className:"mb-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"حالة الطلب"})}),s.jsx(he,{children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute right-6 top-0 h-full w-0.5 bg-gray-200 md:right-auto md:left-1/2 md:transform md:-translate-x-1/2"}),s.jsx("div",{className:"space-y-8",children:oMe.map((l,c)=>{const u=c<a,d=c===a,f=l.icon;return s.jsxs("div",{className:"relative flex items-start gap-4",children:[s.jsx("div",{className:`relative z-10 flex h-12 w-12 items-center justify-center rounded-full border-2 ${u?"bg-green-500 border-green-500":d?"bg-primary border-primary":"bg-gray-100 border-gray-300"}`,children:s.jsx(f,{className:`h-6 w-6 ${u||d?"text-white":"text-gray-400"}`})}),s.jsxs("div",{className:"flex-1 pt-1",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsx("h4",{className:`text-lg font-semibold ${u||d?"text-gray-900":"text-gray-400"}`,children:l.label}),d&&s.jsx(jt,{variant:"default",children:"الحالة الحالية"}),u&&s.jsx(jt,{variant:"outline",className:"bg-green-50 border-green-500 text-green-700",children:"✓ مكتمل"})]}),s.jsx("p",{className:`mt-1 text-sm ${u||d?"text-gray-600":"text-gray-400"}`,children:l.description})]})]},l.status)})})]})})]}),s.jsxs(ce,{className:"mb-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"المنتجات المطلوبة"})}),s.jsx(he,{children:s.jsx("div",{className:"space-y-4",children:n.items?.map(l=>s.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b last:border-b-0",children:[s.jsx("img",{src:l.product?.images?.[0]?.url||"/placeholder.png",alt:l.product?.name||"منتج",className:"w-20 h-20 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:l.product?.name||"منتج"}),s.jsxs("p",{className:"text-sm text-gray-500",children:["الكمية: ",l.quantity," × ",l.price.toFixed(2)," جنيه"]})]}),s.jsxs("p",{className:"font-bold text-primary",children:[l.total.toFixed(2)," جنيه"]})]},l.id))})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"عنوان التسليم"})}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-2 text-gray-700",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"الاسم:"})," ",n.shippingAddress?.name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"الهاتف:"})," ",n.shippingAddress?.phone]}),s.jsxs("p",{children:[s.jsx("strong",{children:"العنوان:"})," ",n.shippingAddress?.address]}),n.shippingAddress?.city&&s.jsxs("p",{children:[s.jsx("strong",{children:"المدينة:"})," ",n.shippingAddress.city]}),n.shippingAddress?.zipCode&&s.jsxs("p",{children:[s.jsx("strong",{children:"الرمز البريدي:"})," ",n.shippingAddress.zipCode]})]})})]})]})]})}function uMe(){const t=[{icon:A0e,title:"منصة بيع متكاملة",description:"أنشئ متجرك الإلكتروني وابدأ البيع في دقائق",highlight:"سهل الاستخدام"},{icon:Dp,title:"تحليلات متقدمة",description:"تتبع مبيعاتك وأدائك مع تقارير مفصلة",highlight:"تقارير لحظية"},{icon:Y0,title:"وصول لملايين العملاء",description:"استفد من قاعدة عملائنا الكبيرة في مصر والوطن العربي",highlight:"ملايين العملاء"},{icon:kr,title:"عمولات منخفضة",description:"ادفع فقط 5-10% عمولة على كل عملية بيع - أقل من المنافسين",highlight:"عمولة 5-10%"},{icon:Ui,title:"مدفوعات سريعة",description:"احصل على أموالك كل أسبوع مباشرة في حسابك البنكي",highlight:"دفع أسبوعي"},{icon:Fs,title:"حماية كاملة",description:"نحن نتعامل مع المدفوعات، الشحن، وخدمة العملاء",highlight:"أمان 100%"},{icon:er,title:"إدارة المخزون",description:"نظام متطور لإدارة المنتجات والمخزون بسهولة",highlight:"إدارة ذكية"},{icon:wi,title:"دعم مخصص للتجار",description:"فريق دعم متخصص لمساعدتك في تنمية مبيعاتك",highlight:"دعم 24/7"},{icon:IZ,title:"أدوات تسويقية",description:"احصل على أدوات ترويجية ودعم تسويقي مجاني",highlight:"تسويق مجاني"}],e=[{step:"1",title:"سجل كتاجر",description:"أنشئ حسابك كتاجر في أقل من 3 دقائق"},{step:"2",title:"أضف منتجاتك",description:"ارفع منتجاتك بالصور والأوصاف والأسعار"},{step:"3",title:"ابدأ البيع",description:"نحن نتعامل مع الطلبات والشحن والمدفوعات"},{step:"4",title:"اقبض أرباحك",description:"احصل على أموالك أسبوعياً في حسابك البنكي"}],n=[{name:"أحمد محمود",role:"صاحب متجر إلكترونيات",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",quote:"منذ انضمامي لإيجي جو، تضاعفت مبيعاتي 3 مرات! المنصة سهلة والدعم ممتاز. أفضل قرار أخذته لتجارتي الإلكترونية.",earnings:"150,000 جنيه/شهر",rating:5},{name:"فاطمة عبدالله",role:"بائعة أزياء",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face",quote:"المنصة وفرت عليّ الكثير! لا حاجة لموقع خاص أو التعامل مع تعقيدات الشحن والدفع. أركز فقط على منتجاتي.",earnings:"85,000 جنيه/شهر",rating:5},{name:"محمد حسن",role:"تاجر منتجات منزلية",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",quote:"العمولات أقل بكثير من المنافسين، والدفعات سريعة. تحليلات المبيعات ساعدتني أفهم عملائي بشكل أفضل.",earnings:"220,000 جنيه/شهر",rating:5}],r=[{tier:"مبتدئ",commission:"10%",sales:"0 - 50,000 جنيه",color:"text-gray-600",borderColor:"border-gray-200"},{tier:"برونزي",commission:"8%",sales:"50,000 - 150,000 جنيه",color:"text-brand-orange",borderColor:"border-brand-orange"},{tier:"فضي",commission:"6%",sales:"150,000 - 300,000 جنيه",color:"text-brand-purple",borderColor:"border-brand-purple"},{tier:"ذهبي",commission:"5%",sales:"+300,000 جنيه",color:"text-primary",borderColor:"border-primary",badge:!0}];return s.jsxs("div",{className:"space-y-16 pb-16",children:[s.jsxs("section",{className:"relative bg-gradient-to-br from-brand-purple via-primary to-brand-orange text-white overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative container mx-auto px-4 py-24 lg:py-32",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(jt,{variant:"secondary",className:"text-primary bg-white/90",children:"🏪 منصة البيع الأفضل في مصر"}),s.jsxs("h1",{className:"text-4xl lg:text-6xl font-bold leading-tight",children:["حوّل منتجاتك إلى",s.jsx("span",{className:"text-brand-yellow",children:" مبيعات"})]}),s.jsx("p",{className:"text-xl text-white/90 max-w-lg",children:"انضم إلى أكثر من 500 تاجر ناجح يبيعون على إيجي جو. عمولات منخفضة (5-10%)، دفعات سريعة، ووصول لملايين العملاء."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(ot,{to:"/register?type=merchant",children:s.jsxs(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold w-full sm:w-auto",children:["ابدأ البيع الآن",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",children:"شاهد كيف يعمل"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"5-10%"}),s.jsx("div",{className:"text-sm text-white/80",children:"عمولة فقط"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"+500"}),s.jsx("div",{className:"text-sm text-white/80",children:"تاجر نشط"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:"ملايين"}),s.jsx("div",{className:"text-sm text-white/80",children:"عميل محتمل"})]})]})]}),s.jsx("div",{className:"relative",children:s.jsxs(ce,{className:"bg-white/10 backdrop-blur-sm border-white/20 p-6",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"text-white flex items-center gap-2",children:[s.jsx(br,{className:"h-5 w-5"}),"لوحة تحكم التاجر"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/80",children:"المبيعات اليوم"}),s.jsx("span",{className:"text-white font-semibold",children:"12,450 جنيه"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/80",children:"الطلبات الجديدة"}),s.jsx("span",{className:"text-white font-semibold",children:"24 طلب"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-white/80",children:"معدل التحويل"}),s.jsx("span",{className:"text-white font-semibold",children:"4.2%"})]})]}),s.jsx("div",{className:"bg-white/20 h-32 rounded-lg flex items-center justify-center",children:s.jsx(Dp,{className:"h-16 w-16 text-white/40"})})]})]})})]})})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"لماذا تبيع على إيجي جو؟"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"نوفر لك كل ما تحتاجه لبناء تجارة إلكترونية ناجحة ومربحة"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((i,a)=>s.jsxs(ce,{className:"relative overflow-hidden group hover:shadow-lg transition-all duration-300",children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(i.icon,{className:"h-8 w-8 text-brand-purple"}),s.jsx(jt,{variant:"secondary",className:"text-brand-purple bg-brand-purple/10",children:i.highlight})]}),s.jsx(Ce,{className:"text-xl",children:i.title})]}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:i.description})})]},a))})]}),s.jsx("section",{className:"bg-secondary/50",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"هيكل العمولة"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"مبيعات أعلى = عمولات أقل - كلما بعت أكثر، كلما ربحت أكثر!"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((i,a)=>s.jsxs(ce,{className:`text-center ${i.borderColor} ${i.badge?"bg-primary/5 border-2":""}`,children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Ce,{className:`text-2xl ${i.color}`,children:i.commission}),i.badge&&s.jsx(av,{className:"h-5 w-5 text-primary"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"عمولة المنصة"})]}),s.jsxs(he,{children:[s.jsx("p",{className:"font-semibold mb-2",children:i.tier}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["مبيعات شهرية: ",i.sales]})]})]},a))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"💡 مثال: إذا بعت منتجات بـ 100,000 جنيه شهرياً، ستدفع 8,000 جنيه عمولة وتحتفظ بـ 92,000 جنيه"})})]})}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"كيف يعمل؟"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"ابدأ البيع في 4 خطوات بسيطة"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((i,a)=>s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-purple text-white flex items-center justify-center text-2xl font-bold",children:i.step}),s.jsx("h3",{className:"text-xl font-semibold",children:i.title}),s.jsx("p",{className:"text-muted-foreground",children:i.description})]}),a<e.length-1&&s.jsx("div",{className:"hidden lg:block absolute top-8 left-full w-full h-0.5 bg-gradient-to-r from-brand-purple to-transparent -z-10"})]},a))}),s.jsx("div",{className:"text-center mt-12",children:s.jsx(ot,{to:"/register?type=merchant",children:s.jsxs(ge,{size:"lg",className:"font-semibold",children:["ابدأ البيع الآن - مجاناً",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})})})]}),s.jsx("section",{className:"bg-secondary/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"قصص نجاح التجار"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"استمع لتجار حققوا نجاحاً كبيراً على منصتنا"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map((i,a)=>s.jsxs(ce,{className:"relative",children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:i.image,alt:i.name,className:"w-12 h-12 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:i.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:i.role})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[...Array(i.rating)].map((o,l)=>s.jsx(da,{className:"h-4 w-4 text-yellow-400 fill-current"},l))})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("p",{className:"text-muted-foreground italic",children:['"',i.quote,'"']}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(jt,{variant:"secondary",className:"text-brand-purple bg-brand-purple/10",children:["مبيعات: ",i.earnings]})})]})]},a))})]})}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"الأسئلة الشائعة"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"كل ما تحتاج معرفته عن البيع على إيجي جو"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"هل يوجد رسوم اشتراك شهرية؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"لا، التسجيل والبيع على إيجي جو مجاني تماماً. ندفع فقط عمولة بسيطة (5-10%) على المبيعات المحققة."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"كيف أستلم أموالي؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"نحول أموالك أسبوعياً مباشرة إلى حسابك البنكي أو محفظتك الإلكترونية. سريع وآمن 100%."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"من يتعامل مع الشحن والتوصيل؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"يمكنك إما التعامل مع الشحن بنفسك أو استخدام شركاء الشحن لدينا. نوفر أسعار شحن مخفضة لتجارنا."})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:"كم عدد المنتجات التي يمكنني رفعها؟"})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:"غير محدود! يمكنك رفع عدد لا نهائي من المنتجات بدون أي رسوم إضافية."})})]})]})]}),s.jsx("section",{className:"bg-gradient-to-r from-brand-purple to-primary text-white",children:s.jsx("div",{className:"container mx-auto px-4 py-16 text-center",children:s.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold",children:"جاهز لبدء تجارتك الإلكترونية؟"}),s.jsx("p",{className:"text-xl text-white/90",children:"انضم إلى مئات التجار الناجحين على إيجي جو. سجل الآن وابدأ البيع في أقل من 5 دقائق - بدون رسوم اشتراك!"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(ot,{to:"/register?type=merchant",children:s.jsxs(ge,{size:"lg",variant:"secondary",className:"text-primary font-semibold w-full sm:w-auto",children:["ابدأ البيع مجاناً",s.jsx(oi,{className:"mr-2 h-5 w-5 rtl:mr-0 rtl:ml-2 rtl:rotate-180"})]})}),s.jsx(ge,{size:"lg",variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",children:"تحدث مع فريق المبيعات"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-white/80 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"تسجيل مجاني"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"بدون رسوم شهرية"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"h-4 w-4"}),"دفعات أسبوعية"]})]})]})})})]})}function $z(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function f5(t={},e={}){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:$z(e[r])&&$z(t[r])&&Object.keys(e[r]).length>0&&f5(t[r],e[r])})}const Ure={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Xl(){const t=typeof document<"u"?document:{};return f5(t,Ure),t}const dMe={document:Ure,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ba(){const t=typeof window<"u"?window:{};return f5(t,dMe),t}function fMe(t=""){return t.trim().split(" ").filter(e=>!!e.trim())}function hMe(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Bre(t,e=0){return setTimeout(t,e)}function vp(){return Date.now()}function pMe(t){const e=ba();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function mMe(t,e="x"){const n=ba();let r,i,a;const o=pMe(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function t0(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function gMe(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function oo(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!gMe(i)){const a=Object.keys(Object(i)).filter(o=>n.indexOf(o)<0);for(let o=0,l=a.length;o<l;o+=1){const c=a[o],u=Object.getOwnPropertyDescriptor(i,c);u!==void 0&&u.enumerable&&(t0(e[c])&&t0(i[c])?i[c].__swiper__?e[c]=i[c]:oo(e[c],i[c]):!t0(e[c])&&t0(i[c])?(e[c]={},i[c].__swiper__?e[c]=i[c]:oo(e[c],i[c])):e[c]=i[c])}}}return e}function u_(t,e,n){t.style.setProperty(e,n)}function $re({swiper:t,targetPosition:e,side:n}){const r=ba(),i=-t.translate;let a=null,o;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=e>i?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{o=new Date().getTime(),a===null&&(a=o);const f=Math.max(Math.min((o-a)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=i+h*(e-i);if(u(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),u(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}function h5(t){return t.querySelector(".swiper-slide-transform")||t.shadowRoot&&t.shadowRoot.querySelector(".swiper-slide-transform")||t}function Hl(t,e=""){const n=ba(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function vMe(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function xMe(t,e){const n=ba();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=vMe(t,e))),r}function Aj(t){try{console.warn(t);return}catch{}}function sb(t,e=[]){const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:fMe(e)),n}function yMe(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function bMe(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function pf(t,e){return ba().getComputedStyle(t,null).getPropertyValue(e)}function Cj(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function zre(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function oM(t,e){function n(r){r.target===t&&(e.call(t,r),t.removeEventListener("transitionend",n))}e&&t.addEventListener("transitionend",n)}function kI(t,e,n){const r=ba();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ji(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function wMe(t){return e=>Math.abs(e)>0&&t.browser&&t.browser.need3dFix&&Math.abs(e)%90===0?e+.001:e}function ab(t,e=""){typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:n=>n}).createHTML(e):t.innerHTML=e}let lM;function _Me(){const t=ba(),e=Xl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Hre(){return lM||(lM=_Me()),lM}let cM;function SMe({userAgent:t}={}){const e=Hre(),n=ba(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let u=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const d=i.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=r==="Win32";let p=r==="MacIntel";const y=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&e.touch&&y.indexOf(`${o}x${l}`)>=0&&(u=i.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(a.os="android",a.android=!0),(u||f||d)&&(a.os="ios",a.ios=!0),a}function Vre(t={}){return cM||(cM=SMe(t)),cM}let uM;function jMe(){const t=ba(),e=Vre();let n=!1;function r(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(r()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(d=>Number(d));n=c<16||c===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=r(),o=a||i&&e.ios;return{isSafari:n||a,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function qre(){return uM||(uM=jMe()),uM}function EMe({swiper:t,on:e,emit:n}){const r=ba();let i=null,a=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},l=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(d=>{a=r.requestAnimationFrame(()=>{const{width:f,height:h}=t;let p=f,y=h;d.forEach(({contentBoxSize:g,contentRect:v,target:b})=>{b&&b!==t.el||(p=v?v.width:(g[0]||g).inlineSize,y=v?v.height:(g[0]||g).blockSize)}),(p!==f||y!==h)&&o()})}),i.observe(t.el))},c=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",u)}),e("destroy",()=>{c(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",u)})}function NMe({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=ba(),o=(u,d={})=>{const f=a.MutationObserver||a.WebkitMutationObserver,h=new f(p=>{if(t.__preventObserver__)return;if(p.length===1){r("observerUpdate",p[0]);return}const y=function(){r("observerUpdate",p[0])};a.requestAnimationFrame?a.requestAnimationFrame(y):a.setTimeout(y,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:t.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),i.push(h)},l=()=>{if(t.params.observer){if(t.params.observeParents){const u=zre(t.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}},c=()=>{i.forEach(u=>{u.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",c)}var AMe={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(i,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(l=>{l.apply(i,r)})}),e}};function CMe(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(pf(r,"padding-left")||0,10)-parseInt(pf(r,"padding-right")||0,10),n=n-parseInt(pf(r,"padding-top")||0,10)-parseInt(pf(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function MMe(){const t=this;function e(P,D){return parseFloat(P.getPropertyValue(t.getDirectionLabel(D))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,rtlTranslate:a,wrongRTL:o}=t,l=t.virtual&&n.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=Hl(i,`.${t.params.slideClass}, swiper-slide`),d=l?t.virtual.slides.length:u.length;let f=[];const h=[],p=[];let y=n.slidesOffsetBefore;typeof y=="function"&&(y=n.slidesOffsetBefore.call(t));let g=n.slidesOffsetAfter;typeof g=="function"&&(g=n.slidesOffsetAfter.call(t));const v=t.snapGrid.length,b=t.slidesGrid.length,w=t.size-y-g;let _=n.spaceBetween,S=-y,j=0,A=0;if(typeof w>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*w:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_-y-g,u.forEach(P=>{a?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(u_(r,"--swiper-centered-offset-before",""),u_(r,"--swiper-centered-offset-after",""));const C=n.grid&&n.grid.rows>1&&t.grid;C?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let N;const T=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<d;P+=1){N=0;const D=u[P];if(!(D&&(C&&t.grid.updateSlide(P,D,u),pf(D,"display")==="none"))){if(l&&n.slidesPerView==="auto")n.virtual.slidesPerViewAutoSlideSize&&(N=n.virtual.slidesPerViewAutoSlideSize),N&&D&&(n.roundLengths&&(N=Math.floor(N)),D.style[t.getDirectionLabel("width")]=`${N}px`);else if(n.slidesPerView==="auto"){T&&(D.style[t.getDirectionLabel("width")]="");const O=getComputedStyle(D),I=D.style.transform,L=D.style.webkitTransform;if(I&&(D.style.transform="none"),L&&(D.style.webkitTransform="none"),n.roundLengths)N=t.isHorizontal()?kI(D,"width"):kI(D,"height");else{const z=e(O,"width"),q=e(O,"padding-left"),V=e(O,"padding-right"),F=e(O,"margin-left"),U=e(O,"margin-right"),H=O.getPropertyValue("box-sizing");if(H&&H==="border-box")N=z+F+U;else{const{clientWidth:$,offsetWidth:W}=D;N=z+q+V+F+U+(W-$)}}I&&(D.style.transform=I),L&&(D.style.webkitTransform=L),n.roundLengths&&(N=Math.floor(N))}else N=(w-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(N=Math.floor(N)),D&&(D.style[t.getDirectionLabel("width")]=`${N}px`);D&&(D.swiperSlideSize=N),p.push(N),n.centeredSlides?(S=S+N/2+j/2+_,j===0&&P!==0&&(S=S-w/2-_),P===0&&(S=S-w/2-_),Math.abs(S)<1/1e3&&(S=0),n.roundLengths&&(S=Math.floor(S)),A%n.slidesPerGroup===0&&f.push(S),h.push(S)):(n.roundLengths&&(S=Math.floor(S)),(A-Math.min(t.params.slidesPerGroupSkip,A))%t.params.slidesPerGroup===0&&f.push(S),h.push(S),S=S+N+_),t.virtualSize+=N+_,j=N,A+=1}}if(t.virtualSize=Math.max(t.virtualSize,w)+g,a&&o&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+_}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),C&&t.grid.updateWrapperSize(N,f),!n.centeredSlides){const P=[];for(let D=0;D<f.length;D+=1){let O=f[D];n.roundLengths&&(O=Math.floor(O)),f[D]<=t.virtualSize-w&&P.push(O)}f=P,Math.floor(t.virtualSize-w)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-w)}if(l&&n.loop){const P=p[0]+_;if(n.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),O=P*n.slidesPerGroup;for(let I=0;I<D;I+=1)f.push(f[f.length-1]+O)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+P),h.push(h[h.length-1]+P),t.virtualSize+=P}if(f.length===0&&(f=[0]),_!==0){const P=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");u.filter((D,O)=>!n.cssMode||n.loop?!0:O!==u.length-1).forEach(D=>{D.style[P]=`${_}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;p.forEach(O=>{P+=O+(_||0)}),P-=_;const D=P>w?P-w:0;f=f.map(O=>O<=0?-y:O>D?D+g:O)}if(n.centerInsufficientSlides){let P=0;p.forEach(O=>{P+=O+(_||0)}),P-=_;const D=(y||0)+(g||0);if(P+D<w){const O=(w-P-D)/2;f.forEach((I,L)=>{f[L]=I-O}),h.forEach((I,L)=>{h[L]=I+O})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:h,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){u_(r,"--swiper-centered-offset-before",`${-f[0]}px`),u_(r,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const P=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+P),t.slidesGrid=t.slidesGrid.map(O=>O+D)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),h.length!==b&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!l&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,D=t.el.classList.contains(P);d<=n.maxBackfaceHiddenSlides?D||t.el.classList.add(P):D&&t.el.classList.remove(P)}}function TMe(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>r?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const l=e.activeIndex+a;if(l>e.slides.length&&!r)break;n.push(o(l))}else n.push(o(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const l=n[a].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function PMe(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const zz=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function DMe(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<r.length;c+=1){const u=r[c];let d=u.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(d-=r[0].swiperSlideOffset);const f=(o+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),h=(o-a[0]+(n.centeredSlides?e.minTranslate():0)-d)/(u.swiperSlideSize+l),p=-(o-d),y=p+e.slidesSizesGrid[c],g=p>=0&&p<=e.size-e.slidesSizesGrid[c],v=p>=0&&p<e.size-1||y>1&&y<=e.size||p<=0&&y>=e.size;v&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),zz(u,v,n.slideVisibleClass),zz(u,g,n.slideFullyVisibleClass),u.progress=i?-f:f,u.originalProgress=i?-h:h}}function RMe(t){const e=this;if(typeof t>"u"){const d=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*d||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:o,progressLoop:l}=e;const c=a,u=o;if(r===0)i=0,a=!0,o=!0;else{i=(t-e.minTranslate())/r;const d=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;a=d||i<=0,o=f||i>=1,d&&(i=0),f&&(i=1)}if(n.loop){const d=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[d],p=e.slidesGrid[f],y=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=h?l=(g-h)/y:l=(g+y-p)/y,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:a,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!c&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(c&&!a||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const dM=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function OMe(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,a=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=f=>Hl(r,`.${n.slideClass}${f}, swiper-slide${f}`)[0];let c,u,d;if(a)if(n.loop){let f=i-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=l(`[data-swiper-slide-index="${f}"]`)}else c=l(`[data-swiper-slide-index="${i}"]`);else o?(c=e.find(f=>f.column===i),d=e.find(f=>f.column===i+1),u=e.find(f=>f.column===i-1)):c=e[i];c&&(o||(d=bMe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!d&&(d=e[0]),u=yMe(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(f=>{dM(f,f===c,n.slideActiveClass),dM(f,f===d,n.slideNextClass),dM(f,f===u,n.slidePrevClass)}),t.emitSlidesClasses()}const LS=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},fM=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},LI=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,l=[o-e];l.push(...Array.from({length:e}).map((c,u)=>o+r+u)),t.slides.forEach((c,u)=>{l.includes(c.column)&&fM(t,u)});return}const a=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=a+e;o+=1){const l=(o%n+n)%n;(l<i||l>a)&&fM(t,l)}else for(let o=Math.max(i-e,0);o<=Math.min(a+e,n-1);o+=1)o!==i&&(o>a||o<i)&&fM(t,o)};function IMe(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function kMe(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:o,snapIndex:l}=e;let c=t,u;const d=p=>{let y=p-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof c>"u"&&(c=IMe(e)),r.indexOf(n)>=0)u=r.indexOf(n);else{const p=Math.min(i.slidesPerGroupSkip,c);u=p+Math.floor((c-p)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),c===a&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=d(c);return}const f=e.grid&&i.grid&&i.grid.rows>1;let h;if(e.virtual&&i.virtual.enabled&&i.loop)h=d(c);else if(f){const p=e.slides.find(g=>g.column===c);let y=parseInt(p.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(p),0)),h=Math.floor(y/i.grid.rows)}else if(e.slides[c]){const p=e.slides[c].getAttribute("data-swiper-slide-index");p?h=parseInt(p,10):h=c}else h=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:o,realIndex:h,previousIndex:a,activeIndex:c}),e.initialized&&LI(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function LMe(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${r.slideClass}, swiper-slide`)&&(i=l)});let a=!1,o;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){a=!0,o=l;break}}if(i&&a)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var FMe={updateSize:CMe,updateSlides:MMe,updateAutoHeight:TMe,updateSlidesOffset:PMe,updateSlidesProgress:DMe,updateProgress:RMe,updateSlidesClasses:OMe,updateActiveIndex:kMe,updateClickedSlide:LMe};function UMe(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=mMe(a,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function BMe(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:o}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,i.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function $Me(){return-this.snapGrid[0]}function zMe(){return-this.snapGrid[this.snapGrid.length-1]}function HMe(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:o,wrapperEl:l}=a;if(a.animating&&o.preventInteractionOnTransition)return!1;const c=a.minTranslate(),u=a.maxTranslate();let d;if(r&&t>c?d=c:r&&t<u?d=u:d=t,a.updateProgress(d),o.cssMode){const f=a.isHorizontal();if(e===0)l[f?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return $re({swiper:a,targetPosition:-d,side:f?"left":"top"}),!0;l.scrollTo({[f?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(d),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(d),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(h){!a||a.destroyed||h.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,n&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var VMe={getTranslate:UMe,setTranslate:BMe,minTranslate:$Me,maxTranslate:zMe,translateTo:HMe};function qMe(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Gre({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let o=n;o||(i>a?o="next":i<a?o="prev":o="reset"),t.emit(`transition${r}`),e&&o==="reset"?t.emit(`slideResetTransition${r}`):e&&i!==a&&(t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`))}function GMe(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Gre({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function WMe(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Gre({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var XMe={setTransition:qMe,transitionStart:GMe,transitionEnd:WMe};function YMe(t=0,e,n=!0,r,i){typeof t=="string"&&(t=parseInt(t,10));const a=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:d,activeIndex:f,rtlTranslate:h,wrapperEl:p,enabled:y}=a;if(!y&&!r&&!i||a.destroyed||a.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const g=Math.min(a.params.slidesPerGroupSkip,o);let v=g+Math.floor((o-g)/a.params.slidesPerGroup);v>=c.length&&(v=c.length-1);const b=-c[v];if(l.normalizeSlideIndex)for(let C=0;C<u.length;C+=1){const N=-Math.floor(b*100),T=Math.floor(u[C]*100),P=Math.floor(u[C+1]*100);typeof u[C+1]<"u"?N>=T&&N<P-(P-T)/2?o=C:N>=T&&N<P&&(o=C+1):N>=T&&(o=C)}if(a.initialized&&o!==f&&(!a.allowSlideNext&&(h?b>a.translate&&b>a.minTranslate():b<a.translate&&b<a.minTranslate())||!a.allowSlidePrev&&b>a.translate&&b>a.maxTranslate()&&(f||0)!==o))return!1;o!==(d||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(b);let w;o>f?w="next":o<f?w="prev":w="reset";const _=a.virtual&&a.params.virtual.enabled;if(!(_&&i)&&(h&&-b===a.translate||!h&&b===a.translate))return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),l.effect!=="slide"&&a.setTranslate(b),w!=="reset"&&(a.transitionStart(n,w),a.transitionEnd(n,w)),!1;if(l.cssMode){const C=a.isHorizontal(),N=h?b:-b;if(e===0)_&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),_&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[C?"scrollLeft":"scrollTop"]=N})):p[C?"scrollLeft":"scrollTop"]=N,_&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return $re({swiper:a,targetPosition:N,side:C?"left":"top"}),!0;p.scrollTo({[C?"left":"top"]:N,behavior:"smooth"})}return!0}const A=qre().isSafari;return _&&!i&&A&&a.isElement&&a.virtual.update(!1,!1,o),a.setTransition(e),a.setTranslate(b),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,w),e===0?a.transitionEnd(n,w):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(N){!a||a.destroyed||N.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,w))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function KMe(t=0,e,n=!0,r){typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const a=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let l;if(a){const g=o*i.params.grid.rows;l=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else l=i.getSlideIndexByData(o);const c=a?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u,slidesOffsetBefore:d,slidesOffsetAfter:f}=i.params,h=u||!!d||!!f;let p=i.params.slidesPerView;p==="auto"?p=i.slidesPerViewDynamic():(p=Math.ceil(parseFloat(i.params.slidesPerView,10)),h&&p%2===0&&(p=p+1));let y=c-l<p;if(h&&(y=y||l<Math.ceil(p/2)),r&&h&&i.params.slidesPerView!=="auto"&&!a&&(y=!1),y){const g=h?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?l+1:l-c+1,slideRealIndex:g==="next"?i.realIndex:void 0})}if(a){const g=o*i.params.grid.rows;o=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function QMe(t,e=!0,n){const r=this,{enabled:i,params:a,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let l=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(l=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<a.slidesPerGroupSkip?1:l,u=r.virtual&&a.virtual.enabled;if(a.loop){if(o&&!u&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function ZMe(t,e=!0,n){const r=this,{params:i,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:c,animating:u}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const d=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!d&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const f=l?r.translate:-r.translate;function h(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const p=h(f),y=a.map(w=>h(w)),g=i.freeMode&&i.freeMode.enabled;let v=a[y.indexOf(p)-1];if(typeof v>"u"&&(i.cssMode||g)){let w;a.forEach((_,S)=>{p>=_&&(w=S)}),typeof w<"u"&&(v=g?a[w]:a[w>0?w-1:w])}let b=0;if(typeof v<"u"&&(b=o.indexOf(v),b<0&&(b=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(b=b-r.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),i.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(b,t,e,n)}),!0;return r.slideTo(b,t,e,n)}function JMe(t,e=!0,n){const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function eTe(t,e=!0,n,r=.5){const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let a=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,a),l=o+Math.floor((a-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[l]){const u=i.snapGrid[l],d=i.snapGrid[l+1];c-u>(d-u)*r&&(a+=i.params.slidesPerGroup)}else{const u=i.snapGrid[l-1],d=i.snapGrid[l];c-u<=(d-u)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function tTe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.getSlideIndexWhenGrid(t.clickedIndex),a;const o=t.isElement?"swiper-slide":`.${e.slideClass}`,l=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(a):i>(l?(t.slides.length-r)/2-(t.params.grid.rows-1):t.slides.length-r)?(t.loopFix(),i=t.getSlideIndex(Hl(n,`${o}[data-swiper-slide-index="${a}"]`)[0]),Bre(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var nTe={slideTo:YMe,slideToLoop:KMe,slideNext:QMe,slidePrev:ZMe,slideReset:JMe,slideToClosest:eTe,slideToClickedSlide:tTe};function rTe(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const a=()=>{Hl(i,`.${r.slideClass}, swiper-slide`).forEach((y,g)=>{y.setAttribute("data-swiper-slide-index",g)})},o=()=>{const p=Hl(i,`.${r.slideBlankClass}`);p.forEach(y=>{y.remove()}),p.length>0&&(n.recalcSlides(),n.updateSlides())},l=n.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||l)&&o();const c=r.slidesPerGroup*(l?r.grid.rows:1),u=n.slides.length%c!==0,d=l&&n.slides.length%r.grid.rows!==0,f=p=>{for(let y=0;y<p;y+=1){const g=n.isElement?sb("swiper-slide",[r.slideBlankClass]):sb("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(g)}};if(u){if(r.loopAddBlankSlides){const p=c-n.slides.length%c;f(p),n.recalcSlides(),n.updateSlides()}else Aj("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(d){if(r.loopAddBlankSlides){const p=r.grid.rows-n.slides.length%r.grid.rows;f(p),n.recalcSlides(),n.updateSlides()}else Aj("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();const h=r.centeredSlides||!!r.slidesOffsetBefore||!!r.slidesOffsetAfter;n.loopFix({slideRealIndex:t,direction:h?void 0:"next",initial:e})}function iTe({slideRealIndex:t,slideTo:e=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:a,byController:o,byMousewheel:l}={}){const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:f,slidesEl:h,params:p}=c,{centeredSlides:y,slidesOffsetBefore:g,slidesOffsetAfter:v,initialSlide:b}=p,w=y||!!g||!!v;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&p.virtual.enabled){e&&(!w&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):w&&c.snapIndex<p.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=d,c.allowSlideNext=f,c.emit("loopFix");return}let _=p.slidesPerView;_==="auto"?_=c.slidesPerViewDynamic():(_=Math.ceil(parseFloat(p.slidesPerView,10)),w&&_%2===0&&(_=_+1));const S=p.slidesPerGroupAuto?_:p.slidesPerGroup;let j=w?Math.max(S,Math.ceil(_/2)):S;j%S!==0&&(j+=S-j%S),j+=p.loopAdditionalSlides,c.loopedSlides=j;const A=c.grid&&p.grid&&p.grid.rows>1;u.length<_+j||c.params.effect==="cards"&&u.length<_+j*2?Aj("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):A&&p.grid.fill==="row"&&Aj("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],N=[],T=A?Math.ceil(u.length/p.grid.rows):u.length,P=a&&T-b<_&&!w;let D=P?b:c.activeIndex;typeof i>"u"?i=c.getSlideIndex(u.find(F=>F.classList.contains(p.slideActiveClass))):D=i;const O=n==="next"||!n,I=n==="prev"||!n;let L=0,z=0;const V=(A?u[i].column:i)+(w&&typeof r>"u"?-_/2+.5:0);if(V<j){L=Math.max(j-V,S);for(let F=0;F<j-V;F+=1){const U=F-Math.floor(F/T)*T;if(A){const H=T-U-1;for(let $=u.length-1;$>=0;$-=1)u[$].column===H&&C.push($)}else C.push(T-U-1)}}else if(V+_>T-j){z=Math.max(V-(T-j*2),S),P&&(z=Math.max(z,_-T+b+1));for(let F=0;F<z;F+=1){const U=F-Math.floor(F/T)*T;A?u.forEach((H,$)=>{H.column===U&&N.push($)}):N.push(U)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),c.params.effect==="cards"&&u.length<_+j*2&&(N.includes(i)&&N.splice(N.indexOf(i),1),C.includes(i)&&C.splice(C.indexOf(i),1)),I&&C.forEach(F=>{u[F].swiperLoopMoveDOM=!0,h.prepend(u[F]),u[F].swiperLoopMoveDOM=!1}),O&&N.forEach(F=>{u[F].swiperLoopMoveDOM=!0,h.append(u[F]),u[F].swiperLoopMoveDOM=!1}),c.recalcSlides(),p.slidesPerView==="auto"?c.updateSlides():A&&(C.length>0&&I||N.length>0&&O)&&c.slides.forEach((F,U)=>{c.grid.updateSlide(U,F,c.slides)}),p.watchSlidesProgress&&c.updateSlidesOffset(),e){if(C.length>0&&I){if(typeof t>"u"){const F=c.slidesGrid[D],H=c.slidesGrid[D+L]-F;l?c.setTranslate(c.translate-H):(c.slideTo(D+Math.ceil(L),0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else if(r){const F=A?C.length/p.grid.rows:C.length;c.slideTo(c.activeIndex+F,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&O)if(typeof t>"u"){const F=c.slidesGrid[D],H=c.slidesGrid[D-z]-F;l?c.setTranslate(c.translate-H):(c.slideTo(D-z,0,!1,!0),r&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-H,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-H))}else{const F=A?N.length/p.grid.rows:N.length;c.slideTo(c.activeIndex-F,0,!1,!0)}}if(c.allowSlidePrev=d,c.allowSlideNext=f,c.controller&&c.controller.control&&!o){const F={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(U=>{!U.destroyed&&U.params.loop&&U.loopFix({...F,slideTo:U.params.slidesPerView===p.slidesPerView?e:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...F,slideTo:c.controller.control.params.slidesPerView===p.slidesPerView?e:!1})}c.emit("loopFix")}function sTe(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[a]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var aTe={loopCreate:rTe,loopFix:iTe,loopDestroy:sTe};function oTe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function lTe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var cTe={setGrabCursor:oTe,unsetGrabCursor:lTe};function uTe(t,e=this){function n(r){if(!r||r===Xl()||r===ba())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function Hz(t,e,n){const r=ba(),{params:i}=t,a=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return a&&(n<=o||n>=r.innerWidth-o)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function dTe(t){const e=this,n=Xl();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){Hz(e,r,r.targetTouches[0].pageX);return}const{params:a,touches:o,enabled:l}=e;if(!l||!a.simulateTouch&&r.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let c=r.target;if(a.touchEventsTarget==="wrapper"&&!xMe(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&d&&(c=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(a.noSwiping&&(h?uTe(f,c):c.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const p=o.currentX,y=o.currentY;if(!Hz(e,r,p))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=p,o.startY=y,i.touchStartTime=vp(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let g=!0;c.matches(i.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const v=g&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||v)&&!c.isContentEditable&&r.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function fTe(t){const e=Xl(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:o,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].find(j=>j.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const d=u.pageX,f=u.pageY;if(c.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f}),r.touchStartTime=vp());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(f<a.startY&&n.translate<=n.maxTranslate()||f>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(d>a.startX&&-n.translate<=n.maxTranslate()||d<a.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(d<a.startX&&n.translate<=n.maxTranslate()||d>a.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=d,a.currentY=f;const h=a.currentX-a.startX,p=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(h**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let j;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:h*h+p*p>=25&&(j=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?j>i.touchAngle:90-j>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let y=n.isHorizontal()?h:p,g=n.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),a.diff=y,y*=i.touchRatio,o&&(y=-y,g=-g);const v=n.touchesDirection;n.swipeDirection=y>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const b=n.params.loop&&!i.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(b&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&v!==n.touchesDirection&&b&&w&&Math.abs(y)>=1){Object.assign(a,{startX:d,startY:f,currentX:d,currentY:f,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let _=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),y>0?(b&&w&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+y)**S))):y<0&&(b&&w&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(_=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-y)**S))),_&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function hTe(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(j=>j.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:c,slidesGrid:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=vp(),h=f-n.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),h<300&&f-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=vp(),Bre(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let p;if(o.followFinger?p=c?e.translate:-e.translate:p=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:p});return}const y=p>=-e.maxTranslate()&&!e.params.loop;let g=0,v=e.slidesSizesGrid[0];for(let j=0;j<u.length;j+=j<o.slidesPerGroupSkip?1:o.slidesPerGroup){const A=j<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[j+A]<"u"?(y||p>=u[j]&&p<u[j+A])&&(g=j,v=u[j+A]-u[j]):(y||p>=u[j])&&(g=j,v=u[u.length-1]-u[u.length-2])}let b=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const _=(p-u[g])/v,S=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?b:g+S):e.slideTo(g)),e.swipeDirection==="prev"&&(_>1-o.longSwipesRatio?e.slideTo(g+S):w!==null&&_<0&&Math.abs(_)>o.longSwipesRatio?e.slideTo(w):e.slideTo(g))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(g+S):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:g+S),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:g))}}function Vz(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function pTe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function mTe(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function gTe(t){const e=this;LS(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function vTe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Wre=(t,e)=>{const n=Xl(),{params:r,el:i,wrapperEl:a,device:o}=t,l=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&a[c]("scroll",t.onScroll),r.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Vz,!0):t[u]("observerUpdate",Vz,!0),i[c]("load",t.onLoad,{capture:!0}))};function xTe(){const t=this,{params:e}=t;t.onTouchStart=dTe.bind(t),t.onTouchMove=fTe.bind(t),t.onTouchEnd=hTe.bind(t),t.onDocumentTouchStart=vTe.bind(t),e.cssMode&&(t.onScroll=mTe.bind(t)),t.onClick=pTe.bind(t),t.onLoad=gTe.bind(t),Wre(t,"on")}function yTe(){Wre(this,"off")}var bTe={attachEvents:xTe,detachEvents:yTe};const qz=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function wTe(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const o=Xl(),l=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),u=t.getBreakpoint(a,l,c);if(!u||t.currentBreakpoint===u)return;const f=(u in a?a[u]:void 0)||t.originalParams,h=qz(t,r),p=qz(t,f),y=t.params.grabCursor,g=f.grabCursor,v=r.enabled;h&&!p?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&p&&(i.classList.add(`${r.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),y&&!g?t.unsetGrabCursor():!y&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(A=>{if(typeof f[A]>"u")return;const C=r[A]&&r[A].enabled,N=f[A]&&f[A].enabled;C&&!N&&t[A].disable(),!C&&N&&t[A].enable()});const b=f.direction&&f.direction!==r.direction,w=r.loop&&(f.slidesPerView!==r.slidesPerView||b),_=r.loop;b&&n&&t.changeDirection(),oo(t.params,f);const S=t.params.enabled,j=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!S?t.disable():!v&&S&&t.enable(),t.currentBreakpoint=u,t.emit("_beforeBreakpoint",f),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!_&&j?(t.loopCreate(e),t.updateSlides()):_&&!j&&t.loopDestroy()),t.emit("breakpoint",f)}function _Te(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=ba(),a=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:a*c,point:l}}return{value:l,point:l}});o.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<o.length;l+=1){const{point:c,value:u}=o[l];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=c):u<=n.clientWidth&&(r=c)}return r||"max"}var STe={setBreakpoint:wTe,getBreakpoint:_Te};function jTe(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function ETe(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:a}=t,o=jTe(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function NTe(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var ATe={addClasses:ETe,removeClasses:NTe};function CTe(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var MTe={checkOverflow:CTe},FI={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function TTe(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){oo(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in a)){oo(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),oo(e,r)}}const hM={eventsEmitter:AMe,update:FMe,translate:VMe,transition:XMe,slide:nTe,loop:aTe,grabCursor:cTe,events:bTe,breakpoints:STe,checkOverflow:MTe,classes:ATe},pM={};let p5=class Du{constructor(...e){let n,r;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=oo({},r),n&&!r.el&&(r.el=n);const i=Xl();if(r.el&&typeof r.el=="string"&&i.querySelectorAll(r.el).length>1){const c=[];return i.querySelectorAll(r.el).forEach(u=>{const d=oo({},r,{el:u});c.push(new Du(d))}),c}const a=this;a.__swiper__=!0,a.support=Hre(),a.device=Vre({userAgent:r.userAgent}),a.browser=qre(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],r.modules&&Array.isArray(r.modules)&&a.modules.push(...r.modules);const o={};a.modules.forEach(c=>{c({params:r,swiper:a,extendParams:TTe(r,o),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const l=oo({},FI,o);return a.params=oo({},l,pM,r),a.originalParams=oo({},a.params),a.passedParams=oo({},r),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:n,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=Hl(n,`.${r.slideClass}, swiper-slide`),a=Cj(i[0]);return Cj(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=Hl(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:o,slidesSizesGrid:l,size:c,activeIndex:u}=r;let d=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let f=a[u]?Math.ceil(a[u].swiperSlideSize):0,h;for(let p=u+1;p<a.length;p+=1)a[p]&&!h&&(f+=Math.ceil(a[p].swiperSlideSize),d+=1,f>c&&(h=!0));for(let p=u-1;p>=0;p-=1)a[p]&&!h&&(f+=a[p].swiperSlideSize,d+=1,f>c&&(h=!0))}else if(e==="current")for(let f=u+1;f<a.length;f+=1)(n?o[f]+l[f]-o[u]<c:o[f]-o[u]<c)&&(d+=1);else for(let f=u-1;f>=0;f-=1)o[u]-o[f]<c&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&LS(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(o.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Hl(r,i())[0];return!o&&n.params.createElements&&(o=sb("div",n.params.wrapperClass),r.append(o),Hl(r,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||pf(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||pf(r,"direction")==="rtl"),wrongRTL:pf(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?LS(n,a):a.addEventListener("load",o=>{LS(n,o.target)})}),LI(n),n.initialized=!0,LI(n),n.emit("init"),n.emit("afterInit"),n}destroy(e=!0,n=!0){const r=this,{params:i,el:a,wrapperEl:o,slides:l}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),hMe(r)),r.destroyed=!0),null}static extendDefaults(e){oo(pM,e)}static get extendedDefaults(){return pM}static get defaults(){return FI}static installModule(e){Du.prototype.__modules__||(Du.prototype.__modules__=[]);const n=Du.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Du.installModule(n)),Du):(Du.installModule(e),Du)}};Object.keys(hM).forEach(t=>{Object.keys(hM[t]).forEach(e=>{p5.prototype[e]=hM[t][e]})});p5.use([EMe,NMe]);const Xre=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Bp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function zg(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Bp(e[r])&&Bp(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:zg(t[r],e[r]):t[r]=e[r]})}function Yre(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Kre(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Qre(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function Zre(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function PTe(t=""){return t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function DTe({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:o,paginationEl:l}){const c=r.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:y}=t;let g,v,b,w,_,S,j,A;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&!n.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(v=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(b=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(w=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const C=N=>{t[N]&&(t[N].destroy(),N==="navigation"?(t.isElement&&(t[N].prevEl.remove(),t[N].nextEl.remove()),u[N].prevEl=void 0,u[N].nextEl=void 0,t[N].prevEl=void 0,t[N].nextEl=void 0):(t.isElement&&t[N].el.remove(),u[N].el=void 0,t[N].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!n.loop?S=!0:!u.loop&&n.loop?j=!0:A=!0),c.forEach(N=>{if(Bp(u[N])&&Bp(n[N]))Object.assign(u[N],n[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in n[N]&&!n[N].enabled&&C(N);else{const T=n[N];(T===!0||T===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?T===!1&&C(N):u[N]=n[N]}}),c.includes("controller")&&!v&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&p&&u.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("virtual")&&p&&u.virtual.enabled&&(e&&(p.slides=e),p.update(!0)),r.includes("children")&&e&&u.loop&&(A=!0),g&&y.init()&&y.update(!0),v&&(t.controller.control=u.controller.control),b&&(t.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),w&&(t.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(u.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),_&&(t.isElement&&((!i||typeof i=="string")&&(i=document.createElement("div"),i.classList.add("swiper-button-next"),ab(i,t.hostEl.constructor.nextButtonSvg),i.part.add("button-next"),t.el.appendChild(i)),(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-prev"),ab(a,t.hostEl.constructor.prevButtonSvg),a.part.add("button-prev"),t.el.appendChild(a))),i&&(u.navigation.nextEl=i),a&&(u.navigation.prevEl=a),f.init(),f.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(S||A)&&t.loopDestroy(),(j||A)&&t.loopCreate(),t.update()}function RTe(t={},e=!0){const n={on:{}},r={},i={};zg(n,FI),n._emitClasses=!0,n.init=!1;const a={},o=Xre.map(c=>c.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?Bp(t[c])?(n[c]={},i[c]={},zg(n[c],t[c]),zg(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:a[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:a,events:r}}function OTe({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},o){Yre(o)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),Kre(o)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Qre(o)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}function ITe(t,e,n,r,i){const a=[];if(!e)return a;const o=c=>{a.indexOf(c)<0&&a.push(c)};if(n&&r){const c=r.map(i),u=n.map(i);c.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return Xre.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(Bp(t[c])&&Bp(e[c])){const u=Object.keys(t[c]),d=Object.keys(e[c]);u.length!==d.length?o(c):(u.forEach(f=>{t[c][f]!==e[c][f]&&o(c)}),d.forEach(f=>{t[c][f]!==e[c][f]&&o(c)}))}else t[c]!==e[c]&&o(c)}),a}const kTe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Mj(){return Mj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mj.apply(this,arguments)}function Jre(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function eie(t){const e=[];return ee.Children.toArray(t).forEach(n=>{Jre(n)?e.push(n):n.props&&n.props.children&&eie(n.props.children).forEach(r=>e.push(r))}),e}function LTe(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ee.Children.toArray(t).forEach(r=>{if(Jre(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=eie(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function FTe(t,e,n){if(!n)return null;const r=d=>{let f=d;return d<0?f=e.length+d:f>=e.length&&(f=f-e.length),f},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:a,to:o}=n,l=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,u=[];for(let d=l;d<c;d+=1)d>=a&&d<=o&&u.push(e[r(d)]);return u.map((d,f)=>ee.cloneElement(d,{swiper:t,style:i,key:d.props.virtualIndex||d.key||`slide-${f}`}))}function y0(t,e){return typeof window>"u"?M.useEffect(t,e):M.useLayoutEffect(t,e)}const Gz=M.createContext(null),UTe=M.createContext(null),UI=M.forwardRef(({className:t,tag:e="div",wrapperTag:n="div",children:r,onSwiper:i,...a}={},o)=>{let l=!1;const[c,u]=M.useState("swiper"),[d,f]=M.useState(null),[h,p]=M.useState(!1),y=M.useRef(!1),g=M.useRef(null),v=M.useRef(null),b=M.useRef(null),w=M.useRef(null),_=M.useRef(null),S=M.useRef(null),j=M.useRef(null),A=M.useRef(null),{params:C,passedParams:N,rest:T,events:P}=RTe(a),{slides:D,slots:O}=LTe(r),I=()=>{p(!h)};Object.assign(C.on,{_containerClasses(F,U){u(U)}});const L=()=>{Object.assign(C.on,P),l=!0;const F={...C};if(delete F.wrapperClass,v.current=new p5(F),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=D;const U={cache:!1,slides:D,renderExternal:f,renderExternalUpdate:!1};zg(v.current.params.virtual,U),zg(v.current.originalParams.virtual,U)}};g.current||L(),v.current&&v.current.on("_beforeBreakpoint",I);const z=()=>{l||!P||!v.current||Object.keys(P).forEach(F=>{v.current.on(F,P[F])})},q=()=>{!P||!v.current||Object.keys(P).forEach(F=>{v.current.off(F,P[F])})};M.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",I)}),M.useEffect(()=>{!y.current&&v.current&&(v.current.emitSlidesClasses(),y.current=!0)}),y0(()=>{if(o&&(o.current=g.current),!!g.current)return v.current.destroyed&&L(),OTe({el:g.current,nextEl:_.current,prevEl:S.current,paginationEl:j.current,scrollbarEl:A.current,swiper:v.current},C),i&&!v.current.destroyed&&i(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),y0(()=>{z();const F=ITe(N,b.current,D,w.current,U=>U.key);return b.current=N,w.current=D,F.length&&v.current&&!v.current.destroyed&&DTe({swiper:v.current,slides:D,passedParams:N,changedParams:F,nextEl:_.current,prevEl:S.current,scrollbarEl:A.current,paginationEl:j.current}),()=>{q()}}),y0(()=>{kTe(v.current)},[d]);function V(){return C.virtual?FTe(v.current,D,d):D.map((F,U)=>ee.cloneElement(F,{swiper:v.current,swiperSlideIndex:U}))}return ee.createElement(e,Mj({ref:g,className:Zre(`${c}${t?` ${t}`:""}`)},T),ee.createElement(UTe.Provider,{value:v.current},O["container-start"],ee.createElement(n,{className:PTe(C.wrapperClass)},O["wrapper-start"],V(),O["wrapper-end"]),Yre(C)&&ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:S,className:"swiper-button-prev"}),ee.createElement("div",{ref:_,className:"swiper-button-next"})),Qre(C)&&ee.createElement("div",{ref:A,className:"swiper-scrollbar"}),Kre(C)&&ee.createElement("div",{ref:j,className:"swiper-pagination"}),O["container-end"]))});UI.displayName="Swiper";const BI=M.forwardRef(({tag:t="div",children:e,className:n="",swiper:r,zoom:i,lazy:a,virtualIndex:o,swiperSlideIndex:l,...c}={},u)=>{const d=M.useRef(null),[f,h]=M.useState("swiper-slide"),[p,y]=M.useState(!1);function g(_,S,j){S===d.current&&h(j)}y0(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),u&&(u.current=d.current),!(!d.current||!r)){if(r.destroyed){f!=="swiper-slide"&&h("swiper-slide");return}return r.on("_slideClass",g),()=>{r&&r.off("_slideClass",g)}}}),y0(()=>{r&&d.current&&!r.destroyed&&h(r.getSlideClasses(d.current))},[r]);const v={isActive:f.indexOf("swiper-slide-active")>=0,isVisible:f.indexOf("swiper-slide-visible")>=0,isPrev:f.indexOf("swiper-slide-prev")>=0,isNext:f.indexOf("swiper-slide-next")>=0},b=()=>typeof e=="function"?e(v):e,w=()=>{y(!0)};return ee.createElement(t,Mj({ref:d,className:Zre(`${f}${n?` ${n}`:""}`),"data-swiper-slide-index":o,onLoad:w},c),i&&ee.createElement(Gz.Provider,{value:v},ee.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof i=="number"?i:void 0},b(),a&&!p&&ee.createElement("div",{className:"swiper-lazy-preloader"}))),!i&&ee.createElement(Gz.Provider,{value:v},b(),a&&!p&&ee.createElement("div",{className:"swiper-lazy-preloader"})))});BI.displayName="SwiperSlide";function tie(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let a=Hl(t.el,`.${r[i]}`)[0];a||(a=sb("div",r[i]),a.className=r[i],t.el.append(a)),n[i]=a,e[i]=a}}),n}const BTe='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Wz({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};function i(p){let y;return p&&typeof p=="string"&&t.isElement&&(y=t.el.querySelector(p)||t.hostEl.querySelector(p),y)?y:(p&&(typeof p=="string"&&(y=[...document.querySelectorAll(p)]),t.params.uniqueNavElements&&typeof p=="string"&&y&&y.length>1&&t.el.querySelectorAll(p).length===1?y=t.el.querySelector(p):y&&y.length===1&&(y=y[0])),p&&!y?p:y)}function a(p,y){const g=t.params.navigation;p=Ji(p),p.forEach(v=>{v&&(v.classList[y?"add":"remove"](...g.disabledClass.split(" ")),v.tagName==="BUTTON"&&(v.disabled=y),t.params.watchOverflow&&t.enabled&&v.classList[t.isLocked?"add":"remove"](g.lockClass))})}function o(){const{nextEl:p,prevEl:y}=t.navigation;if(t.params.loop){a(y,!1),a(p,!1);return}a(y,t.isBeginning&&!t.params.rewind),a(p,t.isEnd&&!t.params.rewind)}function l(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function c(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const p=t.params.navigation;if(t.params.navigation=tie(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let y=i(p.nextEl),g=i(p.prevEl);Object.assign(t.navigation,{nextEl:y,prevEl:g}),y=Ji(y),g=Ji(g);const v=(b,w)=>{if(b){if(p.addIcons&&b.matches(".swiper-button-next,.swiper-button-prev")&&!b.querySelector("svg")){const _=document.createElement("div");ab(_,BTe),b.appendChild(_.querySelector("svg")),_.remove()}b.addEventListener("click",w==="next"?c:l)}!t.enabled&&b&&b.classList.add(...p.lockClass.split(" "))};y.forEach(b=>v(b,"next")),g.forEach(b=>v(b,"prev"))}function d(){let{nextEl:p,prevEl:y}=t.navigation;p=Ji(p),y=Ji(y);const g=(v,b)=>{v.removeEventListener("click",b==="next"?c:l),v.classList.remove(...t.params.navigation.disabledClass.split(" "))};p.forEach(v=>g(v,"next")),y.forEach(v=>g(v,"prev"))}n("init",()=>{t.params.navigation.enabled===!1?h():(u(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{d()}),n("enable disable",()=>{let{nextEl:p,prevEl:y}=t.navigation;if(p=Ji(p),y=Ji(y),t.enabled){o();return}[...p,...y].filter(g=>!!g).forEach(g=>g.classList.add(t.params.navigation.lockClass))}),n("click",(p,y)=>{let{nextEl:g,prevEl:v}=t.navigation;g=Ji(g),v=Ji(v);const b=y.target;let w=v.includes(b)||g.includes(b);if(t.isElement&&!w){const _=y.path||y.composedPath&&y.composedPath();_&&(w=_.find(S=>g.includes(S)||v.includes(S)))}if(t.params.navigation.hideOnClick&&!w){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===b||t.pagination.el.contains(b)))return;let _;g.length?_=g[0].classList.contains(t.params.navigation.hiddenClass):v.length&&(_=v[0].classList.contains(t.params.navigation.hiddenClass)),r(_===!0?"navigationShow":"navigationHide"),[...g,...v].filter(S=>!!S).forEach(S=>S.classList.toggle(t.params.navigation.hiddenClass))}});const f=()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),o()},h=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(t.navigation,{enable:f,disable:h,update:o,init:u,destroy:d})}function Ey(t=""){return`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function $Te({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,bullets:[]};let a,o=0;function l(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function c(b,w){const{bulletActiveClass:_}=t.params.pagination;b&&(b=b[`${w==="prev"?"previous":"next"}ElementSibling`],b&&(b.classList.add(`${_}-${w}`),b=b[`${w==="prev"?"previous":"next"}ElementSibling`],b&&b.classList.add(`${_}-${w}-${w}`)))}function u(b,w,_){if(b=b%_,w=w%_,w===b+1)return"next";if(w===b-1)return"previous"}function d(b){const w=b.target.closest(Ey(t.params.pagination.bulletClass));if(!w)return;b.preventDefault();const _=Cj(w)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===_)return;const S=u(t.realIndex,_,t.slides.length);S==="next"?t.slideNext():S==="previous"?t.slidePrev():t.slideToLoop(_)}else t.slideTo(_)}function f(){const b=t.rtl,w=t.params.pagination;if(l())return;let _=t.pagination.el;_=Ji(_);let S,j;const A=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,C=t.params.loop?Math.ceil(A/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(j=t.previousRealIndex||0,S=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(S=t.snapIndex,j=t.previousSnapIndex):(j=t.previousIndex||0,S=t.activeIndex||0),w.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const N=t.pagination.bullets;let T,P,D;if(w.dynamicBullets&&(a=kI(N[0],t.isHorizontal()?"width":"height"),_.forEach(O=>{O.style[t.isHorizontal()?"width":"height"]=`${a*(w.dynamicMainBullets+4)}px`}),w.dynamicMainBullets>1&&j!==void 0&&(o+=S-(j||0),o>w.dynamicMainBullets-1?o=w.dynamicMainBullets-1:o<0&&(o=0)),T=Math.max(S-o,0),P=T+(Math.min(N.length,w.dynamicMainBullets)-1),D=(P+T)/2),N.forEach(O=>{const I=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(L=>`${w.bulletActiveClass}${L}`)].map(L=>typeof L=="string"&&L.includes(" ")?L.split(" "):L).flat();O.classList.remove(...I)}),_.length>1)N.forEach(O=>{const I=Cj(O);I===S?O.classList.add(...w.bulletActiveClass.split(" ")):t.isElement&&O.setAttribute("part","bullet"),w.dynamicBullets&&(I>=T&&I<=P&&O.classList.add(...`${w.bulletActiveClass}-main`.split(" ")),I===T&&c(O,"prev"),I===P&&c(O,"next"))});else{const O=N[S];if(O&&O.classList.add(...w.bulletActiveClass.split(" ")),t.isElement&&N.forEach((I,L)=>{I.setAttribute("part",L===S?"bullet-active":"bullet")}),w.dynamicBullets){const I=N[T],L=N[P];for(let z=T;z<=P;z+=1)N[z]&&N[z].classList.add(...`${w.bulletActiveClass}-main`.split(" "));c(I,"prev"),c(L,"next")}}if(w.dynamicBullets){const O=Math.min(N.length,w.dynamicMainBullets+4),I=(a*O-a)/2-D*a,L=b?"right":"left";N.forEach(z=>{z.style[t.isHorizontal()?L:"top"]=`${I}px`})}}_.forEach((N,T)=>{if(w.type==="fraction"&&(N.querySelectorAll(Ey(w.currentClass)).forEach(P=>{P.textContent=w.formatFractionCurrent(S+1)}),N.querySelectorAll(Ey(w.totalClass)).forEach(P=>{P.textContent=w.formatFractionTotal(C)})),w.type==="progressbar"){let P;w.progressbarOpposite?P=t.isHorizontal()?"vertical":"horizontal":P=t.isHorizontal()?"horizontal":"vertical";const D=(S+1)/C;let O=1,I=1;P==="horizontal"?O=D:I=D,N.querySelectorAll(Ey(w.progressbarFillClass)).forEach(L=>{L.style.transform=`translate3d(0,0,0) scaleX(${O}) scaleY(${I})`,L.style.transitionDuration=`${t.params.speed}ms`})}w.type==="custom"&&w.renderCustom?(ab(N,w.renderCustom(t,S+1,C)),T===0&&r("paginationRender",N)):(T===0&&r("paginationRender",N),r("paginationUpdate",N)),t.params.watchOverflow&&t.enabled&&N.classList[t.isLocked?"add":"remove"](w.lockClass)})}function h(){const b=t.params.pagination;if(l())return;const w=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let _=t.pagination.el;_=Ji(_);let S="";if(b.type==="bullets"){let j=t.params.loop?Math.ceil(w/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&j>w&&(j=w);for(let A=0;A<j;A+=1)b.renderBullet?S+=b.renderBullet.call(t,A,b.bulletClass):S+=`<${b.bulletElement} ${t.isElement?'part="bullet"':""} class="${b.bulletClass}"></${b.bulletElement}>`}b.type==="fraction"&&(b.renderFraction?S=b.renderFraction.call(t,b.currentClass,b.totalClass):S=`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`),b.type==="progressbar"&&(b.renderProgressbar?S=b.renderProgressbar.call(t,b.progressbarFillClass):S=`<span class="${b.progressbarFillClass}"></span>`),t.pagination.bullets=[],_.forEach(j=>{b.type!=="custom"&&ab(j,S||""),b.type==="bullets"&&t.pagination.bullets.push(...j.querySelectorAll(Ey(b.bulletClass)))}),b.type!=="custom"&&r("paginationRender",_[0])}function p(){t.params.pagination=tie(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const b=t.params.pagination;if(!b.el)return;let w;typeof b.el=="string"&&t.isElement&&(w=t.el.querySelector(b.el)),!w&&typeof b.el=="string"&&(w=[...document.querySelectorAll(b.el)]),w||(w=b.el),!(!w||w.length===0)&&(t.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(w)&&w.length>1&&(w=[...t.el.querySelectorAll(b.el)],w.length>1&&(w=w.find(_=>zre(_,".swiper")[0]===t.el))),Array.isArray(w)&&w.length===1&&(w=w[0]),Object.assign(t.pagination,{el:w}),w=Ji(w),w.forEach(_=>{b.type==="bullets"&&b.clickable&&_.classList.add(...(b.clickableClass||"").split(" ")),_.classList.add(b.modifierClass+b.type),_.classList.add(t.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(_.classList.add(`${b.modifierClass}${b.type}-dynamic`),o=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&_.classList.add(b.progressbarOppositeClass),b.clickable&&_.addEventListener("click",d),t.enabled||_.classList.add(b.lockClass)}))}function y(){const b=t.params.pagination;if(l())return;let w=t.pagination.el;w&&(w=Ji(w),w.forEach(_=>{_.classList.remove(b.hiddenClass),_.classList.remove(b.modifierClass+b.type),_.classList.remove(t.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(_.classList.remove(...(b.clickableClass||"").split(" ")),_.removeEventListener("click",d))})),t.pagination.bullets&&t.pagination.bullets.forEach(_=>_.classList.remove(...b.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const b=t.params.pagination;let{el:w}=t.pagination;w=Ji(w),w.forEach(_=>{_.classList.remove(b.horizontalClass,b.verticalClass),_.classList.add(t.isHorizontal()?b.horizontalClass:b.verticalClass)})}),n("init",()=>{t.params.pagination.enabled===!1?v():(p(),h(),f())}),n("activeIndexChange",()=>{typeof t.snapIndex>"u"&&f()}),n("snapIndexChange",()=>{f()}),n("snapGridLengthChange",()=>{h(),f()}),n("destroy",()=>{y()}),n("enable disable",()=>{let{el:b}=t.pagination;b&&(b=Ji(b),b.forEach(w=>w.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),n("lock unlock",()=>{f()}),n("click",(b,w)=>{const _=w.target,S=Ji(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&S&&S.length>0&&!_.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&_===t.navigation.nextEl||t.navigation.prevEl&&_===t.navigation.prevEl))return;const j=S[0].classList.contains(t.params.pagination.hiddenClass);r(j===!0?"paginationShow":"paginationHide"),S.forEach(A=>A.classList.toggle(t.params.pagination.hiddenClass))}});const g=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:b}=t.pagination;b&&(b=Ji(b),b.forEach(w=>w.classList.remove(t.params.pagination.paginationDisabledClass))),p(),h(),f()},v=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:b}=t.pagination;b&&(b=Ji(b),b.forEach(w=>w.classList.add(t.params.pagination.paginationDisabledClass))),y()};Object.assign(t.pagination,{enable:g,disable:v,render:h,update:f,init:p,destroy:y})}function zTe({swiper:t,extendParams:e,on:n,emit:r,params:i}){t.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,l=i&&i.autoplay?i.autoplay.delay:3e3,c=i&&i.autoplay?i.autoplay.delay:3e3,u,d=new Date().getTime(),f,h,p,y,g,v,b;function w(V){!t||t.destroyed||!t.wrapperEl||V.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",w),!(b||V.detail&&V.detail.bySwiperTouchMove)&&T())}const _=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?f=!0:f&&(c=u,f=!1);const V=t.autoplay.paused?u:d+c-new Date().getTime();t.autoplay.timeLeft=V,r("autoplayTimeLeft",V,V/l),o=requestAnimationFrame(()=>{_()})},S=()=>{let V;return t.virtual&&t.params.virtual.enabled?V=t.slides.find(U=>U.classList.contains("swiper-slide-active")):V=t.slides[t.activeIndex],V?parseInt(V.getAttribute("data-swiper-autoplay"),10):void 0},j=V=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(o),_();let F=typeof V>"u"?t.params.autoplay.delay:V;l=t.params.autoplay.delay,c=t.params.autoplay.delay;const U=S();!Number.isNaN(U)&&U>0&&typeof V>"u"&&(F=U,l=U,c=U),u=F;const H=t.params.speed,$=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,H,!0,!0),r("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(H,!0,!0),r("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,H,!0,!0),r("autoplay")),t.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{j()})))};return F>0?(clearTimeout(a),a=setTimeout(()=>{$()},F)):requestAnimationFrame(()=>{$()}),F},A=()=>{d=new Date().getTime(),t.autoplay.running=!0,j(),r("autoplayStart")},C=()=>{t.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),r("autoplayStop")},N=(V,F)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(a),V||(v=!0);const U=()=>{r("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",w):T()};if(t.autoplay.paused=!0,F){g&&(u=t.params.autoplay.delay),g=!1,U();return}u=(u||t.params.autoplay.delay)-(new Date().getTime()-d),!(t.isEnd&&u<0&&!t.params.loop)&&(u<0&&(u=0),U())},T=()=>{t.isEnd&&u<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(d=new Date().getTime(),v?(v=!1,j(u)):j(),t.autoplay.paused=!1,r("autoplayResume"))},P=()=>{if(t.destroyed||!t.autoplay.running)return;const V=Xl();V.visibilityState==="hidden"&&(v=!0,N(!0)),V.visibilityState==="visible"&&T()},D=V=>{V.pointerType==="mouse"&&(v=!0,b=!0,!(t.animating||t.autoplay.paused)&&N(!0))},O=V=>{V.pointerType==="mouse"&&(b=!1,t.autoplay.paused&&T())},I=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",D),t.el.addEventListener("pointerleave",O))},L=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",D),t.el.removeEventListener("pointerleave",O))},z=()=>{Xl().addEventListener("visibilitychange",P)},q=()=>{Xl().removeEventListener("visibilitychange",P)};n("init",()=>{t.params.autoplay.enabled&&(I(),z(),A())}),n("destroy",()=>{L(),q(),t.autoplay.running&&C()}),n("_freeModeStaticRelease",()=>{(p||v)&&T()}),n("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?C():N(!0,!0)}),n("beforeTransitionStart",(V,F,U)=>{t.destroyed||!t.autoplay.running||(U||!t.params.autoplay.disableOnInteraction?N(!0,!0):C())}),n("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){C();return}h=!0,p=!1,v=!1,y=setTimeout(()=>{v=!0,p=!0,N(!0)},200)}}),n("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!h)){if(clearTimeout(y),clearTimeout(a),t.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&t.params.cssMode&&T(),p=!1,h=!1}}),n("slideChange",()=>{t.destroyed||!t.autoplay.running||(g=!0)}),Object.assign(t.autoplay,{start:A,stop:C,pause:N,resume:T})}function Xz({swiper:t,extendParams:e,on:n}){e({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,i=!1;t.thumbs={swiper:null};function a(){const c=t.thumbs.swiper;if(!c||c.destroyed)return;const u=c.clickedIndex,d=c.clickedSlide;if(d&&d.classList.contains(t.params.thumbs.slideThumbActiveClass)||typeof u>"u"||u===null)return;let f;c.params.loop?f=parseInt(c.clickedSlide.getAttribute("data-swiper-slide-index"),10):f=u,t.params.loop?t.slideToLoop(f):t.slideTo(f)}function o(){const{thumbs:c}=t.params;if(r)return!1;r=!0;const u=t.constructor;if(c.swiper instanceof u){if(c.swiper.destroyed)return r=!1,!1;t.thumbs.swiper=c.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper.update()}else if(t0(c.swiper)){const d=Object.assign({},c.swiper);Object.assign(d,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new u(d),i=!0}return t.thumbs.swiper.el.classList.add(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",a),!0}function l(c){const u=t.thumbs.swiper;if(!u||u.destroyed)return;const d=u.params.slidesPerView==="auto"?u.slidesPerViewDynamic():u.params.slidesPerView;let f=1;const h=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(f=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(f=1),f=Math.floor(f),u.slides.forEach(g=>g.classList.remove(h)),u.params.loop||u.params.virtual&&u.params.virtual.enabled)for(let g=0;g<f;g+=1)Hl(u.slidesEl,`[data-swiper-slide-index="${t.realIndex+g}"]`).forEach(v=>{v.classList.add(h)});else for(let g=0;g<f;g+=1)u.slides[t.realIndex+g]&&u.slides[t.realIndex+g].classList.add(h);const p=t.params.thumbs.autoScrollOffset,y=p&&!u.params.loop;if(t.realIndex!==u.realIndex||y){const g=u.activeIndex;let v,b;if(u.params.loop){const w=u.slides.find(_=>_.getAttribute("data-swiper-slide-index")===`${t.realIndex}`);v=u.slides.indexOf(w),b=t.activeIndex>t.previousIndex?"next":"prev"}else v=t.realIndex,b=v>t.previousIndex?"next":"prev";y&&(v+=b==="next"?p:-1*p),u.visibleSlidesIndexes&&u.visibleSlidesIndexes.indexOf(v)<0&&(u.params.centeredSlides?v>g?v=v-Math.floor(d/2)+1:v=v+Math.floor(d/2)-1:v>g&&u.params.slidesPerGroup,u.slideTo(v,c?0:void 0))}}n("beforeInit",()=>{const{thumbs:c}=t.params;if(!(!c||!c.swiper))if(typeof c.swiper=="string"||c.swiper instanceof HTMLElement){const u=Xl(),d=()=>{const h=typeof c.swiper=="string"?u.querySelector(c.swiper):c.swiper;if(h&&h.swiper)c.swiper=h.swiper,o(),l(!0);else if(h){const p=`${t.params.eventsPrefix}init`,y=g=>{c.swiper=g.detail[0],h.removeEventListener(p,y),o(),l(!0),c.swiper.update(),t.update()};h.addEventListener(p,y)}return h},f=()=>{if(t.destroyed)return;d()||requestAnimationFrame(f)};requestAnimationFrame(f)}else o(),l(!0)}),n("slideChange update resize observerUpdate",()=>{l()}),n("setTransition",(c,u)=>{const d=t.thumbs.swiper;!d||d.destroyed||d.setTransition(u)}),n("beforeDestroy",()=>{const c=t.thumbs.swiper;!c||c.destroyed||i&&c.destroy()}),Object.assign(t.thumbs,{init:o,update:l})}function Yz({swiper:t,extendParams:e,emit:n,once:r}){e({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function i(){if(t.params.cssMode)return;const l=t.getTranslate();t.setTranslate(l),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})}function a(){if(t.params.cssMode)return;const{touchEventsData:l,touches:c}=t;l.velocities.length===0&&l.velocities.push({position:c[t.isHorizontal()?"startX":"startY"],time:l.touchStartTime}),l.velocities.push({position:c[t.isHorizontal()?"currentX":"currentY"],time:vp()})}function o({currentPos:l}){if(t.params.cssMode)return;const{params:c,wrapperEl:u,rtlTranslate:d,snapGrid:f,touchEventsData:h}=t,y=vp()-h.touchStartTime;if(l<-t.minTranslate()){t.slideTo(t.activeIndex);return}if(l>-t.maxTranslate()){t.slides.length<f.length?t.slideTo(f.length-1):t.slideTo(t.slides.length-1);return}if(c.freeMode.momentum){if(h.velocities.length>1){const A=h.velocities.pop(),C=h.velocities.pop(),N=A.position-C.position,T=A.time-C.time;t.velocity=N/T,t.velocity/=2,Math.abs(t.velocity)<c.freeMode.minimumVelocity&&(t.velocity=0),(T>150||vp()-A.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=c.freeMode.momentumVelocityRatio,h.velocities.length=0;let g=1e3*c.freeMode.momentumRatio;const v=t.velocity*g;let b=t.translate+v;d&&(b=-b);let w=!1,_;const S=Math.abs(t.velocity)*20*c.freeMode.momentumBounceRatio;let j;if(b<t.maxTranslate())c.freeMode.momentumBounce?(b+t.maxTranslate()<-S&&(b=t.maxTranslate()-S),_=t.maxTranslate(),w=!0,h.allowMomentumBounce=!0):b=t.maxTranslate(),c.loop&&c.centeredSlides&&(j=!0);else if(b>t.minTranslate())c.freeMode.momentumBounce?(b-t.minTranslate()>S&&(b=t.minTranslate()+S),_=t.minTranslate(),w=!0,h.allowMomentumBounce=!0):b=t.minTranslate(),c.loop&&c.centeredSlides&&(j=!0);else if(c.freeMode.sticky){let A;for(let C=0;C<f.length;C+=1)if(f[C]>-b){A=C;break}Math.abs(f[A]-b)<Math.abs(f[A-1]-b)||t.swipeDirection==="next"?b=f[A]:b=f[A-1],b=-b}if(j&&r("transitionEnd",()=>{t.loopFix()}),t.velocity!==0){if(d?g=Math.abs((-b-t.translate)/t.velocity):g=Math.abs((b-t.translate)/t.velocity),c.freeMode.sticky){const A=Math.abs((d?-b:b)-t.translate),C=t.slidesSizesGrid[t.activeIndex];A<C?g=c.speed:A<2*C?g=c.speed*1.5:g=c.speed*2.5}}else if(c.freeMode.sticky){t.slideToClosest();return}c.freeMode.momentumBounce&&w?(t.updateProgress(_),t.setTransition(g),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating=!0,oM(u,()=>{!t||t.destroyed||!h.allowMomentumBounce||(n("momentumBounce"),t.setTransition(c.speed),setTimeout(()=>{t.setTranslate(_),oM(u,()=>{!t||t.destroyed||t.transitionEnd()})},0))})):t.velocity?(n("_freeModeNoMomentumRelease"),t.updateProgress(b),t.setTransition(g),t.setTranslate(b),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,oM(u,()=>{!t||t.destroyed||t.transitionEnd()}))):t.updateProgress(b),t.updateActiveIndex(),t.updateSlidesClasses()}else if(c.freeMode.sticky){t.slideToClosest();return}else c.freeMode&&n("_freeModeNoMomentumRelease");(!c.freeMode.momentum||y>=c.longSwipesMs)&&(n("_freeModeStaticRelease"),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}Object.assign(t,{freeMode:{onTouchStart:i,onTouchMove:a,onTouchEnd:o}})}function HTe(t){const{effect:e,swiper:n,on:r,setTranslate:i,setTransition:a,overwriteParams:o,perspective:l,recreateShadows:c,getEffectParams:u}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),l&&l()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const f=o?o():{};Object.assign(n.params,f),Object.assign(n.originalParams,f)}),r("setTranslate _virtualUpdated",()=>{n.params.effect===e&&i()}),r("setTransition",(f,h)=>{n.params.effect===e&&a(h)}),r("transitionEnd",()=>{if(n.params.effect===e&&c){if(!u||!u().slideShadows)return;n.slides.forEach(f=>{f.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),c()}});let d;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(i(),d=!1)}))})}function VTe(t,e){const n=h5(e);return n!==e&&(n.style.backfaceVisibility="hidden",n.style["-webkit-backface-visibility"]="hidden"),n}function Kz(t,e,n){const r=`swiper-slide-shadow${n?`-${n}`:""}${` swiper-slide-shadow-${t}`}`,i=h5(e);let a=i.querySelector(`.${r.split(" ").join(".")}`);return a||(a=sb("div",r.split(" ")),i.append(a)),a}function qTe({swiper:t,extendParams:e,on:n}){e({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}}),HTe({effect:"coverflow",swiper:t,on:n,setTranslate:()=>{const{width:a,height:o,slides:l,slidesSizesGrid:c}=t,u=t.params.coverflowEffect,d=t.isHorizontal(),f=t.translate,h=d?-f+a/2:-f+o/2,p=d?u.rotate:-u.rotate,y=u.depth,g=wMe(t);for(let v=0,b=l.length;v<b;v+=1){const w=l[v],_=c[v],S=w.swiperSlideOffset,j=(h-S-_/2)/_,A=typeof u.modifier=="function"?u.modifier(j):j*u.modifier;let C=d?p*A:0,N=d?0:p*A,T=-y*Math.abs(A),P=u.stretch;typeof P=="string"&&P.indexOf("%")!==-1&&(P=parseFloat(u.stretch)/100*_);let D=d?0:P*A,O=d?P*A:0,I=1-(1-u.scale)*Math.abs(A);Math.abs(O)<.001&&(O=0),Math.abs(D)<.001&&(D=0),Math.abs(T)<.001&&(T=0),Math.abs(C)<.001&&(C=0),Math.abs(N)<.001&&(N=0),Math.abs(I)<.001&&(I=0);const L=`translate3d(${O}px,${D}px,${T}px)  rotateX(${g(N)}deg) rotateY(${g(C)}deg) scale(${I})`,z=VTe(u,w);if(z.style.transform=L,w.style.zIndex=-Math.abs(Math.round(A))+1,u.slideShadows){let q=d?w.querySelector(".swiper-slide-shadow-left"):w.querySelector(".swiper-slide-shadow-top"),V=d?w.querySelector(".swiper-slide-shadow-right"):w.querySelector(".swiper-slide-shadow-bottom");q||(q=Kz("coverflow",w,d?"left":"top")),V||(V=Kz("coverflow",w,d?"right":"bottom")),q&&(q.style.opacity=A>0?A:0),V&&(V.style.opacity=-A>0?-A:0)}}},setTransition:a=>{t.slides.map(l=>h5(l)).forEach(l=>{l.style.transitionDuration=`${a}ms`,l.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(c=>{c.style.transitionDuration=`${a}ms`})})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})}function mM({products:t,title:e,subtitle:n,variant:r="default",autoplay:i=!0,slidesPerView:a=4}){const o=M.useRef(null),l=()=>{const f={modules:[Wz,$Te,zTe,qTe,Xz,Yz],spaceBetween:20,navigation:!0,pagination:{clickable:!0,dynamicBullets:!0},autoplay:i?{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}:!1,breakpoints:{320:{slidesPerView:1},640:{slidesPerView:2},768:{slidesPerView:3},1024:{slidesPerView:a}}};switch(r){case"coverflow":return{...f,effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}};case"cards":return{...f,effect:"cards",grabCursor:!0,cardsEffect:{slideShadows:!0}};case"thumbs":return{...f,thumbs:{swiper:o.current}};default:return f}},c=f=>{Rg.success(`تمت إضافة ${f.name} إلى السلة`)},u=f=>{Rg.success(`تمت إضافة ${f.name} إلى المفضلة`)},d=f=>{Rg.info(`عرض سريع لـ ${f.name}`)};return s.jsxs("div",{className:"swiper-product-slider py-8",children:[(e||n)&&s.jsxs("div",{className:"text-center mb-8",children:[e&&s.jsx("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:e}),n&&s.jsx("p",{className:"text-muted-foreground",children:n})]}),r==="thumbs"&&t[0]?.images&&s.jsx("div",{className:"mb-4",children:s.jsx(UI,{onSwiper:f=>{o.current=f},spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[Yz,Wz,Xz],className:"thumbs-swiper h-24",children:t[0].images.map((f,h)=>s.jsx(BI,{children:s.jsx("img",{src:f,alt:`Thumb ${h}`,className:"w-full h-full object-cover rounded-lg cursor-pointer hover:opacity-80 transition-opacity"})},h))})}),s.jsx(UI,{...l(),className:"product-swiper",children:t.map(f=>s.jsx(BI,{children:s.jsxs(ce,{className:"group relative overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2",children:[f.badge&&s.jsx(jt,{className:"absolute top-2 right-2 z-10 animate-pulse",children:f.badge}),f.discount&&s.jsxs(jt,{variant:"destructive",className:"absolute top-2 left-2 z-10",children:["-",f.discount,"%"]}),s.jsxs("div",{className:"relative h-64 overflow-hidden",children:[s.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center gap-2",children:[s.jsx(ge,{size:"icon",variant:"secondary",className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",onClick:()=>d(f),children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx(ge,{size:"icon",variant:"secondary",className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-75",onClick:()=>u(f),children:s.jsx(Yc,{className:"h-4 w-4"})}),s.jsx(ge,{size:"icon",className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300 delay-150",onClick:()=>c(f),children:s.jsx(ti,{className:"h-4 w-4"})})]})]}),s.jsxs(he,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:f.name}),s.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((h,p)=>s.jsx(da,{className:`h-4 w-4 ${p<Math.floor(f.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},p))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",f.reviews,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-2xl font-bold text-primary",children:[f.price," ج.م"]}),f.originalPrice&&s.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[f.originalPrice," ج.م"]})]}),f.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2 line-clamp-2",children:f.description})]})]})},f.id))}),s.jsx("style",{children:`
        .product-swiper .swiper-button-next,
        .product-swiper .swiper-button-prev {
          background: rgba(255, 255, 255, 0.9);
          width: 40px;
          height: 40px;
          border-radius: 50%;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .product-swiper .swiper-button-next:after,
        .product-swiper .swiper-button-prev:after {
          font-size: 20px;
          color: #333;
        }
        
        .product-swiper .swiper-pagination-bullet {
          background: #8b5cf6;
        }
        
        .product-swiper .swiper-pagination-bullet-active {
          background: #7c3aed;
          width: 24px;
          border-radius: 4px;
        }

        .thumbs-swiper .swiper-slide-thumb-active {
          border: 2px solid #8b5cf6;
          border-radius: 8px;
        }
      `})]})}/*! License details at fancyapps.com/license */const ts=t=>typeof t=="string";/*! License details at fancyapps.com/license */const wg=t=>t&&t!==null&&t instanceof Element&&"nodeType"in t;/*! License details at fancyapps.com/license */const GTe=function(t){if(!(t&&t instanceof Element&&t.offsetParent))return!1;const e=t.scrollHeight>t.clientHeight,n=window.getComputedStyle(t).overflowY,r=n.indexOf("hidden")!==-1,i=n.indexOf("visible")!==-1;return e&&!r&&!i},xp=function(t,e=void 0){return!t||t===document.body||e&&t===e?null:GTe(t)?t:xp(t.parentElement,e)};/*! License details at fancyapps.com/license */const Vf=function(t){var e=new DOMParser().parseFromString(t,"text/html").body;if(e.childElementCount>1){for(var n=document.createElement("div");e.firstChild;)n.appendChild(e.firstChild);return n}let r=e.firstChild;return!r||r instanceof HTMLElement?r:((n=document.createElement("div")).appendChild(r),n)};/*! License details at fancyapps.com/license */const Bn=function(t=0,e=0,n=0){return Math.max(Math.min(e,n),t)};/*! License details at fancyapps.com/license */const qs=t=>typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]";/*! License details at fancyapps.com/license */function Qz(t){return qs(t)||Array.isArray(t)}function ob(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every((i=>{const a=t[i],o=e[i];return typeof a=="function"?`${a}`==`${o}`:Qz(a)&&Qz(o)?ob(a,o):a===o}))}/*! License details at fancyapps.com/license */const nie=function(t){for(const e of Tj)e.getState()===na.Running&&e.tick(gM?t-gM:0);gM=t,Hg=window.requestAnimationFrame(nie)};var na,rf,_g;(function(t){t[t.Initializing=0]="Initializing",t[t.Running=1]="Running",t[t.Paused=2]="Paused",t[t.Completed=3]="Completed",t[t.Destroyed=4]="Destroyed"})(na||(na={})),(function(t){t[t.Spring=0]="Spring",t[t.Ease=1]="Ease"})(rf||(rf={})),(function(t){t[t.Loop=0]="Loop",t[t.Reverse=1]="Reverse"})(_g||(_g={}));const Tj=new Set;let Hg=null,gM=0;function qf(){let t=na.Initializing,e=rf.Ease,n=0,r=0,i=qf.Easings.Linear,a=500,o=0,l=0,c=0,u=0,d=1/0,f=.01,h=.01,p=!1,y={},g=null,v={},b={},w={},_=0,S=0,j=_g.Loop,A=qf.Easings.Linear;const C=new Map;function N(I,...L){for(const z of C.get(I)||[])z(...L)}function T(I){return r=0,I?g=setTimeout((()=>{P()}),I):P(),O}function P(){t=na.Running,N("start",v,b)}function D(){if(t=na.Completed,w={},N("end",v),t===na.Completed)if(n<_){if(n++,j===_g.Reverse){const I=Object.assign({},y);y=Object.assign({},b),b=I}T(S)}else n=0;return O}const O={getState:function(){return t},easing:function(I){return i=I,e=rf.Ease,w={},O},duration:function(I){return a=I,O},spring:function(I={}){e=rf.Spring;const L={velocity:0,mass:1,tension:170,friction:26,restDelta:.1,restSpeed:.1,maxSpeed:1/0,clamp:!0},{velocity:z,mass:q,tension:V,friction:F,restDelta:U,restSpeed:H,maxSpeed:$,clamp:W}=Object.assign(Object.assign({},L),I);return o=z,l=q,c=V,u=F,h=U,f=H,d=$,p=W,w={},O},isRunning:function(){return t===na.Running},isSpring:function(){return e===rf.Spring},from:function(I){return v=Object.assign({},I),O},to:function(I){return b=I,O},repeat:function(I,L=0,z=_g.Loop,q){return _=I,S=L,j=z,A=q||i,O},on:function(I,L){var z,q;return z=I,q=L,C.set(z,[...C.get(z)||[],q]),O},off:function(I,L){var z,q;return z=I,q=L,C.has(z)&&C.set(z,C.get(z).filter((V=>V!==q))),O},start:function(I){return ob(v,b)||(t=na.Initializing,y=Object.assign({},v),Tj.add(this),Hg||(Hg=window.requestAnimationFrame(nie)),T(I)),O},pause:function(){return g&&(clearTimeout(g),g=null),t===na.Running&&(t=na.Paused,N("pause",v)),O},end:D,tick:function(I){I>50&&(I=50),r+=I;let L=0,z=!1;if(t!==na.Running)return O;if(e===rf.Ease){L=Bn(0,r/a,1),z=L===1;const V=j===_g.Reverse?A:i;for(const F in v)v[F]=y[F]+(b[F]-y[F])*V(L)}if(e===rf.Spring){const V=.001*I;let F=0;for(const U in v){const H=b[U];let $=v[U];if(typeof H!="number"||isNaN(H)||typeof $!="number"||isNaN($))continue;if(Math.abs(H-$)<=h){v[U]=H,w[U]=0;continue}w[U]||(typeof o=="object"&&typeof o[U]=="number"?w[U]=o[U]:w[U]=typeof o=="number"?o:0);let W=w[U];W=Bn(-1*Math.abs(d),W,Math.abs(d));const le=W*l*u;W+=(($>H?-1:1)*(Math.abs(H-$)*c)-le)/l*V,$+=W*V;const ie=v[U]>H?$<H:$>H;let re=Math.abs(W)<f&&Math.abs(H-$)<=h;p&&ie&&(re=!0),re?($=H,W=0):F++,v[U]=$,w[U]=W}z=!F}const q=Object.assign({},b);return N("step",v,y,b,L),z&&t===na.Running&&ob(b,q)&&(t=na.Completed,D()),O},getStartValues:function(){return y},getCurrentValues:function(){return v},getCurrentVelocities:function(){return w},getEndValues:function(){return b},destroy:function(){t=na.Destroyed,g&&(clearTimeout(g),g=null),y=v=b={},Tj.delete(this)}};return O}qf.destroy=()=>{for(const t of Tj)t.destroy();Hg&&(cancelAnimationFrame(Hg),Hg=null)},qf.Easings={Linear:function(t){return t},EaseIn:function(t){return t===0?0:Math.pow(2,10*t-10)},EaseOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},EaseInOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};/*! License details at fancyapps.com/license */function b0(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function m5(t,e){const n=[],r=b0(t)?t[e]:t instanceof MouseEvent&&(e==="changedTouches"||t.type!=="mouseup")?[t]:[];for(const i of r)n.push({x:i.clientX,y:i.clientY,ts:Date.now()});return n}function Zz(t){return m5(t,"touches")}function Jz(t){return m5(t,"targetTouches")}function rie(t){return m5(t,"changedTouches")}function ef(t){const e=t[0],n=t[1]||e;return{x:(e.x+n.x)/2,y:(e.y+n.y)/2,ts:n.ts}}function d_(t){const e=t[0],n=t[1]||t[0];return e&&n?-1*Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)):0}const eH=t=>{t.cancelable&&t.preventDefault()},Vd={passive:!1},WTe={panThreshold:5,swipeThreshold:3,ignore:["textarea","input","select","[contenteditable]","[data-selectable]","[data-draggable]"]};let f_=!1,n0=!0;const gv=(t,e)=>{let n,r,i,a=Object.assign(Object.assign({},WTe),e),o=[],l=[],c=[],u=!1,d=!1,f=!1,h=!1,p=0,y=0,g=0,v=0,b=0,w=0,_=0,S=0,j=0,A=[],C=0,N=0;const T=new Map;function P(U){const H=d_(l),$=d_(c),W=H&&$?H/$:0,le=Math.abs(_)>Math.abs(S)?_:S,ie={srcEvent:n,isPanRecognized:u,isSwipeRecognized:d,firstTouch:o,previousTouch:c,currentTouch:l,deltaX:g,deltaY:v,offsetX:b,offsetY:w,velocityX:_,velocityY:S,velocity:le,angle:j,axis:i,scale:W,center:r};for(const re of T.get(U)||[])re(ie)}function D(U){const H=Date.now();if(A=A.filter(($=>!$.ts||$.ts>H-100)),U&&A.push(U),_=0,S=0,A.length>3){const $=A[0],W=A[A.length-1];if($&&W){const le=W.x-$.x,ie=W.y-$.y,re=$.ts&&W.ts?W.ts-$.ts:0;re>0&&(_=Math.abs(le)>3?le/(re/30):0,S=Math.abs(ie)>3?ie/(re/30):0)}}}function O(U){if(typeof MouseEvent<"u"&&U instanceof MouseEvent){if(f_)return}else f_=!0;const H=U.composedPath()[0],$=a.ignore.join(",");if(H.matches($)||H.closest($))return;if(typeof MouseEvent<"u"&&U instanceof MouseEvent){if(!U.buttons||U.button!==0)return;eH(U)}U instanceof MouseEvent&&(window.addEventListener("mousemove",I),window.addEventListener("mouseup",L)),window.addEventListener("blur",z),n=U,l=Jz(U),o=[...l],c=[],y=l.length,r=ef(l),y===1&&(u=!1,d=!1,f=!1),y&&D(ef(l));const W=Date.now(),le=W-(p||W);h=le>0&&le<=250&&y===1,p=W,clearTimeout(C),P("start")}function I(U){var H;if(!o.length||U.defaultPrevented)return;n=U,c=[...l],l=Zz(U);const $=ef(c),W=ef(Zz(U));if(D(W),y=l.length,r=W,c.length===l.length?(g=W.x-$.x,v=W.y-$.y):(g=0,v=0),o.length){const le=ef(o);b=W.x-le.x,w=W.y-le.y}if(l.length>1){const le=d_(l),ie=d_(c);Math.abs(le-ie)>=.1&&(f=!0,P("pinch"))}u||(u=Math.abs(b)>a.panThreshold||Math.abs(w)>a.panThreshold,u&&(n0=!1,clearTimeout(N),N=0,j=Math.abs(180*Math.atan2(w,b)/Math.PI),i=j>45&&j<135?"y":"x",o=[...l],c=[...l],b=0,w=0,g=0,v=0,(H=window.getSelection())===null||H===void 0||H.removeAllRanges(),P("panstart"))),u&&(g||v)&&P("pan"),P("move")}function L(U){if(n=U,!o.length)return;const H=Jz(U),$=rie(U);if(y=H.length,r=ef($),$.length&&D(ef($)),c=[...l],l=[...H],o=[...H],y>0)P("end"),u=!1,d=!1,A=[];else{const W=a.swipeThreshold;(Math.abs(_)>W||Math.abs(S)>W)&&(d=!0),u&&P("panend"),d&&P("swipe"),u||d||f||(P("tap"),h?P("doubleTap"):C=setTimeout((function(){P("singleTap")}),250)),P("end"),q()}}function z(){clearTimeout(C),q(),u&&P("panend"),P("end")}function q(){f_=!1,u=!1,d=!1,h=!1,y=0,A=[],l=[],c=[],o=[],g=0,v=0,b=0,w=0,_=0,S=0,j=0,i=void 0,window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",L),window.removeEventListener("blur",z),n0||N||(N=setTimeout((()=>{n0=!0,N=0}),100))}function V(U){const H=U.target;f_=!1,H&&!U.defaultPrevented&&(n0||(eH(U),U.stopPropagation()))}const F={init:function(){if(t)return t.addEventListener("click",V,Vd),t.addEventListener("mousedown",O,Vd),t.addEventListener("touchstart",O,Vd),t.addEventListener("touchmove",I,Vd),t.addEventListener("touchend",L),t.addEventListener("touchcancel",L),F},on:function(U,H){return(function($,W){T.set($,[...T.get($)||[],W])})(U,H),F},off:function(U,H){return T.has(U)&&T.set(U,T.get(U).filter(($=>$!==H))),F},isPointerDown:()=>y>0,destroy:function(){clearTimeout(C),clearTimeout(N),N=0,t&&(t.removeEventListener("click",V,Vd),t.removeEventListener("mousedown",O,Vd),t.removeEventListener("touchstart",O,Vd),t.removeEventListener("touchmove",I,Vd),t.removeEventListener("touchend",L),t.removeEventListener("touchcancel",L)),t=null,q()}};return F};gv.isClickAllowed=()=>n0;/*! License details at fancyapps.com/license */const g5={IMAGE_ERROR:"This image couldn't be loaded. <br /> Please try again later.",MOVE_UP:"Move up",MOVE_DOWN:"Move down",MOVE_LEFT:"Move left",MOVE_RIGHT:"Move right",ZOOM_IN:"Zoom in",ZOOM_OUT:"Zoom out",TOGGLE_FULL:"Toggle zoom level",TOGGLE_1TO1:"Toggle zoom level",ITERATE_ZOOM:"Toggle zoom level",ROTATE_CCW:"Rotate counterclockwise",ROTATE_CW:"Rotate clockwise",FLIP_X:"Flip horizontally",FLIP_Y:"Flip vertically",RESET:"Reset",TOGGLE_FS:"Toggle fullscreen"};/*! License details at fancyapps.com/license */const Sn=(t,e="")=>{t&&t.classList&&e.split(" ").forEach((n=>{n&&t.classList.add(n)}))};/*! License details at fancyapps.com/license */const bc=(t,e="")=>{t&&t.classList&&e.split(" ").forEach((n=>{n&&t.classList.remove(n)}))};/*! License details at fancyapps.com/license */const Rs=(t,e="",n)=>{t&&t.classList&&e.split(" ").forEach((r=>{r&&t.classList.toggle(r,n||!1)}))};/*! License details at fancyapps.com/license */const Nh=t=>{t.cancelable&&t.preventDefault()},Qs=(t,e=1e4)=>(t=parseFloat(t+"")||0,Math.round((t+Number.EPSILON)*e)/e),xc=t=>t instanceof HTMLImageElement;var Lt,tH;(function(t){t.Reset="reset",t.Zoom="zoom",t.ZoomIn="zoomIn",t.ZoomOut="zoomOut",t.ZoomTo="zoomTo",t.ToggleCover="toggleCover",t.ToggleFull="toggleFull",t.ToggleMax="toggleMax",t.IterateZoom="iterateZoom",t.Pan="pan",t.Swipe="swipe",t.Move="move",t.MoveLeft="moveLeft",t.MoveRight="moveRight",t.MoveUp="moveUp",t.MoveDown="moveDown",t.RotateCCW="rotateCCW",t.RotateCW="rotateCW",t.FlipX="flipX",t.FlipY="flipY",t.ToggleFS="toggleFS"})(Lt||(Lt={})),(function(t){t.Cover="cover",t.Full="full",t.Max="max"})(tH||(tH={}));const Dl={x:0,y:0,scale:1,angle:0,flipX:1,flipY:1},$I={bounds:!0,classes:{container:"f-panzoom",wrapper:"f-panzoom__wrapper",content:"f-panzoom__content",viewport:"f-panzoom__viewport"},clickAction:Lt.ToggleFull,dblClickAction:!1,gestures:{},height:"auto",l10n:g5,maxScale:4,minScale:1,mouseMoveFactor:1,panMode:"drag",protected:!1,singleClickAction:!1,spinnerTpl:'<div class="f-spinner"></div>',wheelAction:Lt.Zoom,width:"auto"};let h_,nH=0,rH=0,p_=0;const zI=(t,e={},n={})=>{let r,i,a,o,l,c,u,d,f=0,h=Object.assign(Object.assign({},$I),e),p={},y=Object.assign({},Dl),g=Object.assign({},Dl);const v=[];function b(me){let X=h[me];return X&&typeof X=="function"?X(rt):X}function w(){return t&&t.parentElement&&r&&f===3}const _=new Map;function S(me,...X){const G=[..._.get(me)||[]];h.on&&G.push(h.on[me]);for(const de of G)de&&de instanceof Function&&de(rt,...X);me!=="*"&&S("*",me,...X)}function j(me){if(!w())return;const X=me.target;if(xp(X))return;const G=Date.now(),de=[-me.deltaX||0,-me.deltaY||0,-me.detail||0].reduce((function(be,Ve){return Math.abs(Ve)>Math.abs(be)?Ve:be})),fe=Bn(-1,de,1);S("wheel",me,fe);const ne=b("wheelAction");if(!ne||me.defaultPrevented)return;const J=g.scale;let ve=J*(fe>0?1.5:.5);if(ne===Lt.Zoom){const be=Math.abs(me.deltaY)<100&&Math.abs(me.deltaX)<100;if(G-rH<(be?200:45))return void Nh(me);rH=G;const Ve=V(),Qe=$();if(Qs(ve)<Qs(Ve)&&Qs(J)<=Qs(Ve)?(p_+=Math.abs(fe),ve=Ve):Qs(ve)>Qs(Qe)&&Qs(J)>=Qs(Qe)?(p_+=Math.abs(fe),ve=Qe):(p_=0,ve=Bn(Ve,ve,Qe)),p_>7)return}switch(Nh(me),ne){case Lt.Pan:re(ne,{srcEvent:me,deltaX:2*-me.deltaX,deltaY:2*-me.deltaY});break;case Lt.Zoom:re(Lt.ZoomTo,{srcEvent:me,scale:ve,center:{x:me.clientX,y:me.clientY}});break;default:re(ne,{srcEvent:me})}}function A(me){var X,G;const de=me.composedPath()[0];if(!gv.isClickAllowed()||!wg(de)||me.defaultPrevented||!t?.contains(de)||de.hasAttribute("disabled")||de.hasAttribute("aria-disabled"))return;const fe=de.closest("[data-panzoom-action]"),ne=(X=fe?.dataset)===null||X===void 0?void 0:X.panzoomAction,J=((G=fe?.dataset)===null||G===void 0?void 0:G.panzoomValue)||"";if(ne){switch(Nh(me),ne){case Lt.ZoomTo:case Lt.ZoomIn:case Lt.ZoomOut:re(ne,{scale:parseFloat(J||"")||void 0});break;case Lt.MoveLeft:case Lt.MoveRight:re(ne,{deltaX:parseFloat(J||"")||void 0});break;case Lt.MoveUp:case Lt.MoveDown:re(ne,{deltaY:parseFloat(J||"")||void 0});break;case Lt.ToggleFS:ue();break;default:re(ne)}return}if(!r?.contains(de))return;const ve={srcEvent:me};if(re(b("clickAction"),ve),b("dblClickAction")){const be=Date.now(),Ve=be-(nH||be);nH=be,Ve>0&&Ve<=250?(h_&&(clearTimeout(h_),h_=void 0),re(b("dblClickAction"),ve)):h_=setTimeout((()=>{re(b("singleClickAction"),ve)}),250)}}function C(me){if(d=me,!w()||!L()||y.scale<=1||g.scale<=1||(r?.dataset.animationName||"").indexOf("zoom")>-1)return;const X=z(g.scale);if(!X)return;const{x:G,y:de}=X;re(Lt.Pan,{deltaX:G-g.x,deltaY:de-g.y})}function N(){var me;t&&(bc(t,"is-loading"),(me=t.querySelector(".f-spinner"))===null||me===void 0||me.remove())}function T(){if(!t||!i)return;if(N(),xc(i)&&(!i.complete||!i.naturalWidth))return f=2,r?.classList.add("has-error"),void S("error");S("loaded");const{width:me,height:X}=O();xc(i)&&(i.setAttribute("width",me+""),i.setAttribute("height",X+"")),r&&(bc(r,"has-error"),xc(i)&&(r.setAttribute("width",me+""),r.setAttribute("height",X+""),r.style.aspectRatio=`${me/X||""}`)),c=qf().on("start",((de,fe)=>{fe.angle!==void 0&&(fe.angle=90*Math.round(fe.angle/90)),fe.flipX!==void 0&&(fe.flipX=fe.flipX>0?1:-1),fe.flipY!==void 0&&(fe.flipY=fe.flipY>0?1:-1),g=Object.assign(Object.assign({},Dl),fe),ie(),S("animationStart")})).on("pause",(de=>{g=Object.assign(Object.assign({},Dl),de)})).on("step",(de=>{if(!w())return void(c==null||c.end());if(y=Object.assign(Object.assign({},Dl),de),L()||!b("bounds")||Y()||g.scale>y.scale||g.scale<F())return void _e();const fe=W(g.scale);let ne=!1,J=!1,ve=!1,be=!1;y.x<fe.x[0]&&(ne=!0),y.x>fe.x[1]&&(J=!0),y.y<fe.y[0]&&(be=!0),y.y>fe.y[1]&&(ve=!0);let Ve=!1,Qe=!1,We=!1,xe=!1;g.x<fe.x[0]&&(Ve=!0),g.x>fe.x[1]&&(Qe=!0),g.y<fe.y[0]&&(xe=!0),g.y>fe.y[1]&&(We=!0);let Te=!1;(J&&Qe||ne&&Ve)&&(g.x=Bn(fe.x[0],g.x,fe.x[1]),Te=!0),(ve&&We||be&&xe)&&(g.y=Bn(fe.y[0],g.y,fe.y[1]),Te=!0),Te&&c&&c.spring({tension:94,friction:17,maxSpeed:555*g.scale,restDelta:.1,restSpeed:.1,velocity:c.getCurrentVelocities()}).from(y).to(g).start(),_e()})).on("end",(()=>{l?.isPointerDown()||le(),c?.isRunning()||(ie(),S("animationEnd"))})),(function(){const de=b("gestures");if(!de||!o||!i)return;let fe=!1;l=gv(o,de).on("start",(ne=>{if(!b("gestures")||!c||!w()||L())return;const J=ne.srcEvent;(y.scale>1||ne.currentTouch.length>1)&&(J?.stopPropagation(),c.pause(),fe=!0),ne.currentTouch.length===1&&S("touchStart")})).on("move",(ne=>{var J;fe&&(g.scale!==1||ne.currentTouch.length>1)&&(Nh(ne.srcEvent),(J=ne.srcEvent)===null||J===void 0||J.stopPropagation())})).on("pan",(ne=>{if(!fe)return;const J=ne.srcEvent;(g.scale!==1||ne.currentTouch.length>1)&&(Nh(J),re(Lt.Pan,ne))})).on("swipe",(ne=>{fe&&g.scale>1&&re(Lt.Swipe,ne)})).on("tap",(ne=>{S("click",ne)})).on("singleTap",(ne=>{S("singleClick",ne)})).on("doubleTap",(ne=>{S("dblClick",ne)})).on("pinch",(ne=>{fe&&(ne.scale>F()?re(Lt.ZoomIn,ne):ne.scale<F()?re(Lt.ZoomOut,ne):re(Lt.Pan,ne))})).on("end",(ne=>{fe&&(ne.currentTouch.length?(ne.srcEvent.stopPropagation(),Nh(ne.srcEvent),c?.end()):(fe=!1,ie(),le(),S("touchEnd")))})).init()})(),o&&(o.addEventListener("wheel",j,{passive:!1}),v.push((()=>{o?.removeEventListener("wheel",j,{passive:!1})}))),t?.addEventListener("click",A),document?.addEventListener("mousemove",C),v.push((()=>{t?.removeEventListener("click",A),document?.removeEventListener("mousemove",C)}));const G=P();y=Object.assign({},G),g=Object.assign({},G),f=3,_e(),ie(),S("ready"),requestAnimationFrame((()=>{N(),o&&(o.style.visibility="")}))}function P(){const me=Object.assign({},b("startPos")||{});let X=me.scale,G=1;G=typeof X=="string"?q(X):typeof X=="number"?X:F();const de=Object.assign(Object.assign(Object.assign({},Dl),me),{scale:G}),fe=L()?z(G):void 0;if(fe){const{x:ne,y:J}=fe;de.x=ne,de.y=J}return de}function D(){const me={top:0,left:0,width:0,height:0};if(r){const X=r.getBoundingClientRect();g.angle%180==90?(me.top=X.top+.5*X.height-.5*X.width,me.left=X.left+.5*X.width-.5*X.height,me.width=X.height,me.height=X.width):(me.top=X.top,me.left=X.left,me.width=X.width,me.height=X.height)}return me}function O(){let me=b("width"),X=b("height");if(i&&me==="auto"){const G=i.getAttribute("width");me=G?parseFloat(G+""):i.dataset.width!==void 0?parseFloat(i.dataset.width+""):xc(o)?o.naturalWidth:xc(i)?i.naturalWidth:i.getBoundingClientRect().width}else me=ts(me)?parseFloat(me):me;if(i&&X==="auto"){const G=i.getAttribute("height");X=G?parseFloat(G+""):i.dataset.height!==void 0?parseFloat(i.dataset.height+""):xc(o)?o.naturalHeight:xc(i)?i.naturalHeight:i.getBoundingClientRect().height}else X=ts(X)?parseFloat(X):X;return{width:me,height:X}}function I(){const me=D();return{width:me.width,height:me.height}}function L(){return b("panMode")==="mousemove"&&matchMedia("(hover: hover)").matches}function z(me){const X=d||b("event"),G=r?.getBoundingClientRect();if(!X||!G||me<=1)return{x:0,y:0};const de=(X.clientX||0)-G.left,fe=(X.clientY||0)-G.top,{width:ne,height:J}=I(),ve=W(me);if(me>1){const xe=b("mouseMoveFactor");xe>1&&(me*=xe)}let be=ne*me,Ve=J*me,Qe=.5*(be-ne)-de/ne*100/100*(be-ne),We=.5*(Ve-J)-fe/J*100/100*(Ve-J);return Qe=Bn(ve.x[0],Qe,ve.x[1]),We=Bn(ve.y[0],We,ve.y[1]),{x:Qe,y:We}}function q(me="base"){if(!t)return 1;const X=t.getBoundingClientRect(),G=D(),{width:de,height:fe}=O(),ne=Qe=>{if(typeof Qe=="number")return Qe;switch(Qe){case"min":case"base":return 1;case"cover":return Math.max(X.height/G.height,X.width/G.width)||1;case"full":case"max":{const We=g.angle%180==90?fe:de;return We&&G.width?We/G.width:1}}},J=b("minScale"),ve=b("maxScale"),be=Math.min(ne("full"),ne(J)),Ve=typeof ve=="number"?ne("full")*ve:Math.min(ne("full"),ne(ve));switch(me){case"min":return be;case"base":return Bn(be,1,Ve);case"cover":return ne("cover");case"full":return Math.min(Ve,ne("full"));case"max":return Ve}}function V(){return q("min")}function F(){return q("base")}function U(){return q("cover")}function H(){return q("full")}function $(){return q("max")}function W(me){const X={x:[0,0],y:[0,0]},G=t?.getBoundingClientRect();if(!G)return X;const de=D(),fe=G.width,ne=G.height;let J=de.width,ve=de.height,be=me=me===void 0?g.scale:me,Ve=me;if(L()&&me>1){const Qe=b("mouseMoveFactor");Qe>1&&(J*me>fe+.01&&(be*=Qe),ve*me>ne+.01&&(Ve*=Qe))}return J*=be,ve*=Ve,me>1&&(J>fe&&(X.x[0]=.5*(fe-J),X.x[1]=.5*(J-fe)),X.x[0]-=.5*(de.left-G.left),X.x[1]-=.5*(de.left-G.left),X.x[0]-=.5*(de.left+de.width-G.right),X.x[1]-=.5*(de.left+de.width-G.right),ve>ne&&(X.y[0]=.5*(ne-ve),X.y[1]=.5*(ve-ne)),X.y[0]-=.5*(de.top-G.top),X.y[1]-=.5*(de.top-G.top),X.y[0]-=.5*(de.top+de.height-G.bottom),X.y[1]-=.5*(de.top+de.height-G.bottom)),X}function le(){if(!w()||!b("bounds")||!c)return;const me=V(),X=$(),G=Bn(me,g.scale,X);if(g.scale<me-.01||g.scale>X+.01)return void re(Lt.ZoomTo,{scale:G});if(c.isRunning()||Y())return;const de=W(G);g.x<de.x[0]||g.x>de.x[1]||g.y<de.y[0]||g.y>de.y[1]?(g.x=Bn(de.x[0],g.x,de.x[1]),g.y=Bn(de.y[0],g.y,de.y[1]),c.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:c.getCurrentVelocities()}),c.from(y).to(g).start()):_e()}function ie(me){var X;if(!w())return;const G=Fe(),de=Y(),fe=Ie(),ne=Xe(),J=Ne(),ve=je();Rs(r,"is-fullsize",ne),Rs(r,"is-expanded",fe),Rs(r,"is-dragging",de),Rs(r,"can-drag",G),Rs(r,"will-zoom-in",J),Rs(r,"will-zoom-out",ve);const be=Ge(),Ve=Pe(),Qe=Oe(),We=!w();for(const xe of((X=me||t)===null||X===void 0?void 0:X.querySelectorAll("[data-panzoom-action]"))||[]){const Te=xe.dataset.panzoomAction;let te=!1;if(We)te=!0;else switch(Te){case Lt.ZoomIn:be||(te=!0);break;case Lt.ZoomOut:Qe||(te=!0);break;case Lt.ToggleFull:{Ve||Qe||(te=!0);const oe=xe.querySelector("g");oe&&(oe.style.display=ne&&!te?"none":"");break}case Lt.IterateZoom:{be||Qe||(te=!0);const oe=xe.querySelector("g");oe&&(oe.style.display=be||te?"":"none");break}case Lt.ToggleCover:case Lt.ToggleMax:be||Qe||(te=!0)}te?(xe.setAttribute("aria-disabled",""),xe.setAttribute("tabindex","-1")):(xe.removeAttribute("aria-disabled"),xe.removeAttribute("tabindex"))}}function re(me,X){var G;if(!(me&&t&&i&&c&&w())||me===Lt.Swipe&&Math.abs(c.getCurrentVelocities().scale)>.01)return;const de=Object.assign({},g);let fe=Object.assign({},g),ne=W(L()?de.scale:y.scale);const J=c.getCurrentVelocities(),ve=D(),be=(((G=(X=X||{}).currentTouch)===null||G===void 0?void 0:G.length)||0)>1,Ve=X.velocityX||0,Qe=X.velocityY||0;let We=X.center;X.srcEvent&&(We=ef(rie(X.srcEvent)));let xe=X.deltaX||0,Te=X.deltaY||0;switch(me){case Lt.MoveRight:xe=X.deltaX||100;break;case Lt.MoveLeft:xe=X.deltaX||-100;break;case Lt.MoveUp:Te=X.deltaY||-100;break;case Lt.MoveDown:Te=X.deltaY||100}let te=[];switch(me){case Lt.Reset:fe=Object.assign({},Dl),fe.scale=F();break;case Lt.Pan:case Lt.Move:case Lt.MoveLeft:case Lt.MoveRight:case Lt.MoveUp:case Lt.MoveDown:if(Y()){let ae=1,Re=1;fe.x<=ne.x[0]&&Ve<=0&&(ae=Math.max(.01,1-Math.abs(1/ve.width*Math.abs(fe.x-ne.x[0]))),ae*=.2),fe.x>=ne.x[1]&&Ve>=0&&(ae=Math.max(.01,1-Math.abs(1/ve.width*Math.abs(fe.x-ne.x[1]))),ae*=.2),fe.y<=ne.y[0]&&Qe<=0&&(Re=Math.max(.01,1-Math.abs(1/ve.height*Math.abs(fe.y-ne.y[0]))),Re*=.2),fe.y>=ne.y[1]&&Qe>=0&&(Re=Math.max(.01,1-Math.abs(1/ve.height*Math.abs(fe.y-ne.y[1]))),Re*=.2),fe.x+=xe*ae,fe.y+=Te*Re}else fe.x=Bn(ne.x[0],fe.x+xe,ne.x[1]),fe.y=Bn(ne.y[0],fe.y+Te,ne.y[1]);break;case Lt.Swipe:const oe=(ae=0)=>Math.sign(ae)*Math.pow(Math.abs(ae),1.5);fe.x+=Bn(-1e3,oe(Ve),1e3),fe.y+=Bn(-1e3,oe(Qe),1e3),Qe&&!Ve&&(fe.x=Bn(ne.x[0],fe.x,ne.x[1])),!Qe&&Ve&&(fe.y=Bn(ne.y[0],fe.y,ne.y[1])),J.x=Ve,J.y=Qe;break;case Lt.ZoomTo:fe.scale=X.scale||1;break;case Lt.ZoomIn:fe.scale=fe.scale*(X.scale||2),be||(fe.scale=Math.min(fe.scale,$()));break;case Lt.ZoomOut:fe.scale=fe.scale*(X.scale||.5),be||(fe.scale=Math.max(fe.scale,V()));break;case Lt.ToggleCover:te=[F(),U()];break;case Lt.ToggleFull:te=[F(),H()];break;case Lt.ToggleMax:te=[F(),$()];break;case Lt.IterateZoom:te=[F(),H(),$()];break;case Lt.Zoom:const K=H();fe.scale>=K-.05?fe.scale=F():fe.scale=Math.min(K,fe.scale*(X.scale||2));break;case Lt.RotateCW:fe.angle+=90;break;case Lt.RotateCCW:fe.angle-=90;break;case Lt.FlipX:fe.flipX*=-1;break;case Lt.FlipY:fe.flipY*=-1}if(y.angle!==void 0&&Math.abs(y.angle)>=360&&(fe.angle-=360*Math.floor(y.angle/360),y.angle-=360*Math.floor(y.angle/360)),te.length){const oe=te.findIndex((K=>K>fe.scale+1e-4));fe.scale=te[oe]||te[0]}if(be&&(fe.scale=Bn(V()*(be?.8:1),fe.scale,$()*(be?1.6:1))),L()){const oe=z(fe.scale);if(oe){const{x:K,y:ae}=oe;fe.x=K,fe.y=ae}}else if(Math.abs(fe.scale-de.scale)>1e-4){let oe=0,K=0;if(We)oe=We.x,K=We.y;else{const ye=t.getBoundingClientRect();oe=ye.x+.5*ye.width,K=ye.y+.5*ye.height}let ae=oe-ve.left,Re=K-ve.top;ae-=.5*ve.width,Re-=.5*ve.height;const Z=(ae-de.x)/de.scale,Me=(Re-de.y)/de.scale;fe.x=ae-Z*fe.scale,fe.y=Re-Me*fe.scale,!be&&b("bounds")&&(ne=W(fe.scale),fe.x=Bn(ne.x[0],fe.x,ne.x[1]),fe.y=Bn(ne.y[0],fe.y,ne.y[1]))}if(me===Lt.Swipe){let oe=94,K=17,ae=500*fe.scale,Re=J;c.spring({tension:oe,friction:K,maxSpeed:ae,restDelta:.1,restSpeed:.1,velocity:Re})}else me===Lt.Pan||be?c.spring({tension:900,friction:17,restDelta:.01,restSpeed:.01,maxSpeed:1}):c.spring({tension:170,friction:17,restDelta:.001,restSpeed:.001,maxSpeed:1/0,velocity:J});if(X.velocity===0||ob(y,fe))y=Object.assign({},fe),g=Object.assign({},fe),c.end(),_e(),ie();else{if(ob(g,fe))return;c.from(y).to(fe).start()}S("action",me)}function _e(){if(!i||!r||!o)return;const{width:me,height:X}=O();Object.assign(r.style,{maxWidth:`min(${me}px, 100%)`,maxHeight:`min(${X}px, 100%)`});const G=(function(){const{width:xe,height:Te}=O(),{width:te,height:oe}=I();if(!t)return{x:0,y:0,width:0,height:0,scale:0,flipX:0,flipY:0,angle:0,fitWidth:te,fitHeight:oe,fullWidth:xe,fullHeight:Te};let{x:K,y:ae,scale:Re,angle:Z,flipX:Me,flipY:ye}=y,Ae=1/H(),Ue=xe,Je=Te,Ke=y.scale*Ae,lt=g.scale*Ae;const yt=Math.max(te,oe),at=Math.min(te,oe);xe>Te?(Ue=yt,Je=at):(Ue=at,Je=yt),Ke=xe>Te?yt*Re/xe||1:yt*Re/Te||1;let vt=Ue?xe*lt:0,Ct=Je?Te*lt:0,ht=Ue&&Je?xe*Ke/vt:0;return K=K+.5*Ue-.5*vt,ae=ae+.5*Je-.5*Ct,{x:K,y:ae,width:vt,height:Ct,scale:ht,flipX:Me,flipY:ye,angle:Z,fitWidth:te,fitHeight:oe,fullWidth:xe,fullHeight:Te}})(),{x:de,y:fe,width:ne,height:J,scale:ve,angle:be,flipX:Ve,flipY:Qe}=G;let We=`translate(${Qs(de)}px, ${Qs(fe)}px)`;We+=Ve!==1||Qe!==1?` scaleX(${Qs(ve*Ve)}) scaleY(${Qs(ve*Qe)})`:` scale(${Qs(ve)})`,be!==0&&(We+=` rotate(${be}deg)`),o.style.width=`${Qs(ne)}px`,o.style.height=`${Qs(J)}px`,o.style.transform=`${We}`,S("render")}function pe(){let me=g.scale;const X=b("clickAction");let G=F();if(X){let de=[];switch(X){case Lt.ZoomIn:G=2*me;break;case Lt.ZoomOut:G=.5*me;break;case Lt.ToggleCover:de=[F(),U()];break;case Lt.ToggleFull:de=[F(),H()];break;case Lt.ToggleMax:de=[F(),$()];break;case Lt.IterateZoom:de=[F(),H(),$()];break;case Lt.Zoom:const fe=H();G=me>=fe-.05?F():Math.min(fe,2*me)}if(de.length){const fe=de.findIndex((ne=>ne>me+1e-4));G=de[fe]||F()}}return G=Bn(V(),G,$()),G}function Ne(){return!!(w()&&pe()>g.scale)}function je(){return!!(w()&&pe()<g.scale)}function Oe(){return!!(w()&&g.scale>V())}function Ge(){return!!(w()&&g.scale<$())}function Pe(){return!!(w()&&g.scale<H())}function Fe(){return!(!(w()&&Ie()&&l)||L())}function Y(){return!(!w()||!l?.isPointerDown()||L())}function Ie(){return!!(w()&&g.scale>F())}function Xe(){return!!(w()&&g.scale>=H())}function ue(){const me="in-fullscreen",X="with-panzoom-in-fullscreen";t?.classList.toggle(me);const G=t?.classList.contains(me);G?(document.documentElement.classList.add(X),document.addEventListener("keydown",Be,!0)):(document.documentElement.classList.remove(X),document.removeEventListener("keydown",Be,!0)),_e(),S(G?"enterFS":"exitFS")}function Be(me){me.key!=="Escape"||me.defaultPrevented||ue()}const rt={canDrag:Fe,canZoomIn:Ge,canZoomOut:Oe,canZoomToFull:Pe,destroy:function(){S("destroy");for(const me of Object.values(p))me?.destroy(rt);for(const me of v)me();return r&&(r.style.aspectRatio="",r.style.maxWidth="",r.style.maxHeight=""),o&&(o.style.width="",o.style.height="",o.style.transform=""),r=void 0,i=void 0,o=void 0,y=Object.assign({},Dl),g=Object.assign({},Dl),c?.destroy(),c=void 0,l?.destroy(),l=void 0,f=4,rt},emit:S,execute:re,getBoundaries:W,getContainer:function(){return t},getContent:function(){return i},getFullDim:O,getGestures:function(){return l},getMousemovePos:z,getOptions:function(){return h},getPlugins:function(){return p},getScale:q,getStartPosition:P,getState:function(){return f},getTransform:function(me){return me===!0?g:y},getTween:function(){return c},getViewport:function(){return o},getWrapper:function(){return r},init:function(){return f=0,S("init"),(function(){for(const[me,X]of Object.entries(Object.assign(Object.assign({},n),h.plugins||{})))if(me&&!p[me]&&X instanceof Function){const G=X();G.init(rt),p[me]=G}S("initPlugins")})(),(function(){const me=Object.assign(Object.assign({},$I.classes),b("classes"));if(t&&(Sn(t,me.container),i=t.querySelector("."+me.content),!!i)){if(i.setAttribute("draggable","false"),r=t.querySelector("."+me.wrapper),r||(r=document.createElement("div"),Sn(r,me.wrapper),i.insertAdjacentElement("beforebegin",r),r.insertAdjacentElement("afterbegin",i)),o=t.querySelector("."+me.viewport),o||(o=document.createElement("div"),Sn(o,me.viewport),o.insertAdjacentElement("afterbegin",i),r.insertAdjacentElement("beforeend",o)),a=i.cloneNode(!0),a.removeAttribute("id"),r.insertAdjacentElement("afterbegin",a),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),a instanceof HTMLPictureElement&&(a=a.querySelector("img")),o instanceof HTMLPictureElement&&(o=o.querySelector("img")),o&&(o.style.visibility="hidden",b("protected"))){o.addEventListener("contextmenu",(G=>{Nh(G)}));const X=document.createElement("div");Sn(X,"f-panzoom__protected"),o.appendChild(X)}S("initLayout")}})(),(function(){if(t&&r&&!u){let me=null;u=new ResizeObserver((()=>{w()&&(me=me||requestAnimationFrame((()=>{w()&&(ie(),le(),S("refresh")),me=null})))})),u.observe(r),v.push((()=>{u?.disconnect(),u=void 0,me&&(cancelAnimationFrame(me),me=null)}))}})(),(function(){if(!t||!i)return;if(!xc(i)||!xc(a))return void T();const me=()=>{i&&xc(i)&&i.decode().then((()=>{T()})).catch((()=>{T()}))};if(f=1,t.classList.add("is-loading"),S("loading"),a.src&&a.complete)return void me();(function(){if(!t||t?.querySelector(".f-spinner"))return;const X=b("spinnerTpl"),G=Vf(X);G&&(G.classList.add("f-spinner"),t.classList.add("is-loading"),r?.insertAdjacentElement("afterbegin",G))})(),a.addEventListener("load",me,!1),a.addEventListener("error",me,!1),v.push((()=>{a?.removeEventListener("load",me,!1),a?.removeEventListener("error",me,!1)}))})(),rt},isDragging:Y,isExpanded:Ie,isFullsize:Xe,isMousemoveMode:L,localize:function(me,X=[]){const G=b("l10n")||{};me=String(me).replace(/\{\{(\w+)\}\}/g,((de,fe)=>G[fe]||de));for(let de=0;de<X.length;de++)me=me.split(X[de][0]).join(X[de][1]);return me=me.replace(/\{\{(.*?)\}\}/g,((de,fe)=>fe))},off:function(me,X){for(const G of me instanceof Array?me:[me])_.has(G)&&_.set(G,_.get(G).filter((de=>de!==X)));return rt},on:function(me,X){for(const G of me instanceof Array?me:[me])_.set(G,[..._.get(G)||[],X]);return rt},toggleFS:ue,updateControls:ie,version:"6.0.34",willZoomIn:Ne,willZoomOut:je};return rt};zI.l10n={en_EN:g5},zI.getDefaults=()=>$I;/*! License details at fancyapps.com/license */const vM=(t,e)=>{let n=[];return t.childNodes.forEach((r=>{r.nodeType!==Node.ELEMENT_NODE||e&&!r.matches(e)||n.push(r)})),n};/*! License details at fancyapps.com/license */const Ta=(t,...e)=>{const n=e.length;for(let r=0;r<n;r++){const i=e[r]||{};Object.entries(i).forEach((([a,o])=>{const l=Array.isArray(o)?[]:{};t[a]||Object.assign(t,{[a]:l}),qs(o)?Object.assign(t[a],Ta(t[a],o)):Array.isArray(o)?Object.assign(t,{[a]:[...o]}):Object.assign(t,{[a]:o})}))}return t};/*! License details at fancyapps.com/license */const Pj=function(t=0,e=0,n=0,r=0,i=0,a=!1){const o=(t-e)/(n-e)*(i-r)+r;return a?r<i?Bn(r,o,i):Bn(i,o,r):o};/*! License details at fancyapps.com/license */const v5=Object.assign(Object.assign({},g5),{ERROR:"Something went wrong. <br /> Please try again later.",NEXT:"Next page",PREV:"Previous page",GOTO:"Go to page #%d",DOWNLOAD:"Download",TOGGLE_FULLSCREEN:"Toggle full-screen mode",TOGGLE_EXPAND:"Toggle full-size mode",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_AUTOPLAY:"Toggle slideshow"});/*! License details at fancyapps.com/license */const Ah=t=>{t.cancelable&&t.preventDefault()},xg={adaptiveHeight:!1,center:!0,classes:{container:"f-carousel",isEnabled:"is-enabled",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",hasAdaptiveHeight:"has-adaptive-height",viewport:"f-carousel__viewport",slide:"f-carousel__slide",isSelected:"is-selected"},dragFree:!1,enabled:!0,errorTpl:'<div class="f-html">{{ERROR}}</div>',fill:!1,infinite:!0,initialPage:0,l10n:v5,rtl:!1,slides:[],slidesPerPage:"auto",spinnerTpl:'<div class="f-spinner"></div>',transition:"fade",tween:{clamp:!0,mass:1,tension:160,friction:25,restDelta:1,restSpeed:1,velocity:0},vertical:!1};let iH,sH=0;const Dj=(t,e={},n={})=>{sH++;let r,i,a,o,l,c=0,u=Object.assign({},xg),d=Object.assign({},xg),f={},h=null,p=null,y=!1,g=!1,v=!1,b=!1,w="height",_=0,S=!0,j=0,A=0,C=0,N=0,T="*",P=[],D=[];const O=new Set;let I=[],L=[],z=0,q=0,V=0;function F(te,...oe){let K=d[te];return K&&K instanceof Function?K(Te,...oe):K}function U(te,oe=[]){const K=F("l10n")||{};te=String(te).replace(/\{\{(\w+)\}\}/g,((ae,Re)=>K[Re]||ae));for(let ae=0;ae<oe.length;ae++)te=te.split(oe[ae][0]).join(oe[ae][1]);return te=te.replace(/\{\{(.*?)\}\}/g,((ae,Re)=>Re))}const H=new Map;function $(te,...oe){const K=[...H.get(te)||[]];d.on&&K.push(d.on[te]);for(const ae of K)ae&&ae instanceof Function&&ae(Te,...oe);te!=="*"&&$("*",te,...oe)}function W(){var te,oe;const K=Ta({},xg,u);Ta(K,xg,u);let ae="";const Re=u.breakpoints||{};if(Re)for(const[Z,Me]of Object.entries(Re))window.matchMedia(Z).matches&&(ae+=Z,Ta(K,Me));if(l===void 0||ae!==l){if(l=ae,c!==0){let Z=(oe=(te=L[j])===null||te===void 0?void 0:te.slides[0])===null||oe===void 0?void 0:oe.index;Z===void 0&&(Z=d.initialSlide),K.initialSlide=Z,K.slides=[];for(const Me of P)Me.isVirtual&&K.slides.push(Me)}Qe(),d=K,d.enabled!==!1&&(c=0,$("init"),(function(){for(const[Z,Me]of Object.entries(Object.assign(Object.assign({},n),d.plugins||{})))if(Z&&!f[Z]&&Me instanceof Function){const ye=Me();ye.init(Te,Dj),f[Z]=ye}$("initPlugins")})(),(function(){if(!h)return;const Z=F("classes")||{};Sn(h,Z.container);const Me=F("style");if(Me&&qs(Me))for(const[ye,Ae]of Object.entries(Me))h.style.setProperty(ye,Ae);p=h.querySelector(`.${Z.viewport}`),p||(p=document.createElement("div"),Sn(p,Z.viewport),p.append(...vM(h,`.${Z.slide}`)),h.insertAdjacentElement("afterbegin",p)),h.carousel=Te,$("initLayout")})(),(function(){if(!p)return;const Z=F("classes")||{};P=[],[...vM(p,`.${Z.slide}`)].forEach((Me=>{if(Me.parentElement){const ye=Ie(Object.assign({el:Me,isVirtual:!1},Me.dataset||{}));$("createSlide",ye),P.push(ye)}})),rt();for(const Me of P)$("addSlide",Me);Y(F("slides"));for(const Me of P){const ye=Me.el;ye?.parentElement===p&&(Sn(ye,d.classes.slide),Sn(ye,Me.class),ve(Me),$("attachSlideEl",Me))}$("initSlides")})(),me(),(function(){if(h&&p&&(h.addEventListener("click",fe,{passive:!1}),document.addEventListener("mousemove",le),!a)){let Z=null;a=new ResizeObserver((Me=>{Z||(Z=requestAnimationFrame((()=>{(function(ye){var Ae;if(!p)return;if(c===0){const yt=(Ae=ye[0])===null||Ae===void 0?void 0:Ae.contentBoxSize[0],at=yt?.blockSize||0,vt=yt?.inlineSize||0;return z=at,q=vt,c=1,Sn(h,(F("classes")||{}).isEnabled),Ve(),i=qf().on("start",(()=>{r&&r.isPointerDown()||(_e(),Ve())})).on("step",(Ct=>{const ht=_;_=Ct.pos,_!==ht&&(S=!1,Ve())})).on("end",(Ct=>{r?.isPointerDown()||(_=Ct.pos,i&&!g&&(_<C||_>N)?i.spring({clamp:!0,mass:1,tension:200,friction:25,velocity:0,restDelta:1,restSpeed:1}).from({pos:_}).to({pos:Bn(C,_,N)}).start():S||(S=!0,$("settle")))})),ie(),pe(),void $("ready")}if(c!==1)return;const Ue=L.length;me(),ie();const Je=p.getBoundingClientRect(),Ke=Je.height,lt=Je.width;Ue>1&&(b&&Math.abs(Ke-z)<.5||!b&&Math.abs(lt-q)<.5)||(z=Ke,q=lt,b&&!Ke||!b&&!lt||h&&p&&(Ue===L.length&&r?.isPointerDown()||(F("dragFree")&&(g||_>C&&_<N)?(_e(),Ve()):be(j,{transition:!1}))))})(Me),Z=null})))})),a.observe(p)}})())}}function le(te){iH=te}function ie(){if(!p)return;const te=F("gestures");te!==!1?r||(r=gv(p,te).on("start",(oe=>{var K,ae;if(!i)return;const{srcEvent:Re}=oe;b&&b0(Re)&&!xp(Re.target)&&Ah(Re),i.pause(),i.getCurrentVelocities().pos=0;const Z=(K=L[j])===null||K===void 0?void 0:K.slides[0];Z&&O.has(Z.index)&&Z.el&&(_=Z.offset||0,_+=((function(Me){const ye=window.getComputedStyle(Me),Ae=new DOMMatrixReadOnly(ye.transform);return{width:Ae.m41||0,height:Ae.m42||0}})(Z.el)[w]||0)*(v&&!b?1:-1)),G(),!g&&(_<C||_>N)&&i.spring({clamp:!0,mass:1,tension:500,friction:25,velocity:((ae=i.getCurrentVelocities())===null||ae===void 0?void 0:ae.pos)||0,restDelta:1,restSpeed:1}).from({pos:_}).to({pos:Bn(C,_,N)}).start()})).on("move",(oe=>{var K,ae;const{srcEvent:Re,axis:Z}=oe,Me=Re.target;if(Z||(Ah(Re),Re.stopPropagation(),Re.stopImmediatePropagation()),(Z==="y"&&b||Z==="x"&&!b)&&(Ah(Re),Re.stopPropagation()),!Z)return;const{deltaX:ye,deltaY:Ae}=oe;if(!i||b0(Re)&&((K=Re.touches)===null||K===void 0?void 0:K.length)>1||Z==="y"&&!b||Z==="x"&&b||Me&&xp(Me)&&(Z!=="x"||b))return;const Ue=v&&!b?1:-1;let Je=b?Ae:ye,Ke=i?.isRunning()?i.getEndValues().pos:_,lt=1;g||(Ke<=C&&Je*Ue<0?(lt=Math.max(.01,1-Math.abs(1/Ge()*Math.abs(Ke-C))),lt*=.2):Ke>=N&&Je*Ue>0&&(lt=Math.max(.01,1-Math.abs(1/Ge()*Math.abs(Ke-N))),lt*=.2)),Ke+=Je*lt*Ue,i.spring({clamp:!0,mass:1,tension:700,friction:25,velocity:((ae=i.getCurrentVelocities())===null||ae===void 0?void 0:ae.pos)||0,restDelta:1,restSpeed:1}).from({pos:_}).to({pos:Ke}).start()})).on("panstart",(oe=>{oe?.axis===(b?"y":"x")&&Sn(p,"is-dragging")})).on("panend",(()=>{bc(p,"is-dragging")})).on("end",(oe=>{var K,ae;const{srcEvent:Re,axis:Z,velocityX:Me,velocityY:ye,currentTouch:Ae}=oe;if(Ae.length>0||!i)return;const Ue=Re.target,Je=Ue&&xp(Ue)&&!(Z==="x"&&!b);b&&b0(Re)&&!oe.axis&&fe(Re);const Ke=L.length,lt=F("dragFree");if(!Ke)return;const yt=F("vertical")?ye:Me;let at=i?.isRunning()?i.getEndValues().pos:_;const vt=v&&!b?1:-1;if(Je||(at+=yt*(lt?5:1)*vt),!g&&(yt*vt<=0&&at<C||yt*vt>=0&&at>N)){let ht=0;return Math.abs(yt)>0&&(ht=2*Math.abs(yt),ht=Math.min(.3*Ge(),ht)),at=Bn(C+-1*ht,at,N+ht),void i.spring({clamp:!0,mass:1,tension:380,friction:25,velocity:-1*yt,restDelta:1,restSpeed:1}).from({pos:_}).to({pos:at}).start()}if(lt||!((K=f.Autoscroll)===null||K===void 0)&&K.isEnabled())return void(Math.abs(yt)>10?i.spring({clamp:!0,mass:1,tension:150,friction:25,velocity:-1*yt,restDelta:1,restSpeed:1}).from({pos:_}).to({pos:at}).start():i.isRunning()||S||(S=!0,$("settle")));if(!lt&&!(!((ae=f.Autoscroll)===null||ae===void 0)&&ae.isEnabled())&&(!oe.offsetX&&!oe.offsetY||Z==="y"&&!b||Z==="x"&&b))return void be(j,{transition:"tween"});let Ct=je(at);Math.abs(yt)>10&&Ct===j&&(Ct+=yt>0?v&&!b?1:-1:v&&!b?-1:1),be(Ct,{transition:"tween",tween:{velocity:-1*yt}})})).init()):r&&(r.destroy(),r=void 0)}function re(te="*"){var oe;const K=[];for(const ae of P)(te==="*"||ae.class&&ae.class.includes(te)||ae.el&&(!((oe=ae.el)===null||oe===void 0)&&oe.classList.contains(te)))&&K.push(ae);o=void 0,T=te,D=[...K]}function _e(){if(!i)return;const te=je(i?.isRunning()?i.getEndValues().pos:_);te!==j&&(o=j,j=te,ve(),pe(),Ne(),$("change",j,o))}function pe(){var te;if(!h)return;Rs(p,"is-draggable",!!r&&L.length>0);for(const ae of h.querySelectorAll("[data-carousel-index]"))ae.innerHTML=j+"";for(const ae of h.querySelectorAll("[data-carousel-page]"))ae.innerHTML=j+1+"";for(const ae of h.querySelectorAll("[data-carousel-pages]"))ae.innerHTML=L.length+"";for(const ae of h.querySelectorAll("[data-carousel-go-prev]"))ae.toggleAttribute("aria-disabled",!We()),We()?ae.removeAttribute("tabindex"):ae.setAttribute("tabindex","-1");for(const ae of h.querySelectorAll("[data-carousel-go-next]"))ae.toggleAttribute("aria-disabled",!xe()),xe()?ae.removeAttribute("tabindex"):ae.setAttribute("tabindex","-1");let oe=!1;const K=(te=L[j])===null||te===void 0?void 0:te.slides[0];K&&(K.downloadSrc||K.type==="image"&&K.src)&&(oe=!0);for(const ae of h.querySelectorAll("[data-carousel-download]"))ae.toggleAttribute("aria-disabled",!oe)}function Ne(te){var oe;te||(te=(oe=L[j])===null||oe===void 0?void 0:oe.slides[0]);const K=te.el;if(K)for(const ae of K.querySelectorAll("[data-slide-index]"))ae.innerHTML=te.index+1+""}function je(te){var oe,K,ae;if(!L.length||!i)return 0;const Re=Pe();let Z=te;g?Z-=Math.floor((te-((oe=L[0])===null||oe===void 0?void 0:oe.pos))/Re)*Re:Z=Bn((K=L[0])===null||K===void 0?void 0:K.pos,te,(ae=L[L.length-1])===null||ae===void 0?void 0:ae.pos);const Me=new Map;let ye=0;for(const Ue of L){const Je=Math.abs(Ue.pos-Z),Ke=Math.abs(Ue.pos-Z-Re),lt=Math.abs(Ue.pos-Z+Re),yt=Math.min(Je,Ke,lt);Me.set(ye,yt),ye++}const Ae=Me.size>0?[...Me.entries()].reduce(((Ue,Je)=>Je[1]<Ue[1]?Je:Ue)):[j,0];return parseInt(Ae[0])}function Oe(){return V}function Ge(){let te=0;return p&&(p.childElementCount||(p.style.display="block"),te=p.getBoundingClientRect()[w]||0,p.style.display=""),te}function Pe(te=!0){return D.reduce(((oe,K)=>oe+K.dim),0)+(D.length-(g&&te?0:1))*V}function Fe(te){const oe=Pe();let K=Ge();if(!p)return[];const ae=[];if(!oe||!K)return[];te=te===void 0?_:te,g&&(te-=Math.floor(te/oe)*oe);let Re=0,Z=0;if(y){const ye=p.getBoundingClientRect();Re=Math.abs(ye.left),Z=Math.abs(window.innerWidth-ye.right)}let Me=0;for(let ye of D){const Ae=(Ue=0)=>{ae.indexOf(ye)>-1||(ye.pos=Me-te+Ue||0,ye.offset+Ue>te-ye.dim-Re+.51&&ye.offset+Ue<te+K+Z-.51&&ae.push(ye))};ye.offset=Me,g&&(Ae(oe),Ae(-1*oe)),Ae(),Me+=ye.dim+V}return ae}function Y(te,oe){const K=[];for(const ae of Array.isArray(te)?te:[te]){const Re=Ie(Object.assign(Object.assign({},ae),{isVirtual:!0}));Re.el||(Re.el=document.createElement("div")),$("createSlide",Re),K.push(Re)}P.splice(oe===void 0?P.length:oe,0,...K),rt();for(const ae of K)$("addSlide",ae),Xe(ae);return re(T),K}function Ie(te){return(ts(te)||te instanceof HTMLElement)&&(te={html:te}),Object.assign({index:-1,el:void 0,class:"",isVirtual:!0,dim:0,pos:0,offset:0,html:"",src:""},te)}function Xe(te){let oe=te.el;if(!te||!oe)return;const K=te.html?te.html instanceof HTMLElement?te.html:Vf(te.html):void 0;K&&(Sn(K,"f-html"),te.htmlEl=K,Sn(oe,"has-html"),oe.append(K),$("contentReady",te))}function ue(te){if(!p||!te)return;let oe=te.el;if(oe){if(oe.setAttribute("index",te.index+""),oe.parentElement!==p){let K;Sn(oe,d.classes.slide),Sn(oe,te.class),ve(te);for(const ae of P)if(ae.index>te.index){K=ae.el;break}p.insertBefore(oe,K&&p.contains(K)?K:null),$("attachSlideEl",te)}return Ne(te),oe}}function Be(te){const oe=te?.el;oe&&(oe.remove(),X(oe),$("detachSlideEl",te))}function rt(){for(let te=0;te<P.length;te++){const oe=P[te],K=oe.el;K&&(oe.index!==te&&X(K),K.setAttribute("index",`${te}`)),oe.index=te}}function me(){var te,oe,K,ae,Re;if(!h||!p)return;v=F("rtl"),b=F("vertical"),w=b?"height":"width";const Z=F("classes");if(Rs(h,Z.isLTR,!v),Rs(h,Z.isRTL,v),Rs(h,Z.isHorizontal,!b),Rs(h,Z.isVertical,b),Rs(h,Z.hasAdaptiveHeight,F("adaptiveHeight")),!Ge())return;const Me=window.getComputedStyle(p);y=Me.getPropertyValue("overflow-"+(b?"y":"x"))==="visible",V=p&&parseFloat(Me.getPropertyValue("--f-carousel-gap"))||0;const ye=(function(){let Ae=0;if(p){let Ue=document.createElement("div");Ue.style.display="block",Sn(Ue,d.classes.slide),p.appendChild(Ue),Ae=Ue.getBoundingClientRect()[w],Ue.remove(),Ue=void 0}return Ae})();for(const Ae of D){const Ue=Ae.el;let Je=0;if(!Ae.isVirtual&&Ue&&wg(Ue)){let Ke=!1;Ue.parentElement&&Ue.parentElement===p||(p.appendChild(Ue),Ke=!0),Je=Ue.getBoundingClientRect()[w],Ke&&((te=Ue.parentElement)===null||te===void 0||te.removeChild(Ue))}else Je=ye;Ae.dim=Je}if(g=!1,F("infinite")){g=!0;const Ae=Pe();let Ue=Ge();if(y){const Je=p.getBoundingClientRect();Ue+=Je.left,Ue+=Je.right-Je.width}for(let Je=0;Je<D.length;Je++){const Ke=((oe=D[Je])===null||oe===void 0?void 0:oe.dim)+V;if(Ae-Ke<Ue&&Ae-Ke-Ue<Ke){g=!1;break}}}if((function(){var Ae;if(!h)return;const Ue=Ge(),Je=Pe(!1);let Ke=F("slidesPerPage");Ke=Ke==="auto"?1/0:parseFloat(Ke+""),L=[];let lt=0,yt=0;for(const bt of D)(!L.length||lt+bt.dim-Ue>.05||yt>=Ke)&&(L.push({index:L.length,slides:[],dim:0,offset:0,pos:0}),lt=0,yt=0),(Ae=L[L.length-1])===null||Ae===void 0||Ae.slides.push(bt),lt+=bt.dim+V,yt++;const at=F("center"),vt=F("fill");let Ct=0;for(const bt of L){bt.dim=(bt.slides.length-1)*V;for(const Bt of bt.slides)bt.dim+=Bt.dim;bt.offset=Ct,bt.pos=Ct,at!==!1&&(bt.pos-=.5*(Ue-bt.dim)),vt&&!g&&Je>Ue&&(bt.pos=Bn(0,bt.pos,Je-Ue)),Ct+=bt.dim+V}const ht=[];let Pt;for(const bt of L){const Bt=Object.assign({},bt);Pt&&Math.abs(Bt.pos-Pt.pos)<.1?(Pt.dim+=Bt.dim,Pt.slides=[...Pt.slides,...Bt.slides]):(Pt=Bt,Bt.index=ht.length,ht.push(Bt))}L=ht,pe()})(),C=((K=L[0])===null||K===void 0?void 0:K.pos)||0,N=((ae=L[L.length-1])===null||ae===void 0?void 0:ae.pos)||0,c===0)(function(){var Ae;o=void 0,j=F("initialPage");const Ue=F("initialSlide")||void 0;Ue!==void 0&&(j=Te.getPageIndex(Ue)||0),j=Bn(0,j,L.length-1),_=((Ae=L[j])===null||Ae===void 0?void 0:Ae.pos)||0,A=_})();else{const Ae=i?.isRunning()?i.getEndValues().pos:_;(Ae<C||Ae>N)&&(j=Bn(0,j,L.length-1),A=((Re=L[j||0])===null||Re===void 0?void 0:Re.pos)||0)}$("refresh")}function X(te){if(!te||!wg(te))return;const oe=parseInt(te.getAttribute("index")||"-1");let K="";for(const Re of Array.from(te.classList)){const Z=Re.match(/^f-(\w+)(Out|In)$/);Z&&Z[1]&&(K=Z[1]+"")}if(!te||!K)return;const ae=[`f-${K}Out`,`f-${K}In`,"to-prev","to-next","from-prev","from-next"];te.removeEventListener("animationend",de),bc(te,ae.join(" ")),O.delete(oe)}function G(){if(!p)return;const te=O.size>0;for(const oe of D)X(oe.el);O.clear(),te&&Ve()}function de(te){te.animationName.substring(0,2)==="f-"&&(X(te.target),O.size||(bc(h,"in-transition"),!S&&Math.abs(Te.getPosition(!0)-A)<.5&&(S=!0,$("settle"))),Ve())}function fe(te){var oe;if(te.defaultPrevented)return;const K=te.composedPath()[0];if(K.closest("[data-carousel-go-prev]"))return Ah(te),void Te.prev();if(K.closest("[data-carousel-go-next]"))return Ah(te),void Te.next();const ae=K.closest("[data-carousel-go-to]");if(ae)return Ah(te),void Te.goTo(parseFloat(ae.dataset.carouselGoTo||"")||0);if(K.closest("[data-carousel-download]")){Ah(te);const Re=(oe=L[j])===null||oe===void 0?void 0:oe.slides[0];if(Re&&(Re.downloadSrc||Re.type==="image"&&Re.src)){const Z=Re.downloadFilename,Me=document.createElement("a"),ye=Re.downloadSrc||Re.src||"";Me.href=ye,Me.target="_blank",Me.download=Z||ye,Me.click()}}else $("click",te)}function ne(te){var oe;const K=te.el;K&&((oe=K.querySelector(".f-spinner"))===null||oe===void 0||oe.remove())}function J(te){var oe;const K=te.el;K&&((oe=K.querySelector(".f-html.is-error"))===null||oe===void 0||oe.remove(),bc(K,"has-error"))}function ve(te){var oe;te||(te=(oe=L[j])===null||oe===void 0?void 0:oe.slides[0]);const K=te?.el;if(!K)return;let ae=F("formatCaption",te);ae===void 0&&(ae=te.caption),ae=ae||"";const Re=F("captionEl");if(Re&&Re instanceof HTMLElement){if(te.index!==j)return;if(ts(ae)&&(Re.innerHTML=U(ae+"")),ae instanceof HTMLElement){if(ae.parentElement===Re)return;Re.innerHTML="",ae.parentElement&&(ae=ae.cloneNode(!0)),Re.append(ae)}return}if(!ae)return;let Z=te.captionEl||K.querySelector(".f-caption");!Z&&ae instanceof HTMLElement&&ae.classList.contains("f-caption")&&(Z=ae),Z||(Z=document.createElement("div"),Sn(Z,"f-caption"),ts(ae)?Z.innerHTML=U(ae+""):ae instanceof HTMLElement&&(ae.parentElement&&(ae=ae.cloneNode(!0)),Z.append(ae)));const Me=`f-caption-${sH}_${te.index}`;Z.setAttribute("id",Me),Z.dataset.selectable="true",Sn(K,"has-caption"),K.setAttribute("aria-labelledby",Me),te.captionEl=Z,K.insertAdjacentElement("beforeend",Z)}function be(te,oe={}){var K,ae;let{transition:Re,tween:Z}=Object.assign({transition:d.transition,tween:d.tween},oe||{});if(!h||!i)return;const Me=L.length;if(!Me||(function(Ae,Ue){var Je,Ke,lt,yt;if(!(h&&i&&Ue&&ts(Ue)&&Ue!=="tween")||((Je=L[j])===null||Je===void 0?void 0:Je.slides.length)>1)return!1;const at=L.length;let vt=Ae>j?1:-1;Ae=g?(Ae%at+at)%at:Bn(0,Ae,at-1),v&&(vt*=-1);const Ct=(Ke=L[j])===null||Ke===void 0?void 0:Ke.slides[0],ht=Ct?.index,Pt=(lt=L[Ae])===null||lt===void 0?void 0:lt.slides[0],bt=Pt?.index,Bt=(yt=L[Ae])===null||yt===void 0?void 0:yt.pos;if(bt===void 0||ht===void 0||ht===bt||_===Bt||Math.abs(Ge()-(Pt?.dim||0))>1)return!1;S=!1,i.pause(),G(),Sn(h,"in-transition"),_=A=Bt;const $n=ue(Ct),en=ue(Pt);return _e(),$n&&(O.add(ht),$n.style.transform="",$n.addEventListener("animationend",de),bc($n,d.classes.isSelected),$n.inert=!1,Sn($n,`f-${Ue}Out to-${vt>0?"next":"prev"}`)),en&&(O.add(bt),en.style.transform="",en.addEventListener("animationend",de),Sn(en,d.classes.isSelected),en.inert=!1,Sn(en,`f-${Ue}In from-${vt>0?"prev":"next"}`)),Ve(),!0})(te,Re))return;te=g?(te%Me+Me)%Me:Bn(0,te,Me-1),A=((K=L[te||0])===null||K===void 0?void 0:K.pos)||0;const ye=i.isRunning()?i.getEndValues().pos:_;if(Math.abs(A-ye)<1)return _=A,j!==te&&(ve(),pe(),Ne(),o=j,j=te,$("change",j,o)),Ve(),void(S||(S=!0,$("settle")));if(i.pause(),G(),g){const Ae=Pe(),Ue=Math.floor((ye-((ae=L[0])===null||ae===void 0?void 0:ae.pos))/Ae),Je=A+Ue*Ae;A=[Je+Ae,Je,Je-Ae].reduce((function(Ke,lt){return Math.abs(lt-ye)<Math.abs(Ke-ye)?lt:Ke}))}Re!==!1&&qs(Z)?i.spring(Ta({},d.tween,Z)).from({pos:_}).to({pos:A}).start():(_=A,_e(),Ve(),S||(S=!0,$("settle")))}function Ve(){var te;if(!h||!p)return;I=Fe();const oe=new Set,K=[],ae=L[j],Re=d.setTransform||void 0;let Z;for(const Me of D){const ye=O.has(Me.index),Ae=I.indexOf(Me)>-1,Ue=((te=ae?.slides)===null||te===void 0?void 0:te.indexOf(Me))>-1;if(Me.isVirtual&&!ye&&!Ae)continue;let Je=ue(Me);if(Je&&(K.push(Me),Ue&&oe.add(Je),F("adaptiveHeight")&&Ue)){const Ke=(Je.firstElementChild||Je).getBoundingClientRect().height;Z=Z==null?Ke:Math.max(Z,Ke)}}p&&Z&&(p.style.height=`${Z}px`),[...vM(p,`.${d.classes.slide}`)].forEach((Me=>{Rs(Me,d.classes.isSelected,oe.has(Me));const ye=P[parseInt(Me.getAttribute("index")||"-1")];if(!ye)return Me.remove(),void X(Me);const Ae=O.has(ye.index),Ue=I.indexOf(ye)>-1;if(ye.isVirtual&&!Ae&&!Ue)return void Be(ye);Me.inert=!Ue;let Je=ye.pos?Math.round(1e4*ye.pos)/1e4:0,Ke=0,lt=0,yt=0,at=0;Ae||(Ke=b?0:v?-1*Je:Je,lt=b?Je:0,yt=Pj(Ke,0,ye.dim,0,100),at=Pj(lt,0,ye.dim,0,100)),Re instanceof Function&&!Ae?Re(Te,ye,{x:Ke,y:lt,xPercent:yt,yPercent:at}):Me.style.transform=Ke||lt?`translate3d(${yt}%, ${at}%,0)`:""})),$("render",K)}function Qe(){var te;h?.removeEventListener("click",fe),G(),document.removeEventListener("mousemove",le),a?.disconnect(),a=void 0;for(const oe of P)oe.el&&wg(oe.el)&&(oe.state=void 0,ne(oe),J(oe),Be(oe),oe.isVirtual?((te=oe.el)===null||te===void 0||te.remove(),oe.el=void 0):(oe.el.style.transform="",p?.appendChild(oe.el)));for(const oe of Object.values(f))oe?.destroy();f={},r?.destroy(),r=void 0,i?.destroy(),i=void 0;for(const[oe,K]of Object.entries(d.classes||{}))oe!=="container"&&bc(h,K);bc(p,"is-draggable")}function We(){return g||j>0}function xe(){return g||j<L.length-1}const Te={add:function(te,oe){var K,ae;let Re=_;const Z=j,Me=Pe(),ye=i?.isRunning()?i.getEndValues().pos:_,Ae=Math.floor((ye-((K=L[0])===null||K===void 0?void 0:K.pos))/Me);return Y(te,oe),re(T),me(),i&&(Z===j&&(Re-=Ae*Me),A=((ae=L[j||0])===null||ae===void 0?void 0:ae.pos)||0,Re===A?_=A:i.spring({clamp:!0,mass:1,tension:300,friction:25,restDelta:1,restSpeed:1}).from({pos:Re}).to({pos:A}).start()),Ve(),Te},canGoPrev:We,canGoNext:xe,destroy:function(){return $("destroy"),window.removeEventListener("resize",W),Qe(),H.clear(),h=null,L=[],P=[],d=Object.assign({},xg),f={},D=[],l="",T="*",c=2,Te},emit:$,filter:function(te="*"){return re(te),me(),Ve(),$("filter",te),Te},getContainer:function(){return h},getGapDim:Oe,getGestures:function(){return r},getLastMouseMove:function(){return iH},getOption:function(te){return F(te)},getOptions:function(){return d},getPage:function(){return L[j]},getPageIndex:function(te){if(te!==void 0){for(const oe of L||[])for(const K of oe.slides)if(K.index===te)return oe.index;return-1}return j},getPageProgress:function(te,oe){var K;te===void 0&&(te=j);const ae=L[te];if(!ae)return te>j?-1:1;const Re=Pe(),Z=Oe();let Me=ae.pos,ye=Te.getPosition();if(g&&oe!==!0){const Ae=Math.floor((ye-((K=L[0])===null||K===void 0?void 0:K.pos))/Re);ye-=Ae*Re,Me=[Me+Re,Me,Me-Re].reduce((function(Ue,Je){return Math.abs(Je-ye)<Math.abs(Ue-ye)?Je:Ue}))}return(ye-Me)/(ae.dim+Z)},getPageVisibility:function(te){var oe;te===void 0&&(te=j);const K=L[te];if(!K)return te>j?-1:1;const ae=Te.getPosition(),Re=Ge();let Z=K.pos;if(g){const Me=Te.getPosition(),ye=Pe(),Ae=Z+Math.floor((Me-((oe=L[0])===null||oe===void 0?void 0:oe.pos))/ye)*ye;Z=[Ae+ye,Ae,Ae-ye].reduce((function(Ue,Je){return Math.abs(Je-Me)<Math.abs(Ue-Me)?Je:Ue}))}return Z>ae&&Z+K.dim<ae+Re?1:Z<ae?(Z+K.dim-ae)/K.dim:Z+K.dim>ae+Re?(ae+Re-Z)/K.dim:0},getPages:function(){return L},getPlugins:function(){return f},getPosition:function(te){var oe;let K=_;if(g&&te!==!0){const ae=Pe();K-=Math.floor((_-((oe=L[0])===null||oe===void 0?void 0:oe.pos)||0)/ae)*ae}return K},getSlides:function(){return P},getState:function(){return c},getTotalSlideDim:Pe,getTween:function(){return i},getViewport:function(){return p},getViewportDim:Ge,getVisibleSlides:function(te){return te===void 0?I:Fe(te)},goTo:be,hasNavigated:function(){return o!==void 0},hideError:J,hideLoading:ne,init:function(){if(!t||!wg(t))throw new Error("No Element found");return c!==0&&(Qe(),c=0),h=t,u=e,window.removeEventListener("resize",W),u.breakpoints&&window.addEventListener("resize",W),W(),Te},isInfinite:function(){return g},isInTransition:function(){return O.size>0},isRTL:function(){return v},isSettled:function(){return S},isVertical:function(){return b},localize:function(te,oe=[]){return U(te,oe)},next:function(te={}){return be(j+1,te),Te},off:function(te,oe){for(const K of te instanceof Array?te:[te])H.has(K)&&H.set(K,H.get(K).filter((ae=>ae!==oe)));return Te},on:function(te,oe){for(const K of te instanceof Array?te:[te])H.set(K,[...H.get(K)||[],oe]);return Te},prev:function(te={}){return be(j-1,te),Te},remove:function(te){te===void 0&&(te=P.length-1);const oe=P[te];return oe&&($("removeSlide",oe),oe.el&&(X(oe.el),oe.el.remove(),oe.el=void 0),P.splice(te,1),re(T),me(),Ve()),Te},setPosition:function(te){_=te,_e(),Ve()},showError:function(te,oe){ne(te),J(te);const K=te.el;if(K){const ae=document.createElement("div");Sn(ae,"f-html"),Sn(ae,"is-error"),ae.innerHTML=U(oe||"<p>{{ERROR}}</p>"),te.htmlEl=ae,Sn(K,"has-html"),Sn(K,"has-error"),K.insertAdjacentElement("afterbegin",ae),$("contentReady",te)}return Te},showLoading:function(te){const oe=te.el,K=oe?.querySelector(".f-spinner");if(!oe||K)return Te;const ae=F("spinnerTpl"),Re=Vf(ae);return Re&&(Sn(Re,"f-spinner"),oe.insertAdjacentElement("beforeend",Re)),Te},version:"6.0.34"};return Te};Dj.l10n={en_EN:v5},Dj.getDefaults=()=>xg;/*! License details at fancyapps.com/license */const aH=(t=!0,e="--f-scrollbar-compensate",n="--f-body-margin",r="hide-scrollbar")=>{const i=document,a=i.body,o=i.documentElement;if(t){if(a.classList.contains(r))return;let l=window.innerWidth-o.getBoundingClientRect().width;l<0&&(l=0),o.style.setProperty(e,`${l}px`);const c=parseFloat(window.getComputedStyle(a).marginRight);c&&a.style.setProperty(n,`${c}px`),a.classList.add(r)}else a.classList.remove(r),a.style.setProperty(n,""),i.documentElement.style.setProperty(e,"")};/*! License details at fancyapps.com/license */function iie(){return!(typeof window>"u"||!window.document||!window.document.createElement)}/*! License details at fancyapps.com/license */const ep=function(t="",e="",n=""){return t.split(e).join(n)};/*! License details at fancyapps.com/license */const oH={tpl:t=>`<img class="f-panzoom__content" 
    ${t.srcset?'data-lazy-srcset="{{srcset}}"':""} 
    ${t.sizes?'data-lazy-sizes="{{sizes}}"':""} 
    data-lazy-src="{{src}}" alt="{{alt}}" />`},XTe=()=>{let t;function e(d,f){const h=t?.getOptions().Zoomable;let p=(qs(h)?Object.assign(Object.assign({},oH),h):oH)[d];return p&&typeof p=="function"&&f?p(f):p}function n(){t&&t.getOptions().Zoomable!==!1&&(t.on("addSlide",a),t.on("removeSlide",o),t.on("attachSlideEl",l),t.on("click",i),t.on("change",r),t.on("ready",r))}function r(){c();const d=t?.getVisibleSlides()||[];if(d.length>1||t?.getOption("transition")==="slide")for(const f of d){const h=f.panzoomRef;h&&(t?.getPage().slides||[]).indexOf(f)<0&&h.execute(Lt.ZoomTo,Object.assign({},h.getStartPosition()))}}function i(d,f){const h=f.target;h&&!f.defaultPrevented&&h.dataset.panzoomAction&&u(h.dataset.panzoomAction)}function a(d,f){const h=f.el;if(!t||!h||f.panzoomRef)return;const p=f.src||f.lazySrc||"",y=f.alt||f.caption||`Image #${f.index}`,g=f.srcset||f.lazySrcset||"",v=f.sizes||f.lazySizes||"";if(p&&ts(p)&&!f.html&&(!f.type||f.type==="image")){f.type="image",f.thumbSrc=f.thumbSrc||p;let j=e("tpl",f);j=ep(j,"{{src}}",p+""),j=ep(j,"{{srcset}}",g+""),j=ep(j,"{{sizes}}",v+""),h.insertAdjacentHTML("afterbegin",j)}const b=h.querySelector(".f-panzoom__content");if(!b)return;b.setAttribute("alt",y+"");const w=f.width&&f.width!=="auto"?parseFloat(f.width+""):"auto",_=f.height&&f.height!=="auto"?parseFloat(f.height+""):"auto",S=zI(h,Object.assign({width:w,height:_,classes:{container:"f-zoomable"},event:()=>t?.getLastMouseMove(),spinnerTpl:()=>t?.getOption("spinnerTpl")||""},e("Panzoom")));S.on("*",((j,A,...C)=>{t&&(A==="loading"&&(f.state=0),A==="loaded"&&(f.state=1),A==="error"&&(f.state=2,t?.showError(f,"{{IMAGE_ERROR}}")),t.emit(`panzoom:${A}`,f,...C),A==="ready"&&t.emit("contentReady",f),f.index===t?.getPageIndex()&&c())})),f.panzoomRef=S}function o(d,f){f.panzoomRef&&(f.panzoomRef.destroy(),f.panzoomRef=void 0)}function l(d,f){const h=f.panzoomRef;if(h)switch(h.getState()){case 0:h.init();break;case 3:h.execute(Lt.ZoomTo,Object.assign(Object.assign({},h.getStartPosition()),{velocity:0}))}}function c(){var d,f;const h=t?.getContainer()||void 0,p=(f=(d=t?.getPage())===null||d===void 0?void 0:d.slides[0])===null||f===void 0?void 0:f.panzoomRef;if(h)if(p)p.updateControls(h);else for(const y of h.querySelectorAll("[data-panzoom-action]")||[])y.setAttribute("aria-disabled",""),y.setAttribute("tabindex","-1")}function u(d,...f){var h;(h=t?.getPage().slides[0].panzoomRef)===null||h===void 0||h.execute(d,...f)}return{init:function(d){t=d,t.on("initPlugins",n)},destroy:function(){if(t){t.off("initPlugins",n),t.off("addSlide",a),t.off("removeSlide",o),t.off("attachSlideEl",l),t.off("click",i),t.off("change",r),t.off("ready",r);for(const d of t.getSlides())o(0,d)}t=void 0},execute:u}};/*! License details at fancyapps.com/license */const lH={syncOnChange:!1,syncOnClick:!0,syncOnHover:!1},sie=()=>{let t,e;function n(){const p=t?.getOptions().Sync;return qs(p)?Object.assign(Object.assign({},lH),p):lH}function r(p){var y,g,v;t&&p&&(e=p,t.getOptions().classes=Object.assign(Object.assign({},t.getOptions().classes),{isSelected:""}),t.getOptions().initialSlide=((g=(y=e.getPage())===null||y===void 0?void 0:y.slides[0])===null||g===void 0?void 0:g.index)||0,n().syncOnChange&&t.on("change",o),n().syncOnClick&&t.on("click",c),n().syncOnHover&&((v=t.getViewport())===null||v===void 0||v.addEventListener("mouseover",u)),(function(){!t||!e||(t.on("ready",a),t.on("refresh",d),e.on("change",l),e.on("filter",f))})())}function i(){const p=n().target;t&&p&&r(p)}function a(){h()}function o(){var p;if(t&&e){const y=((p=t.getPage())===null||p===void 0?void 0:p.slides)||[],g=e.getPageIndex(y[0].index||0);g>-1&&e.goTo(g,t.hasNavigated()?void 0:{tween:!1,transition:!1}),h()}}function l(){var p;if(t&&e){const y=t.getPageIndex(((p=e.getPage())===null||p===void 0?void 0:p.slides[0].index)||0);y>-1&&t.goTo(y,e.hasNavigated()?void 0:{tween:!1,transition:!1}),h()}}function c(p,y){var g;if(!t||!e||!((g=t.getTween())===null||g===void 0)&&g.isRunning())return;const v=t?.getOptions().classes.slide;if(!v)return;const b=v?y.target.closest(`.${v}`):null;if(b){const w=parseInt(b.getAttribute("index")||"")||0,_=e.getPageIndex(w);e.goTo(_)}}function u(p){t&&c(0,p)}function d(){var p;if(t&&e){const y=t.getPageIndex(((p=e.getPage())===null||p===void 0?void 0:p.slides[0].index)||0);y>-1&&t.goTo(y,{tween:!1,transition:!1}),h()}}function f(p,y){t&&e&&(t.filter(y),l())}function h(){var p,y,g;if(!e)return;const v=((y=(p=e.getPage())===null||p===void 0?void 0:p.slides[0])===null||y===void 0?void 0:y.index)||0;for(const b of t?.getSlides()||[])(g=b.el)===null||g===void 0||g.classList.toggle("is-selected",b.index===v)}return{init:function(p){t=p,t.on("initSlides",i)},destroy:function(){var p;t?.off("ready",a),t?.off("refresh",d),t?.off("change",o),t?.off("click",c),(p=t?.getViewport())===null||p===void 0||p.removeEventListener("mouseover",u),e?.off("change",l),e?.off("filter",f),e=void 0,t?.off("initSlides",i),t=void 0},getTarget:function(){return e}}};/*! License details at fancyapps.com/license */const cH={showLoading:!0,preload:1},m_="is-lazyloading",uH="is-lazyloaded",aie=()=>{let t;function e(){const i=t?.getOptions().Lazyload;return qs(i)?Object.assign(Object.assign({},cH),i):cH}function n(i){var a;const o=i.el;if(!o)return;const l="[data-lazy-src],[data-lazy-srcset],[data-lazy-bg]",c=Array.from(o.querySelectorAll(l));o.matches(l)&&c.push(o);for(const u of c){const d=u.dataset.lazySrc,f=u.dataset.lazySrcset,h=u.dataset.lazySizes,p=u.dataset.lazyBg,y=(u instanceof HTMLImageElement||u instanceof HTMLSourceElement)&&(d||f),g=u instanceof HTMLElement&&p;if(!y&&!g)continue;const v=d||f||p;if(v){if(y&&v){const b=(a=u.parentElement)===null||a===void 0?void 0:a.classList.contains("f-panzoom__wrapper");e().showLoading&&t?.showLoading(i),u.addEventListener("load",(()=>{t?.hideLoading(i),u instanceof HTMLImageElement?u.decode().then((()=>{u.classList.remove(m_),u.classList.add(uH)})):(u.classList.remove(m_),u.classList.add(uH)),b||t==null||t.emit("lazyLoad:loaded",i,u,v)})),u.addEventListener("error",(()=>{t?.hideLoading(i),u.classList.remove(m_),u.classList.add("has-lazyerror"),b||t==null||t.emit("lazyLoad:error",i,u,v)})),u.classList.add("f-lazyload"),u.classList.add(m_),b||t==null||t.emit("lazyLoad:load",i,u,v),d&&(u.src=d),f&&(u.srcset=f),h&&(u.sizes=h)}else g&&(document.body.contains(u)||(document.createElement("img").src=p),u.style.backgroundImage=`url('${p}')`);delete u.dataset.lazySrc,delete u.dataset.lazySrcset,delete u.dataset.lazySizes,delete u.dataset.lazyBg}}}function r(){if(!t)return;const i=[...t.getVisibleSlides()],a=e().preload;if(a>0){const o=t.getPosition(),l=t.getViewportDim();i.push(...t.getVisibleSlides(o+l*a),...t.getVisibleSlides(o-l*a))}for(const o of i)n(o)}return{init:function(i){t=i,t.on("render",r)},destroy:function(){t?.off("render",r),t=void 0}}};/*! License details at fancyapps.com/license */const dH={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"></path></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"></path></svg>'},YTe=()=>{let t,e,n;function r(){const l=t?.getOptions().Arrows;return qs(l)?Object.assign(Object.assign({},dH),l):dH}function i(l){if(!t)return;const c=`<button data-carousel-go-${l} tabindex="0" class="f-button is-arrow is-${l}" title="{{${l.toUpperCase()}}}">`+r()[`${l}Tpl`]+"</button",u=Vf(t.localize(c))||void 0;return u&&Sn(u,r()[`${l}Class`]),u}function a(){var l;e?.remove(),e=void 0,n?.remove(),n=void 0,(l=t?.getContainer())===null||l===void 0||l.classList.remove("has-arrows")}function o(){t&&t.getOptions().Arrows!==!1&&t.getPages().length>1?((function(){if(!t)return;const l=t.getViewport();l&&(e||(e=i("prev"),e&&l.insertAdjacentElement("beforebegin",e)),n||(n=i("next"),n&&l.insertAdjacentElement("afterend",n)),Rs(t.getContainer(),"has-arrows",!(!e&&!n)))})(),t&&(e?.toggleAttribute("aria-disabled",!t.canGoPrev()),n?.toggleAttribute("aria-disabled",!t.canGoNext()))):a()}return{init:function(l){t=l.on(["change","refresh"],o)},destroy:function(){a(),t?.off(["change","refresh"],o),t=void 0}}};/*! License details at fancyapps.com/license */const oie='<circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/>',xM='<g><line x1="11" y1="8" x2="11" y2="14"></line></g>'+oie,KTe={moveLeft:["moveLeft","MOVE_LEFT",'<path d="M5 12h14M5 12l6 6M5 12l6-6"/>'],moveRight:["moveRight","MOVE_RIGHT",'<path d="M5 12h14M13 18l6-6M13 6l6 6"/>'],moveUp:["moveUp","MOVE_UP",'<path d="M12 5v14M18 11l-6-6M6 11l6-6"/>'],moveDown:["moveDown","MOVE_DOWN",'<path d="M12 5v14M18 13l-6 6M6 13l6 6"/>'],zoomOut:["zoomOut","ZOOM_OUT",oie],zoomIn:["zoomIn","ZOOM_IN",xM],toggleFull:["toggleFull","TOGGLE_FULL",xM],iterateZoom:["iterateZoom","ITERATE_ZOOM",xM],toggle1to1:["toggleFull","TOGGLE_FULL",'<path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/>'],rotateCCW:["rotateCCW","ROTATE_CCW",'<path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/>'],rotateCW:["rotateCW","ROTATE_CW",'<path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/>'],flipX:["flipX","FLIP_X",'<path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/>'],flipY:["flipY","FLIP_Y",'<path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/>'],reset:["reset","RESET",'<path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/>'],toggleFS:["toggleFS","TOGGLE_FS",'<g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g>']},x5={};for(const[t,e]of Object.entries(KTe))x5[t]={tpl:`<button data-panzoom-action="${e[0]}" class="f-button" title="{{${e[1]}}}"><svg>${e[2]}</svg></button>`};/*! License details at fancyapps.com/license */var fH;(function(t){t.Left="left",t.middle="middle",t.right="right"})(fH||(fH={}));const hH=Object.assign({counter:{tpl:'<div class="f-counter"><span data-carousel-page></span>/<span data-carousel-pages></span></div>'},download:{tpl:'<button data-carousel-download class="f-button" title="{{DOWNLOAD}}"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></button>'},autoplay:{tpl:'<button data-autoplay-action="toggle" class="f-button" title="{{TOGGLE_AUTOPLAY}}"><svg><g><path d="M5 3.5 19 12 5 20.5Z"/></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},thumbs:{tpl:'<button data-thumbs-action="toggle" class="f-button" title="{{TOGGLE_THUMBS}}"><svg><rect width="18" height="14" x="3" y="3" rx="2"/><path d="M4 21h1M9 21h1M14 21h1M19 21h1"/></svg></button>'}},x5),pH={absolute:!1,display:{left:[],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY","reset"],right:[]},enabled:"auto",items:{}},lie=()=>{let t,e;function n(i){const a=t?.getOptions().Toolbar;let o=(qs(a)?Object.assign(Object.assign({},pH),a):pH)[i];return o&&typeof o=="function"&&t?o(t):o}function r(){var i,a;if(!t?.getOptions().Toolbar||!t||e)return;const o=t.getContainer();if(!o)return;let l=n("enabled");if(!l)return;const c=n("absolute"),u=t.getSlides().length>1;let d=!1,f=!1;for(const b of t.getSlides())b.panzoomRef&&(d=!0),(b.downloadSrc||b.type==="image"&&b.src)&&(f=!0);const h=((i=t.getPlugins().Thumbs)===null||i===void 0?void 0:i.isEnabled())||!1,p=u&&t.getPlugins().Autoplay||!1,y=t.getPlugins().Fullscreen&&(document.fullscreenEnabled||document.webkitFullscreenEnabled);if(l==="auto"&&(l=d),!l)return;e=o.querySelector(".f-carousel__toolbar")||void 0,e||(e=document.createElement("div"),e.classList.add("f-carousel__toolbar"));const g=n("display"),v=Ta({},hH,n("items"));for(const b of["left","middle","right"]){const w=g[b]||[],_=document.createElement("div");_.classList.add("f-carousel__toolbar__column"),_.classList.add(`is-${b}`);for(const S of w){let j;if(ts(S)){if(S==="counter"&&!u||S==="autoplay"&&!p||x5[S]&&!d||S==="fullscreen"&&!y||S==="thumbs"&&!h||S==="download"&&!f)continue;j=v[S]}if(qs(S)&&(j=S),j&&j.tpl){let A=t.localize(j.tpl);A=A.split("<svg>").join('<svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24">');const C=Vf(A);C&&(typeof j.click=="function"&&t&&C.addEventListener("click",(N=>{N.preventDefault(),N.stopPropagation(),typeof j.click=="function"&&t&&j.click(t,N)})),_.append(C))}}e.append(_)}if(e.childElementCount){if(c&&e.classList.add("is-absolute"),!e.parentElement){const b=n("parentEl");b?b.insertAdjacentElement("afterbegin",e):(a=t.getViewport())===null||a===void 0||a.insertAdjacentElement("beforebegin",e)}o.contains(e)&&o.classList.add("has-toolbar")}}return{init:function(i){t=i,t?.on("initSlides",r)},destroy:function(){var i;t?.off("initSlides",r),(i=t?.getContainer())===null||i===void 0||i.classList.remove("has-toolbar"),e?.remove(),e=void 0},add:function(i,a){hH[i]=a},isEnabled:function(){return!!e}}};/*! License details at fancyapps.com/license */const mH={autoStart:!0,pauseOnHover:!0,showProgressbar:!0,timeout:2e3},QTe=()=>{let t,e,n=!1,r=!1,i=!1,a=null;function o(j){const A=t?.getOptions().Autoplay;let C=(qs(A)?Object.assign(Object.assign({},mH),A):mH)[j];return C&&typeof C=="function"&&t?C(t):C}function l(){clearTimeout(e),e=void 0}function c(){if(!n||i||r||e||!t?.isSettled()||(function(){var A;const C=((A=t?.getPage())===null||A===void 0?void 0:A.slides)||[];for(const N of C)if(N.state===0)return!0;return!1})())return;(function(){var A,C,N,T;if(!t||(f(),!o("showProgressbar")))return;let P=o("progressbarParentEl");if(!P&&(!((A=t.getPlugins().Toolbar)===null||A===void 0)&&A.isEnabled())&&(P=t.getContainer()),!P&&((C=t.getPlugins().Toolbar)===null||C===void 0?void 0:C.isEnabled())!==!0){const O=((N=t.getPages()[0])===null||N===void 0?void 0:N.slides)||[],I=((T=t.getPage())===null||T===void 0?void 0:T.slides)||[];O.length===1&&I.length===1&&(P=I[0].el)}if(P||(P=t.getViewport()),!P)return;a=document.createElement("div"),a.classList.add("f-progressbar"),P.prepend(a);const D=o("timeout")||1e3;a.style.animationDuration=`${D}ms`})();const j=o("timeout");e=setTimeout((()=>{t&&n&&!r&&(t.isInfinite()||t.getPageIndex()!==t.getPages().length-1?t.next():t.goTo(0))}),j)}function u(){var j,A;if(!t||t.getPages().length<2||t.getOptions().Autoplay===!1||n)return;n=!0,t.emit("autoplay:start",o("timeout")),(j=t.getContainer())===null||j===void 0||j.classList.add("has-autoplay"),(A=t.getTween())===null||A===void 0||A.on("start",b);const C=t?.getContainer();C&&o("pauseOnHover")&&matchMedia("(hover: hover)").matches&&(C.addEventListener("mouseenter",w,!1),C.addEventListener("mouseleave",_,!1)),t.on("change",g),t.on("settle",v),t.on("contentReady",p),t.on("panzoom:touchStart",d),t.on("panzoom:wheel",d),t.isSettled()&&c()}function d(){var j,A;if(l(),f(),n&&t){t.emit("autoplay:end"),(j=t.getContainer())===null||j===void 0||j.classList.remove("has-autoplay"),(A=t.getTween())===null||A===void 0||A.off("start",b);const C=t?.getContainer();C&&(C.removeEventListener("mouseenter",w,!1),C.removeEventListener("mouseleave",_,!1))}t&&(t.off("change",g),t.off("settle",v),t.off("contentReady",p),t.off("panzoom:touchStart",d),t.off("panzoom:wheel",d)),n=!1,r=!1}function f(){a&&(a.remove(),a=null)}function h(){t&&t.getPages().length>1&&o("autoStart")&&u()}function p(){t&&c()}function y(j,A){const C=A.target;C&&!A.defaultPrevented&&C.dataset.autoplayAction==="toggle"&&S.toggle()}function g(){!t||!t?.isInfinite()&&t.getPageIndex()===t.getPages().length-1?d():(f(),l())}function v(){c()}function b(){l(),f()}function w(){i=!0,n&&(f(),l())}function _(){i=!1,n&&!r&&t?.isSettled()&&c()}const S={init:function(j){t=j,t.on("ready",h),t.on("click",y)},destroy:function(){d(),t?.off("ready",h),t?.off("click",y),t=void 0},isEnabled:()=>n,pause:function(){r=!0,l()},resume:function(){r=!1,n&&!i&&c()},start(){u()},stop(){d()},toggle(){n?d():u()}};return S};/*! License details at fancyapps.com/license */const yM={Carousel:{Lazyload:{showLoading:!1}},minCount:2,showOnStart:!0,thumbTpl:'<button aria-label="Slide to #{{page}}"><img draggable="false" alt="{{alt}}" data-lazy-src="{{src}}" /></button>',type:"modern"};let bM;const ZTe=()=>{let t,e,n,r=0,i=0,a=!0;function o(S){const j=t?.getOptions().Thumbs;let A=(qs(j)?Object.assign(Object.assign({},yM),j):yM)[S];return A&&typeof A=="function"&&t?A(t):A}function l(){if(!t||t?.getOptions().Thumbs===!1)return!1;let S=0;for(const j of t.getSlides())j.thumbSrc&&S++;return S>=o("minCount")}function c(){return o("type")==="modern"}function u(S=!1){var j;const A=t?.getContainer();if(!t||!A||n||!l())return;const C=((j=o("Carousel"))===null||j===void 0?void 0:j.classes)||{};if(C.container=C.container||"f-thumbs",!n){const N=A.nextElementSibling;N?.classList.contains(C.container)&&(n=N)}if(!n){n=document.createElement("div");const N=o("parentEl");N?N.insertAdjacentElement("beforeend",n):A.insertAdjacentElement("afterend",n)}Sn(n,C.container),Sn(n,"f-thumbs"),Sn(n,`is-${o("type")}`),Sn(n,"is-syncing"),S&&(n.style.maxHeight="0px")}function d(S){const j=S.thumb?S.thumb instanceof HTMLImageElement?S.thumb.src:S.thumb:S.thumbSrc||void 0,A=S.thumbAlt===void 0?`Thumbnail #${S.index}`:S.thumbAlt+"";let C=o("thumbTpl");return C=ep(C,"{{alt}}",A),C=ep(C,"{{src}}",j+""),C=ep(C,"{{index}}",`${S.index}`),C=ep(C,"{{page}}",`${S.index||1}`),{html:C,class:S.thumbClass}}function f(){var S;if(!bM||!t||!n||e)return;const j=[];for(const A of t.getSlides())j.push(d(A));j.length&&(e=bM(n,Ta({},{Sync:{target:t},Lazyload:{preload:1},slides:j,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",slide:"f-thumbs__slide"},center:!0,fill:!c(),infinite:!1,dragFree:!0,rtl:t.getOptions().rtl||!1,slidesPerPage:A=>{let C=0;return c()&&((function(){if(!c()||!n)return;const N=T=>n&&parseFloat(getComputedStyle(n).getPropertyValue("--f-thumb-"+T))||0;r=N("width"),i=N("clip-width")})(),C=4*(r-i)),A&&A.getTotalSlideDim()<=A.getViewportDim()-C?1/0:1}},yM.Carousel||{},o("Carousel")||{}),{Sync:sie,Lazyload:aie}),e.on("ready",(()=>{t?.emit("thumbs:ready"),c()&&(t?.on("change",v),t?.on("render",g))})),e.on("destroy",(()=>{t?.emit("thumbs:destroy")})),e.init(),(S=e.getGestures())===null||S===void 0||S.on("start",(()=>{a=!1})),e.on("click",((A,C)=>{const N=C.target;if(N){const T=N.matches("button")?N:N.firstElementChild;T&&T.matches("button")&&(C.preventDefault(),T.focus({preventScroll:!0}))}})),Sn(t.getContainer(),"has-thumbs"),_())}function h(){l()&&o("showOnStart")&&(u(),f())}function p(){var S;l()&&(t?.on("addSlide",b),t?.on("click",w),(S=t?.getGestures())===null||S===void 0||S.on("start",y))}function y(){var S,j;a=!0,!((S=document.activeElement)===null||S===void 0)&&S.closest(".f-thumbs")&&((j=document.activeElement)===null||j===void 0||j.blur())}function g(){var S,j;n?.classList.toggle("is-syncing",t?.hasNavigated()===!1||((S=t?.getTween())===null||S===void 0?void 0:S.isRunning())),_(),!((j=t?.getGestures())===null||j===void 0)&&j.isPointerDown()&&(function(){if(!c()||!t||!e||!a)return;const A=e.getTween(),C=e.getPages(),N=t.getPageIndex()||0,T=t.getPageProgress()||0;if(!(t&&C&&C[N]&&A))return;const P=A.isRunning()?A.getCurrentValues().pos:e.getPosition();if(P===void 0)return;let D=C[N].pos+T*(r-i);D=Bn(C[0].pos,D,C[C.length-1].pos),A.from({pos:P}).to({pos:D}).start()})()}function v(){a=!0}function b(S,j){e?.add(d(j),j.index)}function w(S,j){const A=j.target;A&&!j.defaultPrevented&&A.dataset.thumbsAction==="toggle"&&(function(){if(n||(u(!0),f()),!n)return;const C=e?.isVertical()?"maxWidth":"maxHeight",N=n.style[C];n.style[C]=N?"":"0px"})()}function _(){if(!c()||!t||!e)return;const S=e?.getSlides()||[];let j=-.5*r;for(const A of S){const C=A.el;if(!C)continue;let N=t.getPageProgress(A.index)||0;N=Math.max(-1,Math.min(1,N)),N>-1&&N<1&&(j+=.5*r*(1-Math.abs(N))),N=Math.round(1e4*N)/1e4,j=Math.round(1e4*j)/1e4,C.style.setProperty("--progress",`${Math.abs(N)}`),C.style.setProperty("--shift",`${t?.isRTL()?-1*j:j}px`),N>-1&&N<1&&(j+=.5*r*(1-Math.abs(N)))}}return{init:function(S,j){bM=j,t=S,t.on("ready",p),t.on("initSlides",h)},destroy:function(){var S,j;t?.off("ready",p),t?.off("initSlides",h),t?.off("change",v),t?.off("render",g),t?.off("addSlide",b),t?.off("click",w),(S=t?.getGestures())===null||S===void 0||S.off("start",y),(j=t?.getContainer())===null||j===void 0||j.classList.remove("has-thumbs"),t=void 0,e?.destroy(),e=void 0,n?.remove(),n=void 0},getCarousel:function(){return e},getContainer:function(){return n},isEnabled:function(){return l()}}};/*! License details at fancyapps.com/license */const gH={iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"}},JTe=()=>{let t;function e(i,a){let o=a.src;if(!ts(o))return;let l=a.type;if(!l){if(l||(o.charAt(0)==="#"?l="inline":o.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.((a)?png|avif|gif|jp(g|eg)|pjp(eg)?|jfif|svg|webp|bmp|ico|tif(f)?)((\?|#).*)?$)/i)?l="image":o.match(/\.(pdf)((\?|#).*)?$/i)?l="pdf":o.match(/\.(html|php)((\?|#).*)?$/i)&&(l="iframe")),!l){const c=o.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i);c&&(o=`https://maps.google.${c[1]}/?ll=${(c[2]?c[2]+"&z="+Math.floor(parseFloat(c[3]))+(c[4]?c[4].replace(/^\//,"&"):""):c[4]+"").replace(/\?/,"&")}&output=${c[4]&&c[4].indexOf("layer=c")>0?"svembed":"embed"}`,l="gmap")}if(!l){const c=o.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i);c&&(o=`https://maps.google.${c[1]}/maps?q=${c[2].replace("query=","q=").replace("api=1","")}&output=embed`,l="gmap")}a.src=o,a.type=l}}function n(i,a){a.type!=="iframe"&&a.type!=="pdf"&&a.type!=="gmap"||(function(o){if(!t||!o.el||!o.src)return;const l=document.createElement("iframe");l.classList.add("f-iframe");for(const[u,d]of Object.entries((function(){const f=t?.getOptions().Html;return qs(f)?Object.assign(Object.assign({},gH),f):gH})().iframeAttr||{}))l.setAttribute(u,d);l.onerror=()=>{t&&t.getState()===1&&t.showError(o,"{{IFRAME_ERROR}}")},l.src=o.src;const c=document.createElement("div");if(c.classList.add("f-html"),c.append(l),o.width){let u=`${o.width}`;u.match(/^\d+$/)&&(u+="px"),c.style.maxWidth=`${u}`}if(o.height){let u=`${o.height}`;u.match(/^\d+$/)&&(u+="px"),c.style.maxHeight=`${u}`}if(o.aspectRatio){const u=o.el.getBoundingClientRect();c.style.aspectRatio=`${o.aspectRatio}`,c.style[u.width>u.height?"width":"height"]="auto",c.style[u.width>u.height?"maxWidth":"maxHeight"]="none"}o.contentEl=l,o.htmlEl=c,o.el.classList.add("has-html"),o.el.classList.add("has-iframe"),o.el.classList.add(`has-${o.type}`),o.el.prepend(c),t.emit("contentReady",o)})(a)}function r(i,a){var o,l;a.type!=="iframe"&&a.type!=="pdf"&&a.type!=="gmap"||(t?.hideError(a),(o=a.contentEl)===null||o===void 0||o.remove(),a.contentEl=void 0,(l=a.htmlEl)===null||l===void 0||l.remove(),a.htmlEl=void 0)}return{init:function(i){t=i,t.on("addSlide",e),t.on("attachSlideEl",n),t.on("detachSlideEl",r)},destroy:function(){t?.off("addSlide",e),t?.off("attachSlideEl",n),t?.off("detachSlideEl",r),t=void 0}}};/*! License details at fancyapps.com/license */const vH=(t,e={})=>{const n=new URL(t),r=new URLSearchParams(n.search),i=new URLSearchParams;for(const[l,c]of[...r,...Object.entries(e)]){let u=c+"";if(l==="t"){let d=u.match(/((\d*)m)?(\d*)s?/);d&&i.set("start",60*parseInt(d[2]||"0")+parseInt(d[3]||"0")+"")}else i.set(l,u)}let a=i+"",o=t.match(/#t=((.*)?\d+s)/);return o&&(a+=`#t=${o[1]}`),a},xH={autoplay:!1,html5videoTpl:`<video class="f-html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">
    <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn't support embedded videos.</video>`,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto",credentialless:""},vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}},ePe=()=>{let t,e=!1;function n(){const h=t?.getOptions().Video;return qs(h)?Object.assign(Object.assign({},xH),h):xH}function r(){var h;return(h=t?.getPage())===null||h===void 0?void 0:h.slides[0]}const i=h=>{var p;try{let y=JSON.parse(h.data);if(h.origin==="https://player.vimeo.com"){if(y.event==="ready")for(let g of Array.from(((p=t?.getContainer())===null||p===void 0?void 0:p.getElementsByClassName("f-iframe"))||[]))g instanceof HTMLIFrameElement&&g.contentWindow===h.source&&(g.dataset.ready="true")}else if(h.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&y.event==="onReady"){const g=document.getElementById(y.id);g&&(g.dataset.ready="true")}}catch{}};function a(h,p){const y=p.src;if(!ts(y))return;let g=p.type;if(!g||g==="html5video"){const v=y.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i);v&&(g="html5video",p.html5videoFormat=p.html5videoFormat||"video/"+(v[1]==="ogv"?"ogg":v[1]))}if(!g||g==="youtube"){const v=y.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i);if(v){const b=Object.assign(Object.assign({},n().youtube),p.youtube||{}),w=`www.youtube${b.nocookie?"-nocookie":""}.com`,_=vH(y,b),S=encodeURIComponent(v[2]);p.videoId=S,p.src=`https://${w}/embed/${S}?${_}`,p.thumb=p.thumb||`https://i.ytimg.com/vi/${S}/mqdefault.jpg`,g="youtube"}}if(!g||g==="vimeo"){const v=y.match(/^.+vimeo.com\/(?:\/)?(video\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/);if(v){const b=Object.assign(Object.assign({},n().vimeo),p.vimeo||{}),w=vH(y,b),_=encodeURIComponent(v[2]),S=v[5]||"";p.videoId=_,p.src=`https://player.vimeo.com/video/${_}?${S?`h=${S}${w?"&":""}`:""}${w}`,g="vimeo"}}p.type=g}function o(h,p){p.type==="html5video"&&(function(y){if(!t||!y.el||!y.src)return;const{el:g,src:v}=y;if(!g||!v)return;const b=y.html5videoTpl||n().html5videoTpl,w=y.html5videoFormat||n().html5videoFormat;if(!b)return;const _=y.poster||(y.thumb&&ts(y.thumb)?y.thumb:""),S=Vf(b.replace(/\{\{src\}\}/gi,v+"").replace(/\{\{format\}\}/gi,w||"").replace(/\{\{poster\}\}/gi,_+""));if(!S)return;const j=document.createElement("div");j.classList.add("f-html"),j.append(S),y.contentEl=S,y.htmlEl=j,g.classList.add(`has-${y.type}`),g.prepend(j),d(y),t.emit("contentReady",y)})(p),p.type!=="youtube"&&p.type!=="vimeo"||(function(y){if(!t||!y.el||!y.src)return;const g=document.createElement("iframe");g.classList.add("f-iframe"),g.setAttribute("id",`f-iframe_${y.videoId}`);for(const[b,w]of Object.entries(n().iframeAttr||{}))g.setAttribute(b,w);g.onload=()=>{var b;t&&t.getState()===1&&y.type==="youtube"&&((b=g.contentWindow)===null||b===void 0||b.postMessage(JSON.stringify({event:"listening",id:g.getAttribute("id")}),"*"))},g.onerror=()=>{t&&t.getState()===1&&t?.showError(y,"{{IFRAME_ERROR}}")},g.src=y.src;const v=document.createElement("div");v.classList.add("f-html"),v.append(g),y.contentEl=g,y.htmlEl=v,y.el.classList.add("has-html"),y.el.classList.add("has-iframe"),y.el.classList.add(`has-${y.type}`),y.el.prepend(v),d(y),t.emit("contentReady",y)})(p)}function l(h,p){var y,g;p.type!=="html5video"&&p.type!=="youtube"&&p.type!=="vimeo"||((y=p.contentEl)===null||y===void 0||y.remove(),p.contentEl=void 0,(g=p.htmlEl)===null||g===void 0||g.remove(),p.htmlEl=void 0),p.poller&&clearTimeout(p.poller)}function c(){e=!1}function u(){if(e)return;e=!0;const h=r();(h&&h.autoplay!==void 0?h.autoplay:n().autoplay)&&((function(){var p;const y=r(),g=y?.el;if(g&&y?.type==="html5video")try{const b=g.querySelector("video");if(b){const w=b.play();w!==void 0&&w.then((()=>{})).catch((_=>{b.muted=!0,b.play()}))}}catch{}const v=y?.htmlEl;v instanceof HTMLIFrameElement&&((p=v.contentWindow)===null||p===void 0||p.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"))})(),(function(){const p=r(),y=p?.type;if(!p?.el||y!=="youtube"&&y!=="vimeo")return;const g=()=>{if(p.contentEl&&p.contentEl instanceof HTMLIFrameElement&&p.contentEl.contentWindow){let v;if(p.contentEl.dataset.ready==="true")return v=p.type==="youtube"?{event:"command",func:"playVideo"}:{method:"play",value:"true"},v&&p.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"),void(p.poller=void 0);p.type==="youtube"&&(v={event:"listening",id:p.contentEl.getAttribute("id")},p.contentEl.contentWindow.postMessage(JSON.stringify(v),"*"))}p.poller=setTimeout(g,250)};g()})())}function d(h){const p=h?.htmlEl;if(h&&p&&(h.type==="html5video"||h.type==="youtube"||h.type==="vimeo")){if(p.style.aspectRatio="",p.style.width="",p.style.height="",p.style.maxWidth="",p.style.maxHeight="",h.width){let y=`${h.width}`;y.match(/^\d+$/)&&(y+="px"),p.style.maxWidth=`${y}`}if(h.height){let y=`${h.height}`;y.match(/^\d+$/)&&(y+="px"),p.style.maxHeight=`${y}`}if(h.aspectRatio){const y=h.aspectRatio.split("/"),g=parseFloat(y[0].trim()),v=y[1]?parseFloat(y[1].trim()):0,b=g&&v?g/v:g;p.offsetHeight;const w=p.getBoundingClientRect(),_=b<(w.width||1)/(w.height||1);p.style.aspectRatio=`${h.aspectRatio}`,p.style.width=_?"auto":"",p.style.height=_?"":"auto"}}}function f(){d(r())}return{init:function(h){t=h,t.on("addSlide",a),t.on("attachSlideEl",o),t.on("detachSlideEl",l),t.on("ready",u),t.on("change",c),t.on("settle",u),t.on("refresh",f),window.addEventListener("message",i)},destroy:function(){t?.off("addSlide",a),t?.off("attachSlideEl",o),t?.off("detachSlideEl",l),t?.off("ready",u),t?.off("change",c),t?.off("settle",u),t?.off("refresh",f),window.removeEventListener("message",i),t=void 0}}};/*! License details at fancyapps.com/license */const yH={autoStart:!1,btnTpl:'<button data-fullscreen-action="toggle" class="f-button" title="{{TOGGLE_FULLSCREEN}}"><svg><g><path d="M8 3H5a2 2 0 0 0-2 2v3M21 8V5a2 2 0 0 0-2-2h-3M3 16v3a2 2 0 0 0 2 2h3M16 21h3a2 2 0 0 0 2-2v-3"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},bH="in-fullscreen-mode",tPe=()=>{let t;function e(d){const f=t?.getOptions().Fullscreen;let h=(qs(f)?Object.assign(Object.assign({},yH),f):yH)[d];return h&&typeof h=="function"&&t?h(t):h}function n(){var d;(d=t?.getPlugins().Toolbar)===null||d===void 0||d.add("fullscreen",{tpl:e("btnTpl")})}function r(){if(e("autoStart")){const d=a();d&&l(d)}}function i(d,f){const h=f.target;h&&!f.defaultPrevented&&h.dataset.fullscreenAction==="toggle"&&u()}function a(){return e("el")||t?.getContainer()||void 0}function o(){const d=document;return d.fullscreenEnabled?!!d.fullscreenElement:!!d.webkitFullscreenEnabled&&!!d.webkitFullscreenElement}function l(d){const f=document;let h;return d||(d=f.documentElement),f.fullscreenEnabled?h=d.requestFullscreen():f.webkitFullscreenEnabled&&(h=d.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)),h&&h.then((()=>{d.classList.add(bH)})),h}function c(){const d=document;let f;return d.fullscreenEnabled?f=d.fullscreenElement&&d.exitFullscreen():d.webkitFullscreenEnabled&&(f=d.webkitFullscreenElement&&d.webkitExitFullscreen()),f&&f.then((()=>{var h;(h=a())===null||h===void 0||h.classList.remove(bH)})),f}function u(){const d=a();d&&(o()?c():l(d))}return{init:function(d){t=d,t.on("initPlugins",n),t.on("ready",r),t.on("click",i)},destroy:function(){t?.off("initPlugins",n),t?.off("ready",r),t?.off("click",i)},exit:c,inFullscreen:o,request:l,toggle:u}};/*! License details at fancyapps.com/license */let Dc,Rj=!1,wH=!1,r0=!1,HI=!1;const Oj=()=>{const t=new URL(document.URL).hash,e=t.slice(1).split("-"),n=e[e.length-1],r=n&&/^\+?\d+$/.test(n)&&parseInt(e.pop()||"1",10)||1;return{hash:t,slug:e.join("-"),index:r}},y5=()=>{if(!Dc||Dc.getInstance())return;const{slug:t,index:e}=Oj();if(!t||!Dc||Dc.getInstance())return;const n=document.querySelectorAll(`[data-fancybox="${t}"]`);if(!n.length)return;const r=n[e-1];r&&r.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0}))},nPe=()=>{var t,e;if(!Dc||r0)return;const n=Dc?.getInstance();if(n?.getOptions().Hash===!1)return;const{slug:r,index:i}=Oj(),a=((t=n?.getSlide())===null||t===void 0?void 0:t.fancybox)||void 0;n&&a&&(r===a?(e=n.getCarousel())===null||e===void 0||e.goTo(i-1):(HI=!0,n.close(),HI=!1)),y5()},_H=()=>{Dc&&setTimeout((()=>{Rj=!0,y5(),Rj=!1,window.addEventListener("hashchange",nPe,!1)}),300)},VI=()=>{let t,e="auto",n="";function r(){var o,l;if(!t||!t.isTopMost()||t.getOptions().Hash===!1)return;const c=t.getCarousel();if(!c)return;const{hash:u,slug:d}=Oj(),f=t.getSlide();if(!f)return;let h=f.fancybox||"",p=parseInt(f.index+"",10)+1;if(!h)return;let y=`#${h}-${p}`;if((((l=(o=t.getCarousel())===null||o===void 0?void 0:o.getPages())===null||l===void 0?void 0:l.length)||0)<2&&(y=`#${h}`),u!==y&&(n=u),history.scrollRestoration&&(e=history.scrollRestoration,history.scrollRestoration="manual"),c.on("change",i),!Rj)if(h===d)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+y)}catch{}else try{window.history.pushState({},document.title,window.location.pathname+window.location.search+y),wH=!0}catch{}}function i(){if(!t||!t.isTopMost()||t.getOptions().Hash===!1)return;const{slug:o}=Oj(),l=t.getSlide();if(!l)return;let c=l.fancybox||"",u=`#${c}-${l.index+1}`;if(c===o){r0=!0;try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+u)}catch{}r0=!1}}function a(){if(HI||!t||!t.isTopMost()||t.getOptions().Hash===!1)return;const o=t.getSlide();if(o&&o.fancybox){r0=!0;try{!wH||Rj||(function(){if(window.parent===window)return!1;try{var l=window.frameElement}catch{l=null}return l===null?location.protocol==="data:":l.hasAttribute("sandbox")})()?window.history.replaceState({},document.title,window.location.pathname+window.location.search+n):window.history.back()}catch{}r0=!1}}return{init:function(o){t=o,t.on("ready",r),t.on("close",a)},destroy:function(){t?.off("ready",r),t?.off("close",a);const o=t?.getCarousel();o&&o.off("change",i),t=void 0,history.scrollRestoration&&e&&(history.scrollRestoration=e)}}};VI.startFromUrl=y5,VI.setup=function(t){Dc||(Dc=t,iie()&&(/complete|interactive|loaded/.test(document.readyState)?_H():document.addEventListener("DOMContentLoaded",_H)))};/*! License details at fancyapps.com/license */const rPe=Object.assign(Object.assign({},v5),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ELEMENT_NOT_FOUND:"HTML Element Not Found",IFRAME_ERROR:"Error Loading Page"});/*! License details at fancyapps.com/license */const cie='<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="M19.286 4.714 4.714 19.286M4.714 4.714l14.572 14.572" /></svg></button>';lie().add("close",{tpl:cie});const Rl=t=>{t.cancelable&&t.preventDefault()},uie=t=>{t&&t.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:t}))},SH=(t=null,e="",n)=>{if(!t||!t.parentElement||!e)return void(n&&n());uie(t);const r=i=>{i.target===t&&t.dataset.animationName&&(t.removeEventListener("animationend",r),delete t.dataset.animationName,n&&n(),t.classList.remove(e))};t.dataset.animationName=e,t.addEventListener("animationend",r),Sn(t,e)};var ii;(function(t){t[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.Destroyed=3]="Destroyed"})(ii||(ii={}));const w0={ajax:null,backdropClick:"close",Carousel:{},closeButton:"auto",closeExisting:!1,delegateEl:void 0,dragToClose:!0,fadeEffect:!0,groupAll:!1,groupAttr:"data-fancybox",hideClass:"f-fadeOut",hideScrollbar:!0,id:void 0,idle:!1,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},l10n:rPe,mainClass:"",mainStyle:{},mainTpl:`<dialog class="fancybox__dialog">
    <div class="fancybox__container" tabindex="0" aria-label="{{MODAL}}">
      <div class="fancybox__backdrop"></div>
      <div class="fancybox__carousel"></div>
    </div>
  </dialog>`,on:{},parentEl:void 0,placeFocusBack:!0,showClass:"f-zoomInUp",startIndex:0,sync:void 0,theme:"dark",triggerEl:void 0,triggerEvent:void 0,zoomEffect:!0},Fu=new Map;let iPe=0;const jH="with-fancybox",sPe=()=>{let t,e,n,r,i,a,o,l=ii.Init,c=Object.assign({},w0),u=-1,d={},f=[],h=!1,p=!0,y=0;function g(Y,...Ie){let Xe=c[Y];return Xe&&typeof Xe=="function"?Xe(Fe,...Ie):Xe}function v(Y,Ie=[]){const Xe=g("l10n")||{};Y=String(Y).replace(/\{\{(\w+)\}\}/g,((ue,Be)=>Xe[Be]||ue));for(let ue=0;ue<Ie.length;ue++)Y=Y.split(Ie[ue][0]).join(Ie[ue][1]);return Y=Y.replace(/\{\{(.*?)\}\}/g,((ue,Be)=>Be))}const b=new Map;function w(Y,...Ie){const Xe=[...b.get(Y)||[]];for(const[ue,Be]of Object.entries(c.on||{}))(ue===Y||ue.split(" ").indexOf(Y)>-1)&&Xe.push(Be);for(const ue of Xe)ue&&typeof ue=="function"&&ue(Fe,...Ie);Y!=="*"&&w("*",Y,...Ie)}function _(Y=[],Ie={}){l!==ii.Init&&(Fe.destroy(),l=ii.Init),c=Ta({},w0,Ie),u=g("id")||"fancybox-"+ ++iPe;const Xe=Fu.get(u);if(Xe&&Xe.destroy(),Fu.set(u,Fe),w("init"),(function(){for(const[ue,Be]of Object.entries(Object.assign(Object.assign({},Nr.Plugins),c.plugins||{})))if(ue&&!d[ue]&&Be instanceof Function){const rt=Be();rt.init(Fe),d[ue]=rt}w("initPlugins")})(),(function(ue=[]){w("initSlides",ue),f=[...ue]})(Y),(function(){const ue=g("parentEl")||document.body;if(!(ue&&ue instanceof HTMLElement))return;const Be=v(g("mainTpl")||"");if(t=Vf(Be)||void 0,!t||(e=t.querySelector(".fancybox__container"),!(e&&e instanceof HTMLElement)))return;const rt=g("mainClass");rt&&Sn(e,rt);const me=g("mainStyle");if(me&&qs(me))for(const[de,fe]of Object.entries(me))e.style.setProperty(de,fe);const X=g("theme"),G=X==="auto"?window.matchMedia("(prefers-color-scheme:light)").matches:X==="light";e.setAttribute("theme",G?"light":"dark"),t.setAttribute("id",`${u}`),t.addEventListener("keydown",(de=>{de.key==="Escape"&&Rl(de)})),t.addEventListener("wheel",(de=>{const fe=de.target;let ne=g("wheel",de);fe.closest(".f-thumbs")&&(ne="slide");const J=ne==="slide",ve=[-de.deltaX||0,-de.deltaY||0,-de.detail||0].reduce((function(Qe,We){return Math.abs(We)>Math.abs(Qe)?We:Qe})),be=Math.max(-1,Math.min(1,ve)),Ve=Date.now();y&&Ve-y<300?J&&Rl(de):(y=Ve,w("wheel",de,be),de.defaultPrevented||(ne==="close"?Oe(de):ne==="slide"&&r&&!xp(fe)&&(Rl(de),r[be>0?"prev":"next"]())))}),{capture:!0,passive:!1}),t.addEventListener("cancel",(de=>{Oe(de)})),ue.append(t),Fu.size===1&&(g("hideScrollbar")&&aH(!0),document.documentElement.classList.add(jH)),t instanceof HTMLDialogElement&&t.showModal(),w("initLayout")})(),(function(){if(n=t?.querySelector(".fancybox__carousel")||void 0,!n)return;n.fancybox=Fe;const ue=Ta({},{Autoplay:{autoStart:!1,pauseOnHover:!1,progressbarParentEl:Be=>{const rt=Be.getContainer();return rt?.querySelector(".f-carousel__toolbar [data-autoplay-action]")||rt}},Fullscreen:{el:e},Toolbar:{absolute:!0,items:{counter:{tpl:'<div class="f-counter"><span data-fancybox-page></span>/<span data-fancybox-pages></span></div>'}},display:{left:["counter"],right:["toggleFull","autoplay","fullscreen","thumbs","close"]}},Video:{autoplay:!0},Thumbs:{minCount:2,Carousel:{classes:{container:"fancybox__thumbs"}}},classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",slide:"fancybox__slide"},spinnerTpl:'<div class="f-spinner" data-fancybox-close></div>',dragFree:!1,slidesPerPage:1,plugins:{Sync:sie,Arrows:YTe,Lazyload:aie,Zoomable:XTe,Html:JTe,Video:ePe,Autoplay:QTe,Fullscreen:tPe,Thumbs:ZTe,Toolbar:lie}},g("Carousel")||{},{slides:f,enabled:!0,initialPage:g("startIndex")||0,l10n:g("l10n")});r=Dj(n,ue),w("initCarousel",r),r.on("*",((Be,rt,...me)=>{w(`Carousel.${rt}`,Be,...me)})),r.on("attachSlideEl",j),r.on("detachSlideEl",A),r.on("contentReady",D),r.on("ready",T),r.on("change",N),r.on("settle",P),r.on("thumbs:ready",O),r.on("thumbs:destroy",O),r.init()})(),t&&e){if(g("closeExisting"))for(const[ue,Be]of Fu.entries())ue!==u&&Be.close();g("fadeEffect")?(setTimeout((()=>{S()}),500),Sn(e,"is-revealing")):S(),e.classList.add("is-ready"),l=ii.Ready,w("ready")}}function S(){bc(e,"is-revealing");try{document.activeElement===t&&(e?.querySelector("[autofocus]")||e).focus()}catch{}}function j(Y,Ie){var Xe;F(Ie),I(),(Xe=Ie.el)===null||Xe===void 0||Xe.addEventListener("click",C),Ie.type!=="inline"&&Ie.type!=="clone"||(function(ue){if(!r||!ue||!ue.el)return;let Be=null;if(ts(ue.src)){const rt=ue.src.split("#",2).pop();Be=rt?document.getElementById(rt):null}if(Be){if(Sn(Be,"f-html"),ue.type==="clone"||Be.closest(".fancybox__carousel")){Be=Be.cloneNode(!0);const rt=Be.dataset.animationName;rt&&(Be.classList.remove(rt),delete Be.dataset.animationName);let me=Be.getAttribute("id");me=me?`${me}--clone`:`clone-${u}-${ue.index}`,Be.setAttribute("id",me)}else if(Be.parentNode){const rt=document.createElement("div");rt.inert=!0,Be.parentNode.insertBefore(rt,Be),ue.placeholderEl=rt}ue.htmlEl=Be,Sn(ue.el,"has-html"),ue.el.prepend(Be),Be.classList.remove("hidden"),Be.style.display==="none"&&(Be.style.display=""),getComputedStyle(Be).getPropertyValue("display")==="none"&&(Be.style.display=Be.dataset.display||"flex"),r?.emit("contentReady",ue)}else r?.showError(ue,"{{ELEMENT_NOT_FOUND}}")})(Ie),Ie.type==="ajax"&&(function(ue){const Be=ue.el;if(!Be||ue.htmlEl||ue.xhr)return;r?.showLoading(ue),ue.state=0;const rt=new XMLHttpRequest;rt.onreadystatechange=function(){if(rt.readyState===XMLHttpRequest.DONE&&l===ii.Ready)if(r?.hideLoading(ue),ue.state=1,rt.status===200){let X=rt.responseText+"",G=null,de=null;if(ue.filter){const fe=document.createElement("div");fe.innerHTML=X,de=fe.querySelector(ue.filter+"")}de&&de instanceof HTMLElement?G=de:(G=document.createElement("div"),G.innerHTML=X),G.classList.add("f-html"),ue.htmlEl=G,Be.classList.add("has-html"),Be.classList.add("has-ajax"),Be.prepend(G),r?.emit("contentReady",ue)}else r?.showError(ue)};const me=g("ajax")||null;rt.open(me?"POST":"GET",ue.src+""),rt.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),rt.setRequestHeader("X-Requested-With","XMLHttpRequest"),rt.send(me),ue.xhr=rt})(Ie)}function A(Y,Ie){var Xe;(function(ue){ue.closeButtonEl&&(ue.closeButtonEl.remove(),ue.closeButtonEl=void 0)})(Ie),(Xe=Ie.el)===null||Xe===void 0||Xe.removeEventListener("click",C),Ie.type!=="inline"&&Ie.type!=="clone"||(function(ue){const Be=ue.htmlEl,rt=ue.placeholderEl;Be&&(getComputedStyle(Be).getPropertyValue("display")!=="none"&&(Be.style.display="none"),Be.offsetHeight),rt&&(Be&&rt.parentNode&&rt.parentNode.insertBefore(Be,rt),rt.remove()),ue.htmlEl=void 0,ue.placeholderEl=void 0})(Ie),Ie.xhr&&(Ie.xhr.abort(),Ie.xhr=void 0)}function C(Y){if(!H())return;if(l!==ii.Ready)return Rl(Y),void Y.stopPropagation();if(Y.defaultPrevented||!gv.isClickAllowed())return;const Ie=Y.composedPath()[0];Ie.closest(".fancybox__carousel")&&Ie.classList.contains("fancybox__slide")&&L(Y)}function N(){p=!1,e&&r&&e.classList.remove("is-revealing"),I();const Y=g("sync");if(r&&Y){const Ie=Y.getPageIndex(r.getPageIndex())||0;Y.goTo(Ie,{transition:!1})}}function T(){var Y;if(l!==ii.Ready)return;U($()),(function(){if(!g("dragToClose")||!r)return;const Xe=r.getViewport();if(!Xe||(i=gv(Xe).init(),!i))return;let ue=!1,Be=0,rt=0,me={},X=1;function G(){var fe,ne;a?.spring({clamp:!0,mass:1,tension:rt===0?140:800,friction:17,restDelta:.1,restSpeed:.1,maxSpeed:1/0}).from({y:Be}).to({y:rt}).start();const J=((fe=r?.getViewport())===null||fe===void 0?void 0:fe.getBoundingClientRect().height)||0,ve=(ne=$())===null||ne===void 0?void 0:ne.panzoomRef;if(J&&ve)if(rt===0)ve.execute(Lt.Reset);else{const be=Pj(Math.abs(Be),0,.33*J,X,.75*X,!1);ve.execute(Lt.ZoomTo,{scale:be})}}const de=fe=>{var ne;const J=fe.srcEvent,ve=J.target;return r&&!(b0(J)&&((ne=J.touches)===null||ne===void 0?void 0:ne.length)>1)&&ve&&!xp(ve)};a=qf().on("step",(fe=>{if(e&&Xe&&l===ii.Ready){const ne=Xe.getBoundingClientRect().height;Be=Math.min(ne,Math.max(-1*ne,fe.y));const J=Pj(Math.abs(Be),0,.5*ne,1,0,!0);e.style.setProperty("--f-drag-opacity",J+""),e.style.setProperty("--f-drag-offset",Be+"px")}})),i.on("start",(function(){ue||(a?.pause(),rt=Be)})).on("panstart",(fe=>{var ne,J;if(!ue&&de(fe)&&fe.axis==="y"){Rl(fe.srcEvent),ue=!0,je(),(ne=r?.getViewport())===null||ne===void 0||ne.classList.add("is-dragging");const ve=(J=$())===null||J===void 0?void 0:J.panzoomRef;if(ve){X=ve.getTransform().scale||1;const be=ve.getOptions();me=Object.assign({},be),be.bounds=!1,be.gestures=!1}}else ue=!1})).on("pan",(function(fe){ue&&de(fe)&&(Rl(fe.srcEvent),fe.srcEvent.stopPropagation(),fe.axis==="y"&&(rt+=fe.deltaY,G()))})).on("end",(fe=>{var ne,J,ve;if((ne=r?.getViewport())===null||ne===void 0||ne.classList.remove("is-dragging"),ue){const be=(J=$())===null||J===void 0?void 0:J.panzoomRef;if(be){(ve=be.getTween())===null||ve===void 0||ve.end();const Ve=be.getOptions();Ve.bounds=me.bounds||!1,Ve.gestures=me.gestures||!1}de(fe)&&fe.axis==="y"&&(Math.abs(fe.velocityY)>5||Math.abs(Be)>50)&&Oe(fe.srcEvent,"f-throwOut"+(fe.velocityY>0?"Down":"Up"))}ue=!1,l===ii.Ready&&Be!==0&&(rt=0,G())}))})(),document.body.addEventListener("click",V),document.body.addEventListener("keydown",q,{passive:!1,capture:!0}),I(),re();const Ie=g("sync");Ie&&((Y=Ie.getTween())===null||Y===void 0||Y.start())}function P(){r?.canGoNext()?re():Ne()}function D(Y,Ie){F(Ie),U(Ie)}function O(){var Y;const Ie=r?.getPlugins().Thumbs;Rs(e,"has-thumbs",Ie?.isEnabled()||!1),Rs(e,"has-vertical-thumbs",((Y=Ie?.getCarousel())===null||Y===void 0?void 0:Y.isVertical())||!1)}function I(){if(e){const Y=r?.getPages()||[],Ie=r?.getPageIndex()||0;for(const Xe of e.querySelectorAll("[data-fancybox-index]"))Xe.innerHTML=Ie+"";for(const Xe of e.querySelectorAll("[data-fancybox-page]"))Xe.innerHTML=Ie+1+"";for(const Xe of e.querySelectorAll("[data-fancybox-pages]"))Xe.innerHTML=Y.length+""}}function L(Y){if(Y.composedPath()[0].closest("[data-fancybox-close]"))return void Oe(Y);w("backdropClick",Y),!Y.defaultPrevented&&g("backdropClick")&&Oe(Y)}function z(){pe()}function q(Y){if(!H()||l!==ii.Ready)return;const Ie=Y.key,Xe=g("keyboard");if(!Xe||Y.ctrlKey||Y.altKey||Y.shiftKey)return;const ue=Y.composedPath()[0];if(!wg(ue)||Ie!=="Escape"&&(rt=>{const me=["input","textarea","select","option","video","iframe","[contenteditable]","[data-selectable]","[data-draggable]"].join(",");return rt.matches(me)||rt.closest(me)})(ue)||(w("keydown",Y),Y.defaultPrevented))return;const Be=Xe[Ie];if(Be)switch(Be){case"close":Oe(Y);break;case"next":Rl(Y),r?.next();break;case"prev":Rl(Y),r?.prev()}}function V(Y){if(!H()||l!==ii.Ready||(pe(),Y.defaultPrevented))return;const Ie=Y.composedPath()[0],Xe=!!Ie.closest("[data-fancybox-close]"),ue=Ie.classList.contains("fancybox__backdrop");(Xe||ue)&&L(Y)}function F(Y){var Ie;const{el:Xe,htmlEl:ue,closeButtonEl:Be}=Y;if(!Xe||!ue||Be)return;let rt=g("closeButton");if(rt==="auto"&&(rt=((Ie=r?.getPlugins().Toolbar)===null||Ie===void 0?void 0:Ie.isEnabled())!==!0),rt){const me=Vf(v(cie));me&&(Sn(me,"is-close-button"),Y.closeButtonEl=ue.insertAdjacentElement("afterbegin",me),Xe.classList.add("has-close-btn"))}}function U(Y){if(!(p&&r&&r.getState()===1&&Y&&Y.index===r.getOptions().initialPage&&Y.el&&Y.el.parentElement)||Y.state!==void 0&&Y.state!==1)return;p=!1;const Ie=Y.panzoomRef,Xe=Ie?.getTween(),ue=g("zoomEffect")&&Xe?le(Y):void 0;if(Ie&&Xe&&ue){const{x:rt,y:me,scale:X}=Ie.getStartPosition();return void Xe.spring({tension:215,friction:25,restDelta:.001,restSpeed:.001,maxSpeed:1/0}).from(ue).to({x:rt,y:me,scale:X}).start()}const Be=Ie?.getContent()||Y.htmlEl;Be&&SH(Be,g("showClass",Y))}function H(){var Y;return((Y=Nr.getInstance())===null||Y===void 0?void 0:Y.getId())===u}function $(){var Y;return(Y=r?.getPage())===null||Y===void 0?void 0:Y.slides[0]}function W(){const Y=$();return Y?Y.triggerEl||g("triggerEl"):void 0}function le(Y){var Ie,Xe;const ue=Y.thumbEl;if(!ue||!(J=>{const ve=J.getBoundingClientRect(),be=J.closest("[style]"),Ve=be?.parentElement;if(be&&be.style.transform&&Ve){const xe=Ve.getBoundingClientRect();if(ve.left<xe.left||ve.left>xe.left+xe.width-ve.width||ve.top<xe.top||ve.top>xe.top+xe.height-ve.height)return!1}const Qe=Math.max(document.documentElement.clientHeight,window.innerHeight),We=Math.max(document.documentElement.clientWidth,window.innerWidth);return!(ve.bottom<0||ve.top-Qe>=0||ve.right<0||ve.left-We>=0)})(ue))return;const Be=(Xe=(Ie=Y.panzoomRef)===null||Ie===void 0?void 0:Ie.getWrapper())===null||Xe===void 0?void 0:Xe.getBoundingClientRect(),rt=Be?.width,me=Be?.height;if(!rt||!me)return;const X=ue.getBoundingClientRect();let G=X.width,de=X.height,fe=X.left,ne=X.top;if(!(!X||!G||!de)){if(ue instanceof HTMLImageElement){const J=window.getComputedStyle(ue).getPropertyValue("object-fit");if(J==="contain"||J==="scale-down"){const{width:ve,height:be}=((Ve,Qe,We,xe,Te="contain")=>{if(Te==="contain"||Ve>We||Qe>xe){const te=We/Ve,oe=xe/Qe,K=Math.min(te,oe);Ve*=K,Qe*=K}return{width:Ve,height:Qe}})(ue.naturalWidth,ue.naturalHeight,G,de,J);fe+=.5*(G-ve),ne+=.5*(de-be),G=ve,de=be}}if(!(Math.abs(rt/me-G/de)>.1))return{x:fe+.5*G-(Be.left+.5*rt),y:ne+.5*de-(Be.top+.5*me),scale:G/rt}}}function ie(){o&&clearTimeout(o),o=void 0,document.removeEventListener("mousemove",z)}function re(){if(h||o)return;const Y=g("idle");Y&&(o=setTimeout(_e,Y))}function _e(){e&&(ie(),Sn(e,"is-idle"),document.addEventListener("mousemove",z),h=!0)}function pe(){h&&(Ne(),re())}function Ne(){ie(),e?.classList.remove("is-idle"),h=!1}function je(){if(g("placeFocusBack")){const Ie=W();!Ie||(Y=Ie.getBoundingClientRect()).bottom>0&&Y.right>0&&Y.left<(window.innerWidth||document.documentElement.clientWidth)&&Y.top<(window.innerHeight||document.documentElement.clientHeight)||Ie.scrollIntoView({behavior:"instant",block:"center",inline:"center"})}var Y}function Oe(Y,Ie){var Xe,ue,Be,rt,me;if(l===ii.Closing||l===ii.Destroyed)return;const X=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(w("shouldClose",X,Y),X.defaultPrevented)return;if(ie(),Y){if(Y.defaultPrevented)return;Rl(Y),Y.stopPropagation(),Y.stopImmediatePropagation()}if(l=ii.Closing,a?.pause(),i?.destroy(),r){(Xe=r.getGestures())===null||Xe===void 0||Xe.destroy(),(ue=r.getTween())===null||ue===void 0||ue.pause();for(const fe of r.getSlides()){const ne=fe.panzoomRef;ne&&(Ta(ne.getOptions(),{clickAction:!1,dblClickAction:!1,wheelAction:!1,bounds:!1,minScale:0,maxScale:1/0}),(Be=ne.getGestures())===null||Be===void 0||Be.destroy(),(rt=ne.getTween())===null||rt===void 0||rt.pause())}}const G=r?.getPlugins();(me=G?.Autoplay)===null||me===void 0||me.stop();const de=G?.Fullscreen;de&&de.inFullscreen()?Promise.resolve(de.exit()).then((()=>{setTimeout((()=>{Ge(Y,Ie)}),150)})):Ge(Y,Ie)}function Ge(Y,Ie){var Xe,ue,Be,rt;if(l!==ii.Closing)return;w("close",Y),document.body.removeEventListener("click",V),document.body.removeEventListener("keydown",q,{passive:!1,capture:!0}),je(),g("fadeEffect")&&(e?.classList.remove("is-ready"),e?.classList.add("is-hiding")),e?.classList.add("is-closing");const me=$(),X=me?.panzoomRef,G=(Xe=me?.panzoomRef)===null||Xe===void 0?void 0:Xe.getTween(),de=Ie||g("hideClass");let fe=!1,ne=!1;if(r&&me&&X&&G){let ve;g("zoomEffect")&&(((Be=(ue=r.getTween())===null||ue===void 0?void 0:ue.getCurrentVelocities())===null||Be===void 0?void 0:Be.pos)||0)<700&&me.state===1&&(ve=le(me)),ve&&(fe=!0,r.on("refresh",(()=>{const be=le(me);be&&G.to(Object.assign(Object.assign({},Dl),be))})),G.easing(qf.Easings.EaseOut).duration(350).from(Object.assign({},X.getTransform())).to(Object.assign(Object.assign({},Dl),ve)).start())}const J=me?.htmlEl||((rt=me?.panzoomRef)===null||rt===void 0?void 0:rt.getWrapper());J&&uie(J),!fe&&de&&J&&(ne=!0,SH(J,de,(()=>{Pe()}))),fe||ne?setTimeout((()=>{Pe()}),350):Pe()}function Pe(){var Y,Ie,Xe,ue,Be;if(l===ii.Destroyed)return;l=ii.Destroyed;const rt=W();w("destroy"),(Ie=(Y=g("sync"))===null||Y===void 0?void 0:Y.getPlugins().Autoplay)===null||Ie===void 0||Ie.resume(),(ue=(Xe=g("sync"))===null||Xe===void 0?void 0:Xe.getPlugins().Autoscroll)===null||ue===void 0||ue.resume(),t instanceof HTMLDialogElement&&t.close(),(Be=r?.getContainer())===null||Be===void 0||Be.classList.remove("is-idle"),r?.destroy();for(const me of Object.values(d))me?.destroy();if(d={},t?.remove(),t=void 0,e=void 0,r=void 0,Fu.delete(u),!Fu.size&&(aH(!1),document.documentElement.classList.remove(jH),g("placeFocusBack")))try{rt?.focus({preventScroll:!0})}catch{}}const Fe={close:Oe,destroy:Pe,getCarousel:function(){return r},getContainer:function(){return e},getId:function(){return u},getOptions:function(){return c},getPlugins:function(){return d},getSlide:function(){return $()},getState:function(){return l},init:function(Y=[],Ie={}){return _(Y,Ie),Fe},isCurrentSlide:function(Y){const Ie=$();return!(!Y||!Ie)&&Ie.index===Y.index},isTopMost:function(){return H()},off:function(Y,Ie){return b.has(Y)&&b.set(Y,b.get(Y).filter((Xe=>Xe!==Ie))),Fe},on:function(Y,Ie){return b.set(Y,[...b.get(Y)||[],Ie]),Fe},toggleIdle(Y){(h||Y===!0)&&_e(),h&&Y!==!1||Ne()}};return Fe},Nr={Plugins:{Hash:VI},version:"6.0.34",openers:new Map,bind:function(t,e,n){if(!iie())return;let r=document.body,i="[data-fancybox]",a={};if(ts(t)?(r=document.body,i=t,typeof e=="object"&&(a=e||{})):t instanceof Element&&(r=t,ts(e)&&(i=e),typeof n=="object"&&(a=n||{})),!(r&&r instanceof Element&&i))return!1;const o=Nr.openers.get(r)||new Map;if(o.set(i,a),Nr.openers.set(r,o),o.size===1){r.addEventListener("click",Nr.fromEvent);for(const l of Object.values(Nr.Plugins)){const c=l.setup;typeof c=="function"&&c(Nr)}}return!0},close:function(t=!0,...e){if(t)for(const n of Fu.values())n.close(...e);else{const n=Nr.getInstance();n&&n.close(...e)}},destroy:function(){let t;for(;t=Nr.getInstance();)t.destroy();for(const e of Nr.openers.keys())e.removeEventListener("click",Nr.fromEvent);Nr.openers.clear()},fromEvent:function(t){var e,n,r;if(t.defaultPrevented||t.button&&t.button!==0||t.ctrlKey||t.metaKey||t.shiftKey)return;let i=t.composedPath()[0];if(i.closest(".fancybox__container.is-hiding"))return Rl(t),void t.stopPropagation();const a=i.closest("[data-fancybox-delegate]")||void 0;if(a){const v=a.dataset.fancyboxDelegate||"",b=document.querySelectorAll(`[data-fancybox="${v}"]`);i=b[parseInt(a.dataset.fancyboxIndex||"",10)||0]||b[0]}if(!(i&&i instanceof Element))return;let o,l,c={};for(const[v,b]of Nr.openers)if(b&&v.contains(i))for(const[w,_]of b){let S=null;try{S=i.closest(w)}catch{}S&&(i=S,o=v,l=w,Ta(c,_||{}))}if(!o||!l)return;Rl(t);const u=Ta({},w0,{triggerEvent:t,triggerEl:i,delegateEl:a},c),d=u.groupAll,f=u.groupAttr,h=f&&i?i.getAttribute(`${f}`):"";let p=[];const y=(e=i.closest(".f-carousel"))===null||e===void 0?void 0:e.carousel;if(y){const v=[];for(const b of y?.getSlides()){const w=b.el;w&&(w.matches(l)?v.push(w):v.push(...[].slice.call(w.querySelectorAll(l))))}v.length&&(p=[...v],(n=y.getPlugins().Autoplay)===null||n===void 0||n.pause(),(r=y.getPlugins().Autoscroll)===null||r===void 0||r.pause(),u.sync=y)}else(!i||h||d)&&(p=[].slice.call(o.querySelectorAll(l)));if(i&&!d&&(p=f&&h?p.filter((v=>v.getAttribute(`${f}`)===h)):[i]),!p.length)return;const g=Nr.getInstance();if(g){const v=g.getOptions().triggerEl;if(v&&p.indexOf(v)>-1)return}return Object.assign({},u.Carousel||{}).rtl&&(p=p.reverse()),i&&(u.startIndex=p.indexOf(i)),Nr.fromNodes(p,u)},fromNodes:function(t,e){e=Ta({},w0,e||{});const n=[],r=i=>i instanceof HTMLImageElement?i:i instanceof HTMLElement?i.querySelector("img:not([aria-hidden])"):void 0;for(const i of t){const a=i.dataset||{},o=e.delegateEl&&t.indexOf(i)===e.startIndex?e.delegateEl:void 0,l=r(o)||r(i)||void 0,c=a.src||i.getAttribute("href")||i.getAttribute("currentSrc")||i.getAttribute("src")||void 0,u=a.thumb||a.thumbSrc||l?.getAttribute("currentSrc")||l?.getAttribute("src")||l?.dataset.lazySrc||void 0,d={src:c,alt:a.alt||l?.getAttribute("alt")||void 0,thumbSrc:u,thumbEl:l,triggerEl:i,delegateEl:o};for(const f in a){let h=a[f]+"";h=h!=="false"&&(h==="true"||h),d[f]=h}n.push(d)}return Nr.show(n,e)},fromSelector:function(t,e,n){let r=document.body,i="",a={};if(ts(t)?i=t:t instanceof Element&&(r=t,ts(e)&&(i=e),typeof n=="object"&&(a=n||{})),!(r&&r instanceof Element&&i))return;const o=Nr.openers.get(r);return o?(a=Ta({},o.get(i)||{},a),a?Nr.fromNodes(Array.from(r.querySelectorAll(i)),a):void 0):void 0},getCarousel:function(){var t;return((t=Nr.getInstance())===null||t===void 0?void 0:t.getCarousel())||void 0},getDefaults:function(){return w0},getInstance:function(t){if(t){const e=Fu.get(t);return e&&e.getState()!==ii.Destroyed?e:void 0}return Array.from(Fu.values()).reverse().find((e=>{if(e.getState()!==ii.Destroyed)return e}))||void 0},getSlide:function(){var t;return((t=Nr.getInstance())===null||t===void 0?void 0:t.getSlide())||void 0},show:function(t=[],e={}){return sPe().init(t,e)},unbind:function(t,e){let n=document.body,r="";if(ts(t)?r=t:t instanceof Element&&(n=t,ts(e)&&(r=e)),n){const i=Nr.openers.get(n);i&&r&&i.delete(r),i?.size&&r||Nr.openers.delete(n),n.removeEventListener("click",Nr.fromEvent)}}};function aPe({images:t,variant:e="grid",columns:n=3,showCaptions:r=!0,enableZoom:i=!0,enableDownload:a=!0,enableShare:o=!0}){const l=M.useRef(null);M.useEffect(()=>(Nr.bind('[data-fancybox="gallery"]',{infinite:!0,animated:!0,showClass:"fancybox-fadeIn",hideClass:"fancybox-fadeOut"}),()=>{Nr.destroy()}),[i]);const c=p=>{const y=document.createElement("a");y.href=p.src,y.download=p.alt||"image",y.click(),Rg.success("بدأ التحميل")},u=p=>{navigator.share?navigator.share({title:p.caption||"صورة",url:p.src}):(navigator.clipboard.writeText(p.src),Rg.success("تم نسخ الرابط"))},d=p=>{Rg.success("تمت الإضافة إلى المفضلة")},f=()=>{switch(e){case"masonry":return"columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-4";case"carousel":return"flex overflow-x-auto gap-4 pb-4 snap-x snap-mandatory";case"single":return"max-w-4xl mx-auto";default:return`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-${n} gap-4`}},h=()=>{switch(e){case"masonry":return"break-inside-avoid mb-4";case"carousel":return"flex-shrink-0 w-80 snap-center";default:return""}};return s.jsxs("div",{ref:l,className:"fancybox-gallery",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold",children:"معرض الصور"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(ge,{variant:"outline",size:"sm",children:s.jsx("span",{className:"text-sm",children:"عرض الكل"})})})]}),t.some(p=>p.category)&&s.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[s.jsx(jt,{variant:"default",className:"cursor-pointer",children:"الكل"}),[...new Set(t.map(p=>p.category).filter(Boolean))].map(p=>s.jsx(jt,{variant:"outline",className:"cursor-pointer hover:bg-primary hover:text-white transition-colors",children:p},p))]}),s.jsx("div",{className:f(),children:t.map((p,y)=>s.jsxs("div",{className:`group relative overflow-hidden rounded-lg ${h()}`,children:[s.jsxs("a",{href:p.src,"data-fancybox":"gallery","data-caption":p.caption,className:"block relative",children:[s.jsx("img",{src:p.thumb||p.src,alt:p.alt||p.caption,className:"w-full h-auto object-cover rounded-lg transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[s.jsx(ge,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white/90 hover:bg-white",onClick:g=>{g.preventDefault(),d()},children:s.jsx(Yc,{className:"h-4 w-4"})}),o&&s.jsx(ge,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white/90 hover:bg-white",onClick:g=>{g.preventDefault(),u(p)},children:s.jsx(fw,{className:"h-4 w-4"})}),a&&s.jsx(ge,{size:"icon",variant:"secondary",className:"h-8 w-8 bg-white/90 hover:bg-white",onClick:g=>{g.preventDefault(),c(p)},children:s.jsx(Xc,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(nye,{className:"h-8 w-8 text-white transform scale-0 group-hover:scale-100 transition-transform duration-300"})}),r&&p.caption&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:s.jsx("p",{className:"text-white text-sm font-medium line-clamp-2",children:p.caption})})]})]}),p.category&&s.jsx(jt,{className:"absolute top-2 left-2 z-10",children:p.category})]},p.id))}),s.jsx("style",{children:`
        .fancybox__container {
          --fancybox-bg: rgba(0, 0, 0, 0.95);
        }

        .fancybox__slide {
          padding: 2rem;
        }

        .fancybox__caption {
          background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
          padding: 1.5rem;
        }

        .fancybox__toolbar {
          background: rgba(0, 0, 0, 0.5);
          backdrop-filter: blur(10px);
        }

        .fancybox__thumbs {
          background: rgba(0, 0, 0, 0.8);
        }

        .fancybox__thumb {
          border: 2px solid transparent;
          transition: border-color 0.3s;
        }

        .fancybox__thumb.is-selected {
          border-color: #8b5cf6;
        }

        /* Masonry specific styles */
        .columns-1 { column-count: 1; }
        .columns-2 { column-count: 2; }
        .columns-3 { column-count: 3; }
        .columns-4 { column-count: 4; }
        
        @media (max-width: 640px) {
          .columns-2, .columns-3, .columns-4 { column-count: 1; }
        }
        
        @media (min-width: 640px) and (max-width: 768px) {
          .columns-3, .columns-4 { column-count: 2; }
        }
        
        @media (min-width: 768px) and (max-width: 1024px) {
          .columns-4 { column-count: 3; }
        }
      `})]})}function Ou(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function die(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var yo={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},vv={duration:.5,overwrite:!1,delay:0},b5,gs,Or,Ko=1e8,hr=1/Ko,qI=Math.PI*2,oPe=qI/4,lPe=0,fie=Math.sqrt,cPe=Math.cos,uPe=Math.sin,as=function(e){return typeof e=="string"},ei=function(e){return typeof e=="function"},cd=function(e){return typeof e=="number"},w5=function(e){return typeof e>"u"},Jc=function(e){return typeof e=="object"},Oa=function(e){return e!==!1},_5=function(){return typeof window<"u"},g_=function(e){return ei(e)||as(e)},hie=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Hs=Array.isArray,GI=/(?:-?\.?\d|\.)+/gi,pie=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Sg=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,wM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mie=/[+-]=-?[.\d]+/,gie=/[^,'"\[\]\s]+/gi,dPe=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$r,wc,WI,S5,So={},Ij={},vie,xie=function(e){return(Ij=xv(e,So))&&Va},j5=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},lb=function(e,n){return!n&&console.warn(e)},yie=function(e,n){return e&&(So[e]=n)&&Ij&&(Ij[e]=n)||So},cb=function(){return 0},fPe={suppressEvents:!0,isStart:!0,kill:!1},FS={suppressEvents:!0,kill:!1},hPe={suppressEvents:!0},E5={},Pf=[],XI={},bie,lo={},_M={},EH=30,US=[],N5="",A5=function(e){var n=e[0],r,i;if(Jc(n)||ei(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=US.length;i--&&!US[i].targetTest(n););r=US[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Vie(e[i],r)))||e.splice(i,1);return e},yp=function(e){return e._gsap||A5(Qo(e))[0]._gsap},wie=function(e,n,r){return(r=e[n])&&ei(r)?e[n]():w5(r)&&e.getAttribute&&e.getAttribute(n)||r},Ia=function(e,n){return(e=e.split(",")).forEach(n)||e},si=function(e){return Math.round(e*1e5)/1e5||0},bi=function(e){return Math.round(e*1e7)/1e7||0},Vg=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},pPe=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},kj=function(){var e=Pf.length,n=Pf.slice(0),r,i;for(XI={},Pf.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},C5=function(e){return!!(e._initted||e._startAt||e.add)},_ie=function(e,n,r,i){Pf.length&&!gs&&kj(),e.render(n,r,!!(gs&&n<0&&C5(e))),Pf.length&&!gs&&kj()},Sie=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(gie).length<2?n:as(e)?e.trim():e},jie=function(e){return e},jo=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},mPe=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},xv=function(e,n){for(var r in n)e[r]=n[r];return e},NH=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Jc(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Lj=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},_0=function(e){var n=e.parent||$r,r=e.keyframes?mPe(Hs(e.keyframes)):jo;if(Oa(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},gPe=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},Eie=function(e,n,r,i,a){var o=e[i],l;if(a)for(l=n[a];o&&o[a]>l;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},kN=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var a=n._prev,o=n._next;a?a._next=o:e[r]===n&&(e[r]=o),o?o._prev=a:e[i]===n&&(e[i]=a),n._next=n._prev=n.parent=null},Gf=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},bp=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},vPe=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},YI=function(e,n,r,i){return e._startAt&&(gs?e._startAt.revert(FS):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},xPe=function t(e){return!e||e._ts&&t(e.parent)},AH=function(e){return e._repeat?yv(e._tTime,e=e.duration()+e._rDelay)*e:0},yv=function(e,n){var r=Math.floor(e=bi(e/n));return e&&r===e?r-1:r},Fj=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},LN=function(e){return e._end=bi(e._start+(e._tDur/Math.abs(e._ts||e._rts||hr)||0))},FN=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=bi(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),LN(e),r._dirty||bp(r,e)),e},Nie=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=Fj(e.rawTime(),n),(!n._dur||Nw(0,n.totalDuration(),r)-n._tTime>hr)&&n.render(r,!0)),bp(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-hr}},Ac=function(e,n,r,i){return n.parent&&Gf(n),n._start=bi((cd(r)?r:r||e!==$r?Bo(e,r,n):e._time)+n._delay),n._end=bi(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Eie(e,n,"_first","_last",e._sort?"_start":0),KI(n)||(e._recent=n),i||Nie(e,n),e._ts<0&&FN(e,e._tTime),e},Aie=function(e,n){return(So.ScrollTrigger||j5("scrollTrigger",n))&&So.ScrollTrigger.create(n,e)},Cie=function(e,n,r,i,a){if(T5(e,n,a),!e._initted)return 1;if(!r&&e._pt&&!gs&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&bie!==fo.frame)return Pf.push(e),e._lazy=[a,i],1},yPe=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},KI=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},bPe=function(e,n,r,i){var a=e.ratio,o=n<0||!n&&(!e._start&&yPe(e)&&!(!e._initted&&KI(e))||(e._ts<0||e._dp._ts<0)&&!KI(e))?0:1,l=e._rDelay,c=0,u,d,f;if(l&&e._repeat&&(c=Nw(0,e._tDur,n),d=yv(c,l),e._yoyo&&d&1&&(o=1-o),d!==yv(e._tTime,l)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==a||gs||i||e._zTime===hr||!n&&e._zTime){if(!e._initted&&Cie(e,n,i,r,c))return;for(f=e._zTime,e._zTime=n||(r?hr:0),r||(r=n&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&YI(e,n,r,!0),e._onUpdate&&!r&&mo(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&mo(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Gf(e,1),!r&&!gs&&(mo(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},wPe=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},bv=function(e,n,r,i){var a=e._repeat,o=bi(n)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=a?a<0?1e10:bi(o*(a+1)+e._rDelay*a):o,l>0&&!i&&FN(e,e._tTime=e._tDur*l),e.parent&&LN(e),r||bp(e.parent,e),e},CH=function(e){return e instanceof ca?bp(e):bv(e,e._dur)},_Pe={_start:0,endTime:cb,totalDuration:cb},Bo=function t(e,n,r){var i=e.labels,a=e._recent||_Pe,o=e.duration()>=Ko?a.endTime(!1):e._dur,l,c,u;return as(n)&&(isNaN(n)||n in i)?(c=n.charAt(0),u=n.substr(-1)==="%",l=n.indexOf("="),c==="<"||c===">"?(l>=0&&(n=n.replace(/=/,"")),(c==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(l<0?a:r).totalDuration()/100:1)):l<0?(n in i||(i[n]=o),i[n]):(c=parseFloat(n.charAt(l-1)+n.substr(l+1)),u&&r&&(c=c/100*(Hs(r)?r[0]:r).totalDuration()),l>1?t(e,n.substr(0,l-1),r)+c:o+c)):n==null?o:+n},S0=function(e,n,r){var i=cd(n[1]),a=(i?2:1)+(e<2?0:1),o=n[a],l,c;if(i&&(o.duration=n[1]),o.parent=r,e){for(l=o,c=r;c&&!("immediateRender"in l);)l=c.vars.defaults||{},c=Oa(c.vars.inherit)&&c.parent;o.immediateRender=Oa(l.immediateRender),e<2?o.runBackwards=1:o.startAt=n[a-1]}return new yi(n[0],o,n[a+1])},ah=function(e,n){return e||e===0?n(e):n},Nw=function(e,n,r){return r<e?e:r>n?n:r},ks=function(e,n){return!as(e)||!(n=dPe.exec(e))?"":n[1]},SPe=function(e,n,r){return ah(r,function(i){return Nw(e,n,i)})},QI=[].slice,Mie=function(e,n){return e&&Jc(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&Jc(e[0]))&&!e.nodeType&&e!==wc},jPe=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var a;return as(i)&&!n||Mie(i,1)?(a=r).push.apply(a,Qo(i)):r.push(i)})||r},Qo=function(e,n,r){return Or&&!n&&Or.selector?Or.selector(e):as(e)&&!r&&(WI||!wv())?QI.call((n||S5).querySelectorAll(e),0):Hs(e)?jPe(e,r):Mie(e)?QI.call(e,0):e?[e]:[]},ZI=function(e){return e=Qo(e)[0]||lb("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Qo(n,r.querySelectorAll?r:r===e?lb("Invalid scope")||S5.createElement("div"):e)}},Tie=function(e){return e.sort(function(){return .5-Math.random()})},Pie=function(e){if(ei(e))return e;var n=Jc(e)?e:{each:e},r=wp(n.ease),i=n.from||0,a=parseFloat(n.base)||0,o={},l=i>0&&i<1,c=isNaN(i)||l,u=n.axis,d=i,f=i;return as(i)?d=f={center:.5,edges:.5,end:1}[i]||0:!l&&c&&(d=i[0],f=i[1]),function(h,p,y){var g=(y||n).length,v=o[g],b,w,_,S,j,A,C,N,T;if(!v){if(T=n.grid==="auto"?0:(n.grid||[1,Ko])[1],!T){for(C=-Ko;C<(C=y[T++].getBoundingClientRect().left)&&T<g;);T<g&&T--}for(v=o[g]=[],b=c?Math.min(T,g)*d-.5:i%T,w=T===Ko?0:c?g*f/T-.5:i/T|0,C=0,N=Ko,A=0;A<g;A++)_=A%T-b,S=w-(A/T|0),v[A]=j=u?Math.abs(u==="y"?S:_):fie(_*_+S*S),j>C&&(C=j),j<N&&(N=j);i==="random"&&Tie(v),v.max=C-N,v.min=N,v.v=g=(parseFloat(n.amount)||parseFloat(n.each)*(T>g?g-1:u?u==="y"?g/T:T:Math.max(T,g/T))||0)*(i==="edges"?-1:1),v.b=g<0?a-g:a,v.u=ks(n.amount||n.each)||0,r=r&&g<0?$ie(r):r}return g=(v[h]-v.min)/v.max||0,bi(v.b+(r?r(g):g)*v.v)+v.u}},JI=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=bi(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(cd(r)?0:ks(r))}},Die=function(e,n){var r=Hs(e),i,a;return!r&&Jc(e)&&(i=r=e.radius||Ko,e.values?(e=Qo(e.values),(a=!cd(e[0]))&&(i*=i)):e=JI(e.increment)),ah(n,r?ei(e)?function(o){return a=e(o),Math.abs(a-o)<=i?a:o}:function(o){for(var l=parseFloat(a?o.x:o),c=parseFloat(a?o.y:0),u=Ko,d=0,f=e.length,h,p;f--;)a?(h=e[f].x-l,p=e[f].y-c,h=h*h+p*p):h=Math.abs(e[f]-l),h<u&&(u=h,d=f);return d=!i||u<=i?e[d]:o,a||d===o||cd(o)?d:d+ks(o)}:JI(e))},Rie=function(e,n,r,i){return ah(Hs(e)?!n:r===!0?!!(r=0):!i,function(){return Hs(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},EPe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(a,o){return o(a)},i)}},NPe=function(e,n){return function(r){return e(parseFloat(r))+(n||ks(r))}},APe=function(e,n,r){return Iie(e,n,0,1,r)},Oie=function(e,n,r){return ah(r,function(i){return e[~~n(i)]})},CPe=function t(e,n,r){var i=n-e;return Hs(e)?Oie(e,t(0,e.length),n):ah(r,function(a){return(i+(a-e)%i)%i+e})},MPe=function t(e,n,r){var i=n-e,a=i*2;return Hs(e)?Oie(e,t(0,e.length-1),n):ah(r,function(o){return o=(a+(o-e)%a)%a||0,e+(o>i?a-o:o)})},ub=function(e){for(var n=0,r="",i,a,o,l;~(i=e.indexOf("random(",n));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",a=e.substr(i+7,o-i-7).match(l?gie:GI),r+=e.substr(n,i-n)+Rie(l?a:+a[0],l?0:+a[1],+a[2]||1e-5),n=o+1;return r+e.substr(n,e.length-n)},Iie=function(e,n,r,i,a){var o=n-e,l=i-r;return ah(a,function(c){return r+((c-e)/o*l||0)})},TPe=function t(e,n,r,i){var a=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!a){var o=as(e),l={},c,u,d,f,h;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Hs(e)&&!Hs(n)){for(d=[],f=e.length,h=f-2,u=1;u<f;u++)d.push(t(e[u-1],e[u]));f--,a=function(y){y*=f;var g=Math.min(h,~~y);return d[g](y-g)},r=n}else i||(e=xv(Hs(e)?[]:{},e));if(!d){for(c in n)M5.call(l,e,c,"get",n[c]);a=function(y){return R5(y,l)||(o?e.p:e)}}}return ah(r,a)},MH=function(e,n,r){var i=e.labels,a=Ko,o,l,c;for(o in i)l=i[o]-n,l<0==!!r&&l&&a>(l=Math.abs(l))&&(c=o,a=l);return c},mo=function(e,n,r){var i=e.vars,a=i[n],o=Or,l=e._ctx,c,u,d;if(a)return c=i[n+"Params"],u=i.callbackScope||e,r&&Pf.length&&kj(),l&&(Or=l),d=c?a.apply(u,c):a.call(u),Or=o,d},i0=function(e){return Gf(e),e.scrollTrigger&&e.scrollTrigger.kill(!!gs),e.progress()<1&&mo(e,"onInterrupt"),e},jg,kie=[],Lie=function(e){if(e)if(e=!e.name&&e.default||e,_5()||e.headless){var n=e.name,r=ei(e),i=n&&!r&&e.init?function(){this._props=[]}:e,a={init:cb,render:R5,add:M5,kill:GPe,modifier:qPe,rawVars:0},o={targetTest:0,get:0,getSetter:D5,aliases:{},register:0};if(wv(),e!==i){if(lo[n])return;jo(i,jo(Lj(e,a),o)),xv(i.prototype,xv(a,Lj(e,o))),lo[i.prop=n]=i,e.targetTest&&(US.push(i),E5[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}yie(n,i),e.register&&e.register(Va,i,ka)}else kie.push(e)},fr=255,s0={aqua:[0,fr,fr],lime:[0,fr,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,fr],navy:[0,0,128],white:[fr,fr,fr],olive:[128,128,0],yellow:[fr,fr,0],orange:[fr,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[fr,0,0],pink:[fr,192,203],cyan:[0,fr,fr],transparent:[fr,fr,fr,0]},SM=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*fr+.5|0},Fie=function(e,n,r){var i=e?cd(e)?[e>>16,e>>8&fr,e&fr]:0:s0.black,a,o,l,c,u,d,f,h,p,y;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),s0[e])i=s0[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+a+a+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&fr,i&fr,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&fr,e&fr]}else if(e.substr(0,3)==="hsl"){if(i=y=e.match(GI),!n)c=+i[0]%360/360,u=+i[1]/100,d=+i[2]/100,o=d<=.5?d*(u+1):d+u-d*u,a=d*2-o,i.length>3&&(i[3]*=1),i[0]=SM(c+1/3,a,o),i[1]=SM(c,a,o),i[2]=SM(c-1/3,a,o);else if(~e.indexOf("="))return i=e.match(pie),r&&i.length<4&&(i[3]=1),i}else i=e.match(GI)||s0.transparent;i=i.map(Number)}return n&&!y&&(a=i[0]/fr,o=i[1]/fr,l=i[2]/fr,f=Math.max(a,o,l),h=Math.min(a,o,l),d=(f+h)/2,f===h?c=u=0:(p=f-h,u=d>.5?p/(2-f-h):p/(f+h),c=f===a?(o-l)/p+(o<l?6:0):f===o?(l-a)/p+2:(a-o)/p+4,c*=60),i[0]=~~(c+.5),i[1]=~~(u*100+.5),i[2]=~~(d*100+.5)),r&&i.length<4&&(i[3]=1),i},Uie=function(e){var n=[],r=[],i=-1;return e.split(Df).forEach(function(a){var o=a.match(Sg)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},TH=function(e,n,r){var i="",a=(e+i).match(Df),o=n?"hsla(":"rgba(",l=0,c,u,d,f;if(!a)return e;if(a=a.map(function(h){return(h=Fie(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),r&&(d=Uie(e),c=r.c,c.join(i)!==d.c.join(i)))for(u=e.replace(Df,"1").split(Sg),f=u.length-1;l<f;l++)i+=u[l]+(~c.indexOf(l)?a.shift()||o+"0,0,0,0)":(d.length?d:a.length?a:r).shift());if(!u)for(u=e.split(Df),f=u.length-1;l<f;l++)i+=u[l]+a[l];return i+u[f]},Df=(function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in s0)t+="|"+e+"\\b";return new RegExp(t+")","gi")})(),PPe=/hsl[a]?\(/,Bie=function(e){var n=e.join(" "),r;if(Df.lastIndex=0,Df.test(n))return r=PPe.test(n),e[1]=TH(e[1],r),e[0]=TH(e[0],r,Uie(e[1])),!0},db,fo=(function(){var t=Date.now,e=500,n=33,r=t(),i=r,a=1e3/240,o=a,l=[],c,u,d,f,h,p,y=function g(v){var b=t()-i,w=v===!0,_,S,j,A;if((b>e||b<0)&&(r+=b-n),i+=b,j=i-r,_=j-o,(_>0||w)&&(A=++f.frame,h=j-f.time*1e3,f.time=j=j/1e3,o+=_+(_>=a?4:a-_),S=1),w||(c=u(g)),S)for(p=0;p<l.length;p++)l[p](j,h,A,v)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){vie&&(!WI&&_5()&&(wc=WI=window,S5=wc.document||{},So.gsap=Va,(wc.gsapVersions||(wc.gsapVersions=[])).push(Va.version),xie(Ij||wc.GreenSockGlobals||!wc.gsap&&wc||{}),kie.forEach(Lie)),d=typeof requestAnimationFrame<"u"&&requestAnimationFrame,c&&f.sleep(),u=d||function(v){return setTimeout(v,o-f.time*1e3+1|0)},db=1,y(2))},sleep:function(){(d?cancelAnimationFrame:clearTimeout)(c),db=0,u=cb},lagSmoothing:function(v,b){e=v||1/0,n=Math.min(b||33,e)},fps:function(v){a=1e3/(v||240),o=f.time*1e3+a},add:function(v,b,w){var _=b?function(S,j,A,C){v(S,j,A,C),f.remove(_)}:v;return f.remove(v),l[w?"unshift":"push"](_),wv(),_},remove:function(v,b){~(b=l.indexOf(v))&&l.splice(b,1)&&p>=b&&p--},_listeners:l},f})(),wv=function(){return!db&&fo.wake()},Ln={},DPe=/^[\d.\-M][\d.\-,\s]/,RPe=/["']/g,OPe=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],a=1,o=r.length,l,c,u;a<o;a++)c=r[a],l=a!==o-1?c.lastIndexOf(","):c.length,u=c.substr(0,l),n[i]=isNaN(u)?u.replace(RPe,"").trim():+u,i=c.substr(l+1).trim();return n},IPe=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},kPe=function(e){var n=(e+"").split("("),r=Ln[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[OPe(n[1])]:IPe(e).split(",").map(Sie)):Ln._CE&&DPe.test(e)?Ln._CE("",e):r},$ie=function(e){return function(n){return 1-e(1-n)}},zie=function t(e,n){for(var r=e._first,i;r;)r instanceof ca?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},wp=function(e,n){return e&&(ei(e)?e:Ln[e]||kPe(e))||n},im=function(e,n,r,i){r===void 0&&(r=function(c){return 1-n(1-c)}),i===void 0&&(i=function(c){return c<.5?n(c*2)/2:1-n((1-c)*2)/2});var a={easeIn:n,easeOut:r,easeInOut:i},o;return Ia(e,function(l){Ln[l]=So[l]=a,Ln[o=l.toLowerCase()]=r;for(var c in a)Ln[o+(c==="easeIn"?".in":c==="easeOut"?".out":".inOut")]=Ln[l+"."+c]=a[c]}),a},Hie=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},jM=function t(e,n,r){var i=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),o=a/qI*(Math.asin(1/i)||0),l=function(d){return d===1?1:i*Math.pow(2,-10*d)*uPe((d-o)*a)+1},c=e==="out"?l:e==="in"?function(u){return 1-l(1-u)}:Hie(l);return a=qI/a,c.config=function(u,d){return t(e,u,d)},c},EM=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(a){return 1-r(1-a)}:Hie(r);return i.config=function(a){return t(e,a)},i};Ia("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;im(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});Ln.Linear.easeNone=Ln.none=Ln.Linear.easeIn;im("Elastic",jM("in"),jM("out"),jM());(function(t,e){var n=1/e,r=2*n,i=2.5*n,a=function(l){return l<n?t*l*l:l<r?t*Math.pow(l-1.5/e,2)+.75:l<i?t*(l-=2.25/e)*l+.9375:t*Math.pow(l-2.625/e,2)+.984375};im("Bounce",function(o){return 1-a(1-o)},a)})(7.5625,2.75);im("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});im("Circ",function(t){return-(fie(1-t*t)-1)});im("Sine",function(t){return t===1?1:-cPe(t*oPe)+1});im("Back",EM("in"),EM("out"),EM());Ln.SteppedEase=Ln.steps=So.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),a=n?1:0,o=1-hr;return function(l){return((i*Nw(0,o,l)|0)+a)*r}}};vv.ease=Ln["quad.out"];Ia("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return N5+=t+","+t+"Params,"});var Vie=function(e,n){this.id=lPe++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:wie,this.set=n?n.getSetter:D5},fb=(function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,bv(this,+n.duration,1,1),this.data=n.data,Or&&(this._ctx=Or,Or.data.push(this)),db||fo.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,bv(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(wv(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(FN(this,r),!a._dp||a.parent||Nie(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Ac(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===hr||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),_ie(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+AH(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+AH(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*a,i):this._repeat?yv(this._tTime,a)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-hr?0:this._rts;if(this._rts===r)return this;var a=this.parent&&this._ts?Fj(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-hr?0:this._rts,this.totalTime(Nw(-Math.abs(this._delay),this.totalDuration(),a),i!==!1),LN(this),vPe(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wv(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==hr&&(this._tTime-=hr)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Ac(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Oa(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fj(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=hPe);var i=gs;return gs=r,C5(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),gs=i,this},e.globalTime=function(r){for(var i=this,a=arguments.length?r:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):a},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,CH(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,CH(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Bo(this,r),Oa(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Oa(i)),this._dur||(this._zTime=-hr),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-hr:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-hr,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,a;return!!(!r||this._ts&&this._initted&&r.isActive()&&(a=r.rawTime(!0))>=i&&a<this.endTime(!0)-hr)},e.eventCallback=function(r,i,a){var o=this.vars;return arguments.length>1?(i?(o[r]=i,a&&(o[r+"Params"]=a),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(a){var o=ei(r)?r:jie,l=function(){var u=i.then;i.then=null,ei(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=u),a(o),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){i0(this)},t})();jo(fb.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-hr,_prom:0,_ps:!1,_rts:1});var ca=(function(t){die(e,t);function e(r,i){var a;return r===void 0&&(r={}),a=t.call(this,r)||this,a.labels={},a.smoothChildTiming=!!r.smoothChildTiming,a.autoRemoveChildren=!!r.autoRemoveChildren,a._sort=Oa(r.sortChildren),$r&&Ac(r.parent||$r,Ou(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),r.scrollTrigger&&Aie(Ou(a),r.scrollTrigger),a}var n=e.prototype;return n.to=function(i,a,o){return S0(0,arguments,this),this},n.from=function(i,a,o){return S0(1,arguments,this),this},n.fromTo=function(i,a,o,l){return S0(2,arguments,this),this},n.set=function(i,a,o){return a.duration=0,a.parent=this,_0(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new yi(i,a,Bo(this,o),1),this},n.call=function(i,a,o){return Ac(this,yi.delayedCall(0,i,a),o)},n.staggerTo=function(i,a,o,l,c,u,d){return o.duration=a,o.stagger=o.stagger||l,o.onComplete=u,o.onCompleteParams=d,o.parent=this,new yi(i,o,Bo(this,c)),this},n.staggerFrom=function(i,a,o,l,c,u,d){return o.runBackwards=1,_0(o).immediateRender=Oa(o.immediateRender),this.staggerTo(i,a,o,l,c,u,d)},n.staggerFromTo=function(i,a,o,l,c,u,d,f){return l.startAt=o,_0(l).immediateRender=Oa(l.immediateRender),this.staggerTo(i,a,l,c,u,d,f)},n.render=function(i,a,o){var l=this._time,c=this._dirty?this.totalDuration():this._tDur,u=this._dur,d=i<=0?0:bi(i),f=this._zTime<0!=i<0&&(this._initted||!u),h,p,y,g,v,b,w,_,S,j,A,C;if(this!==$r&&d>c&&i>=0&&(d=c),d!==this._tTime||o||f){if(l!==this._time&&u&&(d+=this._time-l,i+=this._time-l),h=d,S=this._start,_=this._ts,b=!_,f&&(u||(l=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(A=this._yoyo,v=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(v*100+i,a,o);if(h=bi(d%v),d===c?(g=this._repeat,h=u):(j=bi(d/v),g=~~j,g&&g===j&&(h=u,g--),h>u&&(h=u)),j=yv(this._tTime,v),!l&&this._tTime&&j!==g&&this._tTime-j*v-this._dur<=0&&(j=g),A&&g&1&&(h=u-h,C=1),g!==j&&!this._lock){var N=A&&j&1,T=N===(A&&g&1);if(g<j&&(N=!N),l=N?0:d%u?u:d,this._lock=1,this.render(l||(C?0:bi(g*v)),a,!u)._lock=0,this._tTime=d,!a&&this.parent&&mo(this,"onRepeat"),this.vars.repeatRefresh&&!C&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,c=this._tDur,T&&(this._lock=2,l=N?u:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!C&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;zie(this,C)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=wPe(this,bi(l),bi(h)),w&&(d-=h-(h=w._start))),this._tTime=d,this._time=h,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!a&&!j&&(mo(this,"onStart"),this._tTime!==d))return this;if(h>=l&&i>=0)for(p=this._first;p;){if(y=p._next,(p._act||h>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,a,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,a,o),h!==this._time||!this._ts&&!b){w=0,y&&(d+=this._zTime=-hr);break}}p=y}else{p=this._last;for(var P=i<0?i:h;p;){if(y=p._prev,(p._act||P<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,a,o);if(p.render(p._ts>0?(P-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(P-p._start)*p._ts,a,o||gs&&C5(p)),h!==this._time||!this._ts&&!b){w=0,y&&(d+=this._zTime=P?-hr:hr);break}}p=y}}if(w&&!a&&(this.pause(),w.render(h>=l?0:-hr)._zTime=h>=l?1:-1,this._ts))return this._start=S,LN(this),this.render(i,a,o);this._onUpdate&&!a&&mo(this,"onUpdate",!0),(d===c&&this._tTime>=this.totalDuration()||!d&&l)&&(S===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(d===c&&this._ts>0||!d&&this._ts<0)&&Gf(this,1),!a&&!(i<0&&!l)&&(d||l||!c)&&(mo(this,d===c&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(d<c&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var o=this;if(cd(a)||(a=Bo(this,a,i)),!(i instanceof fb)){if(Hs(i))return i.forEach(function(l){return o.add(l,a)}),this;if(as(i))return this.addLabel(i,a);if(ei(i))i=yi.delayedCall(0,i);else return this}return this!==i?Ac(this,i,a):this},n.getChildren=function(i,a,o,l){i===void 0&&(i=!0),a===void 0&&(a=!0),o===void 0&&(o=!0),l===void 0&&(l=-Ko);for(var c=[],u=this._first;u;)u._start>=l&&(u instanceof yi?a&&c.push(u):(o&&c.push(u),i&&c.push.apply(c,u.getChildren(!0,a,o)))),u=u._next;return c},n.getById=function(i){for(var a=this.getChildren(1,1,1),o=a.length;o--;)if(a[o].vars.id===i)return a[o]},n.remove=function(i){return as(i)?this.removeLabel(i):ei(i)?this.killTweensOf(i):(i.parent===this&&kN(this,i),i===this._recent&&(this._recent=this._last),bp(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=bi(fo.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=Bo(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,o){var l=yi.delayedCall(0,a||cb,o);return l.data="isPause",this._hasPause=1,Ac(this,l,Bo(this,i))},n.removePause=function(i){var a=this._first;for(i=Bo(this,i);a;)a._start===i&&a.data==="isPause"&&Gf(a),a=a._next},n.killTweensOf=function(i,a,o){for(var l=this.getTweensOf(i,o),c=l.length;c--;)mf!==l[c]&&l[c].kill(i,a);return this},n.getTweensOf=function(i,a){for(var o=[],l=Qo(i),c=this._first,u=cd(a),d;c;)c instanceof yi?pPe(c._targets,l)&&(u?(!mf||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&o.push(c):(d=c.getTweensOf(l,a)).length&&o.push.apply(o,d),c=c._next;return o},n.tweenTo=function(i,a){a=a||{};var o=this,l=Bo(o,i),c=a,u=c.startAt,d=c.onStart,f=c.onStartParams,h=c.immediateRender,p,y=yi.to(o,jo({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:a.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale())||hr,onStart:function(){if(o.pause(),!p){var v=a.duration||Math.abs((l-(u&&"time"in u?u.time:o._time))/o.timeScale());y._dur!==v&&bv(y,v,0,1).render(y._time,!0,!0),p=1}d&&d.apply(y,f||[])}},a));return h?y.render(0):y},n.tweenFromTo=function(i,a,o){return this.tweenTo(a,jo({startAt:{time:Bo(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),MH(this,Bo(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),MH(this,Bo(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+hr)},n.shiftChildren=function(i,a,o){o===void 0&&(o=0);for(var l=this._first,c=this.labels,u;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(a)for(u in c)c[u]>=o&&(c[u]+=i);return bp(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,o;a;)o=a._next,this.remove(a),a=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),bp(this)},n.totalDuration=function(i){var a=0,o=this,l=o._last,c=Ko,u,d,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;l;)u=l._prev,l._dirty&&l.totalDuration(),d=l._start,d>c&&o._sort&&l._ts&&!o._lock?(o._lock=1,Ac(o,l,d-l._delay,1)._lock=0):c=d,d<0&&l._ts&&(a-=d,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=d/o._ts,o._time-=d,o._tTime-=d),o.shiftChildren(-d,!1,-1/0),c=0),l._end>a&&l._ts&&(a=l._end),l=u;bv(o,o===$r&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if($r._ts&&(_ie($r,Fj(i,$r)),bie=fo.frame),fo.frame>=EH){EH+=yo.autoSleep||120;var a=$r._first;if((!a||!a._ts)&&yo.autoSleep&&fo._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||fo.sleep()}}},e})(fb);jo(ca.prototype,{_lock:0,_hasPause:0,_forcing:0});var LPe=function(e,n,r,i,a,o,l){var c=new ka(this._pt,e,n,0,1,Kie,null,a),u=0,d=0,f,h,p,y,g,v,b,w;for(c.b=r,c.e=i,r+="",i+="",(b=~i.indexOf("random("))&&(i=ub(i)),o&&(w=[r,i],o(w,e,n),r=w[0],i=w[1]),h=r.match(wM)||[];f=wM.exec(i);)y=f[0],g=i.substring(u,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),y!==h[d++]&&(v=parseFloat(h[d-1])||0,c._pt={_next:c._pt,p:g||d===1?g:",",s:v,c:y.charAt(1)==="="?Vg(v,y)-v:parseFloat(y)-v,m:p&&p<4?Math.round:0},u=wM.lastIndex);return c.c=u<i.length?i.substring(u,i.length):"",c.fp=l,(mie.test(i)||b)&&(c.e=0),this._pt=c,c},M5=function(e,n,r,i,a,o,l,c,u,d){ei(i)&&(i=i(a||0,e,o));var f=e[n],h=r!=="get"?r:ei(f)?u?e[n.indexOf("set")||!ei(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():f,p=ei(f)?u?zPe:Xie:P5,y;if(as(i)&&(~i.indexOf("random(")&&(i=ub(i)),i.charAt(1)==="="&&(y=Vg(h,i)+(ks(h)||0),(y||y===0)&&(i=y))),!d||h!==i||ek)return!isNaN(h*i)&&i!==""?(y=new ka(this._pt,e,n,+h||0,i-(h||0),typeof f=="boolean"?VPe:Yie,0,p),u&&(y.fp=u),l&&y.modifier(l,this,e),this._pt=y):(!f&&!(n in e)&&j5(n,i),LPe.call(this,e,n,h,i,p,c||yo.stringFilter,u))},FPe=function(e,n,r,i,a){if(ei(e)&&(e=j0(e,a,n,r,i)),!Jc(e)||e.style&&e.nodeType||Hs(e)||hie(e))return as(e)?j0(e,a,n,r,i):e;var o={},l;for(l in e)o[l]=j0(e[l],a,n,r,i);return o},qie=function(e,n,r,i,a,o){var l,c,u,d;if(lo[e]&&(l=new lo[e]).init(a,l.rawVars?n[e]:FPe(n[e],i,a,o,r),r,i,o)!==!1&&(r._pt=c=new ka(r._pt,a,e,0,1,l.render,l,0,l.priority),r!==jg))for(u=r._ptLookup[r._targets.indexOf(a)],d=l._props.length;d--;)u[l._props[d]]=c;return l},mf,ek,T5=function t(e,n,r){var i=e.vars,a=i.ease,o=i.startAt,l=i.immediateRender,c=i.lazy,u=i.onUpdate,d=i.runBackwards,f=i.yoyoEase,h=i.keyframes,p=i.autoRevert,y=e._dur,g=e._startAt,v=e._targets,b=e.parent,w=b&&b.data==="nested"?b.vars.targets:v,_=e._overwrite==="auto"&&!b5,S=e.timeline,j,A,C,N,T,P,D,O,I,L,z,q,V;if(S&&(!h||!a)&&(a="none"),e._ease=wp(a,vv.ease),e._yEase=f?$ie(wp(f===!0?a:f,vv.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!S&&!!i.runBackwards,!S||h&&!i.stagger){if(O=v[0]?yp(v[0]).harness:0,q=O&&i[O.prop],j=Lj(i,E5),g&&(g._zTime<0&&g.progress(1),n<0&&d&&l&&!p?g.render(-1,!0):g.revert(d&&y?FS:fPe),g._lazy=0),o){if(Gf(e._startAt=yi.set(v,jo({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!g&&Oa(c),startAt:null,delay:0,onUpdate:u&&function(){return mo(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(gs||!l&&!p)&&e._startAt.revert(FS),l&&y&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(d&&y&&!g){if(n&&(l=!1),C=jo({overwrite:!1,data:"isFromStart",lazy:l&&!g&&Oa(c),immediateRender:l,stagger:0,parent:b},j),q&&(C[O.prop]=q),Gf(e._startAt=yi.set(v,C)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(gs?e._startAt.revert(FS):e._startAt.render(-1,!0)),e._zTime=n,!l)t(e._startAt,hr,hr);else if(!n)return}for(e._pt=e._ptCache=0,c=y&&Oa(c)||c&&!y,A=0;A<v.length;A++){if(T=v[A],D=T._gsap||A5(v)[A]._gsap,e._ptLookup[A]=L={},XI[D.id]&&Pf.length&&kj(),z=w===v?A:w.indexOf(T),O&&(I=new O).init(T,q||j,e,z,w)!==!1&&(e._pt=N=new ka(e._pt,T,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(F){L[F]=N}),I.priority&&(P=1)),!O||q)for(C in j)lo[C]&&(I=qie(C,j,e,z,T,w))?I.priority&&(P=1):L[C]=N=M5.call(e,T,C,"get",j[C],z,w,0,i.stringFilter);e._op&&e._op[A]&&e.kill(T,e._op[A]),_&&e._pt&&(mf=e,$r.killTweensOf(T,L,e.globalTime(n)),V=!e.parent,mf=0),e._pt&&c&&(XI[D.id]=1)}P&&Qie(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!V,h&&n<=0&&S.render(Ko,!0,!0)},UPe=function(e,n,r,i,a,o,l,c){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],d,f,h,p;if(!u)for(u=e._ptCache[n]=[],h=e._ptLookup,p=e._targets.length;p--;){if(d=h[p][n],d&&d.d&&d.d._pt)for(d=d.d._pt;d&&d.p!==n&&d.fp!==n;)d=d._next;if(!d)return ek=1,e.vars[n]="+=0",T5(e,l),ek=0,c?lb(n+" not eligible for reset"):1;u.push(d)}for(p=u.length;p--;)f=u[p],d=f._pt||f,d.s=(i||i===0)&&!a?i:d.s+(i||0)+o*d.c,d.c=r-d.s,f.e&&(f.e=si(r)+ks(f.e)),f.b&&(f.b=d.s+ks(f.b))},BPe=function(e,n){var r=e[0]?yp(e[0]).harness:0,i=r&&r.aliases,a,o,l,c;if(!i)return n;a=xv({},n);for(o in i)if(o in a)for(c=i[o].split(","),l=c.length;l--;)a[c[l]]=a[o];return a},$Pe=function(e,n,r,i){var a=n.ease||i||"power1.inOut",o,l;if(Hs(n))l=r[e]||(r[e]=[]),n.forEach(function(c,u){return l.push({t:u/(n.length-1)*100,v:c,e:a})});else for(o in n)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:n[o],e:a})},j0=function(e,n,r,i,a){return ei(e)?e.call(n,r,i,a):as(e)&&~e.indexOf("random(")?ub(e):e},Gie=N5+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Wie={};Ia(Gie+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Wie[t]=1});var yi=(function(t){die(e,t);function e(r,i,a,o){var l;typeof i=="number"&&(a.duration=i,i=a,a=null),l=t.call(this,o?i:_0(i))||this;var c=l.vars,u=c.duration,d=c.delay,f=c.immediateRender,h=c.stagger,p=c.overwrite,y=c.keyframes,g=c.defaults,v=c.scrollTrigger,b=c.yoyoEase,w=i.parent||$r,_=(Hs(r)||hie(r)?cd(r[0]):"length"in i)?[r]:Qo(r),S,j,A,C,N,T,P,D;if(l._targets=_.length?A5(_):lb("GSAP target "+r+" not found. https://gsap.com",!yo.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=p,y||h||g_(u)||g_(d)){if(i=l.vars,S=l.timeline=new ca({data:"nested",defaults:g||{},targets:w&&w.data==="nested"?w.vars.targets:_}),S.kill(),S.parent=S._dp=Ou(l),S._start=0,h||g_(u)||g_(d)){if(C=_.length,P=h&&Pie(h),Jc(h))for(N in h)~Gie.indexOf(N)&&(D||(D={}),D[N]=h[N]);for(j=0;j<C;j++)A=Lj(i,Wie),A.stagger=0,b&&(A.yoyoEase=b),D&&xv(A,D),T=_[j],A.duration=+j0(u,Ou(l),j,T,_),A.delay=(+j0(d,Ou(l),j,T,_)||0)-l._delay,!h&&C===1&&A.delay&&(l._delay=d=A.delay,l._start+=d,A.delay=0),S.to(T,A,P?P(j,T,_):0),S._ease=Ln.none;S.duration()?u=d=0:l.timeline=0}else if(y){_0(jo(S.vars.defaults,{ease:"none"})),S._ease=wp(y.ease||i.ease||"none");var O=0,I,L,z;if(Hs(y))y.forEach(function(q){return S.to(_,q,">")}),S.duration();else{A={};for(N in y)N==="ease"||N==="easeEach"||$Pe(N,y[N],A,y.easeEach);for(N in A)for(I=A[N].sort(function(q,V){return q.t-V.t}),O=0,j=0;j<I.length;j++)L=I[j],z={ease:L.e,duration:(L.t-(j?I[j-1].t:0))/100*u},z[N]=L.v,S.to(_,z,O),O+=z.duration;S.duration()<u&&S.to({},{duration:u-S.duration()})}}u||l.duration(u=S.duration())}else l.timeline=0;return p===!0&&!b5&&(mf=Ou(l),$r.killTweensOf(_),mf=0),Ac(w,Ou(l),a),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(f||!u&&!y&&l._start===bi(w._time)&&Oa(f)&&xPe(Ou(l))&&w.data!=="nested")&&(l._tTime=-hr,l.render(Math.max(0,-d)||0)),v&&Aie(Ou(l),v),l}var n=e.prototype;return n.render=function(i,a,o){var l=this._time,c=this._tDur,u=this._dur,d=i<0,f=i>c-hr&&!d?c:i<hr?0:i,h,p,y,g,v,b,w,_,S;if(!u)bPe(this,i,a,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==d||this._lazy){if(h=f,_=this.timeline,this._repeat){if(g=u+this._rDelay,this._repeat<-1&&d)return this.totalTime(g*100+i,a,o);if(h=bi(f%g),f===c?(y=this._repeat,h=u):(v=bi(f/g),y=~~v,y&&y===v?(h=u,y--):h>u&&(h=u)),b=this._yoyo&&y&1,b&&(S=this._yEase,h=u-h),v=yv(this._tTime,g),h===l&&!o&&this._initted&&y===v)return this._tTime=f,this;y!==v&&(_&&this._yEase&&zie(_,b),this.vars.repeatRefresh&&!b&&!this._lock&&h!==g&&this._initted&&(this._lock=o=1,this.render(bi(g*y),!0).invalidate()._lock=0))}if(!this._initted){if(Cie(this,d?i:h,o,a,f))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&y!==v))return this;if(u!==this._dur)return this.render(i,a,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(S||this._ease)(h/u),this._from&&(this.ratio=w=1-w),!l&&f&&!a&&!v&&(mo(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;_&&_.render(i<0?i:_._dur*_._ease(h/this._dur),a,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(d&&YI(this,i,a,o),mo(this,"onUpdate")),this._repeat&&y!==v&&this.vars.onRepeat&&!a&&this.parent&&mo(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(d&&!this._onUpdate&&YI(this,i,!0,!0),(i||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Gf(this,1),!a&&!(d&&!l)&&(f||l||b)&&(mo(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,o,l,c){db||fo.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),d;return this._initted||T5(this,u),d=this._ease(u/this._dur),UPe(this,i,a,o,l,d,u,c)?this.resetTo(i,a,o,l,1):(FN(this,0),this.parent||Eie(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?i0(this):this.scrollTrigger&&this.scrollTrigger.kill(!!gs),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,mf&&mf.vars.overwrite!==!0)._first||i0(this),this.parent&&o!==this.timeline.totalDuration()&&bv(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,c=i?Qo(i):l,u=this._ptLookup,d=this._pt,f,h,p,y,g,v,b;if((!a||a==="all")&&gPe(l,c))return a==="all"&&(this._pt=0),i0(this);for(f=this._op=this._op||[],a!=="all"&&(as(a)&&(g={},Ia(a,function(w){return g[w]=1}),a=g),a=BPe(l,a)),b=l.length;b--;)if(~c.indexOf(l[b])){h=u[b],a==="all"?(f[b]=a,y=h,p={}):(p=f[b]=f[b]||{},y=a);for(g in y)v=h&&h[g],v&&((!("kill"in v.d)||v.d.kill(g)===!0)&&kN(this,v,"_pt"),delete h[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&d&&i0(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return S0(1,arguments)},e.delayedCall=function(i,a,o,l){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,a,o){return S0(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,o){return $r.killTweensOf(i,a,o)},e})(fb);jo(yi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ia("staggerTo,staggerFrom,staggerFromTo",function(t){yi[t]=function(){var e=new ca,n=QI.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var P5=function(e,n,r){return e[n]=r},Xie=function(e,n,r){return e[n](r)},zPe=function(e,n,r,i){return e[n](i.fp,r)},HPe=function(e,n,r){return e.setAttribute(n,r)},D5=function(e,n){return ei(e[n])?Xie:w5(e[n])&&e.setAttribute?HPe:P5},Yie=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},VPe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},Kie=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},R5=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},qPe=function(e,n,r,i){for(var a=this._pt,o;a;)o=a._next,a.p===i&&a.modifier(e,n,r),a=o},GPe=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?kN(this,n,"_pt"):n.dep||(r=1),n=i;return!r},WPe=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},Qie=function(e){for(var n=e._pt,r,i,a,o;n;){for(r=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=a},ka=(function(){function t(n,r,i,a,o,l,c,u,d){this.t=r,this.s=a,this.c=o,this.p=i,this.r=l||Yie,this.d=c||this,this.set=u||P5,this.pr=d||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,a){this.mSet=this.mSet||this.set,this.set=WPe,this.m=r,this.mt=a,this.tween=i},t})();Ia(N5+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return E5[t]=1});So.TweenMax=So.TweenLite=yi;So.TimelineLite=So.TimelineMax=ca;$r=new ca({sortChildren:!1,defaults:vv,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});yo.stringFilter=Bie;var _p=[],BS={},XPe=[],PH=0,YPe=0,NM=function(e){return(BS[e]||XPe).map(function(n){return n()})},tk=function(){var e=Date.now(),n=[];e-PH>2&&(NM("matchMediaInit"),_p.forEach(function(r){var i=r.queries,a=r.conditions,o,l,c,u;for(l in i)o=wc.matchMedia(i[l]).matches,o&&(c=1),o!==a[l]&&(a[l]=o,u=1);u&&(r.revert(),c&&n.push(r))}),NM("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),PH=e,NM("matchMedia"))},Zie=(function(){function t(n,r){this.selector=r&&ZI(r),this.data=[],this._r=[],this.isReverted=!1,this.id=YPe++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,a){ei(r)&&(a=i,i=r,r=ei);var o=this,l=function(){var u=Or,d=o.selector,f;return u&&u!==o&&u.data.push(o),a&&(o.selector=ZI(a)),Or=o,f=i.apply(o,arguments),ei(f)&&o._r.push(f),Or=u,o.selector=d,o.isReverted=!1,f};return o.last=l,r===ei?l(o,function(c){return o.add(null,c)}):r?o[r]=l:l},e.ignore=function(r){var i=Or;Or=null,r(this),Or=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof yi&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var a=this;if(r?(function(){for(var l=a.getTweens(),c=a.data.length,u;c--;)u=a.data[c],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(d){return l.splice(l.indexOf(d),1)}));for(l.map(function(d){return{g:d._dur||d._delay||d._sat&&!d._sat.vars.immediateRender?d.globalTime(0):-1/0,t:d}}).sort(function(d,f){return f.g-d.g||-1/0}).forEach(function(d){return d.t.revert(r)}),c=a.data.length;c--;)u=a.data[c],u instanceof ca?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof yi)&&u.revert&&u.revert(r);a._r.forEach(function(d){return d(r,a)}),a.isReverted=!0})():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=_p.length;o--;)_p[o].id===this.id&&_p.splice(o,1)},e.revert=function(r){this.kill(r||{})},t})(),KPe=(function(){function t(n){this.contexts=[],this.scope=n,Or&&Or.data.push(this)}var e=t.prototype;return e.add=function(r,i,a){Jc(r)||(r={matches:r});var o=new Zie(0,a||this.scope),l=o.conditions={},c,u,d;Or&&!o.selector&&(o.selector=Or.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?d=1:(c=wc.matchMedia(r[u]),c&&(_p.indexOf(o)<0&&_p.push(o),(l[u]=c.matches)&&(d=1),c.addListener?c.addListener(tk):c.addEventListener("change",tk)));return d&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t})(),Uj={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return Lie(i)})},timeline:function(e){return new ca(e)},getTweensOf:function(e,n){return $r.getTweensOf(e,n)},getProperty:function(e,n,r,i){as(e)&&(e=Qo(e)[0]);var a=yp(e||{}).get,o=r?jie:Sie;return r==="native"&&(r=""),e&&(n?o((lo[n]&&lo[n].get||a)(e,n,r,i)):function(l,c,u){return o((lo[l]&&lo[l].get||a)(e,l,c,u))})},quickSetter:function(e,n,r){if(e=Qo(e),e.length>1){var i=e.map(function(d){return Va.quickSetter(d,n,r)}),a=i.length;return function(d){for(var f=a;f--;)i[f](d)}}e=e[0]||{};var o=lo[n],l=yp(e),c=l.harness&&(l.harness.aliases||{})[n]||n,u=o?function(d){var f=new o;jg._pt=0,f.init(e,r?d+r:d,jg,0,[e]),f.render(1,f),jg._pt&&R5(1,jg)}:l.set(e,c);return o?u:function(d){return u(e,c,r?d+r:d,l,1)}},quickTo:function(e,n,r){var i,a=Va.to(e,jo((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(c,u,d){return a.resetTo(n,c,u,d)};return o.tween=a,o},isTweening:function(e){return $r.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=wp(e.ease,vv.ease)),NH(vv,e||{})},config:function(e){return NH(yo,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,a=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!lo[l]&&!So[l]&&lb(n+" effect requires "+l+" plugin.")}),_M[n]=function(l,c,u){return r(Qo(l),jo(c||{},a),u)},o&&(ca.prototype[n]=function(l,c,u){return this.add(_M[n](l,Jc(c)?c:(u=c)&&{},this),u)})},registerEase:function(e,n){Ln[e]=wp(n)},parseEase:function(e,n){return arguments.length?wp(e,n):Ln},getById:function(e){return $r.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new ca(e),i,a;for(r.smoothChildTiming=Oa(e.smoothChildTiming),$r.remove(r),r._dp=0,r._time=r._tTime=$r._time,i=$r._first;i;)a=i._next,(n||!(!i._dur&&i instanceof yi&&i.vars.onComplete===i._targets[0]))&&Ac(r,i,i._start-i._delay),i=a;return Ac($r,r,0),r},context:function(e,n){return e?new Zie(e,n):Or},matchMedia:function(e){return new KPe(e)},matchMediaRefresh:function(){return _p.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||tk()},addEventListener:function(e,n){var r=BS[e]||(BS[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=BS[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:CPe,wrapYoyo:MPe,distribute:Pie,random:Rie,snap:Die,normalize:APe,getUnit:ks,clamp:SPe,splitColor:Fie,toArray:Qo,selector:ZI,mapRange:Iie,pipe:EPe,unitize:NPe,interpolate:TPe,shuffle:Tie},install:xie,effects:_M,ticker:fo,updateRoot:ca.updateRoot,plugins:lo,globalTimeline:$r,core:{PropTween:ka,globals:yie,Tween:yi,Timeline:ca,Animation:fb,getCache:yp,_removeLinkedListItem:kN,reverting:function(){return gs},context:function(e){return e&&Or&&(Or.data.push(e),e._ctx=Or),Or},suppressOverwrites:function(e){return b5=e}}};Ia("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Uj[t]=yi[t]});fo.add(ca.updateRoot);jg=Uj.to({},{duration:0});var QPe=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},ZPe=function(e,n){var r=e._targets,i,a,o;for(i in n)for(a=r.length;a--;)o=e._ptLookup[a][i],o&&(o=o.d)&&(o._pt&&(o=QPe(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[a],i))},AM=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,a,o){o._onInit=function(l){var c,u;if(as(a)&&(c={},Ia(a,function(d){return c[d]=1}),a=c),n){c={};for(u in a)c[u]=n(a[u]);a=c}ZPe(l,a)}}}},Va=Uj.registerPlugin({name:"attr",init:function(e,n,r,i,a){var o,l,c;this.tween=r;for(o in n)c=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(c||0)+"",n[o],i,a,0,0,o),l.op=o,l.b=c,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)gs?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},AM("roundProps",JI),AM("modifiers"),AM("snap",Die))||Uj;yi.version=ca.version=Va.version="3.13.0";vie=1;_5()&&wv();Ln.Power0;Ln.Power1;Ln.Power2;Ln.Power3;Ln.Power4;Ln.Linear;Ln.Quad;Ln.Cubic;Ln.Quart;Ln.Quint;Ln.Strong;Ln.Elastic;Ln.Back;Ln.SteppedEase;Ln.Bounce;Ln.Sine;Ln.Expo;Ln.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var DH,gf,qg,O5,tp,RH,I5,JPe=function(){return typeof window<"u"},ud={},zh=180/Math.PI,Gg=Math.PI/180,Hm=Math.atan2,OH=1e8,k5=/([A-Z])/g,eDe=/(left|right|width|margin|padding|x)/i,tDe=/[\s,\(]\S/,Rc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nk=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},nDe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},rDe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},iDe=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},Jie=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},ese=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},sDe=function(e,n,r){return e.style[n]=r},aDe=function(e,n,r){return e.style.setProperty(n,r)},oDe=function(e,n,r){return e._gsap[n]=r},lDe=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},cDe=function(e,n,r,i,a){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(a,o)},uDe=function(e,n,r,i,a){var o=e._gsap;o[n]=r,o.renderTransform(a,o)},Hr="transform",La=Hr+"Origin",dDe=function t(e,n){var r=this,i=this.target,a=i.style,o=i._gsap;if(e in ud&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Rc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=Uu(i,l)}):this.tfm[e]=o.x?o[e]:Uu(i,e),e===La&&(this.tfm.zOrigin=o.zOrigin);else return Rc.transform.split(",").forEach(function(l){return t.call(r,l,n)});if(this.props.indexOf(Hr)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(La,n,"")),e=Hr}(a||n)&&this.props.push(e,n,a[e])},tse=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fDe=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,a,o;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?n[e[a]](e[a+2]):n[e[a]]=e[a+2]:e[a+2]?r[e[a]]=e[a+2]:r.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(k5,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=I5(),(!a||!a.isStart)&&!r[Hr]&&(tse(r),i.zOrigin&&r[La]&&(r[La]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},nse=function(e,n){var r={target:e,props:[],revert:fDe,save:dDe};return e._gsap||Va.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},rse,rk=function(e,n){var r=gf.createElementNS?gf.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):gf.createElement(e);return r&&r.style?r:gf.createElement(e)},Zo=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(k5,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,_v(n)||n,1)||""},IH="O,Moz,ms,Ms,Webkit".split(","),_v=function(e,n,r){var i=n||tp,a=i.style,o=5;if(e in a&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(IH[o]+e in a););return o<0?null:(o===3?"ms":o>=0?IH[o]:"")+e},ik=function(){JPe()&&window.document&&(DH=window,gf=DH.document,qg=gf.documentElement,tp=rk("div")||{style:{}},rk("div"),Hr=_v(Hr),La=Hr+"Origin",tp.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",rse=!!_v("perspective"),I5=Va.core.reverting,O5=1)},kH=function(e){var n=e.ownerSVGElement,r=rk("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",r.appendChild(i),qg.appendChild(r);try{a=i.getBBox()}catch{}return r.removeChild(i),qg.removeChild(r),a},LH=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},ise=function(e){var n,r;try{n=e.getBBox()}catch{n=kH(e),r=1}return n&&(n.width||n.height)||r||(n=kH(e)),n&&!n.width&&!n.x&&!n.y?{x:+LH(e,["x","cx","x1"])||0,y:+LH(e,["y","cy","y1"])||0,width:0,height:0}:n},sse=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&ise(e))},$p=function(e,n){if(n){var r=e.style,i;n in ud&&n!==La&&(n=Hr),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(k5,"-$1").toLowerCase())):r.removeAttribute(n)}},vf=function(e,n,r,i,a,o){var l=new ka(e._pt,n,r,0,1,o?ese:Jie);return e._pt=l,l.b=i,l.e=a,e._props.push(r),l},FH={deg:1,rad:1,turn:1},hDe={grid:1,flex:1},Wf=function t(e,n,r,i){var a=parseFloat(r)||0,o=(r+"").trim().substr((a+"").length)||"px",l=tp.style,c=eDe.test(n),u=e.tagName.toLowerCase()==="svg",d=(u?"client":"offset")+(c?"Width":"Height"),f=100,h=i==="px",p=i==="%",y,g,v,b;if(i===o||!a||FH[i]||FH[o])return a;if(o!=="px"&&!h&&(a=t(e,n,r,"px")),b=e.getCTM&&sse(e),(p||o==="%")&&(ud[n]||~n.indexOf("adius")))return y=b?e.getBBox()[c?"width":"height"]:e[d],si(p?a/y*f:a/100*y);if(l[c?"width":"height"]=f+(h?o:i),g=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,b&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===gf||!g.appendChild)&&(g=gf.body),v=g._gsap,v&&p&&v.width&&c&&v.time===fo.time&&!v.uncache)return si(a/v.width*f);if(p&&(n==="height"||n==="width")){var w=e.style[n];e.style[n]=f+i,y=e[d],w?e.style[n]=w:$p(e,n)}else(p||o==="%")&&!hDe[Zo(g,"display")]&&(l.position=Zo(e,"position")),g===e&&(l.position="static"),g.appendChild(tp),y=tp[d],g.removeChild(tp),l.position="absolute";return c&&p&&(v=yp(g),v.time=fo.time,v.width=g[d]),si(h?y*a/f:y&&a?f/y*a:0)},Uu=function(e,n,r,i){var a;return O5||ik(),n in Rc&&n!=="transform"&&(n=Rc[n],~n.indexOf(",")&&(n=n.split(",")[0])),ud[n]&&n!=="transform"?(a=pb(e,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:$j(Zo(e,La))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=Bj[n]&&Bj[n](e,n,r)||Zo(e,n)||wie(e,n)||(n==="opacity"?1:0))),r&&!~(a+"").trim().indexOf(" ")?Wf(e,n,a,r)+r:a},pDe=function(e,n,r,i){if(!r||r==="none"){var a=_v(n,e,1),o=a&&Zo(e,a,1);o&&o!==r?(n=a,r=o):n==="borderColor"&&(r=Zo(e,"borderTopColor"))}var l=new ka(this._pt,e.style,n,0,1,Kie),c=0,u=0,d,f,h,p,y,g,v,b,w,_,S,j;if(l.b=r,l.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=Zo(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(g=e.style[n],e.style[n]=i,i=Zo(e,n)||i,g?e.style[n]=g:$p(e,n)),d=[r,i],Bie(d),r=d[0],i=d[1],h=r.match(Sg)||[],j=i.match(Sg)||[],j.length){for(;f=Sg.exec(i);)v=f[0],w=i.substring(c,f.index),y?y=(y+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(y=1),v!==(g=h[u++]||"")&&(p=parseFloat(g)||0,S=g.substr((p+"").length),v.charAt(1)==="="&&(v=Vg(p,v)+S),b=parseFloat(v),_=v.substr((b+"").length),c=Sg.lastIndex-_.length,_||(_=_||yo.units[n]||S,c===i.length&&(i+=_,l.e+=_)),S!==_&&(p=Wf(e,n,g,_)||0),l._pt={_next:l._pt,p:w||u===1?w:",",s:p,c:b-p,m:y&&y<4||n==="zIndex"?Math.round:0});l.c=c<i.length?i.substring(c,i.length):""}else l.r=n==="display"&&i==="none"?ese:Jie;return mie.test(i)&&(l.e=0),this._pt=l,l},UH={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mDe=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=UH[r]||r,n[1]=UH[i]||i,n.join(" ")},gDe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,a=n.u,o=r._gsap,l,c,u;if(a==="all"||a===!0)i.cssText="",c=1;else for(a=a.split(","),u=a.length;--u>-1;)l=a[u],ud[l]&&(c=1,l=l==="transformOrigin"?La:Hr),$p(r,l);c&&($p(r,Hr),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",pb(r,1),o.uncache=1,tse(i)))}},Bj={clearProps:function(e,n,r,i,a){if(a.data!=="isFromStart"){var o=e._pt=new ka(e._pt,n,r,0,0,gDe);return o.u=i,o.pr=-10,o.tween=a,e._props.push(r),1}}},hb=[1,0,0,1,0,0],ase={},ose=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},BH=function(e){var n=Zo(e,Hr);return ose(n)?hb:n.substr(7).match(pie).map(si)},L5=function(e,n){var r=e._gsap||yp(e),i=e.style,a=BH(e),o,l,c,u;return r.svg&&e.getAttribute("transform")?(c=e.transform.baseVal.consolidate().matrix,a=[c.a,c.b,c.c,c.d,c.e,c.f],a.join(",")==="1,0,0,1,0,0"?hb:a):(a===hb&&!e.offsetParent&&e!==qg&&!r.svg&&(c=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,l=e.nextElementSibling,qg.appendChild(e)),a=BH(e),c?i.display=c:$p(e,"display"),u&&(l?o.insertBefore(e,l):o?o.appendChild(e):qg.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},sk=function(e,n,r,i,a,o){var l=e._gsap,c=a||L5(e,!0),u=l.xOrigin||0,d=l.yOrigin||0,f=l.xOffset||0,h=l.yOffset||0,p=c[0],y=c[1],g=c[2],v=c[3],b=c[4],w=c[5],_=n.split(" "),S=parseFloat(_[0])||0,j=parseFloat(_[1])||0,A,C,N,T;r?c!==hb&&(C=p*v-y*g)&&(N=S*(v/C)+j*(-g/C)+(g*w-v*b)/C,T=S*(-y/C)+j*(p/C)-(p*w-y*b)/C,S=N,j=T):(A=ise(e),S=A.x+(~_[0].indexOf("%")?S/100*A.width:S),j=A.y+(~(_[1]||_[0]).indexOf("%")?j/100*A.height:j)),i||i!==!1&&l.smooth?(b=S-u,w=j-d,l.xOffset=f+(b*p+w*g)-b,l.yOffset=h+(b*y+w*v)-w):l.xOffset=l.yOffset=0,l.xOrigin=S,l.yOrigin=j,l.smooth=!!i,l.origin=n,l.originIsAbsolute=!!r,e.style[La]="0px 0px",o&&(vf(o,l,"xOrigin",u,S),vf(o,l,"yOrigin",d,j),vf(o,l,"xOffset",f,l.xOffset),vf(o,l,"yOffset",h,l.yOffset)),e.setAttribute("data-svg-origin",S+" "+j)},pb=function(e,n){var r=e._gsap||new Vie(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,a=r.scaleX<0,o="px",l="deg",c=getComputedStyle(e),u=Zo(e,La)||"0",d,f,h,p,y,g,v,b,w,_,S,j,A,C,N,T,P,D,O,I,L,z,q,V,F,U,H,$,W,le,ie,re;return d=f=h=g=v=b=w=_=S=0,p=y=1,r.svg=!!(e.getCTM&&sse(e)),c.translate&&((c.translate!=="none"||c.scale!=="none"||c.rotate!=="none")&&(i[Hr]=(c.translate!=="none"?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(c.rotate!=="none"?"rotate("+c.rotate+") ":"")+(c.scale!=="none"?"scale("+c.scale.split(" ").join(",")+") ":"")+(c[Hr]!=="none"?c[Hr]:"")),i.scale=i.rotate=i.translate="none"),C=L5(e,r.svg),r.svg&&(r.uncache?(F=e.getBBox(),u=r.xOrigin-F.x+"px "+(r.yOrigin-F.y)+"px",V=""):V=!n&&e.getAttribute("data-svg-origin"),sk(e,V||u,!!V||r.originIsAbsolute,r.smooth!==!1,C)),j=r.xOrigin||0,A=r.yOrigin||0,C!==hb&&(D=C[0],O=C[1],I=C[2],L=C[3],d=z=C[4],f=q=C[5],C.length===6?(p=Math.sqrt(D*D+O*O),y=Math.sqrt(L*L+I*I),g=D||O?Hm(O,D)*zh:0,w=I||L?Hm(I,L)*zh+g:0,w&&(y*=Math.abs(Math.cos(w*Gg))),r.svg&&(d-=j-(j*D+A*I),f-=A-(j*O+A*L))):(re=C[6],le=C[7],H=C[8],$=C[9],W=C[10],ie=C[11],d=C[12],f=C[13],h=C[14],N=Hm(re,W),v=N*zh,N&&(T=Math.cos(-N),P=Math.sin(-N),V=z*T+H*P,F=q*T+$*P,U=re*T+W*P,H=z*-P+H*T,$=q*-P+$*T,W=re*-P+W*T,ie=le*-P+ie*T,z=V,q=F,re=U),N=Hm(-I,W),b=N*zh,N&&(T=Math.cos(-N),P=Math.sin(-N),V=D*T-H*P,F=O*T-$*P,U=I*T-W*P,ie=L*P+ie*T,D=V,O=F,I=U),N=Hm(O,D),g=N*zh,N&&(T=Math.cos(N),P=Math.sin(N),V=D*T+O*P,F=z*T+q*P,O=O*T-D*P,q=q*T-z*P,D=V,z=F),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,b=180-b),p=si(Math.sqrt(D*D+O*O+I*I)),y=si(Math.sqrt(q*q+re*re)),N=Hm(z,q),w=Math.abs(N)>2e-4?N*zh:0,S=ie?1/(ie<0?-ie:ie):0),r.svg&&(V=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!ose(Zo(e,Hr)),V&&e.setAttribute("transform",V))),Math.abs(w)>90&&Math.abs(w)<270&&(a?(p*=-1,w+=g<=0?180:-180,g+=g<=0?180:-180):(y*=-1,w+=w<=0?180:-180)),n=n||r.uncache,r.x=d-((r.xPercent=d&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-d)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=h+o,r.scaleX=si(p),r.scaleY=si(y),r.rotation=si(g)+l,r.rotationX=si(v)+l,r.rotationY=si(b)+l,r.skewX=w+l,r.skewY=_+l,r.transformPerspective=S+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[La]=$j(u)),r.xOffset=r.yOffset=0,r.force3D=yo.force3D,r.renderTransform=r.svg?xDe:rse?lse:vDe,r.uncache=0,r},$j=function(e){return(e=e.split(" "))[0]+" "+e[1]},CM=function(e,n,r){var i=ks(n);return si(parseFloat(n)+parseFloat(Wf(e,"x",r+"px",i)))+i},vDe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,lse(e,n)},Ch="0deg",Ny="0px",Mh=") ",lse=function(e,n){var r=n||this,i=r.xPercent,a=r.yPercent,o=r.x,l=r.y,c=r.z,u=r.rotation,d=r.rotationY,f=r.rotationX,h=r.skewX,p=r.skewY,y=r.scaleX,g=r.scaleY,v=r.transformPerspective,b=r.force3D,w=r.target,_=r.zOrigin,S="",j=b==="auto"&&e&&e!==1||b===!0;if(_&&(f!==Ch||d!==Ch)){var A=parseFloat(d)*Gg,C=Math.sin(A),N=Math.cos(A),T;A=parseFloat(f)*Gg,T=Math.cos(A),o=CM(w,o,C*T*-_),l=CM(w,l,-Math.sin(A)*-_),c=CM(w,c,N*T*-_+_)}v!==Ny&&(S+="perspective("+v+Mh),(i||a)&&(S+="translate("+i+"%, "+a+"%) "),(j||o!==Ny||l!==Ny||c!==Ny)&&(S+=c!==Ny||j?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+Mh),u!==Ch&&(S+="rotate("+u+Mh),d!==Ch&&(S+="rotateY("+d+Mh),f!==Ch&&(S+="rotateX("+f+Mh),(h!==Ch||p!==Ch)&&(S+="skew("+h+", "+p+Mh),(y!==1||g!==1)&&(S+="scale("+y+", "+g+Mh),w.style[Hr]=S||"translate(0, 0)"},xDe=function(e,n){var r=n||this,i=r.xPercent,a=r.yPercent,o=r.x,l=r.y,c=r.rotation,u=r.skewX,d=r.skewY,f=r.scaleX,h=r.scaleY,p=r.target,y=r.xOrigin,g=r.yOrigin,v=r.xOffset,b=r.yOffset,w=r.forceCSS,_=parseFloat(o),S=parseFloat(l),j,A,C,N,T;c=parseFloat(c),u=parseFloat(u),d=parseFloat(d),d&&(d=parseFloat(d),u+=d,c+=d),c||u?(c*=Gg,u*=Gg,j=Math.cos(c)*f,A=Math.sin(c)*f,C=Math.sin(c-u)*-h,N=Math.cos(c-u)*h,u&&(d*=Gg,T=Math.tan(u-d),T=Math.sqrt(1+T*T),C*=T,N*=T,d&&(T=Math.tan(d),T=Math.sqrt(1+T*T),j*=T,A*=T)),j=si(j),A=si(A),C=si(C),N=si(N)):(j=f,N=h,A=C=0),(_&&!~(o+"").indexOf("px")||S&&!~(l+"").indexOf("px"))&&(_=Wf(p,"x",o,"px"),S=Wf(p,"y",l,"px")),(y||g||v||b)&&(_=si(_+y-(y*j+g*C)+v),S=si(S+g-(y*A+g*N)+b)),(i||a)&&(T=p.getBBox(),_=si(_+i/100*T.width),S=si(S+a/100*T.height)),T="matrix("+j+","+A+","+C+","+N+","+_+","+S+")",p.setAttribute("transform",T),w&&(p.style[Hr]=T)},yDe=function(e,n,r,i,a){var o=360,l=as(a),c=parseFloat(a)*(l&&~a.indexOf("rad")?zh:1),u=c-i,d=i+u+"deg",f,h;return l&&(f=a.split("_")[1],f==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),f==="cw"&&u<0?u=(u+o*OH)%o-~~(u/o)*o:f==="ccw"&&u>0&&(u=(u-o*OH)%o-~~(u/o)*o)),e._pt=h=new ka(e._pt,n,r,i,u,nDe),h.e=d,h.u="deg",e._props.push(r),h},$H=function(e,n){for(var r in n)e[r]=n[r];return e},bDe=function(e,n,r){var i=$H({},r._gsap),a="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,c,u,d,f,h,p,y;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Hr]=n,l=pb(r,1),$p(r,Hr),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Hr],o[Hr]=n,l=pb(r,1),o[Hr]=u);for(c in ud)u=i[c],d=l[c],u!==d&&a.indexOf(c)<0&&(p=ks(u),y=ks(d),f=p!==y?Wf(r,c,u,y):parseFloat(u),h=parseFloat(d),e._pt=new ka(e._pt,l,c,f,h-f,nk),e._pt.u=y||0,e._props.push(c));$H(l,i)};Ia("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",a="Left",o=(e<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map(function(l){return e<2?t+l:"border"+l+t});Bj[e>1?"border"+t:t]=function(l,c,u,d,f){var h,p;if(arguments.length<4)return h=o.map(function(y){return Uu(l,y,u)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(d+"").split(" "),p={},o.forEach(function(y,g){return p[y]=h[g]=h[g]||h[(g-1)/2|0]}),l.init(c,p,f)}});var cse={name:"css",register:ik,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,a){var o=this._props,l=e.style,c=r.vars.startAt,u,d,f,h,p,y,g,v,b,w,_,S,j,A,C,N;O5||ik(),this.styles=this.styles||nse(e),N=this.styles.props,this.tween=r;for(g in n)if(g!=="autoRound"&&(d=n[g],!(lo[g]&&qie(g,n,r,i,e,a)))){if(p=typeof d,y=Bj[g],p==="function"&&(d=d.call(r,i,e,a),p=typeof d),p==="string"&&~d.indexOf("random(")&&(d=ub(d)),y)y(this,e,g,d,r)&&(C=1);else if(g.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(g)+"").trim(),d+="",Df.lastIndex=0,Df.test(u)||(v=ks(u),b=ks(d)),b?v!==b&&(u=Wf(e,g,u,b)+b):v&&(d+=v),this.add(l,"setProperty",u,d,i,a,0,0,g),o.push(g),N.push(g,0,l[g]);else if(p!=="undefined"){if(c&&g in c?(u=typeof c[g]=="function"?c[g].call(r,i,e,a):c[g],as(u)&&~u.indexOf("random(")&&(u=ub(u)),ks(u+"")||u==="auto"||(u+=yo.units[g]||ks(Uu(e,g))||""),(u+"").charAt(1)==="="&&(u=Uu(e,g))):u=Uu(e,g),h=parseFloat(u),w=p==="string"&&d.charAt(1)==="="&&d.substr(0,2),w&&(d=d.substr(2)),f=parseFloat(d),g in Rc&&(g==="autoAlpha"&&(h===1&&Uu(e,"visibility")==="hidden"&&f&&(h=0),N.push("visibility",0,l.visibility),vf(this,l,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Rc[g],~g.indexOf(",")&&(g=g.split(",")[0]))),_=g in ud,_){if(this.styles.save(g),p==="string"&&d.substring(0,6)==="var(--"&&(d=Zo(e,d.substring(4,d.indexOf(")"))),f=parseFloat(d)),S||(j=e._gsap,j.renderTransform&&!n.parseTransform||pb(e,n.parseTransform),A=n.smoothOrigin!==!1&&j.smooth,S=this._pt=new ka(this._pt,l,Hr,0,1,j.renderTransform,j,0,-1),S.dep=1),g==="scale")this._pt=new ka(this._pt,j,"scaleY",j.scaleY,(w?Vg(j.scaleY,w+f):f)-j.scaleY||0,nk),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){N.push(La,0,l[La]),d=mDe(d),j.svg?sk(e,d,0,A,0,this):(b=parseFloat(d.split(" ")[2])||0,b!==j.zOrigin&&vf(this,j,"zOrigin",j.zOrigin,b),vf(this,l,g,$j(u),$j(d)));continue}else if(g==="svgOrigin"){sk(e,d,1,A,0,this);continue}else if(g in ase){yDe(this,j,g,h,w?Vg(h,w+d):d);continue}else if(g==="smoothOrigin"){vf(this,j,"smooth",j.smooth,d);continue}else if(g==="force3D"){j[g]=d;continue}else if(g==="transform"){bDe(this,d,e);continue}}else g in l||(g=_v(g)||g);if(_||(f||f===0)&&(h||h===0)&&!tDe.test(d)&&g in l)v=(u+"").substr((h+"").length),f||(f=0),b=ks(d)||(g in yo.units?yo.units[g]:v),v!==b&&(h=Wf(e,g,u,b)),this._pt=new ka(this._pt,_?j:l,g,h,(w?Vg(h,w+f):f)-h,!_&&(b==="px"||g==="zIndex")&&n.autoRound!==!1?iDe:nk),this._pt.u=b||0,v!==b&&b!=="%"&&(this._pt.b=u,this._pt.r=rDe);else if(g in l)pDe.call(this,e,g,u,w?w+d:d);else if(g in e)this.add(e,g,u||e[g],w?w+d:d,i,a);else if(g!=="parseTransform"){j5(g,d);continue}_||(g in l?N.push(g,0,l[g]):typeof e[g]=="function"?N.push(g,2,e[g]()):N.push(g,1,u||e[g])),o.push(g)}}C&&Qie(this)},render:function(e,n){if(n.tween._time||!I5())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Uu,aliases:Rc,getSetter:function(e,n,r){var i=Rc[n];return i&&i.indexOf(",")<0&&(n=i),n in ud&&n!==La&&(e._gsap.x||Uu(e,"x"))?r&&RH===r?n==="scale"?lDe:oDe:(RH=r||{})&&(n==="scale"?cDe:uDe):e.style&&!w5(e.style[n])?sDe:~n.indexOf("-")?aDe:D5(e,n)},core:{_removeProperty:$p,_getMatrix:L5}};Va.utils.checkPrefix=_v;Va.core.getStyleSaver=nse;(function(t,e,n,r){var i=Ia(t+","+e+","+n,function(a){ud[a]=1});Ia(e,function(a){yo.units[a]="deg",ase[a]=1}),Rc[i[13]]=t+","+e,Ia(r,function(a){var o=a.split(":");Rc[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ia("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){yo.units[t]="px"});Va.registerPlugin(cse);var cr=Va.registerPlugin(cse)||Va;cr.core.Tween;function wDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _De(t,e,n){return e&&wDe(t.prototype,e),t}/*!
 * Observer 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var ms,$S,ho,xf,yf,Wg,use,Hh,E0,dse,Hu,Tl,fse,hse=function(){return ms||typeof window<"u"&&(ms=window.gsap)&&ms.registerPlugin&&ms},pse=1,Eg=[],Mn=[],Bc=[],N0=Date.now,ak=function(e,n){return n},SDe=function(){var e=E0.core,n=e.bridge||{},r=e._scrollers,i=e._proxies;r.push.apply(r,Mn),i.push.apply(i,Bc),Mn=r,Bc=i,ak=function(o,l){return n[o](l)}},Rf=function(e,n){return~Bc.indexOf(e)&&Bc[Bc.indexOf(e)+1][n]},A0=function(e){return!!~dse.indexOf(e)},ea=function(e,n,r,i,a){return e.addEventListener(n,r,{passive:i!==!1,capture:!!a})},Zs=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},v_="scrollLeft",x_="scrollTop",ok=function(){return Hu&&Hu.isPressed||Mn.cache++},zj=function(e,n){var r=function i(a){if(a||a===0){pse&&(ho.history.scrollRestoration="manual");var o=Hu&&Hu.isPressed;a=i.v=Math.round(a)||(Hu&&Hu.iOS?1:0),e(a),i.cacheID=Mn.cache,o&&ak("ss",a)}else(n||Mn.cache!==i.cacheID||ak("ref"))&&(i.cacheID=Mn.cache,i.v=e());return i.v+i.offset};return r.offset=0,e&&r},ua={s:v_,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:zj(function(t){return arguments.length?ho.scrollTo(t,Ri.sc()):ho.pageXOffset||xf[v_]||yf[v_]||Wg[v_]||0})},Ri={s:x_,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:ua,sc:zj(function(t){return arguments.length?ho.scrollTo(ua.sc(),t):ho.pageYOffset||xf[x_]||yf[x_]||Wg[x_]||0})},Ca=function(e,n){return(n&&n._ctx&&n._ctx.selector||ms.utils.toArray)(e)[0]||(typeof e=="string"&&ms.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},jDe=function(e,n){for(var r=n.length;r--;)if(n[r]===e||n[r].contains(e))return!0;return!1},Xf=function(e,n){var r=n.s,i=n.sc;A0(e)&&(e=xf.scrollingElement||yf);var a=Mn.indexOf(e),o=i===Ri.sc?1:2;!~a&&(a=Mn.push(e)-1),Mn[a+o]||ea(e,"scroll",ok);var l=Mn[a+o],c=l||(Mn[a+o]=zj(Rf(e,r),!0)||(A0(e)?i:zj(function(u){return arguments.length?e[r]=u:e[r]})));return c.target=e,l||(c.smooth=ms.getProperty(e,"scrollBehavior")==="smooth"),c},lk=function(e,n,r){var i=e,a=e,o=N0(),l=o,c=n||50,u=Math.max(500,c*3),d=function(y,g){var v=N0();g||v-o>c?(a=i,i=y,l=o,o=v):r?i+=y:i=a+(y-a)/(v-l)*(o-l)},f=function(){a=i=r?0:i,l=o=0},h=function(y){var g=l,v=a,b=N0();return(y||y===0)&&y!==i&&d(y),o===l||b-l>u?0:(i+(r?v:-v))/((r?b:o)-g)*1e3};return{update:d,reset:f,getVelocity:h}},Ay=function(e,n){return n&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},zH=function(e){var n=Math.max.apply(Math,e),r=Math.min.apply(Math,e);return Math.abs(n)>=Math.abs(r)?n:r},mse=function(){E0=ms.core.globals().ScrollTrigger,E0&&E0.core&&SDe()},gse=function(e){return ms=e||hse(),!$S&&ms&&typeof document<"u"&&document.body&&(ho=window,xf=document,yf=xf.documentElement,Wg=xf.body,dse=[ho,xf,yf,Wg],ms.utils.clamp,fse=ms.core.context||function(){},Hh="onpointerenter"in Wg?"pointer":"mouse",use=li.isTouch=ho.matchMedia&&ho.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ho||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Tl=li.eventTypes=("ontouchstart"in yf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in yf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return pse=0},500),mse(),$S=1),$S};ua.op=Ri;Mn.cache=0;var li=(function(){function t(n){this.init(n)}var e=t.prototype;return e.init=function(r){$S||gse(ms)||console.warn("Please gsap.registerPlugin(Observer)"),E0||mse();var i=r.tolerance,a=r.dragMinimum,o=r.type,l=r.target,c=r.lineHeight,u=r.debounce,d=r.preventDefault,f=r.onStop,h=r.onStopDelay,p=r.ignore,y=r.wheelSpeed,g=r.event,v=r.onDragStart,b=r.onDragEnd,w=r.onDrag,_=r.onPress,S=r.onRelease,j=r.onRight,A=r.onLeft,C=r.onUp,N=r.onDown,T=r.onChangeX,P=r.onChangeY,D=r.onChange,O=r.onToggleX,I=r.onToggleY,L=r.onHover,z=r.onHoverEnd,q=r.onMove,V=r.ignoreCheck,F=r.isNormalizer,U=r.onGestureStart,H=r.onGestureEnd,$=r.onWheel,W=r.onEnable,le=r.onDisable,ie=r.onClick,re=r.scrollSpeed,_e=r.capture,pe=r.allowClicks,Ne=r.lockAxis,je=r.onLockAxis;this.target=l=Ca(l)||yf,this.vars=r,p&&(p=ms.utils.toArray(p)),i=i||1e-9,a=a||0,y=y||1,re=re||1,o=o||"wheel,touch,pointer",u=u!==!1,c||(c=parseFloat(ho.getComputedStyle(Wg).lineHeight)||22);var Oe,Ge,Pe,Fe,Y,Ie,Xe,ue=this,Be=0,rt=0,me=r.passive||!d&&r.passive!==!1,X=Xf(l,ua),G=Xf(l,Ri),de=X(),fe=G(),ne=~o.indexOf("touch")&&!~o.indexOf("pointer")&&Tl[0]==="pointerdown",J=A0(l),ve=l.ownerDocument||xf,be=[0,0,0],Ve=[0,0,0],Qe=0,We=function(){return Qe=N0()},xe=function(vt,Ct){return(ue.event=vt)&&p&&jDe(vt.target,p)||Ct&&ne&&vt.pointerType!=="touch"||V&&V(vt,Ct)},Te=function(){ue._vx.reset(),ue._vy.reset(),Ge.pause(),f&&f(ue)},te=function(){var vt=ue.deltaX=zH(be),Ct=ue.deltaY=zH(Ve),ht=Math.abs(vt)>=i,Pt=Math.abs(Ct)>=i;D&&(ht||Pt)&&D(ue,vt,Ct,be,Ve),ht&&(j&&ue.deltaX>0&&j(ue),A&&ue.deltaX<0&&A(ue),T&&T(ue),O&&ue.deltaX<0!=Be<0&&O(ue),Be=ue.deltaX,be[0]=be[1]=be[2]=0),Pt&&(N&&ue.deltaY>0&&N(ue),C&&ue.deltaY<0&&C(ue),P&&P(ue),I&&ue.deltaY<0!=rt<0&&I(ue),rt=ue.deltaY,Ve[0]=Ve[1]=Ve[2]=0),(Fe||Pe)&&(q&&q(ue),Pe&&(v&&Pe===1&&v(ue),w&&w(ue),Pe=0),Fe=!1),Ie&&!(Ie=!1)&&je&&je(ue),Y&&($(ue),Y=!1),Oe=0},oe=function(vt,Ct,ht){be[ht]+=vt,Ve[ht]+=Ct,ue._vx.update(vt),ue._vy.update(Ct),u?Oe||(Oe=requestAnimationFrame(te)):te()},K=function(vt,Ct){Ne&&!Xe&&(ue.axis=Xe=Math.abs(vt)>Math.abs(Ct)?"x":"y",Ie=!0),Xe!=="y"&&(be[2]+=vt,ue._vx.update(vt,!0)),Xe!=="x"&&(Ve[2]+=Ct,ue._vy.update(Ct,!0)),u?Oe||(Oe=requestAnimationFrame(te)):te()},ae=function(vt){if(!xe(vt,1)){vt=Ay(vt,d);var Ct=vt.clientX,ht=vt.clientY,Pt=Ct-ue.x,bt=ht-ue.y,Bt=ue.isDragging;ue.x=Ct,ue.y=ht,(Bt||(Pt||bt)&&(Math.abs(ue.startX-Ct)>=a||Math.abs(ue.startY-ht)>=a))&&(Pe=Bt?2:1,Bt||(ue.isDragging=!0),K(Pt,bt))}},Re=ue.onPress=function(at){xe(at,1)||at&&at.button||(ue.axis=Xe=null,Ge.pause(),ue.isPressed=!0,at=Ay(at),Be=rt=0,ue.startX=ue.x=at.clientX,ue.startY=ue.y=at.clientY,ue._vx.reset(),ue._vy.reset(),ea(F?l:ve,Tl[1],ae,me,!0),ue.deltaX=ue.deltaY=0,_&&_(ue))},Z=ue.onRelease=function(at){if(!xe(at,1)){Zs(F?l:ve,Tl[1],ae,!0);var vt=!isNaN(ue.y-ue.startY),Ct=ue.isDragging,ht=Ct&&(Math.abs(ue.x-ue.startX)>3||Math.abs(ue.y-ue.startY)>3),Pt=Ay(at);!ht&&vt&&(ue._vx.reset(),ue._vy.reset(),d&&pe&&ms.delayedCall(.08,function(){if(N0()-Qe>300&&!at.defaultPrevented){if(at.target.click)at.target.click();else if(ve.createEvent){var bt=ve.createEvent("MouseEvents");bt.initMouseEvent("click",!0,!0,ho,1,Pt.screenX,Pt.screenY,Pt.clientX,Pt.clientY,!1,!1,!1,!1,0,null),at.target.dispatchEvent(bt)}}})),ue.isDragging=ue.isGesturing=ue.isPressed=!1,f&&Ct&&!F&&Ge.restart(!0),Pe&&te(),b&&Ct&&b(ue),S&&S(ue,ht)}},Me=function(vt){return vt.touches&&vt.touches.length>1&&(ue.isGesturing=!0)&&U(vt,ue.isDragging)},ye=function(){return(ue.isGesturing=!1)||H(ue)},Ae=function(vt){if(!xe(vt)){var Ct=X(),ht=G();oe((Ct-de)*re,(ht-fe)*re,1),de=Ct,fe=ht,f&&Ge.restart(!0)}},Ue=function(vt){if(!xe(vt)){vt=Ay(vt,d),$&&(Y=!0);var Ct=(vt.deltaMode===1?c:vt.deltaMode===2?ho.innerHeight:1)*y;oe(vt.deltaX*Ct,vt.deltaY*Ct,0),f&&!F&&Ge.restart(!0)}},Je=function(vt){if(!xe(vt)){var Ct=vt.clientX,ht=vt.clientY,Pt=Ct-ue.x,bt=ht-ue.y;ue.x=Ct,ue.y=ht,Fe=!0,f&&Ge.restart(!0),(Pt||bt)&&K(Pt,bt)}},Ke=function(vt){ue.event=vt,L(ue)},lt=function(vt){ue.event=vt,z(ue)},yt=function(vt){return xe(vt)||Ay(vt,d)&&ie(ue)};Ge=ue._dc=ms.delayedCall(h||.25,Te).pause(),ue.deltaX=ue.deltaY=0,ue._vx=lk(0,50,!0),ue._vy=lk(0,50,!0),ue.scrollX=X,ue.scrollY=G,ue.isDragging=ue.isGesturing=ue.isPressed=!1,fse(this),ue.enable=function(at){return ue.isEnabled||(ea(J?ve:l,"scroll",ok),o.indexOf("scroll")>=0&&ea(J?ve:l,"scroll",Ae,me,_e),o.indexOf("wheel")>=0&&ea(l,"wheel",Ue,me,_e),(o.indexOf("touch")>=0&&use||o.indexOf("pointer")>=0)&&(ea(l,Tl[0],Re,me,_e),ea(ve,Tl[2],Z),ea(ve,Tl[3],Z),pe&&ea(l,"click",We,!0,!0),ie&&ea(l,"click",yt),U&&ea(ve,"gesturestart",Me),H&&ea(ve,"gestureend",ye),L&&ea(l,Hh+"enter",Ke),z&&ea(l,Hh+"leave",lt),q&&ea(l,Hh+"move",Je)),ue.isEnabled=!0,ue.isDragging=ue.isGesturing=ue.isPressed=Fe=Pe=!1,ue._vx.reset(),ue._vy.reset(),de=X(),fe=G(),at&&at.type&&Re(at),W&&W(ue)),ue},ue.disable=function(){ue.isEnabled&&(Eg.filter(function(at){return at!==ue&&A0(at.target)}).length||Zs(J?ve:l,"scroll",ok),ue.isPressed&&(ue._vx.reset(),ue._vy.reset(),Zs(F?l:ve,Tl[1],ae,!0)),Zs(J?ve:l,"scroll",Ae,_e),Zs(l,"wheel",Ue,_e),Zs(l,Tl[0],Re,_e),Zs(ve,Tl[2],Z),Zs(ve,Tl[3],Z),Zs(l,"click",We,!0),Zs(l,"click",yt),Zs(ve,"gesturestart",Me),Zs(ve,"gestureend",ye),Zs(l,Hh+"enter",Ke),Zs(l,Hh+"leave",lt),Zs(l,Hh+"move",Je),ue.isEnabled=ue.isPressed=ue.isDragging=!1,le&&le(ue))},ue.kill=ue.revert=function(){ue.disable();var at=Eg.indexOf(ue);at>=0&&Eg.splice(at,1),Hu===ue&&(Hu=0)},Eg.push(ue),F&&A0(l)&&(Hu=ue),ue.enable(g)},_De(t,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),t})();li.version="3.13.0";li.create=function(t){return new li(t)};li.register=gse;li.getAll=function(){return Eg.slice()};li.getById=function(t){return Eg.filter(function(e){return e.vars.id===t})[0]};hse()&&ms.registerPlugin(li);/*!
 * ScrollTrigger 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $t,yg,Cn,vr,uo,Jn,F5,Hj,mb,C0,a0,y_,Ts,UN,ck,ia,HH,VH,bg,vse,MM,xse,ra,uk,yse,bse,tf,dk,U5,Xg,B5,Vj,fk,TM,b_=1,Ds=Date.now,PM=Ds(),ll=0,o0=0,qH=function(e,n,r){var i=so(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return r["_"+n+"Clamp"]=i,i?e.substr(6,e.length-7):e},GH=function(e,n){return n&&(!so(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},EDe=function t(){return o0&&requestAnimationFrame(t)},WH=function(){return UN=1},XH=function(){return UN=0},_c=function(e){return e},l0=function(e){return Math.round(e*1e5)/1e5||0},wse=function(){return typeof window<"u"},_se=function(){return $t||wse()&&($t=window.gsap)&&$t.registerPlugin&&$t},zp=function(e){return!!~F5.indexOf(e)},Sse=function(e){return(e==="Height"?B5:Cn["inner"+e])||uo["client"+e]||Jn["client"+e]},jse=function(e){return Rf(e,"getBoundingClientRect")||(zp(e)?function(){return GS.width=Cn.innerWidth,GS.height=B5,GS}:function(){return Bu(e)})},NDe=function(e,n,r){var i=r.d,a=r.d2,o=r.a;return(o=Rf(e,"getBoundingClientRect"))?function(){return o()[i]}:function(){return(n?Sse(a):e["client"+a])||0}},ADe=function(e,n){return!n||~Bc.indexOf(e)?jse(e):function(){return GS}},Oc=function(e,n){var r=n.s,i=n.d2,a=n.d,o=n.a;return Math.max(0,(r="scroll"+i)&&(o=Rf(e,r))?o()-jse(e)()[a]:zp(e)?(uo[r]||Jn[r])-Sse(i):e[r]-e["offset"+i])},w_=function(e,n){for(var r=0;r<bg.length;r+=3)(!n||~n.indexOf(bg[r+1]))&&e(bg[r],bg[r+1],bg[r+2])},so=function(e){return typeof e=="string"},Ls=function(e){return typeof e=="function"},c0=function(e){return typeof e=="number"},Vh=function(e){return typeof e=="object"},Cy=function(e,n,r){return e&&e.progress(n?0:1)&&r&&e.pause()},DM=function(e,n){if(e.enabled){var r=e._ctx?e._ctx.add(function(){return n(e)}):n(e);r&&r.totalTime&&(e.callbackAnimation=r)}},Vm=Math.abs,Ese="left",Nse="top",$5="right",z5="bottom",Sp="width",jp="height",M0="Right",T0="Left",P0="Top",D0="Bottom",xi="padding",Wo="margin",Sv="Width",H5="Height",Di="px",Xo=function(e){return Cn.getComputedStyle(e)},CDe=function(e){var n=Xo(e).position;e.style.position=n==="absolute"||n==="fixed"?n:"relative"},YH=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},Bu=function(e,n){var r=n&&Xo(e)[ck]!=="matrix(1, 0, 0, 1, 0, 0)"&&$t.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return r&&r.progress(0).kill(),i},qj=function(e,n){var r=n.d2;return e["offset"+r]||e["client"+r]||0},Ase=function(e){var n=[],r=e.labels,i=e.duration(),a;for(a in r)n.push(r[a]/i);return n},MDe=function(e){return function(n){return $t.utils.snap(Ase(e),n)}},V5=function(e){var n=$t.utils.snap(e),r=Array.isArray(e)&&e.slice(0).sort(function(i,a){return i-a});return r?function(i,a,o){o===void 0&&(o=.001);var l;if(!a)return n(i);if(a>0){for(i-=o,l=0;l<r.length;l++)if(r[l]>=i)return r[l];return r[l-1]}else for(l=r.length,i+=o;l--;)if(r[l]<=i)return r[l];return r[0]}:function(i,a,o){o===void 0&&(o=.001);var l=n(i);return!a||Math.abs(l-i)<o||l-i<0==a<0?l:n(a<0?i-e:i+e)}},TDe=function(e){return function(n,r){return V5(Ase(e))(n,r.direction)}},__=function(e,n,r,i){return r.split(",").forEach(function(a){return e(n,a,i)})},Zi=function(e,n,r,i,a){return e.addEventListener(n,r,{passive:!i,capture:!!a})},Qi=function(e,n,r,i){return e.removeEventListener(n,r,!!i)},S_=function(e,n,r){r=r&&r.wheelHandler,r&&(e(n,"wheel",r),e(n,"touchmove",r))},KH={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},j_={toggleActions:"play",anticipatePin:0},Gj={top:0,left:0,center:.5,bottom:1,right:1},zS=function(e,n){if(so(e)){var r=e.indexOf("="),i=~r?+(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(i*=n/100),e=e.substr(0,r-1)),e=i+(e in Gj?Gj[e]*n:~e.indexOf("%")?parseFloat(e)*n/100:parseFloat(e)||0)}return e},E_=function(e,n,r,i,a,o,l,c){var u=a.startColor,d=a.endColor,f=a.fontSize,h=a.indent,p=a.fontWeight,y=vr.createElement("div"),g=zp(r)||Rf(r,"pinType")==="fixed",v=e.indexOf("scroller")!==-1,b=g?Jn:r,w=e.indexOf("start")!==-1,_=w?u:d,S="border-color:"+_+";font-size:"+f+";color:"+_+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(S+=(i===Ri?$5:z5)+":"+(o+parseFloat(h))+"px;"),l&&(S+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),y._isStart=w,y.setAttribute("class","gsap-marker-"+e+(n?" marker-"+n:"")),y.style.cssText=S,y.innerText=n||n===0?e+"-"+n:e,b.children[0]?b.insertBefore(y,b.children[0]):b.appendChild(y),y._offset=y["offset"+i.op.d2],HS(y,0,i,w),y},HS=function(e,n,r,i){var a={display:"block"},o=r[i?"os2":"p2"],l=r[i?"p2":"os2"];e._isFlipped=i,a[r.a+"Percent"]=i?-100:0,a[r.a]=i?"1px":0,a["border"+o+Sv]=1,a["border"+l+Sv]=0,a[r.p]=n+"px",$t.set(e,a)},_n=[],hk={},gb,QH=function(){return Ds()-ll>34&&(gb||(gb=requestAnimationFrame(Zu)))},qm=function(){(!ra||!ra.isPressed||ra.startX>Jn.clientWidth)&&(Mn.cache++,ra?gb||(gb=requestAnimationFrame(Zu)):Zu(),ll||Vp("scrollStart"),ll=Ds())},RM=function(){bse=Cn.innerWidth,yse=Cn.innerHeight},u0=function(e){Mn.cache++,(e===!0||!Ts&&!xse&&!vr.fullscreenElement&&!vr.webkitFullscreenElement&&(!uk||bse!==Cn.innerWidth||Math.abs(Cn.innerHeight-yse)>Cn.innerHeight*.25))&&Hj.restart(!0)},Hp={},PDe=[],Cse=function t(){return Qi(Rn,"scrollEnd",t)||np(!0)},Vp=function(e){return Hp[e]&&Hp[e].map(function(n){return n()})||PDe},io=[],Mse=function(e){for(var n=0;n<io.length;n+=5)(!e||io[n+4]&&io[n+4].query===e)&&(io[n].style.cssText=io[n+1],io[n].getBBox&&io[n].setAttribute("transform",io[n+2]||""),io[n+3].uncache=1)},q5=function(e,n){var r;for(ia=0;ia<_n.length;ia++)r=_n[ia],r&&(!n||r._ctx===n)&&(e?r.kill(1):r.revert(!0,!0));Vj=!0,n&&Mse(n),n||Vp("revert")},Tse=function(e,n){Mn.cache++,(n||!sa)&&Mn.forEach(function(r){return Ls(r)&&r.cacheID++&&(r.rec=0)}),so(e)&&(Cn.history.scrollRestoration=U5=e)},sa,Ep=0,ZH,DDe=function(){if(ZH!==Ep){var e=ZH=Ep;requestAnimationFrame(function(){return e===Ep&&np(!0)})}},Pse=function(){Jn.appendChild(Xg),B5=!ra&&Xg.offsetHeight||Cn.innerHeight,Jn.removeChild(Xg)},JH=function(e){return mb(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(n){return n.style.display=e?"none":"block"})},np=function(e,n){if(uo=vr.documentElement,Jn=vr.body,F5=[Cn,vr,uo,Jn],ll&&!e&&!Vj){Zi(Rn,"scrollEnd",Cse);return}Pse(),sa=Rn.isRefreshing=!0,Mn.forEach(function(i){return Ls(i)&&++i.cacheID&&(i.rec=i())});var r=Vp("refreshInit");vse&&Rn.sort(),n||q5(),Mn.forEach(function(i){Ls(i)&&(i.smooth&&(i.target.style.scrollBehavior="auto"),i(0))}),_n.slice(0).forEach(function(i){return i.refresh()}),Vj=!1,_n.forEach(function(i){if(i._subPinOffset&&i.pin){var a=i.vars.horizontal?"offsetWidth":"offsetHeight",o=i.pin[a];i.revert(!0,1),i.adjustPinSpacing(i.pin[a]-o),i.refresh()}}),fk=1,JH(!0),_n.forEach(function(i){var a=Oc(i.scroller,i._dir),o=i.vars.end==="max"||i._endClamp&&i.end>a,l=i._startClamp&&i.start>=a;(o||l)&&i.setPositions(l?a-1:i.start,o?Math.max(l?a:i.start+1,a):i.end,!0)}),JH(!1),fk=0,r.forEach(function(i){return i&&i.render&&i.render(-1)}),Mn.forEach(function(i){Ls(i)&&(i.smooth&&requestAnimationFrame(function(){return i.target.style.scrollBehavior="smooth"}),i.rec&&i(i.rec))}),Tse(U5,1),Hj.pause(),Ep++,sa=2,Zu(2),_n.forEach(function(i){return Ls(i.vars.onRefresh)&&i.vars.onRefresh(i)}),sa=Rn.isRefreshing=!1,Vp("refresh")},pk=0,VS=1,R0,Zu=function(e){if(e===2||!sa&&!Vj){Rn.isUpdating=!0,R0&&R0.update(0);var n=_n.length,r=Ds(),i=r-PM>=50,a=n&&_n[0].scroll();if(VS=pk>a?-1:1,sa||(pk=a),i&&(ll&&!UN&&r-ll>200&&(ll=0,Vp("scrollEnd")),a0=PM,PM=r),VS<0){for(ia=n;ia-- >0;)_n[ia]&&_n[ia].update(0,i);VS=1}else for(ia=0;ia<n;ia++)_n[ia]&&_n[ia].update(0,i);Rn.isUpdating=!1}gb=0},mk=[Ese,Nse,z5,$5,Wo+D0,Wo+M0,Wo+P0,Wo+T0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],qS=mk.concat([Sp,jp,"boxSizing","max"+Sv,"max"+H5,"position",Wo,xi,xi+P0,xi+M0,xi+D0,xi+T0]),RDe=function(e,n,r){Yg(r);var i=e._gsap;if(i.spacerIsNative)Yg(i.spacerState);else if(e._gsap.swappedIn){var a=n.parentNode;a&&(a.insertBefore(e,n),a.removeChild(n))}e._gsap.swappedIn=!1},OM=function(e,n,r,i){if(!e._gsap.swappedIn){for(var a=mk.length,o=n.style,l=e.style,c;a--;)c=mk[a],o[c]=r[c];o.position=r.position==="absolute"?"absolute":"relative",r.display==="inline"&&(o.display="inline-block"),l[z5]=l[$5]="auto",o.flexBasis=r.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Sp]=qj(e,ua)+Di,o[jp]=qj(e,Ri)+Di,o[xi]=l[Wo]=l[Nse]=l[Ese]="0",Yg(i),l[Sp]=l["max"+Sv]=r[Sp],l[jp]=l["max"+H5]=r[jp],l[xi]=r[xi],e.parentNode!==n&&(e.parentNode.insertBefore(n,e),n.appendChild(e)),e._gsap.swappedIn=!0}},ODe=/([A-Z])/g,Yg=function(e){if(e){var n=e.t.style,r=e.length,i=0,a,o;for((e.t._gsap||$t.core.getCache(e.t)).uncache=1;i<r;i+=2)o=e[i+1],a=e[i],o?n[a]=o:n[a]&&n.removeProperty(a.replace(ODe,"-$1").toLowerCase())}},N_=function(e){for(var n=qS.length,r=e.style,i=[],a=0;a<n;a++)i.push(qS[a],r[qS[a]]);return i.t=e,i},IDe=function(e,n,r){for(var i=[],a=e.length,o=r?8:0,l;o<a;o+=2)l=e[o],i.push(l,l in n?n[l]:e[o+1]);return i.t=e.t,i},GS={left:0,top:0},e9=function(e,n,r,i,a,o,l,c,u,d,f,h,p,y){Ls(e)&&(e=e(c)),so(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?zS("0"+e.substr(3),r):0));var g=p?p.time():0,v,b,w;if(p&&p.seek(0),isNaN(e)||(e=+e),c0(e))p&&(e=$t.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,h,e)),l&&HS(l,r,i,!0);else{Ls(n)&&(n=n(c));var _=(e||"0").split(" "),S,j,A,C;w=Ca(n,c)||Jn,S=Bu(w)||{},(!S||!S.left&&!S.top)&&Xo(w).display==="none"&&(C=w.style.display,w.style.display="block",S=Bu(w),C?w.style.display=C:w.style.removeProperty("display")),j=zS(_[0],S[i.d]),A=zS(_[1]||"0",r),e=S[i.p]-u[i.p]-d+j+a-A,l&&HS(l,A,i,r-A<20||l._isStart&&A>20),r-=r-A}if(y&&(c[y]=e||-.001,e<0&&(e=0)),o){var N=e+r,T=o._isStart;v="scroll"+i.d2,HS(o,N,i,T&&N>20||!T&&(f?Math.max(Jn[v],uo[v]):o.parentNode[v])<=N+1),f&&(u=Bu(l),f&&(o.style[i.op.p]=u[i.op.p]-i.op.m-o._offset+Di))}return p&&w&&(v=Bu(w),p.seek(h),b=Bu(w),p._caScrollDist=v[i.p]-b[i.p],e=e/p._caScrollDist*h),p&&p.seek(g),p?e:Math.round(e)},kDe=/(webkit|moz|length|cssText|inset)/i,t9=function(e,n,r,i){if(e.parentNode!==n){var a=e.style,o,l;if(n===Jn){e._stOrig=a.cssText,l=Xo(e);for(o in l)!+o&&!kDe.test(o)&&l[o]&&typeof a[o]=="string"&&o!=="0"&&(a[o]=l[o]);a.top=r,a.left=i}else a.cssText=e._stOrig;$t.core.getCache(e).uncache=1,n.appendChild(e)}},Dse=function(e,n,r){var i=n,a=i;return function(o){var l=Math.round(e());return l!==i&&l!==a&&Math.abs(l-i)>3&&Math.abs(l-a)>3&&(o=l,r&&r()),a=i,i=Math.round(o),i}},A_=function(e,n,r){var i={};i[n.p]="+="+r,$t.set(e,i)},n9=function(e,n){var r=Xf(e,n),i="_scroll"+n.p2,a=function o(l,c,u,d,f){var h=o.tween,p=c.onComplete,y={};u=u||r();var g=Dse(r,u,function(){h.kill(),o.tween=0});return f=d&&f||0,d=d||l-u,h&&h.kill(),c[i]=l,c.inherit=!1,c.modifiers=y,y[i]=function(){return g(u+d*h.ratio+f*h.ratio*h.ratio)},c.onUpdate=function(){Mn.cache++,o.tween&&Zu()},c.onComplete=function(){o.tween=0,p&&p.call(h)},h=o.tween=$t.to(e,c),h};return e[i]=r,r.wheelHandler=function(){return a.tween&&a.tween.kill()&&(a.tween=0)},Zi(e,"wheel",r.wheelHandler),Rn.isTouch&&Zi(e,"touchmove",r.wheelHandler),a},Rn=(function(){function t(n,r){yg||t.register($t)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),dk(this),this.init(n,r)}var e=t.prototype;return e.init=function(r,i){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!o0){this.update=this.refresh=this.kill=_c;return}r=YH(so(r)||c0(r)||r.nodeType?{trigger:r}:r,j_);var a=r,o=a.onUpdate,l=a.toggleClass,c=a.id,u=a.onToggle,d=a.onRefresh,f=a.scrub,h=a.trigger,p=a.pin,y=a.pinSpacing,g=a.invalidateOnRefresh,v=a.anticipatePin,b=a.onScrubComplete,w=a.onSnapComplete,_=a.once,S=a.snap,j=a.pinReparent,A=a.pinSpacer,C=a.containerAnimation,N=a.fastScrollEnd,T=a.preventOverlaps,P=r.horizontal||r.containerAnimation&&r.horizontal!==!1?ua:Ri,D=!f&&f!==0,O=Ca(r.scroller||Cn),I=$t.core.getCache(O),L=zp(O),z=("pinType"in r?r.pinType:Rf(O,"pinType")||L&&"fixed")==="fixed",q=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],V=D&&r.toggleActions.split(" "),F="markers"in r?r.markers:j_.markers,U=L?0:parseFloat(Xo(O)["border"+P.p2+Sv])||0,H=this,$=r.onRefreshInit&&function(){return r.onRefreshInit(H)},W=NDe(O,L,P),le=ADe(O,L),ie=0,re=0,_e=0,pe=Xf(O,P),Ne,je,Oe,Ge,Pe,Fe,Y,Ie,Xe,ue,Be,rt,me,X,G,de,fe,ne,J,ve,be,Ve,Qe,We,xe,Te,te,oe,K,ae,Re,Z,Me,ye,Ae,Ue,Je,Ke,lt;if(H._startClamp=H._endClamp=!1,H._dir=P,v*=45,H.scroller=O,H.scroll=C?C.time.bind(C):pe,Ge=pe(),H.vars=r,i=i||r.animation,"refreshPriority"in r&&(vse=1,r.refreshPriority===-9999&&(R0=H)),I.tweenScroll=I.tweenScroll||{top:n9(O,Ri),left:n9(O,ua)},H.tweenTo=Ne=I.tweenScroll[P.p],H.scrubDuration=function(ht){Me=c0(ht)&&ht,Me?Z?Z.duration(ht):Z=$t.to(i,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Me,paused:!0,onComplete:function(){return b&&b(H)}}):(Z&&Z.progress(1).kill(),Z=0)},i&&(i.vars.lazy=!1,i._initted&&!H.isReverted||i.vars.immediateRender!==!1&&r.immediateRender!==!1&&i.duration()&&i.render(0,!0,!0),H.animation=i.pause(),i.scrollTrigger=H,H.scrubDuration(f),ae=0,c||(c=i.vars.id)),S&&((!Vh(S)||S.push)&&(S={snapTo:S}),"scrollBehavior"in Jn.style&&$t.set(L?[Jn,uo]:O,{scrollBehavior:"auto"}),Mn.forEach(function(ht){return Ls(ht)&&ht.target===(L?vr.scrollingElement||uo:O)&&(ht.smooth=!1)}),Oe=Ls(S.snapTo)?S.snapTo:S.snapTo==="labels"?MDe(i):S.snapTo==="labelsDirectional"?TDe(i):S.directional!==!1?function(ht,Pt){return V5(S.snapTo)(ht,Ds()-re<500?0:Pt.direction)}:$t.utils.snap(S.snapTo),ye=S.duration||{min:.1,max:2},ye=Vh(ye)?C0(ye.min,ye.max):C0(ye,ye),Ae=$t.delayedCall(S.delay||Me/2||.1,function(){var ht=pe(),Pt=Ds()-re<500,bt=Ne.tween;if((Pt||Math.abs(H.getVelocity())<10)&&!bt&&!UN&&ie!==ht){var Bt=(ht-Fe)/X,$n=i&&!D?i.totalProgress():Bt,en=Pt?0:($n-Re)/(Ds()-a0)*1e3||0,Yn=$t.utils.clamp(-Bt,1-Bt,Vm(en/2)*en/.185),ni=Bt+(S.inertia===!1?0:Yn),tr,nr,En=S,bs=En.onStart,ar=En.onInterrupt,cs=En.onComplete;if(tr=Oe(ni,H),c0(tr)||(tr=ni),nr=Math.max(0,Math.round(Fe+tr*X)),ht<=Y&&ht>=Fe&&nr!==ht){if(bt&&!bt._initted&&bt.data<=Vm(nr-ht))return;S.inertia===!1&&(Yn=tr-Bt),Ne(nr,{duration:ye(Vm(Math.max(Vm(ni-$n),Vm(tr-$n))*.185/en/.05||0)),ease:S.ease||"power3",data:Vm(nr-ht),onInterrupt:function(){return Ae.restart(!0)&&ar&&ar(H)},onComplete:function(){H.update(),ie=pe(),i&&!D&&(Z?Z.resetTo("totalProgress",tr,i._tTime/i._tDur):i.progress(tr)),ae=Re=i&&!D?i.totalProgress():H.progress,w&&w(H),cs&&cs(H)}},ht,Yn*X,nr-ht-Yn*X),bs&&bs(H,Ne.tween)}}else H.isActive&&ie!==ht&&Ae.restart(!0)}).pause()),c&&(hk[c]=H),h=H.trigger=Ca(h||p!==!0&&p),lt=h&&h._gsap&&h._gsap.stRevert,lt&&(lt=lt(H)),p=p===!0?h:Ca(p),so(l)&&(l={targets:h,className:l}),p&&(y===!1||y===Wo||(y=!y&&p.parentNode&&p.parentNode.style&&Xo(p.parentNode).display==="flex"?!1:xi),H.pin=p,je=$t.core.getCache(p),je.spacer?G=je.pinState:(A&&(A=Ca(A),A&&!A.nodeType&&(A=A.current||A.nativeElement),je.spacerIsNative=!!A,A&&(je.spacerState=N_(A))),je.spacer=ne=A||vr.createElement("div"),ne.classList.add("pin-spacer"),c&&ne.classList.add("pin-spacer-"+c),je.pinState=G=N_(p)),r.force3D!==!1&&$t.set(p,{force3D:!0}),H.spacer=ne=je.spacer,K=Xo(p),We=K[y+P.os2],ve=$t.getProperty(p),be=$t.quickSetter(p,P.a,Di),OM(p,ne,K),fe=N_(p)),F){rt=Vh(F)?YH(F,KH):KH,ue=E_("scroller-start",c,O,P,rt,0),Be=E_("scroller-end",c,O,P,rt,0,ue),J=ue["offset"+P.op.d2];var yt=Ca(Rf(O,"content")||O);Ie=this.markerStart=E_("start",c,yt,P,rt,J,0,C),Xe=this.markerEnd=E_("end",c,yt,P,rt,J,0,C),C&&(Ke=$t.quickSetter([Ie,Xe],P.a,Di)),!z&&!(Bc.length&&Rf(O,"fixedMarkers")===!0)&&(CDe(L?Jn:O),$t.set([ue,Be],{force3D:!0}),Te=$t.quickSetter(ue,P.a,Di),oe=$t.quickSetter(Be,P.a,Di))}if(C){var at=C.vars.onUpdate,vt=C.vars.onUpdateParams;C.eventCallback("onUpdate",function(){H.update(0,0,1),at&&at.apply(C,vt||[])})}if(H.previous=function(){return _n[_n.indexOf(H)-1]},H.next=function(){return _n[_n.indexOf(H)+1]},H.revert=function(ht,Pt){if(!Pt)return H.kill(!0);var bt=ht!==!1||!H.enabled,Bt=Ts;bt!==H.isReverted&&(bt&&(Ue=Math.max(pe(),H.scroll.rec||0),_e=H.progress,Je=i&&i.progress()),Ie&&[Ie,Xe,ue,Be].forEach(function($n){return $n.style.display=bt?"none":"block"}),bt&&(Ts=H,H.update(bt)),p&&(!j||!H.isActive)&&(bt?RDe(p,ne,G):OM(p,ne,Xo(p),xe)),bt||H.update(bt),Ts=Bt,H.isReverted=bt)},H.refresh=function(ht,Pt,bt,Bt){if(!((Ts||!H.enabled)&&!Pt)){if(p&&ht&&ll){Zi(t,"scrollEnd",Cse);return}!sa&&$&&$(H),Ts=H,Ne.tween&&!bt&&(Ne.tween.kill(),Ne.tween=0),Z&&Z.pause(),g&&i&&(i.revert({kill:!1}).invalidate(),i.getChildren&&i.getChildren(!0,!0,!1).forEach(function(fn){return fn.vars.immediateRender&&fn.render(0,!0,!0)})),H.isReverted||H.revert(!0,!0),H._subPinOffset=!1;var $n=W(),en=le(),Yn=C?C.duration():Oc(O,P),ni=X<=.01||!X,tr=0,nr=Bt||0,En=Vh(bt)?bt.end:r.end,bs=r.endTrigger||h,ar=Vh(bt)?bt.start:r.start||(r.start===0||!h?0:p?"0 0":"0 100%"),cs=H.pinnedContainer=r.pinnedContainer&&Ca(r.pinnedContainer,H),Gs=h&&Math.max(0,_n.indexOf(H))||0,Gr=Gs,Wr,se,$e,et,He,ke,pt,Tt,Rt,Ot,Gt,Xt,kt;for(F&&Vh(bt)&&(Xt=$t.getProperty(ue,P.p),kt=$t.getProperty(Be,P.p));Gr-- >0;)ke=_n[Gr],ke.end||ke.refresh(0,1)||(Ts=H),pt=ke.pin,pt&&(pt===h||pt===p||pt===cs)&&!ke.isReverted&&(Ot||(Ot=[]),Ot.unshift(ke),ke.revert(!0,!0)),ke!==_n[Gr]&&(Gs--,Gr--);for(Ls(ar)&&(ar=ar(H)),ar=qH(ar,"start",H),Fe=e9(ar,h,$n,P,pe(),Ie,ue,H,en,U,z,Yn,C,H._startClamp&&"_startClamp")||(p?-.001:0),Ls(En)&&(En=En(H)),so(En)&&!En.indexOf("+=")&&(~En.indexOf(" ")?En=(so(ar)?ar.split(" ")[0]:"")+En:(tr=zS(En.substr(2),$n),En=so(ar)?ar:(C?$t.utils.mapRange(0,C.duration(),C.scrollTrigger.start,C.scrollTrigger.end,Fe):Fe)+tr,bs=h)),En=qH(En,"end",H),Y=Math.max(Fe,e9(En||(bs?"100% 0":Yn),bs,$n,P,pe()+tr,Xe,Be,H,en,U,z,Yn,C,H._endClamp&&"_endClamp"))||-.001,tr=0,Gr=Gs;Gr--;)ke=_n[Gr],pt=ke.pin,pt&&ke.start-ke._pinPush<=Fe&&!C&&ke.end>0&&(Wr=ke.end-(H._startClamp?Math.max(0,ke.start):ke.start),(pt===h&&ke.start-ke._pinPush<Fe||pt===cs)&&isNaN(ar)&&(tr+=Wr*(1-ke.progress)),pt===p&&(nr+=Wr));if(Fe+=tr,Y+=tr,H._startClamp&&(H._startClamp+=tr),H._endClamp&&!sa&&(H._endClamp=Y||-.001,Y=Math.min(Y,Oc(O,P))),X=Y-Fe||(Fe-=.01)&&.001,ni&&(_e=$t.utils.clamp(0,1,$t.utils.normalize(Fe,Y,Ue))),H._pinPush=nr,Ie&&tr&&(Wr={},Wr[P.a]="+="+tr,cs&&(Wr[P.p]="-="+pe()),$t.set([Ie,Xe],Wr)),p&&!(fk&&H.end>=Oc(O,P)))Wr=Xo(p),et=P===Ri,$e=pe(),Ve=parseFloat(ve(P.a))+nr,!Yn&&Y>1&&(Gt=(L?vr.scrollingElement||uo:O).style,Gt={style:Gt,value:Gt["overflow"+P.a.toUpperCase()]},L&&Xo(Jn)["overflow"+P.a.toUpperCase()]!=="scroll"&&(Gt.style["overflow"+P.a.toUpperCase()]="scroll")),OM(p,ne,Wr),fe=N_(p),se=Bu(p,!0),Tt=z&&Xf(O,et?ua:Ri)(),y?(xe=[y+P.os2,X+nr+Di],xe.t=ne,Gr=y===xi?qj(p,P)+X+nr:0,Gr&&(xe.push(P.d,Gr+Di),ne.style.flexBasis!=="auto"&&(ne.style.flexBasis=Gr+Di)),Yg(xe),cs&&_n.forEach(function(fn){fn.pin===cs&&fn.vars.pinSpacing!==!1&&(fn._subPinOffset=!0)}),z&&pe(Ue)):(Gr=qj(p,P),Gr&&ne.style.flexBasis!=="auto"&&(ne.style.flexBasis=Gr+Di)),z&&(He={top:se.top+(et?$e-Fe:Tt)+Di,left:se.left+(et?Tt:$e-Fe)+Di,boxSizing:"border-box",position:"fixed"},He[Sp]=He["max"+Sv]=Math.ceil(se.width)+Di,He[jp]=He["max"+H5]=Math.ceil(se.height)+Di,He[Wo]=He[Wo+P0]=He[Wo+M0]=He[Wo+D0]=He[Wo+T0]="0",He[xi]=Wr[xi],He[xi+P0]=Wr[xi+P0],He[xi+M0]=Wr[xi+M0],He[xi+D0]=Wr[xi+D0],He[xi+T0]=Wr[xi+T0],de=IDe(G,He,j),sa&&pe(0)),i?(Rt=i._initted,MM(1),i.render(i.duration(),!0,!0),Qe=ve(P.a)-Ve+X+nr,te=Math.abs(X-Qe)>1,z&&te&&de.splice(de.length-2,2),i.render(0,!0,!0),Rt||i.invalidate(!0),i.parent||i.totalTime(i.totalTime()),MM(0)):Qe=X,Gt&&(Gt.value?Gt.style["overflow"+P.a.toUpperCase()]=Gt.value:Gt.style.removeProperty("overflow-"+P.a));else if(h&&pe()&&!C)for(se=h.parentNode;se&&se!==Jn;)se._pinOffset&&(Fe-=se._pinOffset,Y-=se._pinOffset),se=se.parentNode;Ot&&Ot.forEach(function(fn){return fn.revert(!1,!0)}),H.start=Fe,H.end=Y,Ge=Pe=sa?Ue:pe(),!C&&!sa&&(Ge<Ue&&pe(Ue),H.scroll.rec=0),H.revert(!1,!0),re=Ds(),Ae&&(ie=-1,Ae.restart(!0)),Ts=0,i&&D&&(i._initted||Je)&&i.progress()!==Je&&i.progress(Je||0,!0).render(i.time(),!0,!0),(ni||_e!==H.progress||C||g||i&&!i._initted)&&(i&&!D&&(i._initted||_e||i.vars.immediateRender!==!1)&&i.totalProgress(C&&Fe<-.001&&!_e?$t.utils.normalize(Fe,Y,0):_e,!0),H.progress=ni||(Ge-Fe)/X===_e?0:_e),p&&y&&(ne._pinOffset=Math.round(H.progress*Qe)),Z&&Z.invalidate(),isNaN(Xt)||(Xt-=$t.getProperty(ue,P.p),kt-=$t.getProperty(Be,P.p),A_(ue,P,Xt),A_(Ie,P,Xt-(Bt||0)),A_(Be,P,kt),A_(Xe,P,kt-(Bt||0))),ni&&!sa&&H.update(),d&&!sa&&!me&&(me=!0,d(H),me=!1)}},H.getVelocity=function(){return(pe()-Pe)/(Ds()-a0)*1e3||0},H.endAnimation=function(){Cy(H.callbackAnimation),i&&(Z?Z.progress(1):i.paused()?D||Cy(i,H.direction<0,1):Cy(i,i.reversed()))},H.labelToScroll=function(ht){return i&&i.labels&&(Fe||H.refresh()||Fe)+i.labels[ht]/i.duration()*X||0},H.getTrailing=function(ht){var Pt=_n.indexOf(H),bt=H.direction>0?_n.slice(0,Pt).reverse():_n.slice(Pt+1);return(so(ht)?bt.filter(function(Bt){return Bt.vars.preventOverlaps===ht}):bt).filter(function(Bt){return H.direction>0?Bt.end<=Fe:Bt.start>=Y})},H.update=function(ht,Pt,bt){if(!(C&&!bt&&!ht)){var Bt=sa===!0?Ue:H.scroll(),$n=ht?0:(Bt-Fe)/X,en=$n<0?0:$n>1?1:$n||0,Yn=H.progress,ni,tr,nr,En,bs,ar,cs,Gs;if(Pt&&(Pe=Ge,Ge=C?pe():Bt,S&&(Re=ae,ae=i&&!D?i.totalProgress():en)),v&&p&&!Ts&&!b_&&ll&&(!en&&Fe<Bt+(Bt-Pe)/(Ds()-a0)*v?en=1e-4:en===1&&Y>Bt+(Bt-Pe)/(Ds()-a0)*v&&(en=.9999)),en!==Yn&&H.enabled){if(ni=H.isActive=!!en&&en<1,tr=!!Yn&&Yn<1,ar=ni!==tr,bs=ar||!!en!=!!Yn,H.direction=en>Yn?1:-1,H.progress=en,bs&&!Ts&&(nr=en&&!Yn?0:en===1?1:Yn===1?2:3,D&&(En=!ar&&V[nr+1]!=="none"&&V[nr+1]||V[nr],Gs=i&&(En==="complete"||En==="reset"||En in i))),T&&(ar||Gs)&&(Gs||f||!i)&&(Ls(T)?T(H):H.getTrailing(T).forEach(function($e){return $e.endAnimation()})),D||(Z&&!Ts&&!b_?(Z._dp._time-Z._start!==Z._time&&Z.render(Z._dp._time-Z._start),Z.resetTo?Z.resetTo("totalProgress",en,i._tTime/i._tDur):(Z.vars.totalProgress=en,Z.invalidate().restart())):i&&i.totalProgress(en,!!(Ts&&(re||ht)))),p){if(ht&&y&&(ne.style[y+P.os2]=We),!z)be(l0(Ve+Qe*en));else if(bs){if(cs=!ht&&en>Yn&&Y+1>Bt&&Bt+1>=Oc(O,P),j)if(!ht&&(ni||cs)){var Gr=Bu(p,!0),Wr=Bt-Fe;t9(p,Jn,Gr.top+(P===Ri?Wr:0)+Di,Gr.left+(P===Ri?0:Wr)+Di)}else t9(p,ne);Yg(ni||cs?de:fe),te&&en<1&&ni||be(Ve+(en===1&&!cs?Qe:0))}}S&&!Ne.tween&&!Ts&&!b_&&Ae.restart(!0),l&&(ar||_&&en&&(en<1||!TM))&&mb(l.targets).forEach(function($e){return $e.classList[ni||_?"add":"remove"](l.className)}),o&&!D&&!ht&&o(H),bs&&!Ts?(D&&(Gs&&(En==="complete"?i.pause().totalProgress(1):En==="reset"?i.restart(!0).pause():En==="restart"?i.restart(!0):i[En]()),o&&o(H)),(ar||!TM)&&(u&&ar&&DM(H,u),q[nr]&&DM(H,q[nr]),_&&(en===1?H.kill(!1,1):q[nr]=0),ar||(nr=en===1?1:3,q[nr]&&DM(H,q[nr]))),N&&!ni&&Math.abs(H.getVelocity())>(c0(N)?N:2500)&&(Cy(H.callbackAnimation),Z?Z.progress(1):Cy(i,En==="reverse"?1:!en,1))):D&&o&&!Ts&&o(H)}if(oe){var se=C?Bt/C.duration()*(C._caScrollDist||0):Bt;Te(se+(ue._isFlipped?1:0)),oe(se)}Ke&&Ke(-Bt/C.duration()*(C._caScrollDist||0))}},H.enable=function(ht,Pt){H.enabled||(H.enabled=!0,Zi(O,"resize",u0),L||Zi(O,"scroll",qm),$&&Zi(t,"refreshInit",$),ht!==!1&&(H.progress=_e=0,Ge=Pe=ie=pe()),Pt!==!1&&H.refresh())},H.getTween=function(ht){return ht&&Ne?Ne.tween:Z},H.setPositions=function(ht,Pt,bt,Bt){if(C){var $n=C.scrollTrigger,en=C.duration(),Yn=$n.end-$n.start;ht=$n.start+Yn*ht/en,Pt=$n.start+Yn*Pt/en}H.refresh(!1,!1,{start:GH(ht,bt&&!!H._startClamp),end:GH(Pt,bt&&!!H._endClamp)},Bt),H.update()},H.adjustPinSpacing=function(ht){if(xe&&ht){var Pt=xe.indexOf(P.d)+1;xe[Pt]=parseFloat(xe[Pt])+ht+Di,xe[1]=parseFloat(xe[1])+ht+Di,Yg(xe)}},H.disable=function(ht,Pt){if(H.enabled&&(ht!==!1&&H.revert(!0,!0),H.enabled=H.isActive=!1,Pt||Z&&Z.pause(),Ue=0,je&&(je.uncache=1),$&&Qi(t,"refreshInit",$),Ae&&(Ae.pause(),Ne.tween&&Ne.tween.kill()&&(Ne.tween=0)),!L)){for(var bt=_n.length;bt--;)if(_n[bt].scroller===O&&_n[bt]!==H)return;Qi(O,"resize",u0),L||Qi(O,"scroll",qm)}},H.kill=function(ht,Pt){H.disable(ht,Pt),Z&&!Pt&&Z.kill(),c&&delete hk[c];var bt=_n.indexOf(H);bt>=0&&_n.splice(bt,1),bt===ia&&VS>0&&ia--,bt=0,_n.forEach(function(Bt){return Bt.scroller===H.scroller&&(bt=1)}),bt||sa||(H.scroll.rec=0),i&&(i.scrollTrigger=null,ht&&i.revert({kill:!1}),Pt||i.kill()),Ie&&[Ie,Xe,ue,Be].forEach(function(Bt){return Bt.parentNode&&Bt.parentNode.removeChild(Bt)}),R0===H&&(R0=0),p&&(je&&(je.uncache=1),bt=0,_n.forEach(function(Bt){return Bt.pin===p&&bt++}),bt||(je.spacer=0)),r.onKill&&r.onKill(H)},_n.push(H),H.enable(!1,!1),lt&&lt(H),i&&i.add&&!X){var Ct=H.update;H.update=function(){H.update=Ct,Mn.cache++,Fe||Y||H.refresh()},$t.delayedCall(.01,H.update),X=.01,Fe=Y=0}else H.refresh();p&&DDe()},t.register=function(r){return yg||($t=r||_se(),wse()&&window.document&&t.enable(),yg=o0),yg},t.defaults=function(r){if(r)for(var i in r)j_[i]=r[i];return j_},t.disable=function(r,i){o0=0,_n.forEach(function(o){return o[i?"kill":"disable"](r)}),Qi(Cn,"wheel",qm),Qi(vr,"scroll",qm),clearInterval(y_),Qi(vr,"touchcancel",_c),Qi(Jn,"touchstart",_c),__(Qi,vr,"pointerdown,touchstart,mousedown",WH),__(Qi,vr,"pointerup,touchend,mouseup",XH),Hj.kill(),w_(Qi);for(var a=0;a<Mn.length;a+=3)S_(Qi,Mn[a],Mn[a+1]),S_(Qi,Mn[a],Mn[a+2])},t.enable=function(){if(Cn=window,vr=document,uo=vr.documentElement,Jn=vr.body,$t&&(mb=$t.utils.toArray,C0=$t.utils.clamp,dk=$t.core.context||_c,MM=$t.core.suppressOverwrites||_c,U5=Cn.history.scrollRestoration||"auto",pk=Cn.pageYOffset||0,$t.core.globals("ScrollTrigger",t),Jn)){o0=1,Xg=document.createElement("div"),Xg.style.height="100vh",Xg.style.position="absolute",Pse(),EDe(),li.register($t),t.isTouch=li.isTouch,tf=li.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),uk=li.isTouch===1,Zi(Cn,"wheel",qm),F5=[Cn,vr,uo,Jn],$t.matchMedia?(t.matchMedia=function(u){var d=$t.matchMedia(),f;for(f in u)d.add(f,u[f]);return d},$t.addEventListener("matchMediaInit",function(){return q5()}),$t.addEventListener("matchMediaRevert",function(){return Mse()}),$t.addEventListener("matchMedia",function(){np(0,1),Vp("matchMedia")}),$t.matchMedia().add("(orientation: portrait)",function(){return RM(),RM})):console.warn("Requires GSAP 3.11.0 or later"),RM(),Zi(vr,"scroll",qm);var r=Jn.hasAttribute("style"),i=Jn.style,a=i.borderTopStyle,o=$t.core.Animation.prototype,l,c;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",l=Bu(Jn),Ri.m=Math.round(l.top+Ri.sc())||0,ua.m=Math.round(l.left+ua.sc())||0,a?i.borderTopStyle=a:i.removeProperty("border-top-style"),r||(Jn.setAttribute("style",""),Jn.removeAttribute("style")),y_=setInterval(QH,250),$t.delayedCall(.5,function(){return b_=0}),Zi(vr,"touchcancel",_c),Zi(Jn,"touchstart",_c),__(Zi,vr,"pointerdown,touchstart,mousedown",WH),__(Zi,vr,"pointerup,touchend,mouseup",XH),ck=$t.utils.checkPrefix("transform"),qS.push(ck),yg=Ds(),Hj=$t.delayedCall(.2,np).pause(),bg=[vr,"visibilitychange",function(){var u=Cn.innerWidth,d=Cn.innerHeight;vr.hidden?(HH=u,VH=d):(HH!==u||VH!==d)&&u0()},vr,"DOMContentLoaded",np,Cn,"load",np,Cn,"resize",u0],w_(Zi),_n.forEach(function(u){return u.enable(0,1)}),c=0;c<Mn.length;c+=3)S_(Qi,Mn[c],Mn[c+1]),S_(Qi,Mn[c],Mn[c+2])}},t.config=function(r){"limitCallbacks"in r&&(TM=!!r.limitCallbacks);var i=r.syncInterval;i&&clearInterval(y_)||(y_=i)&&setInterval(QH,i),"ignoreMobileResize"in r&&(uk=t.isTouch===1&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(w_(Qi)||w_(Zi,r.autoRefreshEvents||"none"),xse=(r.autoRefreshEvents+"").indexOf("resize")===-1)},t.scrollerProxy=function(r,i){var a=Ca(r),o=Mn.indexOf(a),l=zp(a);~o&&Mn.splice(o,l?6:2),i&&(l?Bc.unshift(Cn,i,Jn,i,uo,i):Bc.unshift(a,i))},t.clearMatchMedia=function(r){_n.forEach(function(i){return i._ctx&&i._ctx.query===r&&i._ctx.kill(!0,!0)})},t.isInViewport=function(r,i,a){var o=(so(r)?Ca(r):r).getBoundingClientRect(),l=o[a?Sp:jp]*i||0;return a?o.right-l>0&&o.left+l<Cn.innerWidth:o.bottom-l>0&&o.top+l<Cn.innerHeight},t.positionInViewport=function(r,i,a){so(r)&&(r=Ca(r));var o=r.getBoundingClientRect(),l=o[a?Sp:jp],c=i==null?l/2:i in Gj?Gj[i]*l:~i.indexOf("%")?parseFloat(i)*l/100:parseFloat(i)||0;return a?(o.left+c)/Cn.innerWidth:(o.top+c)/Cn.innerHeight},t.killAll=function(r){if(_n.slice(0).forEach(function(a){return a.vars.id!=="ScrollSmoother"&&a.kill()}),r!==!0){var i=Hp.killAll||[];Hp={},i.forEach(function(a){return a()})}},t})();Rn.version="3.13.0";Rn.saveStyles=function(t){return t?mb(t).forEach(function(e){if(e&&e.style){var n=io.indexOf(e);n>=0&&io.splice(n,5),io.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$t.core.getCache(e),dk())}}):io};Rn.revert=function(t,e){return q5(!t,e)};Rn.create=function(t,e){return new Rn(t,e)};Rn.refresh=function(t){return t?u0(!0):(yg||Rn.register())&&np(!0)};Rn.update=function(t){return++Mn.cache&&Zu(t===!0?2:0)};Rn.clearScrollMemory=Tse;Rn.maxScroll=function(t,e){return Oc(t,e?ua:Ri)};Rn.getScrollFunc=function(t,e){return Xf(Ca(t),e?ua:Ri)};Rn.getById=function(t){return hk[t]};Rn.getAll=function(){return _n.filter(function(t){return t.vars.id!=="ScrollSmoother"})};Rn.isScrolling=function(){return!!ll};Rn.snapDirectional=V5;Rn.addEventListener=function(t,e){var n=Hp[t]||(Hp[t]=[]);~n.indexOf(e)||n.push(e)};Rn.removeEventListener=function(t,e){var n=Hp[t],r=n&&n.indexOf(e);r>=0&&n.splice(r,1)};Rn.batch=function(t,e){var n=[],r={},i=e.interval||.016,a=e.batchMax||1e9,o=function(u,d){var f=[],h=[],p=$t.delayedCall(i,function(){d(f,h),f=[],h=[]}).pause();return function(y){f.length||p.restart(!0),f.push(y.trigger),h.push(y),a<=f.length&&p.progress(1)}},l;for(l in e)r[l]=l.substr(0,2)==="on"&&Ls(e[l])&&l!=="onRefreshInit"?o(l,e[l]):e[l];return Ls(a)&&(a=a(),Zi(Rn,"refresh",function(){return a=e.batchMax()})),mb(t).forEach(function(c){var u={};for(l in r)u[l]=r[l];u.trigger=c,n.push(Rn.create(u))}),n};var r9=function(e,n,r,i){return n>i?e(i):n<0&&e(0),r>i?(i-n)/(r-n):r<0?n/(n-r):1},IM=function t(e,n){n===!0?e.style.removeProperty("touch-action"):e.style.touchAction=n===!0?"auto":n?"pan-"+n+(li.isTouch?" pinch-zoom":""):"none",e===uo&&t(Jn,n)},C_={auto:1,scroll:1},LDe=function(e){var n=e.event,r=e.target,i=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,o=a._gsap||$t.core.getCache(a),l=Ds(),c;if(!o._isScrollT||l-o._isScrollT>2e3){for(;a&&a!==Jn&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!(C_[(c=Xo(a)).overflowY]||C_[c.overflowX]));)a=a.parentNode;o._isScroll=a&&a!==r&&!zp(a)&&(C_[(c=Xo(a)).overflowY]||C_[c.overflowX]),o._isScrollT=l}(o._isScroll||i==="x")&&(n.stopPropagation(),n._gsapAllow=!0)},Rse=function(e,n,r,i){return li.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:n,onWheel:i=i&&LDe,onPress:i,onDrag:i,onScroll:i,onEnable:function(){return r&&Zi(vr,li.eventTypes[0],s9,!1,!0)},onDisable:function(){return Qi(vr,li.eventTypes[0],s9,!0)}})},FDe=/(input|label|select|textarea)/i,i9,s9=function(e){var n=FDe.test(e.target.tagName);(n||i9)&&(e._gsapAllow=!0,i9=n)},UDe=function(e){Vh(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var n=e,r=n.normalizeScrollX,i=n.momentum,a=n.allowNestedScroll,o=n.onRelease,l,c,u=Ca(e.target)||uo,d=$t.core.globals().ScrollSmoother,f=d&&d.get(),h=tf&&(e.content&&Ca(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=Xf(u,Ri),y=Xf(u,ua),g=1,v=(li.isTouch&&Cn.visualViewport?Cn.visualViewport.scale*Cn.visualViewport.width:Cn.outerWidth)/Cn.innerWidth,b=0,w=Ls(i)?function(){return i(l)}:function(){return i||2.8},_,S,j=Rse(u,e.type,!0,a),A=function(){return S=!1},C=_c,N=_c,T=function(){c=Oc(u,Ri),N=C0(tf?1:0,c),r&&(C=C0(0,Oc(u,ua))),_=Ep},P=function(){h._gsap.y=l0(parseFloat(h._gsap.y)+p.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},D=function(){if(S){requestAnimationFrame(A);var F=l0(l.deltaY/2),U=N(p.v-F);if(h&&U!==p.v+p.offset){p.offset=U-p.v;var H=l0((parseFloat(h&&h._gsap.y)||0)-p.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+H+", 0, 1)",h._gsap.y=H+"px",p.cacheID=Mn.cache,Zu()}return!0}p.offset&&P(),S=!0},O,I,L,z,q=function(){T(),O.isActive()&&O.vars.scrollY>c&&(p()>c?O.progress(1)&&p(c):O.resetTo("scrollY",c))};return h&&$t.set(h,{y:"+=0"}),e.ignoreCheck=function(V){return tf&&V.type==="touchmove"&&D()||g>1.05&&V.type!=="touchstart"||l.isGesturing||V.touches&&V.touches.length>1},e.onPress=function(){S=!1;var V=g;g=l0((Cn.visualViewport&&Cn.visualViewport.scale||1)/v),O.pause(),V!==g&&IM(u,g>1.01?!0:r?!1:"x"),I=y(),L=p(),T(),_=Ep},e.onRelease=e.onGestureStart=function(V,F){if(p.offset&&P(),!F)z.restart(!0);else{Mn.cache++;var U=w(),H,$;r&&(H=y(),$=H+U*.05*-V.velocityX/.227,U*=r9(y,H,$,Oc(u,ua)),O.vars.scrollX=C($)),H=p(),$=H+U*.05*-V.velocityY/.227,U*=r9(p,H,$,Oc(u,Ri)),O.vars.scrollY=N($),O.invalidate().duration(U).play(.01),(tf&&O.vars.scrollY>=c||H>=c-1)&&$t.to({},{onUpdate:q,duration:U})}o&&o(V)},e.onWheel=function(){O._ts&&O.pause(),Ds()-b>1e3&&(_=0,b=Ds())},e.onChange=function(V,F,U,H,$){if(Ep!==_&&T(),F&&r&&y(C(H[2]===F?I+(V.startX-V.x):y()+F-H[1])),U){p.offset&&P();var W=$[2]===U,le=W?L+V.startY-V.y:p()+U-$[1],ie=N(le);W&&le!==ie&&(L+=ie-le),p(ie)}(U||F)&&Zu()},e.onEnable=function(){IM(u,r?!1:"x"),Rn.addEventListener("refresh",q),Zi(Cn,"resize",q),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=y.smooth=!1),j.enable()},e.onDisable=function(){IM(u,!0),Qi(Cn,"resize",q),Rn.removeEventListener("refresh",q),j.kill()},e.lockAxis=e.lockAxis!==!1,l=new li(e),l.iOS=tf,tf&&!p()&&p(1),tf&&$t.ticker.add(_c),z=l._dc,O=$t.to(l,{ease:"power4",paused:!0,inherit:!1,scrollX:r?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:Dse(p,p(),function(){return O.pause()})},onUpdate:Zu,onComplete:z.vars.onComplete}),l};Rn.sort=function(t){if(Ls(t))return _n.sort(t);var e=Cn.pageYOffset||0;return Rn.getAll().forEach(function(n){return n._sortY=n.trigger?e+n.trigger.getBoundingClientRect().top:n.start+Cn.innerHeight}),_n.sort(t||function(n,r){return(n.vars.refreshPriority||0)*-1e6+(n.vars.containerAnimation?1e6:n._sortY)-((r.vars.containerAnimation?1e6:r._sortY)+(r.vars.refreshPriority||0)*-1e6)})};Rn.observe=function(t){return new li(t)};Rn.normalizeScroll=function(t){if(typeof t>"u")return ra;if(t===!0&&ra)return ra.enable();if(t===!1){ra&&ra.kill(),ra=t;return}var e=t instanceof li?t:UDe(t);return ra&&ra.target===e.target&&ra.kill(),zp(e.target)&&(ra=e),e};Rn.core={_getVelocityProp:lk,_inputObserver:Rse,_scrollers:Mn,_proxies:Bc,bridge:{ss:function(){ll||Vp("scrollStart"),ll=Ds()},ref:function(){return Ts}}};_se()&&$t.registerPlugin(Rn);/*!
 * strings: 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var BDe=/(?:^\s+|\s+$)/g,$De=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function Ose(t){var e=t.nodeType,n="";if(e===1||e===9||e===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=Ose(t)}else if(e===3||e===4)return t.nodeValue;return n}function gk(t,e,n,r,i){for(var a=t.firstChild,o=[],l;a;)a.nodeType===3?(l=(a.nodeValue+"").replace(/^\n+/g,""),r||(l=l.replace(/\s+/g," ")),o.push.apply(o,Ise(l,e,n,r,i))):(a.nodeName+"").toLowerCase()==="br"?o[o.length-1]+="<br>":o.push(a.outerHTML),a=a.nextSibling;if(!i)for(l=o.length;l--;)o[l]==="&"&&o.splice(l,1,"&amp;");return o}function Ise(t,e,n,r,i){if(t+="",n&&(t=t.trim?t.trim():t.replace(BDe,"")),e&&e!=="")return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(e);for(var a=[],o=t.length,l=0,c,u;l<o;l++)u=t.charAt(l),(u.charCodeAt(0)>=55296&&u.charCodeAt(0)<=56319||t.charCodeAt(l+1)>=65024&&t.charCodeAt(l+1)<=65039)&&(c=((t.substr(l,12).split($De)||[])[1]||"").length||2,u=t.substr(l,c),a.emoji=1,l+=c-1),a.push(i?u:u===">"?"&gt;":u==="<"?"&lt;":r&&u===" "&&(t.charAt(l-1)===" "||t.charAt(l+1)===" ")?"&nbsp;":u);return a}/*!
 * TextPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var d0,M_,zDe=function(){return d0||typeof window<"u"&&(d0=window.gsap)&&d0.registerPlugin&&d0},Aw={version:"3.13.0",name:"text",init:function(e,n,r){typeof n!="object"&&(n={value:n});var i=e.nodeName.toUpperCase(),a=this,o=n,l=o.newClass,c=o.oldClass,u=o.preserveSpaces,d=o.rtl,f=a.delimiter=n.delimiter||"",h=a.fillChar=n.fillChar||(n.padSpace?"&nbsp;":""),p,y,g,v,b,w,_,S;if(a.svg=e.getBBox&&(i==="TEXT"||i==="TSPAN"),!("innerHTML"in e)&&!a.svg)return!1;if(a.target=e,!("value"in n)){a.text=a.original=[""];return}for(g=gk(e,f,!1,u,a.svg),M_||(M_=document.createElement("div")),M_.innerHTML=n.value,y=gk(M_,f,!1,u,a.svg),a.from=r._from,(a.from||d)&&!(d&&a.from)&&(i=g,g=y,y=i),a.hasClass=!!(l||c),a.newClass=d?c:l,a.oldClass=d?l:c,i=g.length-y.length,p=i<0?g:y,i<0&&(i=-i);--i>-1;)p.push(h);if(n.type==="diff"){for(v=0,b=[],w=[],_="",i=0;i<y.length;i++)S=y[i],S===g[i]?_+=S:(b[v]=_+S,w[v++]=_+g[i],_="");y=b,g=w,_&&(y.push(_),g.push(_))}n.speed&&r.duration(Math.min(.05/n.speed*p.length,n.maxDuration||9999)),a.rtl=d,a.original=g,a.text=y,a._props.push("text")},render:function(e,n){e>1?e=1:e<0&&(e=0),n.from&&(e=1-e);var r=n.text,i=n.hasClass,a=n.newClass,o=n.oldClass,l=n.delimiter,c=n.target,u=n.fillChar,d=n.original,f=n.rtl,h=r.length,p=(f?1-e:e)*h+.5|0,y,g,v;i&&e?(y=a&&p,g=o&&p!==h,v=(y?"<span class='"+a+"'>":"")+r.slice(0,p).join(l)+(y?"</span>":"")+(g?"<span class='"+o+"'>":"")+l+d.slice(p).join(l)+(g?"</span>":"")):v=r.slice(0,p).join(l)+l+d.slice(p).join(l),n.svg?c.textContent=v:c.innerHTML=u==="&nbsp;"&&~v.indexOf("  ")?v.split("  ").join("&nbsp;&nbsp;"):v}};Aw.splitInnerHTML=gk;Aw.emojiSafeSplit=Ise;Aw.getText=Ose;zDe()&&d0.registerPlugin(Aw);/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let a9=typeof document<"u"?M.useLayoutEffect:M.useEffect,o9=t=>t&&!Array.isArray(t)&&typeof t=="object",T_=[],HDe={},kse=cr;const Cw=(t,e=T_)=>{let n=HDe;o9(t)?(n=t,t=null,e="dependencies"in n?n.dependencies:T_):o9(e)&&(n=e,e="dependencies"in n?n.dependencies:T_),t&&typeof t!="function"&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:i}=n,a=M.useRef(!1),o=M.useRef(kse.context(()=>{},r)),l=M.useRef(u=>o.current.add(null,u)),c=e&&e.length&&!i;return c&&a9(()=>(a.current=!0,()=>o.current.revert()),T_),a9(()=>{if(t&&o.current.add(t,r),!c||!a.current)return()=>o.current.revert()},e),{context:o.current,contextSafe:l.current}};Cw.register=t=>{kse=t};Cw.headless=!0;cr.registerPlugin(Rn,Aw);function Io({children:t,animation:e="fadeIn",duration:n=1,delay:r=0,ease:i="power2.out",trigger:a=!1,triggerStart:o="top 80%",triggerEnd:l="bottom 20%",scrub:c=!1,pin:u=!1,markers:d=!1,staggerAmount:f=.1,customAnimation:h}){const p=M.useRef(null),y=M.useRef();return Cw(()=>{if(!p.current)return;const g=p.current,v=cr.timeline({defaults:{duration:n,ease:i},scrollTrigger:a?{trigger:g,start:o,end:l,scrub:c,pin:u,markers:d,toggleActions:"play pause resume reverse"}:void 0});switch(e){case"fadeIn":v.fromTo(g,{opacity:0,y:20},{opacity:1,y:0,delay:r});break;case"slideUp":v.fromTo(g,{y:100,opacity:0},{y:0,opacity:1,delay:r});break;case"slideDown":v.fromTo(g,{y:-100,opacity:0},{y:0,opacity:1,delay:r});break;case"slideLeft":v.fromTo(g,{x:100,opacity:0},{x:0,opacity:1,delay:r});break;case"slideRight":v.fromTo(g,{x:-100,opacity:0},{x:0,opacity:1,delay:r});break;case"zoomIn":v.fromTo(g,{scale:0,opacity:0},{scale:1,opacity:1,delay:r});break;case"rotate":v.fromTo(g,{rotation:360,opacity:0},{rotation:0,opacity:1,delay:r});break;case"bounce":v.fromTo(g,{y:-100,opacity:0},{y:0,opacity:1,delay:r,ease:"bounce.out"});break;case"flip":v.fromTo(g,{rotationY:180,opacity:0},{rotationY:0,opacity:1,delay:r});break;case"stagger":const b=g.children;v.fromTo(b,{y:50,opacity:0},{y:0,opacity:1,delay:r,stagger:f});break;case"parallax":v.fromTo(g,{y:100},{y:-100,scrollTrigger:{trigger:g,start:"top bottom",end:"bottom top",scrub:1}});break;case"typewriter":const w=g.textContent||"";g.textContent="",v.to(g,{text:w,duration:w.length*.05,ease:"none",delay:r});break;case"morphText":v.fromTo(g,{filter:"blur(10px)",opacity:0,letterSpacing:"20px"},{filter:"blur(0px)",opacity:1,letterSpacing:"0px",delay:r});break;case"custom":h&&h(g);break}return y.current=v,()=>{v.kill()}},{dependencies:[e,n,r,a]}),s.jsx("div",{ref:p,className:"gsap-animation",children:t})}function VDe(){const t=M.useRef(null),e=M.useRef(null),n=M.useRef(null),r=M.useRef(null),i=M.useRef(null);return Cw(()=>{const a=cr.timeline();if(e.current){const o=e.current.textContent?.split("")||[];e.current.innerHTML=o.map(l=>`<span class="inline-block">${l===" "?"&nbsp;":l}</span>`).join(""),a.from(e.current.children,{y:100,opacity:0,rotationX:-90,stagger:.02,ease:"back.out(1.7)",duration:.8})}n.current&&a.from(n.current,{y:30,opacity:0,duration:.8,ease:"power3.out"},"-=0.4"),r.current&&a.from(r.current.children,{scale:0,opacity:0,stagger:.1,duration:.6,ease:"back.out(1.7)"},"-=0.3"),i.current&&(a.from(i.current,{x:100,opacity:0,duration:1,ease:"power3.out"},"-=0.8"),cr.to(i.current,{y:-20,duration:2,repeat:-1,yoyo:!0,ease:"power1.inOut"}))},[]),s.jsx("div",{ref:t,className:"relative min-h-screen flex items-center",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{ref:e,className:"text-5xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"مرحباً بك في EgyGo"}),s.jsx("p",{ref:n,className:"text-xl text-muted-foreground mb-8",children:"اكتشف أفضل المنتجات بأسعار لا تُقاوم مع تجربة تسوق استثنائية"}),s.jsxs("div",{ref:r,className:"flex gap-4",children:[s.jsx("button",{className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full font-semibold hover:shadow-lg transform hover:scale-105 transition-all",children:"ابدأ التسوق"}),s.jsx("button",{className:"px-8 py-4 border-2 border-purple-600 text-purple-600 rounded-full font-semibold hover:bg-purple-600 hover:text-white transition-all",children:"تعرف أكثر"})]})]}),s.jsxs("div",{ref:i,className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur-3xl opacity-30"}),s.jsx("img",{src:"https://via.placeholder.com/600x600",alt:"Hero",className:"relative z-10 rounded-2xl shadow-2xl"})]})]})})})}function qDe(){const t=M.useRef(null);return Cw(()=>{t.current&&cr.to(t.current,{scaleX:1,ease:"none",scrollTrigger:{trigger:document.body,start:"top top",end:"bottom bottom",scrub:!0}})},[]),s.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gray-200 z-50",children:s.jsx("div",{ref:t,className:"h-full bg-gradient-to-r from-purple-600 to-pink-600 origin-left",style:{transform:"scaleX(0)"}})})}function l9({children:t,className:e=""}){const n=M.useRef(null);return M.useEffect(()=>{const r=n.current;if(!r)return;const i=o=>{const l=r.getBoundingClientRect(),c=o.clientX-l.left-l.width/2,u=o.clientY-l.top-l.height/2;cr.to(r,{x:c*.3,y:u*.3,duration:.3,ease:"power2.out"})},a=()=>{cr.to(r,{x:0,y:0,duration:.3,ease:"power2.out"})};return r.addEventListener("mousemove",i),r.addEventListener("mouseleave",a),()=>{r.removeEventListener("mousemove",i),r.removeEventListener("mouseleave",a)}},[]),s.jsx("button",{ref:n,className:`relative ${e}`,children:t})}function GDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,typeof(i=(function(a,o){if(typeof a!="object"||a===null)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,"string");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)})(r.key))=="symbol"?i:String(i),r)}var i}function G5(t,e,n){return e&&GDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ic.apply(this,arguments)}function BN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,vb(t,e)}function vk(t){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vk(t)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},vb(t,e)}function WDe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xk(t,e,n){return xk=WDe()?Reflect.construct.bind():function(r,i,a){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(r,o));return a&&vb(l,a.prototype),l},xk.apply(null,arguments)}function yk(t){var e=typeof Map=="function"?new Map:void 0;return yk=function(n){if(n===null||Function.toString.call(n).indexOf("[native code]")===-1)return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return xk(n,arguments,vk(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),vb(r,n)},yk(t)}function XDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lf,YDe=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};(function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"})(lf||(lf={}));var c9=lf.off,rp=(function(){function t(n){this.t=void 0,this.t=n}t.getLevel=function(){return c9},t.setLevel=function(n){return c9=lf[n]};var e=t.prototype;return e.error=function(){this.i(console.error,lf.error,[].slice.call(arguments))},e.warn=function(){this.i(console.warn,lf.warning,[].slice.call(arguments))},e.info=function(){this.i(console.info,lf.info,[].slice.call(arguments))},e.debug=function(){this.i(console.log,lf.debug,[].slice.call(arguments))},e.i=function(n,r,i){r<=t.getLevel()&&n.apply(console,["["+this.t+"] "].concat(i))},t})();function Gm(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function u9(t){return t&&t.sensitive?"":"i"}var $c={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},ip=new((function(){function t(){this.o=$c,this.u=void 0,this.h={after:null,before:null,parent:null}}var e=t.prototype;return e.toString=function(n){return n.outerHTML},e.toDocument=function(n){return this.u||(this.u=new DOMParser),this.u.parseFromString(n,"text/html")},e.toElement=function(n){var r=document.createElement("div");return r.innerHTML=n,r},e.getHtml=function(n){return n===void 0&&(n=document),this.toString(n.documentElement)},e.getWrapper=function(n){return n===void 0&&(n=document),n.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(n){return n===void 0&&(n=document),n.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(n){document.body.contains(n)&&(this.v(n),n.parentNode.removeChild(n))},e.addContainer=function(n,r){var i=this.getContainer()||this.h.before;i?this.l(n,i):this.h.after?this.h.after.parentNode.insertBefore(n,this.h.after):this.h.parent?this.h.parent.appendChild(n):r.appendChild(n)},e.getSibling=function(){return this.h},e.getNamespace=function(n){n===void 0&&(n=document);var r=n.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return r?r.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(n){if(n.tagName&&n.tagName.toLowerCase()==="a"){if(typeof n.href=="string")return n.href;var r=n.getAttribute("href")||n.getAttribute("xlink:href");if(r)return this.resolveUrl(r.baseVal||r)}return null},e.resolveUrl=function(){var n=[].slice.call(arguments).length;if(n===0)throw new Error("resolveUrl requires at least one argument; got none.");var r=document.createElement("base");if(r.href=arguments[0],n===1)return r.href;var i=document.getElementsByTagName("head")[0];i.insertBefore(r,i.firstChild);for(var a,o=document.createElement("a"),l=1;l<n;l++)o.href=arguments[l],r.href=a=o.href;return i.removeChild(r),a},e.l=function(n,r){r.parentNode.insertBefore(n,r.nextSibling)},e.v=function(n){return this.h={after:n.nextElementSibling,before:n.previousElementSibling,parent:n.parentElement},this.h},t})()),KDe=(function(){function t(){this.p=void 0,this.m=[],this.P=-1}var e=t.prototype;return e.init=function(n,r){this.p="barba";var i={data:{},ns:r,scroll:{x:window.scrollX,y:window.scrollY},url:n};this.P=0,this.m.push(i);var a={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(a,"",n)},e.change=function(n,r,i){if(i&&i.state){var a=i.state,o=a.index;r=this.g(this.P-o),this.replace(a.states),this.P=o}else this.add(n,r);return r},e.add=function(n,r,i,a){var o=i??this.R(r),l={data:a??{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:n};switch(o){case"push":this.P=this.size,this.m.push(l);break;case"replace":this.set(this.P,l)}var c={from:this.p,index:this.P,states:[].concat(this.m)};switch(o){case"push":window.history&&window.history.pushState(c,"",n);break;case"replace":window.history&&window.history.replaceState(c,"",n)}},e.store=function(n,r){var i=r||this.P,a=this.get(i);a.data=Ic({},a.data,n),this.set(i,a);var o={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(o,"")},e.update=function(n,r){var i=r||this.P,a=Ic({},this.get(i),n);this.set(i,a)},e.remove=function(n){n?this.m.splice(n,1):this.m.pop(),this.P--},e.clear=function(){this.m=[],this.P=-1},e.replace=function(n){this.m=n},e.get=function(n){return this.m[n]},e.set=function(n,r){return this.m[n]=r},e.R=function(n){var r="push",i=n,a=$c.prefix+"-"+$c.history;return i.hasAttribute&&i.hasAttribute(a)&&(r=i.getAttribute(a)),r},e.g=function(n){return Math.abs(n)>1?n>0?"forward":"back":n===0?"popstate":n>0?"back":"forward"},G5(t,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),t})(),Lse=new KDe,Wj=function(t,e){try{var n=(function(){if(!e.next.html)return Promise.resolve(t).then(function(r){var i=e.next;if(r){var a=ip.toElement(r.html);i.namespace=ip.getNamespace(a),i.container=ip.getContainer(a),i.url=r.url,i.html=r.html,Lse.update({ns:i.namespace});var o=ip.toDocument(r.html);document.title=o.title}})})();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(r){return Promise.reject(r)}},Fse=function t(e,n,r){return e instanceof RegExp?(function(i,a){if(!a)return i;for(var o=/\((?:\?<(.*?)>)?(?!\?)/g,l=0,c=o.exec(i.source);c;)a.push({name:c[1]||l++,prefix:"",suffix:"",modifier:"",pattern:""}),c=o.exec(i.source);return i})(e,n):Array.isArray(e)?(function(i,a,o){var l=i.map(function(c){return t(c,a,o).source});return new RegExp("(?:".concat(l.join("|"),")"),u9(o))})(e,n,r):(function(i,a,o){return(function(l,c,u){u===void 0&&(u={});for(var d=u.strict,f=d!==void 0&&d,h=u.start,p=h===void 0||h,y=u.end,g=y===void 0||y,v=u.encode,b=v===void 0?function(q){return q}:v,w=u.delimiter,_=w===void 0?"/#?":w,S=u.endsWith,j="[".concat(Gm(S===void 0?"":S),"]|$"),A="[".concat(Gm(_),"]"),C=p?"^":"",N=0,T=l;N<T.length;N++){var P=T[N];if(typeof P=="string")C+=Gm(b(P));else{var D=Gm(b(P.prefix)),O=Gm(b(P.suffix));if(P.pattern)if(c&&c.push(P),D||O)if(P.modifier==="+"||P.modifier==="*"){var I=P.modifier==="*"?"?":"";C+="(?:".concat(D,"((?:").concat(P.pattern,")(?:").concat(O).concat(D,"(?:").concat(P.pattern,"))*)").concat(O,")").concat(I)}else C+="(?:".concat(D,"(").concat(P.pattern,")").concat(O,")").concat(P.modifier);else C+=P.modifier==="+"||P.modifier==="*"?"((?:".concat(P.pattern,")").concat(P.modifier,")"):"(".concat(P.pattern,")").concat(P.modifier);else C+="(?:".concat(D).concat(O,")").concat(P.modifier)}}if(g)f||(C+="".concat(A,"?")),C+=u.endsWith?"(?=".concat(j,")"):"$";else{var L=l[l.length-1],z=typeof L=="string"?A.indexOf(L[L.length-1])>-1:L===void 0;f||(C+="(?:".concat(A,"(?=").concat(j,"))?")),z||(C+="(?=".concat(A,"|").concat(j,")"))}return new RegExp(C,u9(u))})((function(l,c){c===void 0&&(c={});for(var u=(function(O){for(var I=[],L=0;L<O.length;){var z=O[L];if(z!=="*"&&z!=="+"&&z!=="?")if(z!=="\\")if(z!=="{")if(z!=="}")if(z!==":")if(z!=="(")I.push({type:"CHAR",index:L,value:O[L++]});else{var q=1,V="";if(O[U=L+1]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(U));for(;U<O.length;)if(O[U]!=="\\"){if(O[U]===")"){if(--q==0){U++;break}}else if(O[U]==="("&&(q++,O[U+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(U));V+=O[U++]}else V+=O[U++]+O[U++];if(q)throw new TypeError("Unbalanced pattern at ".concat(L));if(!V)throw new TypeError("Missing pattern at ".concat(L));I.push({type:"PATTERN",index:L,value:V}),L=U}else{for(var F="",U=L+1;U<O.length;){var H=O.charCodeAt(U);if(!(H>=48&&H<=57||H>=65&&H<=90||H>=97&&H<=122||H===95))break;F+=O[U++]}if(!F)throw new TypeError("Missing parameter name at ".concat(L));I.push({type:"NAME",index:L,value:F}),L=U}else I.push({type:"CLOSE",index:L,value:O[L++]});else I.push({type:"OPEN",index:L,value:O[L++]});else I.push({type:"ESCAPED_CHAR",index:L++,value:O[L++]});else I.push({type:"MODIFIER",index:L,value:O[L++]})}return I.push({type:"END",index:L,value:""}),I})(l),d=c.prefixes,f=d===void 0?"./":d,h="[^".concat(Gm(c.delimiter||"/#?"),"]+?"),p=[],y=0,g=0,v="",b=function(O){if(g<u.length&&u[g].type===O)return u[g++].value},w=function(O){var I=b(O);if(I!==void 0)return I;var L=u[g],z=L.index;throw new TypeError("Unexpected ".concat(L.type," at ").concat(z,", expected ").concat(O))},_=function(){for(var O,I="";O=b("CHAR")||b("ESCAPED_CHAR");)I+=O;return I};g<u.length;){var S=b("CHAR"),j=b("NAME"),A=b("PATTERN");if(j||A)f.indexOf(N=S||"")===-1&&(v+=N,N=""),v&&(p.push(v),v=""),p.push({name:j||y++,prefix:N,suffix:"",pattern:A||h,modifier:b("MODIFIER")||""});else{var C=S||b("ESCAPED_CHAR");if(C)v+=C;else if(v&&(p.push(v),v=""),b("OPEN")){var N=_(),T=b("NAME")||"",P=b("PATTERN")||"",D=_();w("CLOSE"),p.push({name:T||(P?y++:""),pattern:T&&!P?h:P,prefix:N,suffix:D,modifier:b("MODIFIER")||""})}else w("END")}}return p})(i,o),a,o)})(e,n,r)},QDe={__proto__:null,update:Wj,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:Fse},Use=function(){return window.location.origin},xb=function(t){return t===void 0&&(t=window.location.href),cf(t).port},cf=function(t){var e,n=t.match(/:\d+/);if(n===null)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var r=n[0].substring(1);e=parseInt(r,10)}var i,a=t.replace(Use(),""),o={},l=a.indexOf("#");l>=0&&(i=a.slice(l+1),a=a.slice(0,l));var c=a.indexOf("?");return c>=0&&(o=Bse(a.slice(c+1)),a=a.slice(0,c)),{hash:i,path:a,port:e,query:o}},Bse=function(t){return t.split("&").reduce(function(e,n){var r=n.split("=");return e[r[0]]=r[1],e},{})},bk=function(t){return t===void 0&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},ZDe={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(t,e){return e===void 0&&(e=document.baseURI),new URL(t,e).href},getOrigin:Use,getPort:xb,getPath:function(t){return t===void 0&&(t=window.location.href),cf(t).path},getQuery:function(t,e){return e===void 0&&(e=!1),e?JSON.stringify(cf(t).query):cf(t).query},getHash:function(t){return cf(t).hash},parse:cf,parseQuery:Bse,clean:bk};function JDe(t,e,n,r,i){return e===void 0&&(e=2e3),new Promise(function(a,o){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(l.readyState===XMLHttpRequest.DONE){if(l.status===200){var c=l.responseURL!==""&&l.responseURL!==t?l.responseURL:t;a({html:l.responseText,url:Ic({href:c},cf(c))}),r.update(t,{status:"fulfilled",target:c})}else if(l.status){var u={status:l.status,statusText:l.statusText};n(t,u),o(u),r.update(t,{status:"rejected"})}}},l.ontimeout=function(){var c=new Error("Timeout error ["+e+"]");n(t,c),o(c),r.update(t,{status:"rejected"})},l.onerror=function(){var c=new Error("Fetch error");n(t,c),o(c),r.update(t,{status:"rejected"})},l.open("GET",t),l.timeout=e,l.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),l.setRequestHeader("x-barba","yes"),i.all().forEach(function(c,u){l.setRequestHeader(u,c)}),l.send()})}function eRe(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Ng(t,e){return e===void 0&&(e={}),function(){var n=arguments,r=!1,i=new Promise(function(a,o){e.async=function(){return r=!0,function(c,u){c?o(c):a(u)}};var l=t.apply(e,[].slice.call(n));r||(eRe(l)?l.then(a,o):a(l))});return i}}var sf=new((function(t){function e(){var r;return(r=t.call(this)||this).logger=new rp("@barba/core"),r.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],r.registered=new Map,r.init(),r}BN(e,t);var n=e.prototype;return n.init=function(){var r=this;this.registered.clear(),this.all.forEach(function(i){r[i]||(r[i]=function(a,o){r.registered.has(i)||r.registered.set(i,new Set),r.registered.get(i).add({ctx:o||{},fn:a})})})},n.do=function(r){var i=arguments,a=this;if(this.registered.has(r)){var o=Promise.resolve();return this.registered.get(r).forEach(function(l){o=o.then(function(){return Ng(l.fn,l.ctx).apply(void 0,[].slice.call(i,1))})}),o.catch(function(l){a.logger.debug("Hook error ["+r+"]"),a.logger.error(l)})}return Promise.resolve()},n.clear=function(){var r=this;this.all.forEach(function(i){delete r[i]}),this.init()},n.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var r=[];this.registered.forEach(function(i,a){return r.push(a)}),this.logger.info("Registered hooks: "+r.join(","))},e})(YDe)),$se=(function(){function t(e){if(this.k=void 0,this.O=[],typeof e=="boolean")this.k=e;else{var n=Array.isArray(e)?e:[e];this.O=n.map(function(r){return Fse(r)})}}return t.prototype.checkHref=function(e){if(typeof this.k=="boolean")return this.k;var n=cf(e).path;return this.O.some(function(r){return r.exec(n)!==null})},t})(),tRe=(function(t){function e(r){var i;return(i=t.call(this,r)||this).T=new Map,i}BN(e,t);var n=e.prototype;return n.set=function(r,i,a,o,l){return this.T.set(r,{action:a,request:i,status:o,target:l??r}),{action:a,request:i,status:o,target:l}},n.get=function(r){return this.T.get(r)},n.getRequest=function(r){return this.T.get(r).request},n.getAction=function(r){return this.T.get(r).action},n.getStatus=function(r){return this.T.get(r).status},n.getTarget=function(r){return this.T.get(r).target},n.has=function(r){return!this.checkHref(r)&&this.T.has(r)},n.delete=function(r){return this.T.delete(r)},n.update=function(r,i){var a=Ic({},this.T.get(r),i);return this.T.set(r,a),a},e})($se),nRe=(function(){function t(){this.A=new Map}var e=t.prototype;return e.set=function(n,r){return this.A.set(n,r),{name:r}},e.get=function(n){return this.A.get(n)},e.all=function(){return this.A},e.has=function(n){return this.A.has(n)},e.delete=function(n){return this.A.delete(n)},e.clear=function(){return this.A.clear()},t})(),rRe=function(){return!window.history.pushState},iRe=function(t){return!t.el||!t.href},sRe=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},aRe=function(t){var e=t.el;return e.hasAttribute("target")&&e.target==="_blank"},oRe=function(t){var e=t.el;return e.protocol!==void 0&&window.location.protocol!==e.protocol||e.hostname!==void 0&&window.location.hostname!==e.hostname},lRe=function(t){var e=t.el;return e.port!==void 0&&xb()!==xb(e.href)},cRe=function(t){var e=t.el;return e.getAttribute&&typeof e.getAttribute("download")=="string"},uRe=function(t){return t.el.hasAttribute($c.prefix+"-"+$c.prevent)},dRe=function(t){return!!t.el.closest("["+$c.prefix+"-"+$c.prevent+'="all"]')},fRe=function(t){var e=t.href;return bk(e)===bk()&&xb(e)===xb()},hRe=(function(t){function e(r){var i;return(i=t.call(this,r)||this).suite=[],i.tests=new Map,i.init(),i}BN(e,t);var n=e.prototype;return n.init=function(){this.add("pushState",rRe),this.add("exists",iRe),this.add("newTab",sRe),this.add("blank",aRe),this.add("corsDomain",oRe),this.add("corsPort",lRe),this.add("download",cRe),this.add("preventSelf",uRe),this.add("preventAll",dRe),this.add("sameUrl",fRe,!1)},n.add=function(r,i,a){a===void 0&&(a=!0),this.tests.set(r,i),a&&this.suite.push(r)},n.run=function(r,i,a,o){return this.tests.get(r)({el:i,event:a,href:o})},n.checkLink=function(r,i,a){var o=this;return this.suite.some(function(l){return o.run(l,r,i,a)})},e})($se),kM=(function(t){function e(n,r){var i;return r===void 0&&(r="Barba error"),(i=t.call.apply(t,[this].concat([].slice.call(arguments,2)))||this).error=void 0,i.label=void 0,i.error=n,i.label=r,Error.captureStackTrace&&Error.captureStackTrace(XDe(i),e),i.name="BarbaError",i}return BN(e,t),e})(yk(Error)),pRe=(function(){function t(n){n===void 0&&(n=[]),this.logger=new rp("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],n&&(this.all=this.all.concat(n)),this.update()}var e=t.prototype;return e.add=function(n,r){n==="rule"?this.j.splice(r.position||0,0,r.value):this.all.push(r),this.update()},e.resolve=function(n,r){var i=this;r===void 0&&(r={});var a=r.once?this.once:this.page;a=a.filter(r.self?function(h){return h.name&&h.name==="self"}:function(h){return!h.name||h.name!=="self"});var o=new Map,l=a.find(function(h){var p=!0,y={};return r.self&&h.name==="self"?(o.set(h,y),!0):(i.j.reverse().forEach(function(g){p&&(p=i.M(h,g,n,y),h.from&&h.to&&(p=i.M(h,g,n,y,"from")&&i.M(h,g,n,y,"to")),h.from&&!h.to&&(p=i.M(h,g,n,y,"from")),!h.from&&h.to&&(p=i.M(h,g,n,y,"to")))}),o.set(h,y),p)}),c=o.get(l),u=[];if(u.push(r.once?"once":"page"),r.self&&u.push("self"),c){var d,f=[l];Object.keys(c).length>0&&f.push(c),(d=this.logger).info.apply(d,["Transition found ["+u.join(",")+"]"].concat(f))}else this.logger.info("No transition found ["+u.join(",")+"]");return l},e.update=function(){var n=this;this.all=this.all.map(function(r){return n.N(r)}).sort(function(r,i){return r.priority-i.priority}).reverse().map(function(r){return delete r.priority,r}),this.page=this.all.filter(function(r){return r.leave!==void 0||r.enter!==void 0}),this.once=this.all.filter(function(r){return r.once!==void 0})},e.M=function(n,r,i,a,o){var l=!0,c=!1,u=n,d=r.name,f=d,h=d,p=d,y=o?u[o]:u,g=o==="to"?i.next:i.current;if(o?y&&y[d]:y[d]){switch(r.type){case"strings":default:var v=Array.isArray(y[f])?y[f]:[y[f]];g[f]&&v.indexOf(g[f])!==-1&&(c=!0),v.indexOf(g[f])===-1&&(l=!1);break;case"object":var b=Array.isArray(y[h])?y[h]:[y[h]];g[h]?(g[h].name&&b.indexOf(g[h].name)!==-1&&(c=!0),b.indexOf(g[h].name)===-1&&(l=!1)):l=!1;break;case"function":y[p](i)?c=!0:l=!1}c&&(o?(a[o]=a[o]||{},a[o][d]=u[o][d]):a[d]=u[d])}return l},e.S=function(n,r,i){var a=0;return(n[r]||n.from&&n.from[r]||n.to&&n.to[r])&&(a+=Math.pow(10,i),n.from&&n.from[r]&&(a+=1),n.to&&n.to[r]&&(a+=2)),a},e.N=function(n){var r=this;n.priority=0;var i=0;return this.j.forEach(function(a,o){i+=r.S(n,a.name,o+1)}),n.priority=i,n},t})();function My(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var mRe=(function(){function t(n){n===void 0&&(n=[]),this.logger=new rp("@barba/core"),this.store=void 0,this.C=!1,this.store=new pRe(n)}var e=t.prototype;return e.get=function(n,r){return this.store.resolve(n,r)},e.doOnce=function(n){var r=n.data,i=n.transition;try{var a=function(){o.C=!1},o=this,l=i||{};o.C=!0;var c=My(function(){return Promise.resolve(o.L("beforeOnce",r,l)).then(function(){return Promise.resolve(o.once(r,l)).then(function(){return Promise.resolve(o.L("afterOnce",r,l)).then(function(){})})})},function(u){o.C=!1,o.logger.debug("Transition error [before/after/once]"),o.logger.error(u)});return Promise.resolve(c&&c.then?c.then(a):a())}catch(u){return Promise.reject(u)}},e.doPage=function(n){var r=n.data,i=n.transition,a=n.page,o=n.wrapper;try{var l=function(h){c.C=!1},c=this,u=i||{},d=u.sync===!0||!1;c.C=!0;var f=My(function(){function h(){return Promise.resolve(c.L("before",r,u)).then(function(){function y(v){return Promise.resolve(c.remove(r)).then(function(){return Promise.resolve(c.L("after",r,u)).then(function(){})})}var g=(function(){if(d)return My(function(){return Promise.resolve(c.add(r,o)).then(function(){return Promise.resolve(c.L("beforeLeave",r,u)).then(function(){return Promise.resolve(c.L("beforeEnter",r,u)).then(function(){return Promise.resolve(Promise.all([c.leave(r,u),c.enter(r,u)])).then(function(){return Promise.resolve(c.L("afterLeave",r,u)).then(function(){return Promise.resolve(c.L("afterEnter",r,u)).then(function(){})})})})})})},function(_){if(c.H(_))throw new kM(_,"Transition error [sync]")});var v=function(_){return My(function(){var S=(function(){if(b!==!1)return Promise.resolve(c.add(r,o)).then(function(){return Promise.resolve(c.L("beforeEnter",r,u)).then(function(){return Promise.resolve(c.enter(r,u,b)).then(function(){return Promise.resolve(c.L("afterEnter",r,u)).then(function(){})})})})})();if(S&&S.then)return S.then(function(){})},function(S){if(c.H(S))throw new kM(S,"Transition error [before/after/enter]")})},b=!1,w=My(function(){return Promise.resolve(c.L("beforeLeave",r,u)).then(function(){return Promise.resolve(Promise.all([c.leave(r,u),Wj(a,r)]).then(function(_){return _[0]})).then(function(_){return b=_,Promise.resolve(c.L("afterLeave",r,u)).then(function(){})})})},function(_){if(c.H(_))throw new kM(_,"Transition error [before/after/leave]")});return w&&w.then?w.then(v):v()})();return g&&g.then?g.then(y):y()})}var p=(function(){if(d)return Promise.resolve(Wj(a,r)).then(function(){})})();return p&&p.then?p.then(h):h()},function(h){throw c.C=!1,h.name&&h.name==="BarbaError"?(c.logger.debug(h.label),c.logger.error(h.error),h):(c.logger.debug("Transition error [page]"),c.logger.error(h),h)});return Promise.resolve(f&&f.then?f.then(l):l())}catch(h){return Promise.reject(h)}},e.once=function(n,r){try{return Promise.resolve(sf.do("once",n,r)).then(function(){return r.once?Ng(r.once,r)(n):Promise.resolve()})}catch(i){return Promise.reject(i)}},e.leave=function(n,r){try{return Promise.resolve(sf.do("leave",n,r)).then(function(){return r.leave?Ng(r.leave,r)(n):Promise.resolve()})}catch(i){return Promise.reject(i)}},e.enter=function(n,r,i){try{return Promise.resolve(sf.do("enter",n,r)).then(function(){return r.enter?Ng(r.enter,r)(n,i):Promise.resolve()})}catch(a){return Promise.reject(a)}},e.add=function(n,r){try{return ip.addContainer(n.next.container,r),sf.do("nextAdded",n),Promise.resolve()}catch(i){return Promise.reject(i)}},e.remove=function(n){try{return ip.removeContainer(n.current.container),sf.do("currentRemoved",n),Promise.resolve()}catch(r){return Promise.reject(r)}},e.H=function(n){return n.message?!/Timeout error|Fetch error/.test(n.message):!n.status},e.L=function(n,r,i){try{return Promise.resolve(sf.do(n,r,i)).then(function(){return i[n]?Ng(i[n],i)(r):Promise.resolve()})}catch(a){return Promise.reject(a)}},G5(t,[{key:"isRunning",get:function(){return this.C},set:function(n){this.C=n}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(n){return n.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(n){return n.to&&!n.to.route||n.sync})}}]),t})(),gRe=(function(){function t(e){var n=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,e.length!==0&&(e.forEach(function(r){n.byNamespace.set(r.namespace,r)}),this.names.forEach(function(r){sf[r](n._(r))}))}return t.prototype._=function(e){var n=this;return function(r){var i=e.match(/enter/i)?r.next:r.current,a=n.byNamespace.get(i.namespace);return a&&a[e]?Ng(a[e],a)(r):Promise.resolve()}},t})();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null});var vRe={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},P_=new((function(){function t(){this.version="2.10.3",this.schemaPage=vRe,this.Logger=rp,this.logger=new rp("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=sf,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=ip,this.helpers=QDe,this.history=Lse,this.request=JDe,this.url=ZDe,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var e=t.prototype;return e.use=function(n,r){var i=this.plugins;i.indexOf(n)>-1?this.logger.warn("Plugin ["+n.name+"] already installed."):typeof n.install=="function"?(n.install(this,r),i.push(n)):this.logger.warn("Plugin ["+n.name+'] has no "install" method.')},e.init=function(n){var r=n===void 0?{}:n,i=r.transitions,a=i===void 0?[]:i,o=r.views,l=o===void 0?[]:o,c=r.schema,u=c===void 0?$c:c,d=r.requestError,f=r.timeout,h=f===void 0?2e3:f,p=r.cacheIgnore,y=p!==void 0&&p,g=r.cacheFirstPage,v=g!==void 0&&g,b=r.prefetchIgnore,w=b!==void 0&&b,_=r.preventRunning,S=_!==void 0&&_,j=r.prevent,A=j===void 0?null:j,C=r.debug,N=r.logLevel;if(rp.setLevel((C!==void 0&&C)===!0?"debug":N===void 0?"off":N),this.logger.info(this.version),Object.keys(u).forEach(function(D){$c[D]&&($c[D]=u[D])}),this.B=d,this.timeout=h,this.cacheIgnore=y,this.cacheFirstPage=v,this.prefetchIgnore=w,this.preventRunning=S,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var T=this.data.current;if(!T.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new tRe(y),this.headers=new nRe,this.prevent=new hRe(w),this.transitions=new mRe(a),this.views=new gRe(l),A!==null){if(typeof A!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",A)}this.history.init(T.url.href,T.namespace),v&&this.cache.set(T.url.href,Promise.resolve({html:T.html,url:T.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach(function(D){return D.init()});var P=this.data;P.trigger="barba",P.next=P.current,P.current=Ic({},this.schemaPage),this.hooks.do("ready",P),this.once(P),this.I()},e.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},e.force=function(n){window.location.assign(n)},e.go=function(n,r,i){var a;if(r===void 0&&(r="barba"),this.F=null,this.transitions.isRunning)this.force(n);else if(!(a=r==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(n)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(n,!0):this.prevent.run("sameUrl",null,null,n))||this.transitions.hasSelf)return r=this.history.change(this.cache.has(n)?this.cache.get(n).target:n,r,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(n,r,i??void 0,a)},e.once=function(n){try{var r=this;return Promise.resolve(r.hooks.do("beforeEnter",n)).then(function(){function i(){return Promise.resolve(r.hooks.do("afterEnter",n)).then(function(){})}var a=(function(){if(r.transitions.hasOnce){var o=r.transitions.get(n,{once:!0});return Promise.resolve(r.transitions.doOnce({transition:o,data:n})).then(function(){})}})();return a&&a.then?a.then(i):i()})}catch(i){return Promise.reject(i)}},e.page=function(n,r,i,a){try{var o,l=function(){var f=c.data;return Promise.resolve(c.hooks.do("page",f)).then(function(){var h=(function(p,y){try{var g=(v=c.transitions.get(f,{once:!1,self:a}),Promise.resolve(c.transitions.doPage({data:f,page:o,transition:v,wrapper:c.q})).then(function(){c.I()}))}catch{return y()}var v;return g&&g.then?g.then(void 0,y):g})(0,function(){rp.getLevel()===0&&c.force(f.next.url.href)});if(h&&h.then)return h.then(function(){})})},c=this;if(c.data.next.url=Ic({href:n},c.url.parse(n)),c.data.trigger=r,c.data.event=i,c.cache.has(n))o=c.cache.update(n,{action:"click"}).request;else{var u=c.request(n,c.timeout,c.onRequestError.bind(c,r),c.cache,c.headers);u.then(function(f){f.url.href!==n&&c.history.add(f.url.href,r,"replace")}),o=c.cache.set(n,u,"click","pending").request}var d=(function(){if(c.transitions.shouldWait)return Promise.resolve(Wj(o,c.data)).then(function(){})})();return Promise.resolve(d&&d.then?d.then(l):l())}catch(f){return Promise.reject(f)}},e.onRequestError=function(n){this.transitions.isRunning=!1;var r=[].slice.call(arguments,1),i=r[0],a=r[1],o=this.cache.getAction(i);return this.cache.delete(i),this.B&&this.B(n,o,i,a)===!1||o==="click"&&this.force(i),!1},e.prefetch=function(n){var r=this;n=this.url.getAbsoluteHref(n),this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch(function(i){r.logger.error(i)}),"prefetch","pending")},e.G=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},e.J=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},e.U=function(n){var r=this,i=this.W(n);if(i){var a=this.url.getAbsoluteHref(this.dom.getHref(i));this.prevent.checkHref(a)||this.cache.has(a)||this.cache.set(a,this.request(a,this.timeout,this.onRequestError.bind(this,i),this.cache,this.headers).catch(function(o){r.logger.error(o)}),"enter","pending")}},e.$=function(n){var r=this.W(n);if(r){if(this.transitions.isRunning&&this.preventRunning)return n.preventDefault(),void n.stopPropagation();this.F=n,this.go(this.dom.getHref(r),r,n)}},e.X=function(n){this.go(this.url.getHref(),"popstate",n)},e.W=function(n){for(var r=n.target;r&&!this.dom.getHref(r);)r=r.parentNode;if(r&&!this.prevent.checkLink(r,n,this.dom.getHref(r)))return r},e.I=function(){var n=this.url.getHref(),r={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:Ic({href:n},this.url.parse(n))};this.D={current:r,event:void 0,next:Ic({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},G5(t,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),t})());function xRe(){const t=M.useRef(!1);M.useEffect(()=>{if(!t.current)return t.current=!0,P_.init({transitions:[{name:"fade",leave(e){return cr.to(e.current.container,{opacity:0,duration:.5,ease:"power2.inOut"})},enter(e){return cr.from(e.next.container,{opacity:0,duration:.5,ease:"power2.inOut"})}},{name:"slide",leave(e){return cr.to(e.current.container,{x:-100,opacity:0,duration:.6,ease:"power2.inOut"})},enter(e){return cr.from(e.next.container,{x:100,opacity:0,duration:.6,ease:"power2.inOut"})}},{name:"clip",leave(e){const n=cr.timeline();return n.to(e.current.container,{clipPath:"circle(0% at 50% 50%)",duration:.8,ease:"power2.inOut"}),n},enter(e){const n=cr.timeline();return n.from(e.next.container,{clipPath:"circle(0% at 50% 50%)",duration:.8,ease:"power2.inOut"}),n}},{name:"cover",leave(){const e=document.createElement("div");return e.className="page-transition-cover",document.body.appendChild(e),cr.timeline().set(e,{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",zIndex:9999,transformOrigin:"bottom"}).from(e,{scaleY:0,duration:.5,ease:"power2.inOut"})},enter(){const e=document.querySelector(".page-transition-cover");return cr.timeline().to(e,{scaleY:0,transformOrigin:"top",duration:.5,ease:"power2.inOut",onComplete:()=>e?.remove()})}}],views:[{namespace:"home",beforeEnter(){console.log("Entering home page")},afterEnter(){yRe()}},{namespace:"product",beforeEnter(){console.log("Entering product page")},afterEnter(){bRe()}}]}),P_.hooks.before(()=>{document.querySelector("html")?.classList.add("is-transitioning")}),P_.hooks.after(()=>{document.querySelector("html")?.classList.remove("is-transitioning"),window.scrollTo(0,0)}),()=>{P_.destroy()}},[])}function yRe(){cr.timeline().from(".hero-title",{y:100,opacity:0,duration:1,ease:"power3.out"}).from(".hero-subtitle",{y:50,opacity:0,duration:.8,ease:"power3.out"},"-=0.5").from(".hero-cta",{scale:0,opacity:0,duration:.6,ease:"back.out(1.7)"},"-=0.3")}function bRe(){cr.timeline().from(".product-image",{scale:.8,opacity:0,duration:.8,ease:"power3.out"}).from(".product-info > *",{x:50,opacity:0,duration:.6,stagger:.1,ease:"power3.out"},"-=0.4")}function wRe({children:t,namespace:e="default"}){return s.jsx("div",{"data-barba":"wrapper",children:s.jsx("div",{"data-barba":"container","data-barba-namespace":e,children:t})})}function _Re(){const t=M.useRef(null);return M.useEffect(()=>{cr.timeline({onComplete:()=>{t.current?.remove()}}).to(".preloader-logo",{scale:1,opacity:1,duration:.5,ease:"back.out(1.7)"}).to(".preloader-text",{opacity:1,y:0,duration:.5,ease:"power3.out"}).to(".preloader-progress",{scaleX:1,duration:1.5,ease:"power2.inOut"}).to(t.current,{opacity:0,duration:.5,ease:"power2.inOut"})},[]),s.jsx("div",{ref:t,className:"fixed inset-0 bg-gradient-to-br from-purple-600 to-pink-600 z-[9999] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"preloader-logo w-24 h-24 bg-white rounded-full mx-auto mb-4 scale-0 opacity-0 flex items-center justify-center",children:s.jsx("span",{className:"text-3xl font-bold text-purple-600",children:"EG"})}),s.jsxs("div",{className:"preloader-text opacity-0 translate-y-4",children:[s.jsx("h2",{className:"text-white text-2xl font-bold mb-2",children:"EgyGo"}),s.jsx("p",{className:"text-white/80",children:"جاري التحميل..."})]}),s.jsx("div",{className:"mt-8 w-64 h-1 bg-white/20 rounded-full overflow-hidden",children:s.jsx("div",{className:"preloader-progress h-full bg-white rounded-full origin-left scale-x-0"})})]})})}function SRe(){const t=M.useRef(null),e=M.useRef(null);return M.useEffect(()=>{const n=t.current,r=e.current;if(!n||!r)return;const i=c=>{cr.to(n,{x:c.clientX-20,y:c.clientY-20,duration:.5,ease:"power2.out"}),cr.to(r,{x:c.clientX-4,y:c.clientY-4,duration:.1})},a=()=>{cr.to(n,{scale:1.5,borderColor:"#8b5cf6",duration:.3})},o=()=>{cr.to(n,{scale:1,borderColor:"#e5e7eb",duration:.3})};document.addEventListener("mousemove",i);const l=document.querySelectorAll("a, button");return l.forEach(c=>{c.addEventListener("mouseenter",a),c.addEventListener("mouseleave",o)}),()=>{document.removeEventListener("mousemove",i),l.forEach(c=>{c.removeEventListener("mouseenter",a),c.removeEventListener("mouseleave",o)})}},[]),s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:t,className:"fixed w-10 h-10 border-2 border-gray-300 rounded-full pointer-events-none z-[9998] mix-blend-difference",style:{transform:"translate(-20px, -20px)"}}),s.jsx("div",{ref:e,className:"fixed w-2 h-2 bg-purple-600 rounded-full pointer-events-none z-[9999]",style:{transform:"translate(-4px, -4px)"}})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $N="176",Wm={ROTATE:0,DOLLY:1,PAN:2},Xm={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jRe=0,d9=1,ERe=2,zse=1,Hse=2,Ru=3,dd=0,Fa=1,Cc=2,Of=0,Kg=1,f9=2,h9=3,p9=4,NRe=5,Xh=100,ARe=101,CRe=102,MRe=103,TRe=104,PRe=200,DRe=201,RRe=202,ORe=203,wk=204,_k=205,IRe=206,kRe=207,LRe=208,FRe=209,URe=210,BRe=211,$Re=212,zRe=213,HRe=214,Sk=0,jk=1,Ek=2,jv=3,Nk=4,Ak=5,Ck=6,Mk=7,W5=0,VRe=1,qRe=2,If=0,GRe=1,WRe=2,XRe=3,YRe=4,KRe=5,QRe=6,ZRe=7,m9="attached",JRe="detached",Vse=300,Ev=301,Nv=302,Tk=303,Pk=304,zN=306,Yf=1e3,bf=1001,Xj=1002,Ua=1003,qse=1004,f0=1005,Jo=1006,WS=1007,Vu=1008,eu=1009,Gse=1010,Wse=1011,yb=1012,X5=1013,qp=1014,Vl=1015,Mw=1016,Y5=1017,K5=1018,bb=1020,Xse=35902,Yse=1021,Kse=1022,el=1023,wb=1026,_b=1027,Q5=1028,Z5=1029,Qse=1030,J5=1031,eF=1033,XS=33776,YS=33777,KS=33778,QS=33779,Dk=35840,Rk=35841,Ok=35842,Ik=35843,kk=36196,Lk=37492,Fk=37496,Uk=37808,Bk=37809,$k=37810,zk=37811,Hk=37812,Vk=37813,qk=37814,Gk=37815,Wk=37816,Xk=37817,Yk=37818,Kk=37819,Qk=37820,Zk=37821,ZS=36492,Jk=36494,e3=36495,Zse=36283,t3=36284,n3=36285,r3=36286,Sb=2300,jb=2301,LM=2302,g9=2400,v9=2401,x9=2402,eOe=2500,tOe=0,Jse=1,i3=2,nOe=3200,rOe=3201,tF=0,iOe=1,uf="",Go="srgb",Av="srgb-linear",Yj="linear",or="srgb",Ym=7680,y9=519,sOe=512,aOe=513,oOe=514,eae=515,lOe=516,cOe=517,uOe=518,dOe=519,s3=35044,b9="300 es",qu=2e3,Kj=2001;let Sx=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const Cs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let w9=1234567;const O0=Math.PI/180,Cv=180/Math.PI;function Yl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cs[t&255]+Cs[t>>8&255]+Cs[t>>16&255]+Cs[t>>24&255]+"-"+Cs[e&255]+Cs[e>>8&255]+"-"+Cs[e>>16&15|64]+Cs[e>>24&255]+"-"+Cs[n&63|128]+Cs[n>>8&255]+"-"+Cs[n>>16&255]+Cs[n>>24&255]+Cs[r&255]+Cs[r>>8&255]+Cs[r>>16&255]+Cs[r>>24&255]).toLowerCase()}function jn(t,e,n){return Math.max(e,Math.min(n,t))}function nF(t,e){return(t%e+e)%e}function fOe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function hOe(t,e,n){return t!==e?(n-t)/(e-t):0}function I0(t,e,n){return(1-n)*t+n*e}function pOe(t,e,n,r){return I0(t,e,1-Math.exp(-n*r))}function mOe(t,e=1){return e-Math.abs(nF(t,e*2)-e)}function gOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function vOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function xOe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function yOe(t,e){return t+Math.random()*(e-t)}function bOe(t){return t*(.5-Math.random())}function wOe(t){t!==void 0&&(w9=t);let e=w9+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _Oe(t){return t*O0}function SOe(t){return t*Cv}function jOe(t){return(t&t-1)===0&&t!==0}function EOe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function NOe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function AOe(t,e,n,r,i){const a=Math.cos,o=Math.sin,l=a(n/2),c=o(n/2),u=a((e+r)/2),d=o((e+r)/2),f=a((e-r)/2),h=o((e-r)/2),p=a((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(l*d,c*f,c*h,l*u);break;case"YZY":t.set(c*h,l*d,c*f,l*u);break;case"ZXZ":t.set(c*f,c*h,l*d,l*u);break;case"XZX":t.set(l*d,c*y,c*p,l*u);break;case"YXY":t.set(c*p,l*d,c*y,l*u);break;case"ZYZ":t.set(c*y,c*p,l*d,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ul(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ir(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const COe={DEG2RAD:O0,RAD2DEG:Cv,generateUUID:Yl,clamp:jn,euclideanModulo:nF,mapLinear:fOe,inverseLerp:hOe,lerp:I0,damp:pOe,pingpong:mOe,smoothstep:gOe,smootherstep:vOe,randInt:xOe,randFloat:yOe,randFloatSpread:bOe,seededRandom:wOe,degToRad:_Oe,radToDeg:SOe,isPowerOfTwo:jOe,ceilPowerOfTwo:EOe,floorPowerOfTwo:NOe,setQuaternionFromProperEuler:AOe,normalize:ir,denormalize:Ul};class ln{constructor(e=0,n=0){ln.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=jn(this.x,e.x,n.x),this.y=jn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=jn(this.x,e,n),this.y=jn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yn{constructor(e,n,r,i,a,o,l,c,u){yn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,l,c,u)}set(e,n,r,i,a,o,l,c,u){const d=this.elements;return d[0]=e,d[1]=i,d[2]=l,d[3]=n,d[4]=a,d[5]=c,d[6]=r,d[7]=o,d[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],l=r[3],c=r[6],u=r[1],d=r[4],f=r[7],h=r[2],p=r[5],y=r[8],g=i[0],v=i[3],b=i[6],w=i[1],_=i[4],S=i[7],j=i[2],A=i[5],C=i[8];return a[0]=o*g+l*w+c*j,a[3]=o*v+l*_+c*A,a[6]=o*b+l*S+c*C,a[1]=u*g+d*w+f*j,a[4]=u*v+d*_+f*A,a[7]=u*b+d*S+f*C,a[2]=h*g+p*w+y*j,a[5]=h*v+p*_+y*A,a[8]=h*b+p*S+y*C,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8];return n*o*d-n*l*u-r*a*d+r*l*c+i*a*u-i*o*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=d*o-l*u,h=l*c-d*a,p=u*a-o*c,y=n*f+r*h+i*p;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/y;return e[0]=f*g,e[1]=(i*u-d*r)*g,e[2]=(l*r-i*o)*g,e[3]=h*g,e[4]=(d*n-i*c)*g,e[5]=(i*a-l*n)*g,e[6]=p*g,e[7]=(r*c-u*n)*g,e[8]=(o*n-r*a)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,l){const c=Math.cos(a),u=Math.sin(a);return this.set(r*c,r*u,-r*(c*o+u*l)+o+e,-i*u,i*c,-i*(-u*o+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(FM.makeScale(e,n)),this}rotate(e){return this.premultiply(FM.makeRotation(-e)),this}translate(e,n){return this.premultiply(FM.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const FM=new yn;function tae(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Eb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function MOe(){const t=Eb("canvas");return t.style.display="block",t}const _9={};function JS(t){t in _9||(_9[t]=!0,console.warn(t))}function TOe(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}function POe(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function DOe(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const S9=new yn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),j9=new yn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function ROe(){const t={enabled:!0,workingColorSpace:Av,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===or&&(i.r=Ju(i.r),i.g=Ju(i.g),i.b=Ju(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===or&&(i.r=Qg(i.r),i.g=Qg(i.g),i.b=Qg(i.b))),i},fromWorkingColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},toWorkingColorSpace:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===uf?Yj:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Av]:{primaries:e,whitePoint:r,transfer:Yj,toXYZ:S9,fromXYZ:j9,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Go},outputColorSpaceConfig:{drawingBufferColorSpace:Go}},[Go]:{primaries:e,whitePoint:r,transfer:or,toXYZ:S9,fromXYZ:j9,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Go}}}),t}const Gn=ROe();function Ju(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Qg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Km;class OOe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Km===void 0&&(Km=Eb("canvas")),Km.width=e.width,Km.height=e.height;const i=Km.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Km}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Eb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Ju(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ju(n[r]/255)*255):n[r]=Ju(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let IOe=0;class rF{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:IOe++}),this.uuid=Yl(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?a.push(UM(i[o].image)):a.push(UM(i[o]))}else a=UM(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function UM(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?OOe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kOe=0;class ss extends Sx{constructor(e=ss.DEFAULT_IMAGE,n=ss.DEFAULT_MAPPING,r=bf,i=bf,a=Jo,o=Vu,l=el,c=eu,u=ss.DEFAULT_ANISOTROPY,d=uf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kOe++}),this.uuid=Yl(),this.name="",this.source=new rF(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new ln(0,0),this.repeat=new ln(1,1),this.center=new ln(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Vse)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Yf:e.x=e.x-Math.floor(e.x);break;case bf:e.x=e.x<0?0:1;break;case Xj:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Yf:e.y=e.y-Math.floor(e.y);break;case bf:e.y=e.y<0?0:1;break;case Xj:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ss.DEFAULT_IMAGE=null;ss.DEFAULT_MAPPING=Vse;ss.DEFAULT_ANISOTROPY=1;class Xn{constructor(e=0,n=0,r=0,i=1){Xn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const c=e.elements,u=c[0],d=c[4],f=c[8],h=c[1],p=c[5],y=c[9],g=c[2],v=c[6],b=c[10];if(Math.abs(d-h)<.01&&Math.abs(f-g)<.01&&Math.abs(y-v)<.01){if(Math.abs(d+h)<.1&&Math.abs(f+g)<.1&&Math.abs(y+v)<.1&&Math.abs(u+p+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,S=(p+1)/2,j=(b+1)/2,A=(d+h)/4,C=(f+g)/4,N=(y+v)/4;return _>S&&_>j?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=A/r,a=C/r):S>j?S<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(S),r=A/i,a=N/i):j<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(j),r=C/a,i=N/a),this.set(r,i,a,n),this}let w=Math.sqrt((v-y)*(v-y)+(f-g)*(f-g)+(h-d)*(h-d));return Math.abs(w)<.001&&(w=1),this.x=(v-y)/w,this.y=(f-g)/w,this.z=(h-d)/w,this.w=Math.acos((u+p+b-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=jn(this.x,e.x,n.x),this.y=jn(this.y,e.y,n.y),this.z=jn(this.z,e.z,n.z),this.w=jn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=jn(this.x,e,n),this.y=jn(this.y,e,n),this.z=jn(this.z,e,n),this.w=jn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LOe extends Sx{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth?r.depth:1,this.scissor=new Xn(0,0,e,n),this.scissorTest=!1,this.viewport=new Xn(0,0,e,n);const i={width:e,height:n,depth:this.depth};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jo,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},r);const a=new ss(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new rF(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Gp extends LOe{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class nae extends ss{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ua,this.minFilter=Ua,this.wrapR=bf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class FOe extends ss{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ua,this.minFilter=Ua,this.wrapR=bf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tu{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,l){let c=r[i+0],u=r[i+1],d=r[i+2],f=r[i+3];const h=a[o+0],p=a[o+1],y=a[o+2],g=a[o+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f;return}if(l===1){e[n+0]=h,e[n+1]=p,e[n+2]=y,e[n+3]=g;return}if(f!==g||c!==h||u!==p||d!==y){let v=1-l;const b=c*h+u*p+d*y+f*g,w=b>=0?1:-1,_=1-b*b;if(_>Number.EPSILON){const j=Math.sqrt(_),A=Math.atan2(j,b*w);v=Math.sin(v*A)/j,l=Math.sin(l*A)/j}const S=l*w;if(c=c*v+h*S,u=u*v+p*S,d=d*v+y*S,f=f*v+g*S,v===1-l){const j=1/Math.sqrt(c*c+u*u+d*d+f*f);c*=j,u*=j,d*=j,f*=j}}e[n]=c,e[n+1]=u,e[n+2]=d,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,o){const l=r[i],c=r[i+1],u=r[i+2],d=r[i+3],f=a[o],h=a[o+1],p=a[o+2],y=a[o+3];return e[n]=l*y+d*f+c*p-u*h,e[n+1]=c*y+d*h+u*f-l*p,e[n+2]=u*y+d*p+l*h-c*f,e[n+3]=d*y-l*f-c*h-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,l=Math.cos,c=Math.sin,u=l(r/2),d=l(i/2),f=l(a/2),h=c(r/2),p=c(i/2),y=c(a/2);switch(o){case"XYZ":this._x=h*d*f+u*p*y,this._y=u*p*f-h*d*y,this._z=u*d*y+h*p*f,this._w=u*d*f-h*p*y;break;case"YXZ":this._x=h*d*f+u*p*y,this._y=u*p*f-h*d*y,this._z=u*d*y-h*p*f,this._w=u*d*f+h*p*y;break;case"ZXY":this._x=h*d*f-u*p*y,this._y=u*p*f+h*d*y,this._z=u*d*y+h*p*f,this._w=u*d*f-h*p*y;break;case"ZYX":this._x=h*d*f-u*p*y,this._y=u*p*f+h*d*y,this._z=u*d*y-h*p*f,this._w=u*d*f+h*p*y;break;case"YZX":this._x=h*d*f+u*p*y,this._y=u*p*f+h*d*y,this._z=u*d*y-h*p*f,this._w=u*d*f-h*p*y;break;case"XZY":this._x=h*d*f-u*p*y,this._y=u*p*f-h*d*y,this._z=u*d*y+h*p*f,this._w=u*d*f+h*p*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],l=n[5],c=n[9],u=n[2],d=n[6],f=n[10],h=r+l+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-c)*p,this._y=(a-u)*p,this._z=(o-i)*p}else if(r>l&&r>f){const p=2*Math.sqrt(1+r-l-f);this._w=(d-c)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(a+u)/p}else if(l>f){const p=2*Math.sqrt(1+l-r-f);this._w=(a-u)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(c+d)/p}else{const p=2*Math.sqrt(1+f-r-l);this._w=(o-i)/p,this._x=(a+u)/p,this._y=(c+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,l=n._x,c=n._y,u=n._z,d=n._w;return this._x=r*d+o*l+i*u-a*c,this._y=i*d+o*c+a*l-r*u,this._z=a*d+o*u+r*c-i*l,this._w=o*d-r*l-i*c-a*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let l=o*e._w+r*e._x+i*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const c=1-l*l;if(c<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*a+n*this._z,this.normalize(),this}const u=Math.sqrt(c),d=Math.atan2(u,l),f=Math.sin((1-n)*d)/u,h=Math.sin(n*d)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ze{constructor(e=0,n=0,r=0){ze.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(E9.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(E9.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,l=e.z,c=e.w,u=2*(o*i-l*r),d=2*(l*n-a*i),f=2*(a*r-o*n);return this.x=n+c*u+o*f-l*d,this.y=r+c*d+l*u-a*f,this.z=i+c*f+a*d-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=jn(this.x,e.x,n.x),this.y=jn(this.y,e.y,n.y),this.z=jn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=jn(this.x,e,n),this.y=jn(this.y,e,n),this.z=jn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(jn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,l=n.y,c=n.z;return this.x=i*c-a*l,this.y=a*o-r*c,this.z=r*l-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return BM.copy(this).projectOnVector(e),this.sub(BM)}reflect(e){return this.sub(BM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(jn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const BM=new ze,E9=new tu;class gd{constructor(e=new ze(1/0,1/0,1/0),n=new ze(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Nl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Nl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Nl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Nl):Nl.fromBufferAttribute(a,o),Nl.applyMatrix4(e.matrixWorld),this.expandByPoint(Nl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),D_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),D_.copy(r.boundingBox)),D_.applyMatrix4(e.matrixWorld),this.union(D_)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Nl),Nl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ty),R_.subVectors(this.max,Ty),Qm.subVectors(e.a,Ty),Zm.subVectors(e.b,Ty),Jm.subVectors(e.c,Ty),qd.subVectors(Zm,Qm),Gd.subVectors(Jm,Zm),Th.subVectors(Qm,Jm);let n=[0,-qd.z,qd.y,0,-Gd.z,Gd.y,0,-Th.z,Th.y,qd.z,0,-qd.x,Gd.z,0,-Gd.x,Th.z,0,-Th.x,-qd.y,qd.x,0,-Gd.y,Gd.x,0,-Th.y,Th.x,0];return!$M(n,Qm,Zm,Jm,R_)||(n=[1,0,0,0,1,0,0,0,1],!$M(n,Qm,Zm,Jm,R_))?!1:(O_.crossVectors(qd,Gd),n=[O_.x,O_.y,O_.z],$M(n,Qm,Zm,Jm,R_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Nl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Nl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Su[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Su[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Su[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Su[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Su[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Su[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Su[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Su[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Su),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Su=[new ze,new ze,new ze,new ze,new ze,new ze,new ze,new ze],Nl=new ze,D_=new gd,Qm=new ze,Zm=new ze,Jm=new ze,qd=new ze,Gd=new ze,Th=new ze,Ty=new ze,R_=new ze,O_=new ze,Ph=new ze;function $M(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){Ph.fromArray(t,a);const l=i.x*Math.abs(Ph.x)+i.y*Math.abs(Ph.y)+i.z*Math.abs(Ph.z),c=e.dot(Ph),u=n.dot(Ph),d=r.dot(Ph);if(Math.max(-Math.max(c,u,d),Math.min(c,u,d))>l)return!1}return!0}const UOe=new gd,Py=new ze,zM=new ze;class ou{constructor(e=new ze,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):UOe.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Py.subVectors(e,this.center);const n=Py.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Py,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Py.copy(e.center).add(zM)),this.expandByPoint(Py.copy(e.center).sub(zM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ju=new ze,HM=new ze,I_=new ze,Wd=new ze,VM=new ze,k_=new ze,qM=new ze;class Tw{constructor(e=new ze,n=new ze(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ju)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ju.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ju.copy(this.origin).addScaledVector(this.direction,n),ju.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){HM.copy(e).add(n).multiplyScalar(.5),I_.copy(n).sub(e).normalize(),Wd.copy(this.origin).sub(HM);const a=e.distanceTo(n)*.5,o=-this.direction.dot(I_),l=Wd.dot(this.direction),c=-Wd.dot(I_),u=Wd.lengthSq(),d=Math.abs(1-o*o);let f,h,p,y;if(d>0)if(f=o*c-l,h=o*l-c,y=a*d,f>=0)if(h>=-y)if(h<=y){const g=1/d;f*=g,h*=g,p=f*(f+o*h+2*l)+h*(o*f+h+2*c)+u}else h=a,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;else h=-a,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;else h<=-y?(f=Math.max(0,-(-o*a+l)),h=f>0?-a:Math.min(Math.max(-a,-c),a),p=-f*f+h*(h+2*c)+u):h<=y?(f=0,h=Math.min(Math.max(-a,-c),a),p=h*(h+2*c)+u):(f=Math.max(0,-(o*a+l)),h=f>0?a:Math.min(Math.max(-a,-c),a),p=-f*f+h*(h+2*c)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+l)),p=-f*f+h*(h+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(HM).addScaledVector(I_,h),p}intersectSphere(e,n){ju.subVectors(e.center,this.origin);const r=ju.dot(this.direction),i=ju.dot(ju)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),l=r-o,c=r+o;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,l,c;const u=1/this.direction.x,d=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),d>=0?(a=(e.min.y-h.y)*d,o=(e.max.y-h.y)*d):(a=(e.max.y-h.y)*d,o=(e.min.y-h.y)*d),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(l=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(l=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),r>c||l>i)||((l>r||r!==r)&&(r=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ju)!==null}intersectTriangle(e,n,r,i,a){VM.subVectors(n,e),k_.subVectors(r,e),qM.crossVectors(VM,k_);let o=this.direction.dot(qM),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Wd.subVectors(this.origin,e);const c=l*this.direction.dot(k_.crossVectors(Wd,k_));if(c<0)return null;const u=l*this.direction.dot(VM.cross(Wd));if(u<0||c+u>o)return null;const d=-l*Wd.dot(qM);return d<0?null:this.at(d/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class bn{constructor(e,n,r,i,a,o,l,c,u,d,f,h,p,y,g,v){bn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,l,c,u,d,f,h,p,y,g,v)}set(e,n,r,i,a,o,l,c,u,d,f,h,p,y,g,v){const b=this.elements;return b[0]=e,b[4]=n,b[8]=r,b[12]=i,b[1]=a,b[5]=o,b[9]=l,b[13]=c,b[2]=u,b[6]=d,b[10]=f,b[14]=h,b[3]=p,b[7]=y,b[11]=g,b[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new bn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/eg.setFromMatrixColumn(e,0).length(),a=1/eg.setFromMatrixColumn(e,1).length(),o=1/eg.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),d=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*d,p=o*f,y=l*d,g=l*f;n[0]=c*d,n[4]=-c*f,n[8]=u,n[1]=p+y*u,n[5]=h-g*u,n[9]=-l*c,n[2]=g-h*u,n[6]=y+p*u,n[10]=o*c}else if(e.order==="YXZ"){const h=c*d,p=c*f,y=u*d,g=u*f;n[0]=h+g*l,n[4]=y*l-p,n[8]=o*u,n[1]=o*f,n[5]=o*d,n[9]=-l,n[2]=p*l-y,n[6]=g+h*l,n[10]=o*c}else if(e.order==="ZXY"){const h=c*d,p=c*f,y=u*d,g=u*f;n[0]=h-g*l,n[4]=-o*f,n[8]=y+p*l,n[1]=p+y*l,n[5]=o*d,n[9]=g-h*l,n[2]=-o*u,n[6]=l,n[10]=o*c}else if(e.order==="ZYX"){const h=o*d,p=o*f,y=l*d,g=l*f;n[0]=c*d,n[4]=y*u-p,n[8]=h*u+g,n[1]=c*f,n[5]=g*u+h,n[9]=p*u-y,n[2]=-u,n[6]=l*c,n[10]=o*c}else if(e.order==="YZX"){const h=o*c,p=o*u,y=l*c,g=l*u;n[0]=c*d,n[4]=g-h*f,n[8]=y*f+p,n[1]=f,n[5]=o*d,n[9]=-l*d,n[2]=-u*d,n[6]=p*f+y,n[10]=h-g*f}else if(e.order==="XZY"){const h=o*c,p=o*u,y=l*c,g=l*u;n[0]=c*d,n[4]=-f,n[8]=u*d,n[1]=h*f+g,n[5]=o*d,n[9]=p*f-y,n[2]=y*f-p,n[6]=l*d,n[10]=g*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(BOe,e,$Oe)}lookAt(e,n,r){const i=this.elements;return Qa.subVectors(e,n),Qa.lengthSq()===0&&(Qa.z=1),Qa.normalize(),Xd.crossVectors(r,Qa),Xd.lengthSq()===0&&(Math.abs(r.z)===1?Qa.x+=1e-4:Qa.z+=1e-4,Qa.normalize(),Xd.crossVectors(r,Qa)),Xd.normalize(),L_.crossVectors(Qa,Xd),i[0]=Xd.x,i[4]=L_.x,i[8]=Qa.x,i[1]=Xd.y,i[5]=L_.y,i[9]=Qa.y,i[2]=Xd.z,i[6]=L_.z,i[10]=Qa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],l=r[4],c=r[8],u=r[12],d=r[1],f=r[5],h=r[9],p=r[13],y=r[2],g=r[6],v=r[10],b=r[14],w=r[3],_=r[7],S=r[11],j=r[15],A=i[0],C=i[4],N=i[8],T=i[12],P=i[1],D=i[5],O=i[9],I=i[13],L=i[2],z=i[6],q=i[10],V=i[14],F=i[3],U=i[7],H=i[11],$=i[15];return a[0]=o*A+l*P+c*L+u*F,a[4]=o*C+l*D+c*z+u*U,a[8]=o*N+l*O+c*q+u*H,a[12]=o*T+l*I+c*V+u*$,a[1]=d*A+f*P+h*L+p*F,a[5]=d*C+f*D+h*z+p*U,a[9]=d*N+f*O+h*q+p*H,a[13]=d*T+f*I+h*V+p*$,a[2]=y*A+g*P+v*L+b*F,a[6]=y*C+g*D+v*z+b*U,a[10]=y*N+g*O+v*q+b*H,a[14]=y*T+g*I+v*V+b*$,a[3]=w*A+_*P+S*L+j*F,a[7]=w*C+_*D+S*z+j*U,a[11]=w*N+_*O+S*q+j*H,a[15]=w*T+_*I+S*V+j*$,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],l=e[5],c=e[9],u=e[13],d=e[2],f=e[6],h=e[10],p=e[14],y=e[3],g=e[7],v=e[11],b=e[15];return y*(+a*c*f-i*u*f-a*l*h+r*u*h+i*l*p-r*c*p)+g*(+n*c*p-n*u*h+a*o*h-i*o*p+i*u*d-a*c*d)+v*(+n*u*f-n*l*p-a*o*f+r*o*p+a*l*d-r*u*d)+b*(-i*l*d-n*c*f+n*l*h+i*o*f-r*o*h+r*c*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],c=e[6],u=e[7],d=e[8],f=e[9],h=e[10],p=e[11],y=e[12],g=e[13],v=e[14],b=e[15],w=f*v*u-g*h*u+g*c*p-l*v*p-f*c*b+l*h*b,_=y*h*u-d*v*u-y*c*p+o*v*p+d*c*b-o*h*b,S=d*g*u-y*f*u+y*l*p-o*g*p-d*l*b+o*f*b,j=y*f*c-d*g*c-y*l*h+o*g*h+d*l*v-o*f*v,A=n*w+r*_+i*S+a*j;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/A;return e[0]=w*C,e[1]=(g*h*a-f*v*a-g*i*p+r*v*p+f*i*b-r*h*b)*C,e[2]=(l*v*a-g*c*a+g*i*u-r*v*u-l*i*b+r*c*b)*C,e[3]=(f*c*a-l*h*a-f*i*u+r*h*u+l*i*p-r*c*p)*C,e[4]=_*C,e[5]=(d*v*a-y*h*a+y*i*p-n*v*p-d*i*b+n*h*b)*C,e[6]=(y*c*a-o*v*a-y*i*u+n*v*u+o*i*b-n*c*b)*C,e[7]=(o*h*a-d*c*a+d*i*u-n*h*u-o*i*p+n*c*p)*C,e[8]=S*C,e[9]=(y*f*a-d*g*a-y*r*p+n*g*p+d*r*b-n*f*b)*C,e[10]=(o*g*a-y*l*a+y*r*u-n*g*u-o*r*b+n*l*b)*C,e[11]=(d*l*a-o*f*a-d*r*u+n*f*u+o*r*p-n*l*p)*C,e[12]=j*C,e[13]=(d*g*i-y*f*i+y*r*h-n*g*h-d*r*v+n*f*v)*C,e[14]=(y*l*i-o*g*i-y*r*c+n*g*c+o*r*v-n*l*v)*C,e[15]=(o*f*i-d*l*i+d*r*c-n*f*c-o*r*h+n*l*h)*C,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,l=e.y,c=e.z,u=a*o,d=a*l;return this.set(u*o+r,u*l-i*c,u*c+i*l,0,u*l+i*c,d*l+r,d*c-i*o,0,u*c-i*l,d*c+i*o,a*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,l=n._z,c=n._w,u=a+a,d=o+o,f=l+l,h=a*u,p=a*d,y=a*f,g=o*d,v=o*f,b=l*f,w=c*u,_=c*d,S=c*f,j=r.x,A=r.y,C=r.z;return i[0]=(1-(g+b))*j,i[1]=(p+S)*j,i[2]=(y-_)*j,i[3]=0,i[4]=(p-S)*A,i[5]=(1-(h+b))*A,i[6]=(v+w)*A,i[7]=0,i[8]=(y+_)*C,i[9]=(v-w)*C,i[10]=(1-(h+g))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=eg.set(i[0],i[1],i[2]).length();const o=eg.set(i[4],i[5],i[6]).length(),l=eg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Al.copy(this);const u=1/a,d=1/o,f=1/l;return Al.elements[0]*=u,Al.elements[1]*=u,Al.elements[2]*=u,Al.elements[4]*=d,Al.elements[5]*=d,Al.elements[6]*=d,Al.elements[8]*=f,Al.elements[9]*=f,Al.elements[10]*=f,n.setFromRotationMatrix(Al),r.x=a,r.y=o,r.z=l,this}makePerspective(e,n,r,i,a,o,l=qu){const c=this.elements,u=2*a/(n-e),d=2*a/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let p,y;if(l===qu)p=-(o+a)/(o-a),y=-2*o*a/(o-a);else if(l===Kj)p=-o/(o-a),y=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=p,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,a,o,l=qu){const c=this.elements,u=1/(n-e),d=1/(r-i),f=1/(o-a),h=(n+e)*u,p=(r+i)*d;let y,g;if(l===qu)y=(o+a)*f,g=-2*f;else if(l===Kj)y=a*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-p,c[2]=0,c[6]=0,c[10]=g,c[14]=-y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const eg=new ze,Al=new bn,BOe=new ze(0,0,0),$Oe=new ze(1,1,1),Xd=new ze,L_=new ze,Qa=new ze,N9=new bn,A9=new tu;class rc{constructor(e=0,n=0,r=0,i=rc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],l=i[8],c=i[1],u=i[5],d=i[9],f=i[2],h=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(jn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-jn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(jn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return N9.makeRotationFromQuaternion(e),this.setFromRotationMatrix(N9,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return A9.setFromEuler(this),this.setFromQuaternion(A9,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}rc.DEFAULT_ORDER="XYZ";class rae{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zOe=0;const C9=new ze,tg=new tu,Eu=new bn,F_=new ze,Dy=new ze,HOe=new ze,VOe=new tu,M9=new ze(1,0,0),T9=new ze(0,1,0),P9=new ze(0,0,1),D9={type:"added"},qOe={type:"removed"},ng={type:"childadded",child:null},GM={type:"childremoved",child:null};class Vr extends Sx{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zOe++}),this.uuid=Yl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vr.DEFAULT_UP.clone();const e=new ze,n=new rc,r=new tu,i=new ze(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new bn},normalMatrix:{value:new yn}}),this.matrix=new bn,this.matrixWorld=new bn,this.matrixAutoUpdate=Vr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Vr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new rae,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return tg.setFromAxisAngle(e,n),this.quaternion.multiply(tg),this}rotateOnWorldAxis(e,n){return tg.setFromAxisAngle(e,n),this.quaternion.premultiply(tg),this}rotateX(e){return this.rotateOnAxis(M9,e)}rotateY(e){return this.rotateOnAxis(T9,e)}rotateZ(e){return this.rotateOnAxis(P9,e)}translateOnAxis(e,n){return C9.copy(e).applyQuaternion(this.quaternion),this.position.add(C9.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(M9,e)}translateY(e){return this.translateOnAxis(T9,e)}translateZ(e){return this.translateOnAxis(P9,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Eu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?F_.copy(e):F_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Dy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Eu.lookAt(Dy,F_,this.up):Eu.lookAt(F_,Dy,this.up),this.quaternion.setFromRotationMatrix(Eu),i&&(Eu.extractRotation(i.matrixWorld),tg.setFromRotationMatrix(Eu),this.quaternion.premultiply(tg.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(D9),ng.child=e,this.dispatchEvent(ng),ng.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qOe),GM.child=e,this.dispatchEvent(GM),GM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Eu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Eu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Eu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(D9),ng.child=e,this.dispatchEvent(ng),ng.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dy,e,HOe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Dy,VOe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?{min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()}:void 0,boundingSphere:l.boundingSphere?{radius:l.boundingSphere.radius,center:l.boundingSphere.center.toArray()}:void 0})),i.instanceInfo=this._instanceInfo.map(l=>({...l})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function a(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++){const f=c[u];a(e.shapes,f)}else a(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(a(e.materials,this.material[c]));i.material=l}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(a(e.animations,c))}}if(n){const l=o(e.geometries),c=o(e.materials),u=o(e.textures),d=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),y=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Vr.DEFAULT_UP=new ze(0,1,0);Vr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Cl=new ze,Nu=new ze,WM=new ze,Au=new ze,rg=new ze,ig=new ze,R9=new ze,XM=new ze,YM=new ze,KM=new ze,QM=new Xn,ZM=new Xn,JM=new Xn;class Bl{constructor(e=new ze,n=new ze,r=new ze){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Cl.subVectors(e,n),i.cross(Cl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){Cl.subVectors(i,n),Nu.subVectors(r,n),WM.subVectors(e,n);const o=Cl.dot(Cl),l=Cl.dot(Nu),c=Cl.dot(WM),u=Nu.dot(Nu),d=Nu.dot(WM),f=o*u-l*l;if(f===0)return a.set(0,0,0),null;const h=1/f,p=(u*c-l*d)*h,y=(o*d-l*c)*h;return a.set(1-p-y,y,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Au)===null?!1:Au.x>=0&&Au.y>=0&&Au.x+Au.y<=1}static getInterpolation(e,n,r,i,a,o,l,c){return this.getBarycoord(e,n,r,i,Au)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(a,Au.x),c.addScaledVector(o,Au.y),c.addScaledVector(l,Au.z),c)}static getInterpolatedAttribute(e,n,r,i,a,o){return QM.setScalar(0),ZM.setScalar(0),JM.setScalar(0),QM.fromBufferAttribute(e,n),ZM.fromBufferAttribute(e,r),JM.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(QM,a.x),o.addScaledVector(ZM,a.y),o.addScaledVector(JM,a.z),o}static isFrontFacing(e,n,r,i){return Cl.subVectors(r,n),Nu.subVectors(e,n),Cl.cross(Nu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Cl.subVectors(this.c,this.b),Nu.subVectors(this.a,this.b),Cl.cross(Nu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Bl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Bl.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return Bl.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return Bl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Bl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,l;rg.subVectors(i,r),ig.subVectors(a,r),XM.subVectors(e,r);const c=rg.dot(XM),u=ig.dot(XM);if(c<=0&&u<=0)return n.copy(r);YM.subVectors(e,i);const d=rg.dot(YM),f=ig.dot(YM);if(d>=0&&f<=d)return n.copy(i);const h=c*f-d*u;if(h<=0&&c>=0&&d<=0)return o=c/(c-d),n.copy(r).addScaledVector(rg,o);KM.subVectors(e,a);const p=rg.dot(KM),y=ig.dot(KM);if(y>=0&&p<=y)return n.copy(a);const g=p*u-c*y;if(g<=0&&u>=0&&y<=0)return l=u/(u-y),n.copy(r).addScaledVector(ig,l);const v=d*y-p*f;if(v<=0&&f-d>=0&&p-y>=0)return R9.subVectors(a,i),l=(f-d)/(f-d+(p-y)),n.copy(i).addScaledVector(R9,l);const b=1/(v+g+h);return o=g*b,l=h*b,n.copy(r).addScaledVector(rg,o).addScaledVector(ig,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const iae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yd={h:0,s:0,l:0},U_={h:0,s:0,l:0};function eT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let rn=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Go){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Gn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Gn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Gn.workingColorSpace){if(e=nF(e,1),n=jn(n,0,1),r=jn(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=eT(o,a,e+1/3),this.g=eT(o,a,e),this.b=eT(o,a,e-1/3)}return Gn.toWorkingColorSpace(this,i),this}setStyle(e,n=Go){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Go){const r=iae[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ju(e.r),this.g=Ju(e.g),this.b=Ju(e.b),this}copyLinearToSRGB(e){return this.r=Qg(e.r),this.g=Qg(e.g),this.b=Qg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Go){return Gn.fromWorkingColorSpace(Ms.copy(this),e),Math.round(jn(Ms.r*255,0,255))*65536+Math.round(jn(Ms.g*255,0,255))*256+Math.round(jn(Ms.b*255,0,255))}getHexString(e=Go){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Gn.workingColorSpace){Gn.fromWorkingColorSpace(Ms.copy(this),n);const r=Ms.r,i=Ms.g,a=Ms.b,o=Math.max(r,i,a),l=Math.min(r,i,a);let c,u;const d=(l+o)/2;if(l===o)c=0,u=0;else{const f=o-l;switch(u=d<=.5?f/(o+l):f/(2-o-l),o){case r:c=(i-a)/f+(i<a?6:0);break;case i:c=(a-r)/f+2;break;case a:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=d,e}getRGB(e,n=Gn.workingColorSpace){return Gn.fromWorkingColorSpace(Ms.copy(this),n),e.r=Ms.r,e.g=Ms.g,e.b=Ms.b,e}getStyle(e=Go){Gn.fromWorkingColorSpace(Ms.copy(this),e);const n=Ms.r,r=Ms.g,i=Ms.b;return e!==Go?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Yd),this.setHSL(Yd.h+e,Yd.s+n,Yd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Yd),e.getHSL(U_);const r=I0(Yd.h,U_.h,n),i=I0(Yd.s,U_.s,n),a=I0(Yd.l,U_.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Ms=new rn;rn.NAMES=iae;let GOe=0;class cl extends Sx{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:GOe++}),this.uuid=Yl(),this.name="",this.type="Material",this.blending=Kg,this.side=dd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=wk,this.blendDst=_k,this.blendEquation=Xh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new rn(0,0,0),this.blendAlpha=0,this.depthFunc=jv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=y9,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ym,this.stencilZFail=Ym,this.stencilZPass=Ym,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Kg&&(r.blending=this.blending),this.side!==dd&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==wk&&(r.blendSrc=this.blendSrc),this.blendDst!==_k&&(r.blendDst=this.blendDst),this.blendEquation!==Xh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==jv&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==y9&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ym&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ym&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ym&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const l in a){const c=a[l];delete c.metadata,o.push(c)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sp extends cl{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rc,this.combine=W5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gi=new ze,B_=new ln;let WOe=0;class Vs{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:WOe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=s3,this.updateRanges=[],this.gpuType=Vl,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)B_.fromBufferAttribute(this,n),B_.applyMatrix3(e),this.setXY(n,B_.x,B_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyMatrix3(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyMatrix4(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.applyNormalMatrix(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)gi.fromBufferAttribute(this,n),gi.transformDirection(e),this.setXYZ(n,gi.x,gi.y,gi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ul(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ir(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ul(n,this.array)),n}setX(e,n){return this.normalized&&(n=ir(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ul(n,this.array)),n}setY(e,n){return this.normalized&&(n=ir(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ul(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ir(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ul(n,this.array)),n}setW(e,n){return this.normalized&&(n=ir(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array),a=ir(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==s3&&(e.usage=this.usage),e}}class sae extends Vs{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class aae extends Vs{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class ed extends Vs{constructor(e,n,r){super(new Float32Array(e),n,r)}}let XOe=0;const ko=new bn,tT=new Vr,sg=new ze,Za=new gd,Ry=new gd,Ki=new ze;class lc extends Sx{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:XOe++}),this.uuid=Yl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tae(e)?aae:sae)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new yn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ko.makeRotationFromQuaternion(e),this.applyMatrix4(ko),this}rotateX(e){return ko.makeRotationX(e),this.applyMatrix4(ko),this}rotateY(e){return ko.makeRotationY(e),this.applyMatrix4(ko),this}rotateZ(e){return ko.makeRotationZ(e),this.applyMatrix4(ko),this}translate(e,n,r){return ko.makeTranslation(e,n,r),this.applyMatrix4(ko),this}scale(e,n,r){return ko.makeScale(e,n,r),this.applyMatrix4(ko),this}lookAt(e){return tT.lookAt(e),tT.updateMatrix(),this.applyMatrix4(tT.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sg).negate(),this.translate(sg.x,sg.y,sg.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new ed(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new gd);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ze(-1/0,-1/0,-1/0),new ze(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Za.setFromBufferAttribute(a),this.morphTargetsRelative?(Ki.addVectors(this.boundingBox.min,Za.min),this.boundingBox.expandByPoint(Ki),Ki.addVectors(this.boundingBox.max,Za.max),this.boundingBox.expandByPoint(Ki)):(this.boundingBox.expandByPoint(Za.min),this.boundingBox.expandByPoint(Za.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ou);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ze,1/0);return}if(e){const r=this.boundingSphere.center;if(Za.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const l=n[a];Ry.setFromBufferAttribute(l),this.morphTargetsRelative?(Ki.addVectors(Za.min,Ry.min),Za.expandByPoint(Ki),Ki.addVectors(Za.max,Ry.max),Za.expandByPoint(Ki)):(Za.expandByPoint(Ry.min),Za.expandByPoint(Ry.max))}Za.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Ki.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ki));if(n)for(let a=0,o=n.length;a<o;a++){const l=n[a],c=this.morphTargetsRelative;for(let u=0,d=l.count;u<d;u++)Ki.fromBufferAttribute(l,u),c&&(sg.fromBufferAttribute(e,u),Ki.add(sg)),i=Math.max(i,r.distanceToSquared(Ki))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Vs(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],c=[];for(let N=0;N<r.count;N++)l[N]=new ze,c[N]=new ze;const u=new ze,d=new ze,f=new ze,h=new ln,p=new ln,y=new ln,g=new ze,v=new ze;function b(N,T,P){u.fromBufferAttribute(r,N),d.fromBufferAttribute(r,T),f.fromBufferAttribute(r,P),h.fromBufferAttribute(a,N),p.fromBufferAttribute(a,T),y.fromBufferAttribute(a,P),d.sub(u),f.sub(u),p.sub(h),y.sub(h);const D=1/(p.x*y.y-y.x*p.y);isFinite(D)&&(g.copy(d).multiplyScalar(y.y).addScaledVector(f,-p.y).multiplyScalar(D),v.copy(f).multiplyScalar(p.x).addScaledVector(d,-y.x).multiplyScalar(D),l[N].add(g),l[T].add(g),l[P].add(g),c[N].add(v),c[T].add(v),c[P].add(v))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let N=0,T=w.length;N<T;++N){const P=w[N],D=P.start,O=P.count;for(let I=D,L=D+O;I<L;I+=3)b(e.getX(I+0),e.getX(I+1),e.getX(I+2))}const _=new ze,S=new ze,j=new ze,A=new ze;function C(N){j.fromBufferAttribute(i,N),A.copy(j);const T=l[N];_.copy(T),_.sub(j.multiplyScalar(j.dot(T))).normalize(),S.crossVectors(A,T);const D=S.dot(c[N])<0?-1:1;o.setXYZW(N,_.x,_.y,_.z,D)}for(let N=0,T=w.length;N<T;++N){const P=w[N],D=P.start,O=P.count;for(let I=D,L=D+O;I<L;I+=3)C(e.getX(I+0)),C(e.getX(I+1)),C(e.getX(I+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Vs(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,p=r.count;h<p;h++)r.setXYZ(h,0,0,0);const i=new ze,a=new ze,o=new ze,l=new ze,c=new ze,u=new ze,d=new ze,f=new ze;if(e)for(let h=0,p=e.count;h<p;h+=3){const y=e.getX(h+0),g=e.getX(h+1),v=e.getX(h+2);i.fromBufferAttribute(n,y),a.fromBufferAttribute(n,g),o.fromBufferAttribute(n,v),d.subVectors(o,a),f.subVectors(i,a),d.cross(f),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,g),u.fromBufferAttribute(r,v),l.add(d),c.add(d),u.add(d),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(g,c.x,c.y,c.z),r.setXYZ(v,u.x,u.y,u.z)}else for(let h=0,p=n.count;h<p;h+=3)i.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),d.subVectors(o,a),f.subVectors(i,a),d.cross(f),r.setXYZ(h+0,d.x,d.y,d.z),r.setXYZ(h+1,d.x,d.y,d.z),r.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ki.fromBufferAttribute(e,n),Ki.normalize(),e.setXYZ(n,Ki.x,Ki.y,Ki.z)}toNonIndexed(){function e(l,c){const u=l.array,d=l.itemSize,f=l.normalized,h=new u.constructor(c.length*d);let p=0,y=0;for(let g=0,v=c.length;g<v;g++){l.isInterleavedBufferAttribute?p=c[g]*l.data.stride+l.offset:p=c[g]*d;for(let b=0;b<d;b++)h[y++]=u[p++]}return new Vs(h,d,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new lc,r=this.index.array,i=this.attributes;for(const l in i){const c=i[l],u=e(c,r);n.setAttribute(l,u)}const a=this.morphAttributes;for(const l in a){const c=[],u=a[l];for(let d=0,f=u.length;d<f;d++){const h=u[d],p=e(h,r);c.push(p)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const u=o[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let a=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],d=[];for(let f=0,h=u.length;f<h;f++){const p=u[f];d.push(p.toJSON(e.data))}d.length>0&&(i[c]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const d=i[u];this.setAttribute(u,d.clone(n))}const a=e.morphAttributes;for(const u in a){const d=[],f=a[u];for(let h=0,p=f.length;h<p;h++)d.push(f[h].clone(n));this.morphAttributes[u]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,d=o.length;u<d;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const O9=new bn,Dh=new Tw,$_=new ou,I9=new ze,z_=new ze,H_=new ze,V_=new ze,nT=new ze,q_=new ze,k9=new ze,G_=new ze;class fa extends Vr{constructor(e=new lc,n=new sp){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(a&&l){q_.set(0,0,0);for(let c=0,u=a.length;c<u;c++){const d=l[c],f=a[c];d!==0&&(nT.fromBufferAttribute(f,e),o?q_.addScaledVector(nT,d):q_.addScaledVector(nT.sub(n),d))}n.add(q_)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$_.copy(r.boundingSphere),$_.applyMatrix4(a),Dh.copy(e.ray).recast(e.near),!($_.containsPoint(Dh.origin)===!1&&(Dh.intersectSphere($_,I9)===null||Dh.origin.distanceToSquared(I9)>(e.far-e.near)**2))&&(O9.copy(a).invert(),Dh.copy(e.ray).applyMatrix4(O9),!(r.boundingBox!==null&&Dh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Dh)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,l=a.index,c=a.attributes.position,u=a.attributes.uv,d=a.attributes.uv1,f=a.attributes.normal,h=a.groups,p=a.drawRange;if(l!==null)if(Array.isArray(o))for(let y=0,g=h.length;y<g;y++){const v=h[y],b=o[v.materialIndex],w=Math.max(v.start,p.start),_=Math.min(l.count,Math.min(v.start+v.count,p.start+p.count));for(let S=w,j=_;S<j;S+=3){const A=l.getX(S),C=l.getX(S+1),N=l.getX(S+2);i=W_(this,b,e,r,u,d,f,A,C,N),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let v=y,b=g;v<b;v+=3){const w=l.getX(v),_=l.getX(v+1),S=l.getX(v+2);i=W_(this,o,e,r,u,d,f,w,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let y=0,g=h.length;y<g;y++){const v=h[y],b=o[v.materialIndex],w=Math.max(v.start,p.start),_=Math.min(c.count,Math.min(v.start+v.count,p.start+p.count));for(let S=w,j=_;S<j;S+=3){const A=S,C=S+1,N=S+2;i=W_(this,b,e,r,u,d,f,A,C,N),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,p.start),g=Math.min(c.count,p.start+p.count);for(let v=y,b=g;v<b;v+=3){const w=v,_=v+1,S=v+2;i=W_(this,o,e,r,u,d,f,w,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function YOe(t,e,n,r,i,a,o,l){let c;if(e.side===Fa?c=r.intersectTriangle(o,a,i,!0,l):c=r.intersectTriangle(i,a,o,e.side===dd,l),c===null)return null;G_.copy(l),G_.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(G_);return u<n.near||u>n.far?null:{distance:u,point:G_.clone(),object:t}}function W_(t,e,n,r,i,a,o,l,c,u){t.getVertexPosition(l,z_),t.getVertexPosition(c,H_),t.getVertexPosition(u,V_);const d=YOe(t,e,n,r,z_,H_,V_,k9);if(d){const f=new ze;Bl.getBarycoord(k9,z_,H_,V_,f),i&&(d.uv=Bl.getInterpolatedAttribute(i,l,c,u,f,new ln)),a&&(d.uv1=Bl.getInterpolatedAttribute(a,l,c,u,f,new ln)),o&&(d.normal=Bl.getInterpolatedAttribute(o,l,c,u,f,new ze),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const h={a:l,b:c,c:u,normal:new ze,materialIndex:0};Bl.getNormal(z_,H_,V_,h.normal),d.face=h,d.barycoord=f}return d}class jx extends lc{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const l=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const c=[],u=[],d=[],f=[];let h=0,p=0;y("z","y","x",-1,-1,r,n,e,o,a,0),y("z","y","x",1,-1,r,n,-e,o,a,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,a,4),y("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(c),this.setAttribute("position",new ed(u,3)),this.setAttribute("normal",new ed(d,3)),this.setAttribute("uv",new ed(f,2));function y(g,v,b,w,_,S,j,A,C,N,T){const P=S/C,D=j/N,O=S/2,I=j/2,L=A/2,z=C+1,q=N+1;let V=0,F=0;const U=new ze;for(let H=0;H<q;H++){const $=H*D-I;for(let W=0;W<z;W++){const le=W*P-O;U[g]=le*w,U[v]=$*_,U[b]=L,u.push(U.x,U.y,U.z),U[g]=0,U[v]=0,U[b]=A>0?1:-1,d.push(U.x,U.y,U.z),f.push(W/C),f.push(1-H/N),V+=1}}for(let H=0;H<N;H++)for(let $=0;$<C;$++){const W=h+$+z*H,le=h+$+z*(H+1),ie=h+($+1)+z*(H+1),re=h+($+1)+z*H;c.push(W,le,re),c.push(le,ie,re),F+=6}l.addGroup(p,F,T),p+=F,h+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jx(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Mv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ta(t){const e={};for(let n=0;n<t.length;n++){const r=Mv(t[n]);for(const i in r)e[i]=r[i]}return e}function KOe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oae(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Gn.workingColorSpace}const QOe={clone:Mv,merge:ta};var ZOe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,JOe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Kf extends cl{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ZOe,this.fragmentShader=JOe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Mv(e.uniforms),this.uniformsGroups=KOe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class lae extends Vr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new bn,this.projectionMatrix=new bn,this.projectionMatrixInverse=new bn,this.coordinateSystem=qu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Kd=new ze,L9=new ln,F9=new ln;class ns extends lae{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Cv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(O0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Cv*2*Math.atan(Math.tan(O0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Kd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Kd.x,Kd.y).multiplyScalar(-e/Kd.z),Kd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Kd.x,Kd.y).multiplyScalar(-e/Kd.z)}getViewSize(e,n){return this.getViewBounds(e,L9,F9),n.subVectors(F9,L9)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(O0*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/c,n-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ag=-90,og=1;class eIe extends Vr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ns(ag,og,e,n);i.layers=this.layers,this.add(i);const a=new ns(ag,og,e,n);a.layers=this.layers,this.add(a);const o=new ns(ag,og,e,n);o.layers=this.layers,this.add(o);const l=new ns(ag,og,e,n);l.layers=this.layers,this.add(l);const c=new ns(ag,og,e,n);c.layers=this.layers,this.add(c);const u=new ns(ag,og,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,l,c]=n;for(const u of n)this.remove(u);if(e===qu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Kj)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,c,u,d]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(f,h,p),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class cae extends ss{constructor(e=[],n=Ev,r,i,a,o,l,c,u,d){super(e,n,r,i,a,o,l,c,u,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tIe extends Gp{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new cae(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Jo}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new jx(5,5,5),a=new Kf({name:"CubemapFromEquirect",uniforms:Mv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Fa,blending:Of});a.uniforms.tEquirect.value=n;const o=new fa(i,a),l=n.minFilter;return n.minFilter===Vu&&(n.minFilter=Jo),new eIe(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}class ap extends Vr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const nIe={type:"move"};class rT{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ap,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ap,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ze,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ze),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ap,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ze,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ze),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,r),b=this._getHandJoint(u,g);v!==null&&(b.matrix.fromArray(v.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=v.radius),b.visible=v!==null}const d=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=d.position.distanceTo(f.position),p=.02,y=.005;u.inputState.pinching&&h>p+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=p-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(c.matrix.fromArray(a.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,a.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(a.linearVelocity)):c.hasLinearVelocity=!1,a.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(a.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(nIe)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new ap;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class iF{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new rn(e),this.near=n,this.far=r}clone(){return new iF(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class rIe extends Vr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new rc,this.environmentIntensity=1,this.environmentRotation=new rc,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class iIe{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=s3,this.updateRanges=[],this.version=0,this.uuid=Yl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Js=new ze;class sF{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Js.fromBufferAttribute(this,n),Js.applyMatrix4(e),this.setXYZ(n,Js.x,Js.y,Js.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Js.fromBufferAttribute(this,n),Js.applyNormalMatrix(e),this.setXYZ(n,Js.x,Js.y,Js.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Js.fromBufferAttribute(this,n),Js.transformDirection(e),this.setXYZ(n,Js.x,Js.y,Js.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ul(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ir(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=ir(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=ir(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=ir(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=ir(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ul(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ul(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ul(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ul(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=ir(n,this.array),r=ir(r,this.array),i=ir(i,this.array),a=ir(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Vs(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new sF(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const U9=new ze,B9=new Xn,$9=new Xn,sIe=new ze,z9=new bn,X_=new ze,iT=new ou,H9=new bn,sT=new Tw;class aIe extends fa{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=m9,this.bindMatrix=new bn,this.bindMatrixInverse=new bn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new gd),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,X_),this.boundingBox.expandByPoint(X_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ou),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,X_),this.boundingSphere.expandByPoint(X_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),iT.copy(this.boundingSphere),iT.applyMatrix4(i),e.ray.intersectsSphere(iT)!==!1&&(H9.copy(i).invert(),sT.copy(e.ray).applyMatrix4(H9),!(this.boundingBox!==null&&sT.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,sT)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===m9?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===JRe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;B9.fromBufferAttribute(i.attributes.skinIndex,e),$9.fromBufferAttribute(i.attributes.skinWeight,e),U9.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=$9.getComponent(a);if(o!==0){const l=B9.getComponent(a);z9.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(sIe.copy(U9).applyMatrix4(z9),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class uae extends Vr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class dae extends ss{constructor(e=null,n=1,r=1,i,a,o,l,c,u=Ua,d=Ua,f,h){super(null,o,l,c,u,d,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const V9=new bn,oIe=new bn;class aF{constructor(e=[],n=[]){this.uuid=Yl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new bn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new bn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const l=e[a]?e[a].matrixWorld:oIe;V9.multiplyMatrices(l,n[a]),V9.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new aF(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new dae(n,e,e,el,Vl);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new uae),this.bones.push(o),this.boneInverses.push(new bn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class a3 extends Vs{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const lg=new bn,q9=new bn,Y_=[],G9=new gd,lIe=new bn,Oy=new fa,Iy=new ou;class cIe extends fa{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new a3(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,lIe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new gd),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,lg),G9.copy(e.boundingBox).applyMatrix4(lg),this.boundingBox.union(G9)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ou),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,lg),Iy.copy(e.boundingSphere).applyMatrix4(lg),this.boundingSphere.union(Iy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let l=0;l<r.length;l++)r[l]=i[o+l]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Oy.geometry=this.geometry,Oy.material=this.material,Oy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Iy.copy(this.boundingSphere),Iy.applyMatrix4(r),e.ray.intersectsSphere(Iy)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,lg),q9.multiplyMatrices(r,lg),Oy.matrixWorld=q9,Oy.raycast(e,Y_);for(let o=0,l=Y_.length;o<l;o++){const c=Y_[o];c.instanceId=a,c.object=this,n.push(c)}Y_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new a3(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new dae(new Float32Array(i*this.count),i,this.count,Q5,Vl));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const l=this.geometry.morphTargetsRelative?1:1-o,c=i*e;a[c]=l,a.set(r,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const aT=new ze,uIe=new ze,dIe=new yn;class af{constructor(e=new ze(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=aT.subVectors(r,n).cross(uIe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(aT),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||dIe.getNormalMatrix(e),i=this.coplanarPoint(aT).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Rh=new ou,K_=new ze;class oF{constructor(e=new af,n=new af,r=new af,i=new af,a=new af,o=new af){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(a),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=qu){const r=this.planes,i=e.elements,a=i[0],o=i[1],l=i[2],c=i[3],u=i[4],d=i[5],f=i[6],h=i[7],p=i[8],y=i[9],g=i[10],v=i[11],b=i[12],w=i[13],_=i[14],S=i[15];if(r[0].setComponents(c-a,h-u,v-p,S-b).normalize(),r[1].setComponents(c+a,h+u,v+p,S+b).normalize(),r[2].setComponents(c+o,h+d,v+y,S+w).normalize(),r[3].setComponents(c-o,h-d,v-y,S-w).normalize(),r[4].setComponents(c-l,h-f,v-g,S-_).normalize(),n===qu)r[5].setComponents(c+l,h+f,v+g,S+_).normalize();else if(n===Kj)r[5].setComponents(l,f,g,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Rh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Rh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Rh)}intersectsSprite(e){return Rh.center.set(0,0,0),Rh.radius=.7071067811865476,Rh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Rh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(K_.x=i.normal.x>0?e.max.x:e.min.x,K_.y=i.normal.y>0?e.max.y:e.min.y,K_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(K_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class fae extends cl{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new rn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Qj=new ze,Zj=new ze,W9=new bn,ky=new Tw,Q_=new ou,oT=new ze,X9=new ze;let lF=class extends Vr{constructor(e=new lc,n=new fae){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)Qj.fromBufferAttribute(n,i-1),Zj.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Qj.distanceTo(Zj);e.setAttribute("lineDistance",new ed(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Q_.copy(r.boundingSphere),Q_.applyMatrix4(i),Q_.radius+=a,e.ray.intersectsSphere(Q_)===!1)return;W9.copy(i).invert(),ky.copy(e.ray).applyMatrix4(W9);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=this.isLineSegments?2:1,d=r.index,h=r.attributes.position;if(d!==null){const p=Math.max(0,o.start),y=Math.min(d.count,o.start+o.count);for(let g=p,v=y-1;g<v;g+=u){const b=d.getX(g),w=d.getX(g+1),_=Z_(this,e,ky,c,b,w,g);_&&n.push(_)}if(this.isLineLoop){const g=d.getX(y-1),v=d.getX(p),b=Z_(this,e,ky,c,g,v,y-1);b&&n.push(b)}}else{const p=Math.max(0,o.start),y=Math.min(h.count,o.start+o.count);for(let g=p,v=y-1;g<v;g+=u){const b=Z_(this,e,ky,c,g,g+1,g);b&&n.push(b)}if(this.isLineLoop){const g=Z_(this,e,ky,c,y-1,p,y-1);g&&n.push(g)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}};function Z_(t,e,n,r,i,a,o){const l=t.geometry.attributes.position;if(Qj.fromBufferAttribute(l,i),Zj.fromBufferAttribute(l,a),n.distanceSqToSegment(Qj,Zj,oT,X9)>r)return;oT.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(oT);if(!(u<e.near||u>e.far))return{distance:u,point:X9.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const Y9=new ze,K9=new ze;class fIe extends lF{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)Y9.fromBufferAttribute(n,i),K9.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Y9.distanceTo(K9);e.setAttribute("lineDistance",new ed(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hIe extends lF{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class cF extends cl{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new rn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Q9=new bn,o3=new Tw,J_=new ou,eS=new ze;class hae extends Vr{constructor(e=new lc,n=new cF){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),J_.copy(r.boundingSphere),J_.applyMatrix4(i),J_.radius+=a,e.ray.intersectsSphere(J_)===!1)return;Q9.copy(i).invert(),o3.copy(e.ray).applyMatrix4(Q9);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),p=Math.min(u.count,o.start+o.count);for(let y=h,g=p;y<g;y++){const v=u.getX(y);eS.fromBufferAttribute(f,v),Z9(eS,v,c,i,e,n,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let y=h,g=p;y<g;y++)eS.fromBufferAttribute(f,y),Z9(eS,y,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const l=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Z9(t,e,n,r,i,a,o){const l=o3.distanceSqToPoint(t);if(l<n){const c=new ze;o3.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class pae extends ss{constructor(e,n,r=qp,i,a,o,l=Ua,c=Ua,u,d=wb){if(d!==wb&&d!==_b)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,a,o,l,c,d,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new rF(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Pw extends lc{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,d=c+1,f=e/l,h=n/c,p=[],y=[],g=[],v=[];for(let b=0;b<d;b++){const w=b*h-o;for(let _=0;_<u;_++){const S=_*f-a;y.push(S,-w,0),g.push(0,0,1),v.push(_/l),v.push(1-b/c)}}for(let b=0;b<c;b++)for(let w=0;w<l;w++){const _=w+u*b,S=w+u*(b+1),j=w+1+u*(b+1),A=w+1+u*b;p.push(_,S,A),p.push(S,j,A)}this.setIndex(p),this.setAttribute("position",new ed(y,3)),this.setAttribute("normal",new ed(g,3)),this.setAttribute("uv",new ed(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pw(e.width,e.height,e.widthSegments,e.heightSegments)}}class pIe extends cl{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new rn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class uF extends cl{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new rn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tF,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rc,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lu extends uF{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ln(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new rn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new rn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new rn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cg extends cl{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rn(16777215),this.specular=new rn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tF,this.normalScale=new ln(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new rc,this.combine=W5,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mIe extends cl{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nOe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gIe extends cl{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function tS(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function vIe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xIe(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function J9(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const l=n[a]*e;for(let c=0;c!==e;++c)i[o++]=t[l+c]}return i}function mae(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}class Dw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const l=n[1];e<l&&(r=2,a=l);for(let c=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yIe extends Dw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:g9,endingEnd:g9}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,l=i[a],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case v9:a=e,l=2*n-r;break;case x9:a=i.length-2,l=n+i[a]-i[a+1];break;default:a=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case v9:o=e,c=2*r-n;break;case x9:o=1,c=r+i[1]-i[0];break;default:o=e-1,c=n}const u=(r-n)*.5,d=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-r),this._offsetPrev=a*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,y=(r-n)/(i-n),g=y*y,v=g*y,b=-h*v+2*h*g-h*y,w=(1+h)*v+(-1.5-2*h)*g+(-.5+h)*y+1,_=(-1-p)*v+(1.5+p)*g+.5*y,S=p*v-p*g;for(let j=0;j!==l;++j)a[j]=b*o[d+j]+w*o[u+j]+_*o[c+j]+S*o[f+j];return a}}class bIe extends Dw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,d=(r-n)/(i-n),f=1-d;for(let h=0;h!==l;++h)a[h]=o[u+h]*f+o[c+h]*d;return a}}class wIe extends Dw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class cc{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tS(n,this.TimeBufferType),this.values=tS(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:tS(e.times,Array),values:tS(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new wIe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bIe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yIe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Sb:n=this.InterpolantFactoryMethodDiscrete;break;case jb:n=this.InterpolantFactoryMethodLinear;break;case LM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sb;case this.InterpolantFactoryMethodLinear:return jb;case this.InterpolantFactoryMethodSmooth:return LM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&vIe(i))for(let l=0,c=i.length;l!==c;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===LM,a=e.length-1;let o=1;for(let l=1;l<a;++l){let c=!1;const u=e[l],d=e[l+1];if(u!==d&&(l!==1||u!==e[0]))if(i)c=!0;else{const f=l*r,h=f-r,p=f+r;for(let y=0;y!==r;++y){const g=n[f+y];if(g!==n[h+y]||g!==n[p+y]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const f=l*r,h=o*r;for(let p=0;p!==r;++p)n[h+p]=n[f+p]}++o}}if(a>0){e[o]=e[a];for(let l=a*r,c=o*r,u=0;u!==r;++u)n[c+u]=n[l+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}cc.prototype.ValueTypeName="";cc.prototype.TimeBufferType=Float32Array;cc.prototype.ValueBufferType=Float32Array;cc.prototype.DefaultInterpolation=jb;class Ex extends cc{constructor(e,n,r){super(e,n,r)}}Ex.prototype.ValueTypeName="bool";Ex.prototype.ValueBufferType=Array;Ex.prototype.DefaultInterpolation=Sb;Ex.prototype.InterpolantFactoryMethodLinear=void 0;Ex.prototype.InterpolantFactoryMethodSmooth=void 0;class gae extends cc{constructor(e,n,r,i){super(e,n,r,i)}}gae.prototype.ValueTypeName="color";class Tv extends cc{constructor(e,n,r,i){super(e,n,r,i)}}Tv.prototype.ValueTypeName="number";class _Ie extends Dw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-n)/(i-n);let u=e*l;for(let d=u+l;u!==d;u+=4)tu.slerpFlat(a,0,o,u-l,o,u,c);return a}}class Pv extends cc{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new _Ie(this.times,this.values,this.getValueSize(),e)}}Pv.prototype.ValueTypeName="quaternion";Pv.prototype.InterpolantFactoryMethodSmooth=void 0;class Nx extends cc{constructor(e,n,r){super(e,n,r)}}Nx.prototype.ValueTypeName="string";Nx.prototype.ValueBufferType=Array;Nx.prototype.DefaultInterpolation=Sb;Nx.prototype.InterpolantFactoryMethodLinear=void 0;Nx.prototype.InterpolantFactoryMethodSmooth=void 0;class Dv extends cc{constructor(e,n,r,i){super(e,n,r,i)}}Dv.prototype.ValueTypeName="vector";class SIe{constructor(e="",n=-1,r=[],i=eOe){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Yl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(EIe(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(cc.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let l=0;l<a;l++){let c=[],u=[];c.push((l+a-1)%a,l,(l+1)%a),u.push(0,1,0);const d=xIe(c);c=J9(c,1,d),u=J9(u,1,d),!i&&c[0]===0&&(c.push(a),u.push(u[0])),o.push(new Tv(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],d=u.name.match(a);if(d&&d.length>1){const f=d[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,p,y,g){if(p.length!==0){const v=[],b=[];mae(p,v,b,y),v.length!==0&&g.push(new f(h,v,b))}},i=[],a=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let y;for(y=0;y<h.length;y++)if(h[y].morphTargets)for(let g=0;g<h[y].morphTargets.length;g++)p[h[y].morphTargets[g]]=-1;for(const g in p){const v=[],b=[];for(let w=0;w!==h[y].morphTargets.length;++w){const _=h[y];v.push(_.time),b.push(_.morphTarget===g?1:0)}i.push(new Tv(".morphTargetInfluence["+g+"]",v,b))}c=p.length*o}else{const p=".bones["+n[f].name+"]";r(Dv,p+".position",h,"pos",i),r(Pv,p+".quaternion",h,"rot",i),r(Dv,p+".scale",h,"scl",i)}}return i.length===0?null:new this(a,c,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function jIe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Tv;case"vector":case"vector2":case"vector3":case"vector4":return Dv;case"color":return gae;case"quaternion":return Pv;case"bool":case"boolean":return Ex;case"string":return Nx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function EIe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=jIe(t.type);if(t.times===void 0){const n=[],r=[];mae(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const wf={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class NIe{constructor(e,n,r){const i=this;let a=!1,o=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(d){l++,a===!1&&i.onStart!==void 0&&i.onStart(d,o,l),a=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,l),o===l&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,f){return u.push(d,f),this},this.removeHandler=function(d){const f=u.indexOf(d);return f!==-1&&u.splice(f,2),this},this.getHandler=function(d){for(let f=0,h=u.length;f<h;f+=2){const p=u[f],y=u[f+1];if(p.global&&(p.lastIndex=0),p.test(d))return y}return null}}}const AIe=new NIe;class Ax{constructor(e){this.manager=e!==void 0?e:AIe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ax.DEFAULT_MATERIAL_NAME="__DEFAULT";const Cu={};class CIe extends Error{constructor(e,n){super(e),this.response=n}}class vae extends Ax{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=wf.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Cu[e]!==void 0){Cu[e].push({onLoad:n,onProgress:r,onError:i});return}Cu[e]=[],Cu[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const d=Cu[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),p=h?parseInt(h):0,y=p!==0;let g=0;const v=new ReadableStream({start(b){w();function w(){f.read().then(({done:_,value:S})=>{if(_)b.close();else{g+=S.byteLength;const j=new ProgressEvent("progress",{lengthComputable:y,loaded:g,total:p});for(let A=0,C=d.length;A<C;A++){const N=d[A];N.onProgress&&N.onProgress(j)}b.enqueue(S),w()}},_=>{b.error(_)})}}});return new Response(v)}else throw new CIe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(d=>new DOMParser().parseFromString(d,l));case"json":return u.json();default:if(l==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return u.arrayBuffer().then(y=>p.decode(y))}}}).then(u=>{wf.add(e,u);const d=Cu[e];delete Cu[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const d=Cu[e];if(d===void 0)throw this.manager.itemError(e),u;delete Cu[e];for(let f=0,h=d.length;f<h;f++){const p=d[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class MIe extends Ax{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=wf.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const l=Eb("img");function c(){d(),wf.add(e,this),n&&n(this),a.manager.itemEnd(e)}function u(f){d(),i&&i(f),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(e),l.src=e,l}}class xae extends Ax{constructor(e){super(e)}load(e,n,r,i){const a=new ss,o=new MIe(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class HN extends Vr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new rn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}const lT=new bn,eV=new ze,tV=new ze;class dF{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ln(512,512),this.mapType=eu,this.map=null,this.mapPass=null,this.matrix=new bn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new oF,this._frameExtents=new ln(1,1),this._viewportCount=1,this._viewports=[new Xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;eV.setFromMatrixPosition(e.matrixWorld),n.position.copy(eV),tV.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(tV),n.updateMatrixWorld(),lT.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lT),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(lT)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class TIe extends dF{constructor(){super(new ns(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Cv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PIe extends HN{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vr.DEFAULT_UP),this.updateMatrix(),this.target=new Vr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new TIe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nV=new bn,Ly=new ze,cT=new ze;class DIe extends dF{constructor(){super(new ns(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ln(4,2),this._viewportCount=6,this._viewports=[new Xn(2,1,1,1),new Xn(0,1,1,1),new Xn(3,1,1,1),new Xn(1,1,1,1),new Xn(3,0,1,1),new Xn(1,0,1,1)],this._cubeDirections=[new ze(1,0,0),new ze(-1,0,0),new ze(0,0,1),new ze(0,0,-1),new ze(0,1,0),new ze(0,-1,0)],this._cubeUps=[new ze(0,1,0),new ze(0,1,0),new ze(0,1,0),new ze(0,1,0),new ze(0,0,1),new ze(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Ly.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ly),cT.copy(r.position),cT.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(cT),r.updateMatrixWorld(),i.makeTranslation(-Ly.x,-Ly.y,-Ly.z),nV.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nV)}}class yae extends HN{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new DIe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zg extends lae{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,l=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,l-=d*this.view.offsetY,c=l-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class RIe extends dF{constructor(){super(new Zg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bae extends HN{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vr.DEFAULT_UP),this.updateMatrix(),this.target=new Vr,this.shadow=new RIe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class OIe extends HN{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class k0{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class IIe extends Ax{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=wf.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return wf.add(e,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),wf.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});wf.add(e,c),a.manager.itemStart(e)}}class kIe extends ns{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}const fF="\\[\\]\\.:\\/",LIe=new RegExp("["+fF+"]","g"),hF="[^"+fF+"]",FIe="[^"+fF.replace("\\.","")+"]",UIe=/((?:WC+[\/:])*)/.source.replace("WC",hF),BIe=/(WCOD+)?/.source.replace("WCOD",FIe),$Ie=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hF),zIe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hF),HIe=new RegExp("^"+UIe+BIe+$Ie+zIe+"$"),VIe=["material","materials","bones","map"];class qIe{constructor(e,n,r){const i=r||sr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class sr{constructor(e,n,r){this.path=n,this.parsedPath=r||sr.parseTrackName(n),this.node=sr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new sr.Composite(e,n,r):new sr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(LIe,"")}static parseTrackName(e){const n=HIe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);VIe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=sr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sr.Composite=qIe;sr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};sr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};sr.prototype.GetterByBindingType=[sr.prototype._getValue_direct,sr.prototype._getValue_array,sr.prototype._getValue_arrayElement,sr.prototype._getValue_toArray];sr.prototype.SetterByBindingTypeAndVersioning=[[sr.prototype._setValue_direct,sr.prototype._setValue_direct_setNeedsUpdate,sr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_array,sr.prototype._setValue_array_setNeedsUpdate,sr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_arrayElement,sr.prototype._setValue_arrayElement_setNeedsUpdate,sr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sr.prototype._setValue_fromArray,sr.prototype._setValue_fromArray_setNeedsUpdate,sr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class rV{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=jn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(jn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function iV(t,e,n,r){const i=GIe(r);switch(n){case Yse:return t*e;case Q5:return t*e/i.components*i.byteLength;case Z5:return t*e/i.components*i.byteLength;case Qse:return t*e*2/i.components*i.byteLength;case J5:return t*e*2/i.components*i.byteLength;case Kse:return t*e*3/i.components*i.byteLength;case el:return t*e*4/i.components*i.byteLength;case eF:return t*e*4/i.components*i.byteLength;case XS:case YS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case KS:case QS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Rk:case Ik:return Math.max(t,16)*Math.max(e,8)/4;case Dk:case Ok:return Math.max(t,8)*Math.max(e,8)/2;case kk:case Lk:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Fk:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Uk:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Bk:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case $k:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case zk:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Hk:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Vk:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case qk:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Gk:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Wk:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Xk:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Yk:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Kk:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Qk:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Zk:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case ZS:case Jk:case e3:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Zse:case t3:return Math.ceil(t/4)*Math.ceil(e/4)*8;case n3:case r3:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function GIe(t){switch(t){case eu:case Gse:return{byteLength:1,components:1};case yb:case Wse:case Mw:return{byteLength:2,components:1};case Y5:case K5:return{byteLength:2,components:4};case qp:case X5:case Vl:return{byteLength:4,components:1};case Xse:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$N}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$N);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function wae(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function WIe(t){const e=new WeakMap;function n(l,c){const u=l.array,d=l.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(c,h),t.bufferData(c,u,d),l.onUploadCallback();let p;if(u instanceof Float32Array)p=t.FLOAT;else if(u instanceof Uint16Array)l.isFloat16BufferAttribute?p=t.HALF_FLOAT:p=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)p=t.SHORT;else if(u instanceof Uint32Array)p=t.UNSIGNED_INT;else if(u instanceof Int32Array)p=t.INT;else if(u instanceof Int8Array)p=t.BYTE;else if(u instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version,size:f}}function r(l,c,u){const d=c.array,f=c.updateRanges;if(t.bindBuffer(u,l),f.length===0)t.bufferSubData(u,0,d);else{f.sort((p,y)=>p.start-y.start);let h=0;for(let p=1;p<f.length;p++){const y=f[h],g=f[p];g.start<=y.start+y.count+1?y.count=Math.max(y.count,g.start+g.count-y.start):(++h,f[h]=g)}f.length=h+1;for(let p=0,y=f.length;p<y;p++){const g=f[p];t.bufferSubData(u,g.start*d.BYTES_PER_ELEMENT,d,g.start,g.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=e.get(l);c&&(t.deleteBuffer(c.buffer),e.delete(l))}function o(l,c){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const d=e.get(l);(!d||d.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const u=e.get(l);if(u===void 0)e.set(l,n(l,c));else if(u.version<l.version){if(u.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,l,c),u.version=l.version}}return{get:i,remove:a,update:o}}var XIe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,YIe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,KIe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,QIe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ZIe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,JIe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,eke=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tke=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nke=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,rke=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,ike=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ske=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ake=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,oke=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,lke=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,cke=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,uke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fke=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hke=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,gke=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,vke=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xke=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yke=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bke=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wke=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,_ke=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ske=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jke="gl_FragColor = linearToOutputTexel( gl_FragColor );",Eke=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Nke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ake=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Cke=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mke=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Tke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Pke=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dke=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Rke=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Oke=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ike=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,kke=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Lke=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Fke=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Uke=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bke=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,$ke=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zke=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Hke=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Vke=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qke=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Gke=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Wke=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Xke=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Yke=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Kke=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Qke=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Zke=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Jke=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,e3e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,t3e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,n3e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,r3e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,i3e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,s3e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,a3e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,o3e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,l3e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,c3e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,u3e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,d3e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,f3e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,h3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,p3e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,m3e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,g3e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,v3e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,x3e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,y3e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,b3e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,w3e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_3e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,S3e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,j3e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,E3e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,N3e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,A3e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,C3e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,M3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,T3e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,P3e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,D3e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,R3e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,O3e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,I3e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,k3e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,L3e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,F3e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,U3e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B3e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$3e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,z3e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,H3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,V3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,q3e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,G3e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const W3e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,X3e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Y3e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,K3e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Q3e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z3e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J3e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,eLe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,tLe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,nLe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,rLe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iLe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sLe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,aLe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oLe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,lLe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cLe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uLe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dLe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fLe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hLe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,pLe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mLe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gLe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vLe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xLe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yLe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bLe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wLe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_Le=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SLe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jLe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ELe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,NLe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wn={alphahash_fragment:XIe,alphahash_pars_fragment:YIe,alphamap_fragment:KIe,alphamap_pars_fragment:QIe,alphatest_fragment:ZIe,alphatest_pars_fragment:JIe,aomap_fragment:eke,aomap_pars_fragment:tke,batching_pars_vertex:nke,batching_vertex:rke,begin_vertex:ike,beginnormal_vertex:ske,bsdfs:ake,iridescence_fragment:oke,bumpmap_pars_fragment:lke,clipping_planes_fragment:cke,clipping_planes_pars_fragment:uke,clipping_planes_pars_vertex:dke,clipping_planes_vertex:fke,color_fragment:hke,color_pars_fragment:pke,color_pars_vertex:mke,color_vertex:gke,common:vke,cube_uv_reflection_fragment:xke,defaultnormal_vertex:yke,displacementmap_pars_vertex:bke,displacementmap_vertex:wke,emissivemap_fragment:_ke,emissivemap_pars_fragment:Ske,colorspace_fragment:jke,colorspace_pars_fragment:Eke,envmap_fragment:Nke,envmap_common_pars_fragment:Ake,envmap_pars_fragment:Cke,envmap_pars_vertex:Mke,envmap_physical_pars_fragment:Bke,envmap_vertex:Tke,fog_vertex:Pke,fog_pars_vertex:Dke,fog_fragment:Rke,fog_pars_fragment:Oke,gradientmap_pars_fragment:Ike,lightmap_pars_fragment:kke,lights_lambert_fragment:Lke,lights_lambert_pars_fragment:Fke,lights_pars_begin:Uke,lights_toon_fragment:$ke,lights_toon_pars_fragment:zke,lights_phong_fragment:Hke,lights_phong_pars_fragment:Vke,lights_physical_fragment:qke,lights_physical_pars_fragment:Gke,lights_fragment_begin:Wke,lights_fragment_maps:Xke,lights_fragment_end:Yke,logdepthbuf_fragment:Kke,logdepthbuf_pars_fragment:Qke,logdepthbuf_pars_vertex:Zke,logdepthbuf_vertex:Jke,map_fragment:e3e,map_pars_fragment:t3e,map_particle_fragment:n3e,map_particle_pars_fragment:r3e,metalnessmap_fragment:i3e,metalnessmap_pars_fragment:s3e,morphinstance_vertex:a3e,morphcolor_vertex:o3e,morphnormal_vertex:l3e,morphtarget_pars_vertex:c3e,morphtarget_vertex:u3e,normal_fragment_begin:d3e,normal_fragment_maps:f3e,normal_pars_fragment:h3e,normal_pars_vertex:p3e,normal_vertex:m3e,normalmap_pars_fragment:g3e,clearcoat_normal_fragment_begin:v3e,clearcoat_normal_fragment_maps:x3e,clearcoat_pars_fragment:y3e,iridescence_pars_fragment:b3e,opaque_fragment:w3e,packing:_3e,premultiplied_alpha_fragment:S3e,project_vertex:j3e,dithering_fragment:E3e,dithering_pars_fragment:N3e,roughnessmap_fragment:A3e,roughnessmap_pars_fragment:C3e,shadowmap_pars_fragment:M3e,shadowmap_pars_vertex:T3e,shadowmap_vertex:P3e,shadowmask_pars_fragment:D3e,skinbase_vertex:R3e,skinning_pars_vertex:O3e,skinning_vertex:I3e,skinnormal_vertex:k3e,specularmap_fragment:L3e,specularmap_pars_fragment:F3e,tonemapping_fragment:U3e,tonemapping_pars_fragment:B3e,transmission_fragment:$3e,transmission_pars_fragment:z3e,uv_pars_fragment:H3e,uv_pars_vertex:V3e,uv_vertex:q3e,worldpos_vertex:G3e,background_vert:W3e,background_frag:X3e,backgroundCube_vert:Y3e,backgroundCube_frag:K3e,cube_vert:Q3e,cube_frag:Z3e,depth_vert:J3e,depth_frag:eLe,distanceRGBA_vert:tLe,distanceRGBA_frag:nLe,equirect_vert:rLe,equirect_frag:iLe,linedashed_vert:sLe,linedashed_frag:aLe,meshbasic_vert:oLe,meshbasic_frag:lLe,meshlambert_vert:cLe,meshlambert_frag:uLe,meshmatcap_vert:dLe,meshmatcap_frag:fLe,meshnormal_vert:hLe,meshnormal_frag:pLe,meshphong_vert:mLe,meshphong_frag:gLe,meshphysical_vert:vLe,meshphysical_frag:xLe,meshtoon_vert:yLe,meshtoon_frag:bLe,points_vert:wLe,points_frag:_Le,shadow_vert:SLe,shadow_frag:jLe,sprite_vert:ELe,sprite_frag:NLe},Dt={common:{diffuse:{value:new rn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new yn}},envmap:{envMap:{value:null},envMapRotation:{value:new yn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new yn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new yn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new yn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new yn},normalScale:{value:new ln(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new yn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new yn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new yn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new yn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0},uvTransform:{value:new yn}},sprite:{diffuse:{value:new rn(16777215)},opacity:{value:1},center:{value:new ln(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}}},Sc={basic:{uniforms:ta([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.fog]),vertexShader:wn.meshbasic_vert,fragmentShader:wn.meshbasic_frag},lambert:{uniforms:ta([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new rn(0)}}]),vertexShader:wn.meshlambert_vert,fragmentShader:wn.meshlambert_frag},phong:{uniforms:ta([Dt.common,Dt.specularmap,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,Dt.lights,{emissive:{value:new rn(0)},specular:{value:new rn(1118481)},shininess:{value:30}}]),vertexShader:wn.meshphong_vert,fragmentShader:wn.meshphong_frag},standard:{uniforms:ta([Dt.common,Dt.envmap,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.roughnessmap,Dt.metalnessmap,Dt.fog,Dt.lights,{emissive:{value:new rn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag},toon:{uniforms:ta([Dt.common,Dt.aomap,Dt.lightmap,Dt.emissivemap,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.gradientmap,Dt.fog,Dt.lights,{emissive:{value:new rn(0)}}]),vertexShader:wn.meshtoon_vert,fragmentShader:wn.meshtoon_frag},matcap:{uniforms:ta([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,Dt.fog,{matcap:{value:null}}]),vertexShader:wn.meshmatcap_vert,fragmentShader:wn.meshmatcap_frag},points:{uniforms:ta([Dt.points,Dt.fog]),vertexShader:wn.points_vert,fragmentShader:wn.points_frag},dashed:{uniforms:ta([Dt.common,Dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wn.linedashed_vert,fragmentShader:wn.linedashed_frag},depth:{uniforms:ta([Dt.common,Dt.displacementmap]),vertexShader:wn.depth_vert,fragmentShader:wn.depth_frag},normal:{uniforms:ta([Dt.common,Dt.bumpmap,Dt.normalmap,Dt.displacementmap,{opacity:{value:1}}]),vertexShader:wn.meshnormal_vert,fragmentShader:wn.meshnormal_frag},sprite:{uniforms:ta([Dt.sprite,Dt.fog]),vertexShader:wn.sprite_vert,fragmentShader:wn.sprite_frag},background:{uniforms:{uvTransform:{value:new yn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wn.background_vert,fragmentShader:wn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new yn}},vertexShader:wn.backgroundCube_vert,fragmentShader:wn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wn.cube_vert,fragmentShader:wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wn.equirect_vert,fragmentShader:wn.equirect_frag},distanceRGBA:{uniforms:ta([Dt.common,Dt.displacementmap,{referencePosition:{value:new ze},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wn.distanceRGBA_vert,fragmentShader:wn.distanceRGBA_frag},shadow:{uniforms:ta([Dt.lights,Dt.fog,{color:{value:new rn(0)},opacity:{value:1}}]),vertexShader:wn.shadow_vert,fragmentShader:wn.shadow_frag}};Sc.physical={uniforms:ta([Sc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new yn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new yn},clearcoatNormalScale:{value:new ln(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new yn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new yn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new yn},sheen:{value:0},sheenColor:{value:new rn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new yn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new yn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new yn},transmissionSamplerSize:{value:new ln},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new yn},attenuationDistance:{value:0},attenuationColor:{value:new rn(0)},specularColor:{value:new rn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new yn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new yn},anisotropyVector:{value:new ln},anisotropyMap:{value:null},anisotropyMapTransform:{value:new yn}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag};const nS={r:0,b:0,g:0},Oh=new rc,ALe=new bn;function CLe(t,e,n,r,i,a,o){const l=new rn(0);let c=a===!0?0:1,u,d,f=null,h=0,p=null;function y(_){let S=_.isScene===!0?_.background:null;return S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S)),S}function g(_){let S=!1;const j=y(_);j===null?b(l,c):j&&j.isColor&&(b(j,1),S=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,S){const j=y(S);j&&(j.isCubeTexture||j.mapping===zN)?(d===void 0&&(d=new fa(new jx(1,1,1),new Kf({name:"BackgroundCubeMaterial",uniforms:Mv(Sc.backgroundCube.uniforms),vertexShader:Sc.backgroundCube.vertexShader,fragmentShader:Sc.backgroundCube.fragmentShader,side:Fa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(A,C,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),Oh.copy(S.backgroundRotation),Oh.x*=-1,Oh.y*=-1,Oh.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(Oh.y*=-1,Oh.z*=-1),d.material.uniforms.envMap.value=j,d.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(ALe.makeRotationFromEuler(Oh)),d.material.toneMapped=Gn.getTransfer(j.colorSpace)!==or,(f!==j||h!==j.version||p!==t.toneMapping)&&(d.material.needsUpdate=!0,f=j,h=j.version,p=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):j&&j.isTexture&&(u===void 0&&(u=new fa(new Pw(2,2),new Kf({name:"BackgroundMaterial",uniforms:Mv(Sc.background.uniforms),vertexShader:Sc.background.vertexShader,fragmentShader:Sc.background.fragmentShader,side:dd,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=j,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.toneMapped=Gn.getTransfer(j.colorSpace)!==or,j.matrixAutoUpdate===!0&&j.updateMatrix(),u.material.uniforms.uvTransform.value.copy(j.matrix),(f!==j||h!==j.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=j,h=j.version,p=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function b(_,S){_.getRGB(nS,oae(t)),r.buffers.color.setClear(nS.r,nS.g,nS.b,S,o)}function w(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return l},setClearColor:function(_,S=1){l.set(_),c=S,b(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(_){c=_,b(l,c)},render:g,addToRenderList:v,dispose:w}}function MLe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,o=!1;function l(P,D,O,I,L){let z=!1;const q=f(I,O,D);a!==q&&(a=q,u(a.object)),z=p(P,I,O,L),z&&y(P,I,O,L),L!==null&&e.update(L,t.ELEMENT_ARRAY_BUFFER),(z||o)&&(o=!1,S(P,D,O,I),L!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function c(){return t.createVertexArray()}function u(P){return t.bindVertexArray(P)}function d(P){return t.deleteVertexArray(P)}function f(P,D,O){const I=O.wireframe===!0;let L=r[P.id];L===void 0&&(L={},r[P.id]=L);let z=L[D.id];z===void 0&&(z={},L[D.id]=z);let q=z[I];return q===void 0&&(q=h(c()),z[I]=q),q}function h(P){const D=[],O=[],I=[];for(let L=0;L<n;L++)D[L]=0,O[L]=0,I[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:O,attributeDivisors:I,object:P,attributes:{},index:null}}function p(P,D,O,I){const L=a.attributes,z=D.attributes;let q=0;const V=O.getAttributes();for(const F in V)if(V[F].location>=0){const H=L[F];let $=z[F];if($===void 0&&(F==="instanceMatrix"&&P.instanceMatrix&&($=P.instanceMatrix),F==="instanceColor"&&P.instanceColor&&($=P.instanceColor)),H===void 0||H.attribute!==$||$&&H.data!==$.data)return!0;q++}return a.attributesNum!==q||a.index!==I}function y(P,D,O,I){const L={},z=D.attributes;let q=0;const V=O.getAttributes();for(const F in V)if(V[F].location>=0){let H=z[F];H===void 0&&(F==="instanceMatrix"&&P.instanceMatrix&&(H=P.instanceMatrix),F==="instanceColor"&&P.instanceColor&&(H=P.instanceColor));const $={};$.attribute=H,H&&H.data&&($.data=H.data),L[F]=$,q++}a.attributes=L,a.attributesNum=q,a.index=I}function g(){const P=a.newAttributes;for(let D=0,O=P.length;D<O;D++)P[D]=0}function v(P){b(P,0)}function b(P,D){const O=a.newAttributes,I=a.enabledAttributes,L=a.attributeDivisors;O[P]=1,I[P]===0&&(t.enableVertexAttribArray(P),I[P]=1),L[P]!==D&&(t.vertexAttribDivisor(P,D),L[P]=D)}function w(){const P=a.newAttributes,D=a.enabledAttributes;for(let O=0,I=D.length;O<I;O++)D[O]!==P[O]&&(t.disableVertexAttribArray(O),D[O]=0)}function _(P,D,O,I,L,z,q){q===!0?t.vertexAttribIPointer(P,D,O,L,z):t.vertexAttribPointer(P,D,O,I,L,z)}function S(P,D,O,I){g();const L=I.attributes,z=O.getAttributes(),q=D.defaultAttributeValues;for(const V in z){const F=z[V];if(F.location>=0){let U=L[V];if(U===void 0&&(V==="instanceMatrix"&&P.instanceMatrix&&(U=P.instanceMatrix),V==="instanceColor"&&P.instanceColor&&(U=P.instanceColor)),U!==void 0){const H=U.normalized,$=U.itemSize,W=e.get(U);if(W===void 0)continue;const le=W.buffer,ie=W.type,re=W.bytesPerElement,_e=ie===t.INT||ie===t.UNSIGNED_INT||U.gpuType===X5;if(U.isInterleavedBufferAttribute){const pe=U.data,Ne=pe.stride,je=U.offset;if(pe.isInstancedInterleavedBuffer){for(let Oe=0;Oe<F.locationSize;Oe++)b(F.location+Oe,pe.meshPerAttribute);P.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let Oe=0;Oe<F.locationSize;Oe++)v(F.location+Oe);t.bindBuffer(t.ARRAY_BUFFER,le);for(let Oe=0;Oe<F.locationSize;Oe++)_(F.location+Oe,$/F.locationSize,ie,H,Ne*re,(je+$/F.locationSize*Oe)*re,_e)}else{if(U.isInstancedBufferAttribute){for(let pe=0;pe<F.locationSize;pe++)b(F.location+pe,U.meshPerAttribute);P.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let pe=0;pe<F.locationSize;pe++)v(F.location+pe);t.bindBuffer(t.ARRAY_BUFFER,le);for(let pe=0;pe<F.locationSize;pe++)_(F.location+pe,$/F.locationSize,ie,H,$*re,$/F.locationSize*pe*re,_e)}}else if(q!==void 0){const H=q[V];if(H!==void 0)switch(H.length){case 2:t.vertexAttrib2fv(F.location,H);break;case 3:t.vertexAttrib3fv(F.location,H);break;case 4:t.vertexAttrib4fv(F.location,H);break;default:t.vertexAttrib1fv(F.location,H)}}}}w()}function j(){N();for(const P in r){const D=r[P];for(const O in D){const I=D[O];for(const L in I)d(I[L].object),delete I[L];delete D[O]}delete r[P]}}function A(P){if(r[P.id]===void 0)return;const D=r[P.id];for(const O in D){const I=D[O];for(const L in I)d(I[L].object),delete I[L];delete D[O]}delete r[P.id]}function C(P){for(const D in r){const O=r[D];if(O[P.id]===void 0)continue;const I=O[P.id];for(const L in I)d(I[L].object),delete I[L];delete O[P.id]}}function N(){T(),o=!0,a!==i&&(a=i,u(a.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:l,reset:N,resetDefaultState:T,dispose:j,releaseStatesOfGeometry:A,releaseStatesOfProgram:C,initAttributes:g,enableAttribute:v,disableUnusedAttributes:w}}function TLe(t,e,n){let r;function i(u){r=u}function a(u,d){t.drawArrays(r,u,d),n.update(d,r,1)}function o(u,d,f){f!==0&&(t.drawArraysInstanced(r,u,d,f),n.update(d,r,f))}function l(u,d,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,d,0,f);let p=0;for(let y=0;y<f;y++)p+=d[y];n.update(p,r,1)}function c(u,d,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let y=0;y<u.length;y++)o(u[y],d[y],h[y]);else{p.multiDrawArraysInstancedWEBGL(r,u,0,d,0,h,0,f);let y=0;for(let g=0;g<f;g++)y+=d[g]*h[g];n.update(y,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=c}function PLe(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(C){return!(C!==el&&r.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(C){const N=C===Mw&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(C!==eu&&r.convert(C)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==Vl&&!N)}function c(C){if(C==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=c(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),j=y>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:c,textureFormatReadable:o,textureTypeReadable:l,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:y,maxTextureSize:g,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:w,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:j,maxSamples:A}}function DLe(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new af,l=new yn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||r!==0||i;return i=h,r=f.length,p},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){n=d(f,h,0)},this.setState=function(f,h,p){const y=f.clippingPlanes,g=f.clipIntersection,v=f.clipShadows,b=t.get(f);if(!i||y===null||y.length===0||a&&!v)a?d(null):u();else{const w=a?0:r,_=w*4;let S=b.clippingState||null;c.value=S,S=d(y,h,_,p);for(let j=0;j!==_;++j)S[j]=n[j];b.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(f,h,p,y){const g=f!==null?f.length:0;let v=null;if(g!==0){if(v=c.value,y!==!0||v===null){const b=p+g*4,w=h.matrixWorldInverse;l.getNormalMatrix(w),(v===null||v.length<b)&&(v=new Float32Array(b));for(let _=0,S=p;_!==g;++_,S+=4)o.copy(f[_]).applyMatrix4(w,l),o.normal.toArray(v,S),v[S+3]=o.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function RLe(t){let e=new WeakMap;function n(o,l){return l===Tk?o.mapping=Ev:l===Pk&&(o.mapping=Nv),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===Tk||l===Pk)if(e.has(o)){const c=e.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new tIe(c.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Ag=4,sV=[.125,.215,.35,.446,.526,.582],Yh=20,uT=new Zg,aV=new rn;let dT=null,fT=0,hT=0,pT=!1;const qh=(1+Math.sqrt(5))/2,ug=1/qh,oV=[new ze(-qh,ug,0),new ze(qh,ug,0),new ze(-ug,0,qh),new ze(ug,0,qh),new ze(0,qh,-ug),new ze(0,qh,ug),new ze(-1,1,-1),new ze(1,1,-1),new ze(-1,1,1),new ze(1,1,1)],OLe=new ze;class lV{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,a={}){const{size:o=256,position:l=OLe}=a;dT=this._renderer.getRenderTarget(),fT=this._renderer.getActiveCubeFace(),hT=this._renderer.getActiveMipmapLevel(),pT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,i,c,l),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=uV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(dT,fT,hT),this._renderer.xr.enabled=pT,e.scissorTest=!1,rS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ev||e.mapping===Nv?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),dT=this._renderer.getRenderTarget(),fT=this._renderer.getActiveCubeFace(),hT=this._renderer.getActiveMipmapLevel(),pT=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Jo,minFilter:Jo,generateMipmaps:!1,type:Mw,format:el,colorSpace:Av,depthBuffer:!1},i=cV(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=cV(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ILe(a)),this._blurMaterial=kLe(a,e,n)}return i}_compileMaterial(e){const n=new fa(this._lodPlanes[0],e);this._renderer.compile(n,uT)}_sceneToCubeUV(e,n,r,i,a){const c=new ns(90,1,n,r),u=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(aV),f.toneMapping=If,f.autoClear=!1;const y=new sp({name:"PMREM.Background",side:Fa,depthWrite:!1,depthTest:!1}),g=new fa(new jx,y);let v=!1;const b=e.background;b?b.isColor&&(y.color.copy(b),e.background=null,v=!0):(y.color.copy(aV),v=!0);for(let w=0;w<6;w++){const _=w%3;_===0?(c.up.set(0,u[w],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x+d[w],a.y,a.z)):_===1?(c.up.set(0,0,u[w]),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y+d[w],a.z)):(c.up.set(0,u[w],0),c.position.set(a.x,a.y,a.z),c.lookAt(a.x,a.y,a.z+d[w]));const S=this._cubeSize;rS(i,_*S,w>2?S:0,S,S),f.setRenderTarget(i),v&&f.render(g,c),f.render(e,c)}g.geometry.dispose(),g.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ev||e.mapping===Nv;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=dV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=uV());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new fa(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const c=this._cubeSize;rS(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(o,uT)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=oV[(i-a-1)%oV.length];this._blur(e,a-1,a,o,l)}n.autoClear=r}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,l){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,f=new fa(this._lodPlanes[i],u),h=u.uniforms,p=this._sizeLods[r]-1,y=isFinite(a)?Math.PI/(2*p):2*Math.PI/(2*Yh-1),g=a/y,v=isFinite(a)?1+Math.floor(d*g):Yh;v>Yh&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Yh}`);const b=[];let w=0;for(let C=0;C<Yh;++C){const N=C/g,T=Math.exp(-N*N/2);b.push(T),C===0?w+=T:C<v&&(w+=2*T)}for(let C=0;C<b.length;C++)b[C]=b[C]/w;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=b,h.latitudinal.value=o==="latitudinal",l&&(h.poleAxis.value=l);const{_lodMax:_}=this;h.dTheta.value=y,h.mipInt.value=_-r;const S=this._sizeLods[i],j=3*S*(i>_-Ag?i-_+Ag:0),A=4*(this._cubeSize-S);rS(n,j,A,3*S,2*S),c.setRenderTarget(n),c.render(f,uT)}}function ILe(t){const e=[],n=[],r=[];let i=t;const a=t-Ag+1+sV.length;for(let o=0;o<a;o++){const l=Math.pow(2,i);n.push(l);let c=1/l;o>t-Ag?c=sV[o-t+Ag-1]:o===0&&(c=0),r.push(c);const u=1/(l-2),d=-u,f=1+u,h=[d,d,f,d,f,f,d,d,f,f,d,f],p=6,y=6,g=3,v=2,b=1,w=new Float32Array(g*y*p),_=new Float32Array(v*y*p),S=new Float32Array(b*y*p);for(let A=0;A<p;A++){const C=A%3*2/3-1,N=A>2?0:-1,T=[C,N,0,C+2/3,N,0,C+2/3,N+1,0,C,N,0,C+2/3,N+1,0,C,N+1,0];w.set(T,g*y*A),_.set(h,v*y*A);const P=[A,A,A,A,A,A];S.set(P,b*y*A)}const j=new lc;j.setAttribute("position",new Vs(w,g)),j.setAttribute("uv",new Vs(_,v)),j.setAttribute("faceIndex",new Vs(S,b)),e.push(j),i>Ag&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function cV(t,e,n){const r=new Gp(t,e,n);return r.texture.mapping=zN,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function rS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function kLe(t,e,n){const r=new Float32Array(Yh),i=new ze(0,1,0);return new Kf({name:"SphericalGaussianBlur",defines:{n:Yh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:pF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Of,depthTest:!1,depthWrite:!1})}function uV(){return new Kf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:pF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Of,depthTest:!1,depthWrite:!1})}function dV(){return new Kf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:pF(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Of,depthTest:!1,depthWrite:!1})}function pF(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function LLe(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===Tk||c===Pk,d=c===Ev||c===Nv;if(u||d){let f=e.get(l);const h=f!==void 0?f.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==h)return n===null&&(n=new lV(t)),f=u?n.fromEquirectangular(l,f):n.fromCubemap(l,f),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),f.texture;if(f!==void 0)return f.texture;{const p=l.image;return u&&p&&p.height>0||d&&p&&i(p)?(n===null&&(n=new lV(t)),f=u?n.fromEquirectangular(l):n.fromCubemap(l),f.texture.pmremVersion=l.pmremVersion,e.set(l,f),l.addEventListener("dispose",a),f.texture):null}}}return l}function i(l){let c=0;const u=6;for(let d=0;d<u;d++)l[d]!==void 0&&c++;return c===u}function a(l){const c=l.target;c.removeEventListener("dispose",a);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function FLe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&JS("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ULe(t,e,n,r){const i={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const y in h.attributes)e.remove(h.attributes[y]);h.removeEventListener("dispose",o),delete i[h.id];const p=a.get(h);p&&(e.remove(p),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function l(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function c(f){const h=f.attributes;for(const p in h)e.update(h[p],t.ARRAY_BUFFER)}function u(f){const h=[],p=f.index,y=f.attributes.position;let g=0;if(p!==null){const w=p.array;g=p.version;for(let _=0,S=w.length;_<S;_+=3){const j=w[_+0],A=w[_+1],C=w[_+2];h.push(j,A,A,C,C,j)}}else if(y!==void 0){const w=y.array;g=y.version;for(let _=0,S=w.length/3-1;_<S;_+=3){const j=_+0,A=_+1,C=_+2;h.push(j,A,A,C,C,j)}}else return;const v=new(tae(h)?aae:sae)(h,1);v.version=g;const b=a.get(f);b&&e.remove(b),a.set(f,v)}function d(f){const h=a.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&u(f)}else u(f);return a.get(f)}return{get:l,update:c,getWireframeAttribute:d}}function BLe(t,e,n){let r;function i(h){r=h}let a,o;function l(h){a=h.type,o=h.bytesPerElement}function c(h,p){t.drawElements(r,p,a,h*o),n.update(p,r,1)}function u(h,p,y){y!==0&&(t.drawElementsInstanced(r,p,a,h*o,y),n.update(p,r,y))}function d(h,p,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,p,0,a,h,0,y);let v=0;for(let b=0;b<y;b++)v+=p[b];n.update(v,r,1)}function f(h,p,y,g){if(y===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let b=0;b<h.length;b++)u(h[b]/o,p[b],g[b]);else{v.multiDrawElementsInstancedWEBGL(r,p,0,a,h,0,g,0,y);let b=0;for(let w=0;w<y;w++)b+=p[w]*g[w];n.update(b,r,1)}}this.setMode=i,this.setIndex=l,this.render=c,this.renderInstances=u,this.renderMultiDraw=d,this.renderMultiDrawInstances=f}function $Le(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(a/3);break;case t.LINES:n.lines+=l*(a/2);break;case t.LINE_STRIP:n.lines+=l*(a-1);break;case t.LINE_LOOP:n.lines+=l*a;break;case t.POINTS:n.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function zLe(t,e,n){const r=new WeakMap,i=new Xn;function a(o,l,c){const u=o.morphTargetInfluences,d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,f=d!==void 0?d.length:0;let h=r.get(l);if(h===void 0||h.count!==f){let P=function(){N.dispose(),r.delete(l),l.removeEventListener("dispose",P)};var p=P;h!==void 0&&h.texture.dispose();const y=l.morphAttributes.position!==void 0,g=l.morphAttributes.normal!==void 0,v=l.morphAttributes.color!==void 0,b=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],_=l.morphAttributes.color||[];let S=0;y===!0&&(S=1),g===!0&&(S=2),v===!0&&(S=3);let j=l.attributes.position.count*S,A=1;j>e.maxTextureSize&&(A=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const C=new Float32Array(j*A*4*f),N=new nae(C,j,A,f);N.type=Vl,N.needsUpdate=!0;const T=S*4;for(let D=0;D<f;D++){const O=b[D],I=w[D],L=_[D],z=j*A*4*D;for(let q=0;q<O.count;q++){const V=q*T;y===!0&&(i.fromBufferAttribute(O,q),C[z+V+0]=i.x,C[z+V+1]=i.y,C[z+V+2]=i.z,C[z+V+3]=0),g===!0&&(i.fromBufferAttribute(I,q),C[z+V+4]=i.x,C[z+V+5]=i.y,C[z+V+6]=i.z,C[z+V+7]=0),v===!0&&(i.fromBufferAttribute(L,q),C[z+V+8]=i.x,C[z+V+9]=i.y,C[z+V+10]=i.z,C[z+V+11]=L.itemSize===4?i.w:1)}}h={count:f,texture:N,size:new ln(j,A)},r.set(l,h),l.addEventListener("dispose",P)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let y=0;for(let v=0;v<u.length;v++)y+=u[v];const g=l.morphTargetsRelative?1:1-y;c.getUniforms().setValue(t,"morphTargetBaseInfluence",g),c.getUniforms().setValue(t,"morphTargetInfluences",u)}c.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:a}}function HLe(t,e,n,r){let i=new WeakMap;function a(c){const u=r.render.frame,d=c.geometry,f=e.get(c,d);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const h=c.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:o}}const _ae=new ss,fV=new pae(1,1),Sae=new nae,jae=new FOe,Eae=new cae,hV=[],pV=[],mV=new Float32Array(16),gV=new Float32Array(9),vV=new Float32Array(4);function Cx(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=hV[i];if(a===void 0&&(a=new Float32Array(i),hV[i]=a),e!==0){r.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(a,l)}return a}function $i(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function zi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function VN(t,e){let n=pV[e];n===void 0&&(n=new Int32Array(e),pV[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function VLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function qLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($i(n,e))return;t.uniform2fv(this.addr,e),zi(n,e)}}function GLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if($i(n,e))return;t.uniform3fv(this.addr,e),zi(n,e)}}function WLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($i(n,e))return;t.uniform4fv(this.addr,e),zi(n,e)}}function XLe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if($i(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zi(n,e)}else{if($i(n,r))return;vV.set(r),t.uniformMatrix2fv(this.addr,!1,vV),zi(n,r)}}function YLe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if($i(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zi(n,e)}else{if($i(n,r))return;gV.set(r),t.uniformMatrix3fv(this.addr,!1,gV),zi(n,r)}}function KLe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if($i(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zi(n,e)}else{if($i(n,r))return;mV.set(r),t.uniformMatrix4fv(this.addr,!1,mV),zi(n,r)}}function QLe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ZLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($i(n,e))return;t.uniform2iv(this.addr,e),zi(n,e)}}function JLe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($i(n,e))return;t.uniform3iv(this.addr,e),zi(n,e)}}function e4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($i(n,e))return;t.uniform4iv(this.addr,e),zi(n,e)}}function t4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function n4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if($i(n,e))return;t.uniform2uiv(this.addr,e),zi(n,e)}}function r4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if($i(n,e))return;t.uniform3uiv(this.addr,e),zi(n,e)}}function i4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if($i(n,e))return;t.uniform4uiv(this.addr,e),zi(n,e)}}function s4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(fV.compareFunction=eae,a=fV):a=_ae,n.setTexture2D(e||a,i)}function a4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||jae,i)}function o4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Eae,i)}function l4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Sae,i)}function c4e(t){switch(t){case 5126:return VLe;case 35664:return qLe;case 35665:return GLe;case 35666:return WLe;case 35674:return XLe;case 35675:return YLe;case 35676:return KLe;case 5124:case 35670:return QLe;case 35667:case 35671:return ZLe;case 35668:case 35672:return JLe;case 35669:case 35673:return e4e;case 5125:return t4e;case 36294:return n4e;case 36295:return r4e;case 36296:return i4e;case 35678:case 36198:case 36298:case 36306:case 35682:return s4e;case 35679:case 36299:case 36307:return a4e;case 35680:case 36300:case 36308:case 36293:return o4e;case 36289:case 36303:case 36311:case 36292:return l4e}}function u4e(t,e){t.uniform1fv(this.addr,e)}function d4e(t,e){const n=Cx(e,this.size,2);t.uniform2fv(this.addr,n)}function f4e(t,e){const n=Cx(e,this.size,3);t.uniform3fv(this.addr,n)}function h4e(t,e){const n=Cx(e,this.size,4);t.uniform4fv(this.addr,n)}function p4e(t,e){const n=Cx(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function m4e(t,e){const n=Cx(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function g4e(t,e){const n=Cx(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function v4e(t,e){t.uniform1iv(this.addr,e)}function x4e(t,e){t.uniform2iv(this.addr,e)}function y4e(t,e){t.uniform3iv(this.addr,e)}function b4e(t,e){t.uniform4iv(this.addr,e)}function w4e(t,e){t.uniform1uiv(this.addr,e)}function _4e(t,e){t.uniform2uiv(this.addr,e)}function S4e(t,e){t.uniform3uiv(this.addr,e)}function j4e(t,e){t.uniform4uiv(this.addr,e)}function E4e(t,e,n){const r=this.cache,i=e.length,a=VN(n,i);$i(r,a)||(t.uniform1iv(this.addr,a),zi(r,a));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||_ae,a[o])}function N4e(t,e,n){const r=this.cache,i=e.length,a=VN(n,i);$i(r,a)||(t.uniform1iv(this.addr,a),zi(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||jae,a[o])}function A4e(t,e,n){const r=this.cache,i=e.length,a=VN(n,i);$i(r,a)||(t.uniform1iv(this.addr,a),zi(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Eae,a[o])}function C4e(t,e,n){const r=this.cache,i=e.length,a=VN(n,i);$i(r,a)||(t.uniform1iv(this.addr,a),zi(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Sae,a[o])}function M4e(t){switch(t){case 5126:return u4e;case 35664:return d4e;case 35665:return f4e;case 35666:return h4e;case 35674:return p4e;case 35675:return m4e;case 35676:return g4e;case 5124:case 35670:return v4e;case 35667:case 35671:return x4e;case 35668:case 35672:return y4e;case 35669:case 35673:return b4e;case 5125:return w4e;case 36294:return _4e;case 36295:return S4e;case 36296:return j4e;case 35678:case 36198:case 36298:case 36306:case 35682:return E4e;case 35679:case 36299:case 36307:return N4e;case 35680:case 36300:case 36308:case 36293:return A4e;case 36289:case 36303:case 36311:case 36292:return C4e}}class T4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=c4e(n.type)}}class P4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=M4e(n.type)}}class D4e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const l=i[a];l.setValue(e,n[l.id],r)}}}const mT=/(\w+)(\])?(\[|\.)?/g;function xV(t,e){t.seq.push(e),t.map[e.id]=e}function R4e(t,e,n){const r=t.name,i=r.length;for(mT.lastIndex=0;;){const a=mT.exec(r),o=mT.lastIndex;let l=a[1];const c=a[2]==="]",u=a[3];if(c&&(l=l|0),u===void 0||u==="["&&o+2===i){xV(n,u===void 0?new T4e(l,t,e):new P4e(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new D4e(l),xV(n,f)),n=f}}}class ej{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),o=e.getUniformLocation(n,a.name);R4e(a,o,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const l=n[a],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function yV(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const O4e=37297;let I4e=0;function k4e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}const bV=new yn;function L4e(t){Gn._getMatrix(bV,Gn.workingColorSpace,t);const e=`mat3( ${bV.elements.map(n=>n.toFixed(4))} )`;switch(Gn.getTransfer(t)){case Yj:return[e,"LinearTransferOETF"];case or:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function wV(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+k4e(t.getShaderSource(e),o)}else return i}function F4e(t,e){const n=L4e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function U4e(t,e){let n;switch(e){case GRe:n="Linear";break;case WRe:n="Reinhard";break;case XRe:n="Cineon";break;case YRe:n="ACESFilmic";break;case QRe:n="AgX";break;case ZRe:n="Neutral";break;case KRe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const iS=new ze;function B4e(){Gn.getLuminanceCoefficients(iS);const t=iS.x.toFixed(4),e=iS.y.toFixed(4),n=iS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $4e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(h0).join(`
`)}function z4e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function H4e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let l=1;a.type===t.FLOAT_MAT2&&(l=2),a.type===t.FLOAT_MAT3&&(l=3),a.type===t.FLOAT_MAT4&&(l=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function h0(t){return t!==""}function _V(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function SV(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const V4e=/^[ \t]*#include +<([\w\d./]+)>/gm;function l3(t){return t.replace(V4e,G4e)}const q4e=new Map;function G4e(t,e){let n=wn[e];if(n===void 0){const r=q4e.get(e);if(r!==void 0)n=wn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return l3(n)}const W4e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jV(t){return t.replace(W4e,X4e)}function X4e(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function EV(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Y4e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===zse?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Hse?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ru&&(e="SHADOWMAP_TYPE_VSM"),e}function K4e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ev:case Nv:e="ENVMAP_TYPE_CUBE";break;case zN:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Q4e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Nv:e="ENVMAP_MODE_REFRACTION";break}return e}function Z4e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case W5:e="ENVMAP_BLENDING_MULTIPLY";break;case VRe:e="ENVMAP_BLENDING_MIX";break;case qRe:e="ENVMAP_BLENDING_ADD";break}return e}function J4e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function e5e(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=Y4e(n),u=K4e(n),d=Q4e(n),f=Z4e(n),h=J4e(n),p=$4e(n),y=z4e(a),g=i.createProgram();let v,b,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(h0).join(`
`),v.length>0&&(v+=`
`),b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(h0).join(`
`),b.length>0&&(b+=`
`)):(v=[EV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(h0).join(`
`),b=[EV(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==If?"#define TONE_MAPPING":"",n.toneMapping!==If?wn.tonemapping_pars_fragment:"",n.toneMapping!==If?U4e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",wn.colorspace_pars_fragment,F4e("linearToOutputTexel",n.outputColorSpace),B4e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(h0).join(`
`)),o=l3(o),o=_V(o,n),o=SV(o,n),l=l3(l),l=_V(l,n),l=SV(l,n),o=jV(o),l=jV(l),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,b=["#define varying in",n.glslVersion===b9?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===b9?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const _=w+v+o,S=w+b+l,j=yV(i,i.VERTEX_SHADER,_),A=yV(i,i.FRAGMENT_SHADER,S);i.attachShader(g,j),i.attachShader(g,A),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function C(D){if(t.debug.checkShaderErrors){const O=i.getProgramInfoLog(g).trim(),I=i.getShaderInfoLog(j).trim(),L=i.getShaderInfoLog(A).trim();let z=!0,q=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(z=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,g,j,A);else{const V=wV(i,j,"vertex"),F=wV(i,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+D.name+`
Material Type: `+D.type+`

Program Info Log: `+O+`
`+V+`
`+F)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(I===""||L==="")&&(q=!1);q&&(D.diagnostics={runnable:z,programLog:O,vertexShader:{log:I,prefix:v},fragmentShader:{log:L,prefix:b}})}i.deleteShader(j),i.deleteShader(A),N=new ej(i,g),T=H4e(i,g)}let N;this.getUniforms=function(){return N===void 0&&C(this),N};let T;this.getAttributes=function(){return T===void 0&&C(this),T};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(g,O4e)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=I4e++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=j,this.fragmentShader=A,this}let t5e=0;class n5e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new r5e(e),n.set(e,r)),r}}class r5e{constructor(e){this.id=t5e++,this.code=e,this.usedTimes=0}}function i5e(t,e,n,r,i,a,o){const l=new rae,c=new n5e,u=new Set,d=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let p=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(T){return u.add(T),T===0?"uv":`uv${T}`}function v(T,P,D,O,I){const L=O.fog,z=I.geometry,q=T.isMeshStandardMaterial?O.environment:null,V=(T.isMeshStandardMaterial?n:e).get(T.envMap||q),F=V&&V.mapping===zN?V.image.height:null,U=y[T.type];T.precision!==null&&(p=i.getMaxPrecision(T.precision),p!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",p,"instead."));const H=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,$=H!==void 0?H.length:0;let W=0;z.morphAttributes.position!==void 0&&(W=1),z.morphAttributes.normal!==void 0&&(W=2),z.morphAttributes.color!==void 0&&(W=3);let le,ie,re,_e;if(U){const at=Sc[U];le=at.vertexShader,ie=at.fragmentShader}else le=T.vertexShader,ie=T.fragmentShader,c.update(T),re=c.getVertexShaderID(T),_e=c.getFragmentShaderID(T);const pe=t.getRenderTarget(),Ne=t.state.buffers.depth.getReversed(),je=I.isInstancedMesh===!0,Oe=I.isBatchedMesh===!0,Ge=!!T.map,Pe=!!T.matcap,Fe=!!V,Y=!!T.aoMap,Ie=!!T.lightMap,Xe=!!T.bumpMap,ue=!!T.normalMap,Be=!!T.displacementMap,rt=!!T.emissiveMap,me=!!T.metalnessMap,X=!!T.roughnessMap,G=T.anisotropy>0,de=T.clearcoat>0,fe=T.dispersion>0,ne=T.iridescence>0,J=T.sheen>0,ve=T.transmission>0,be=G&&!!T.anisotropyMap,Ve=de&&!!T.clearcoatMap,Qe=de&&!!T.clearcoatNormalMap,We=de&&!!T.clearcoatRoughnessMap,xe=ne&&!!T.iridescenceMap,Te=ne&&!!T.iridescenceThicknessMap,te=J&&!!T.sheenColorMap,oe=J&&!!T.sheenRoughnessMap,K=!!T.specularMap,ae=!!T.specularColorMap,Re=!!T.specularIntensityMap,Z=ve&&!!T.transmissionMap,Me=ve&&!!T.thicknessMap,ye=!!T.gradientMap,Ae=!!T.alphaMap,Ue=T.alphaTest>0,Je=!!T.alphaHash,Ke=!!T.extensions;let lt=If;T.toneMapped&&(pe===null||pe.isXRRenderTarget===!0)&&(lt=t.toneMapping);const yt={shaderID:U,shaderType:T.type,shaderName:T.name,vertexShader:le,fragmentShader:ie,defines:T.defines,customVertexShaderID:re,customFragmentShaderID:_e,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:p,batching:Oe,batchingColor:Oe&&I._colorsTexture!==null,instancing:je,instancingColor:je&&I.instanceColor!==null,instancingMorph:je&&I.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:pe===null?t.outputColorSpace:pe.isXRRenderTarget===!0?pe.texture.colorSpace:Av,alphaToCoverage:!!T.alphaToCoverage,map:Ge,matcap:Pe,envMap:Fe,envMapMode:Fe&&V.mapping,envMapCubeUVHeight:F,aoMap:Y,lightMap:Ie,bumpMap:Xe,normalMap:ue,displacementMap:h&&Be,emissiveMap:rt,normalMapObjectSpace:ue&&T.normalMapType===iOe,normalMapTangentSpace:ue&&T.normalMapType===tF,metalnessMap:me,roughnessMap:X,anisotropy:G,anisotropyMap:be,clearcoat:de,clearcoatMap:Ve,clearcoatNormalMap:Qe,clearcoatRoughnessMap:We,dispersion:fe,iridescence:ne,iridescenceMap:xe,iridescenceThicknessMap:Te,sheen:J,sheenColorMap:te,sheenRoughnessMap:oe,specularMap:K,specularColorMap:ae,specularIntensityMap:Re,transmission:ve,transmissionMap:Z,thicknessMap:Me,gradientMap:ye,opaque:T.transparent===!1&&T.blending===Kg&&T.alphaToCoverage===!1,alphaMap:Ae,alphaTest:Ue,alphaHash:Je,combine:T.combine,mapUv:Ge&&g(T.map.channel),aoMapUv:Y&&g(T.aoMap.channel),lightMapUv:Ie&&g(T.lightMap.channel),bumpMapUv:Xe&&g(T.bumpMap.channel),normalMapUv:ue&&g(T.normalMap.channel),displacementMapUv:Be&&g(T.displacementMap.channel),emissiveMapUv:rt&&g(T.emissiveMap.channel),metalnessMapUv:me&&g(T.metalnessMap.channel),roughnessMapUv:X&&g(T.roughnessMap.channel),anisotropyMapUv:be&&g(T.anisotropyMap.channel),clearcoatMapUv:Ve&&g(T.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&g(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&g(T.clearcoatRoughnessMap.channel),iridescenceMapUv:xe&&g(T.iridescenceMap.channel),iridescenceThicknessMapUv:Te&&g(T.iridescenceThicknessMap.channel),sheenColorMapUv:te&&g(T.sheenColorMap.channel),sheenRoughnessMapUv:oe&&g(T.sheenRoughnessMap.channel),specularMapUv:K&&g(T.specularMap.channel),specularColorMapUv:ae&&g(T.specularColorMap.channel),specularIntensityMapUv:Re&&g(T.specularIntensityMap.channel),transmissionMapUv:Z&&g(T.transmissionMap.channel),thicknessMapUv:Me&&g(T.thicknessMap.channel),alphaMapUv:Ae&&g(T.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(ue||G),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,pointsUvs:I.isPoints===!0&&!!z.attributes.uv&&(Ge||Ae),fog:!!L,useFog:T.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Ne,skinning:I.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:W,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&D.length>0,shadowMapType:t.shadowMap.type,toneMapping:lt,decodeVideoTexture:Ge&&T.map.isVideoTexture===!0&&Gn.getTransfer(T.map.colorSpace)===or,decodeVideoTextureEmissive:rt&&T.emissiveMap.isVideoTexture===!0&&Gn.getTransfer(T.emissiveMap.colorSpace)===or,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Cc,flipSided:T.side===Fa,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:Ke&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ke&&T.extensions.multiDraw===!0||Oe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return yt.vertexUv1s=u.has(1),yt.vertexUv2s=u.has(2),yt.vertexUv3s=u.has(3),u.clear(),yt}function b(T){const P=[];if(T.shaderID?P.push(T.shaderID):(P.push(T.customVertexShaderID),P.push(T.customFragmentShaderID)),T.defines!==void 0)for(const D in T.defines)P.push(D),P.push(T.defines[D]);return T.isRawShaderMaterial===!1&&(w(P,T),_(P,T),P.push(t.outputColorSpace)),P.push(T.customProgramCacheKey),P.join()}function w(T,P){T.push(P.precision),T.push(P.outputColorSpace),T.push(P.envMapMode),T.push(P.envMapCubeUVHeight),T.push(P.mapUv),T.push(P.alphaMapUv),T.push(P.lightMapUv),T.push(P.aoMapUv),T.push(P.bumpMapUv),T.push(P.normalMapUv),T.push(P.displacementMapUv),T.push(P.emissiveMapUv),T.push(P.metalnessMapUv),T.push(P.roughnessMapUv),T.push(P.anisotropyMapUv),T.push(P.clearcoatMapUv),T.push(P.clearcoatNormalMapUv),T.push(P.clearcoatRoughnessMapUv),T.push(P.iridescenceMapUv),T.push(P.iridescenceThicknessMapUv),T.push(P.sheenColorMapUv),T.push(P.sheenRoughnessMapUv),T.push(P.specularMapUv),T.push(P.specularColorMapUv),T.push(P.specularIntensityMapUv),T.push(P.transmissionMapUv),T.push(P.thicknessMapUv),T.push(P.combine),T.push(P.fogExp2),T.push(P.sizeAttenuation),T.push(P.morphTargetsCount),T.push(P.morphAttributeCount),T.push(P.numDirLights),T.push(P.numPointLights),T.push(P.numSpotLights),T.push(P.numSpotLightMaps),T.push(P.numHemiLights),T.push(P.numRectAreaLights),T.push(P.numDirLightShadows),T.push(P.numPointLightShadows),T.push(P.numSpotLightShadows),T.push(P.numSpotLightShadowsWithMaps),T.push(P.numLightProbes),T.push(P.shadowMapType),T.push(P.toneMapping),T.push(P.numClippingPlanes),T.push(P.numClipIntersection),T.push(P.depthPacking)}function _(T,P){l.disableAll(),P.supportsVertexTextures&&l.enable(0),P.instancing&&l.enable(1),P.instancingColor&&l.enable(2),P.instancingMorph&&l.enable(3),P.matcap&&l.enable(4),P.envMap&&l.enable(5),P.normalMapObjectSpace&&l.enable(6),P.normalMapTangentSpace&&l.enable(7),P.clearcoat&&l.enable(8),P.iridescence&&l.enable(9),P.alphaTest&&l.enable(10),P.vertexColors&&l.enable(11),P.vertexAlphas&&l.enable(12),P.vertexUv1s&&l.enable(13),P.vertexUv2s&&l.enable(14),P.vertexUv3s&&l.enable(15),P.vertexTangents&&l.enable(16),P.anisotropy&&l.enable(17),P.alphaHash&&l.enable(18),P.batching&&l.enable(19),P.dispersion&&l.enable(20),P.batchingColor&&l.enable(21),T.push(l.mask),l.disableAll(),P.fog&&l.enable(0),P.useFog&&l.enable(1),P.flatShading&&l.enable(2),P.logarithmicDepthBuffer&&l.enable(3),P.reverseDepthBuffer&&l.enable(4),P.skinning&&l.enable(5),P.morphTargets&&l.enable(6),P.morphNormals&&l.enable(7),P.morphColors&&l.enable(8),P.premultipliedAlpha&&l.enable(9),P.shadowMapEnabled&&l.enable(10),P.doubleSided&&l.enable(11),P.flipSided&&l.enable(12),P.useDepthPacking&&l.enable(13),P.dithering&&l.enable(14),P.transmission&&l.enable(15),P.sheen&&l.enable(16),P.opaque&&l.enable(17),P.pointsUvs&&l.enable(18),P.decodeVideoTexture&&l.enable(19),P.decodeVideoTextureEmissive&&l.enable(20),P.alphaToCoverage&&l.enable(21),T.push(l.mask)}function S(T){const P=y[T.type];let D;if(P){const O=Sc[P];D=QOe.clone(O.uniforms)}else D=T.uniforms;return D}function j(T,P){let D;for(let O=0,I=d.length;O<I;O++){const L=d[O];if(L.cacheKey===P){D=L,++D.usedTimes;break}}return D===void 0&&(D=new e5e(t,P,T,a),d.push(D)),D}function A(T){if(--T.usedTimes===0){const P=d.indexOf(T);d[P]=d[d.length-1],d.pop(),T.destroy()}}function C(T){c.remove(T)}function N(){c.dispose()}return{getParameters:v,getProgramCacheKey:b,getUniforms:S,acquireProgram:j,releaseProgram:A,releaseShaderCache:C,programs:d,dispose:N}}function s5e(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function r(o){t.delete(o)}function i(o,l,c){t.get(o)[l]=c}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function a5e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function NV(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function AV(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,p,y,g,v){let b=t[e];return b===void 0?(b={id:f.id,object:f,geometry:h,material:p,groupOrder:y,renderOrder:f.renderOrder,z:g,group:v},t[e]=b):(b.id=f.id,b.object=f,b.geometry=h,b.material=p,b.groupOrder=y,b.renderOrder=f.renderOrder,b.z=g,b.group=v),e++,b}function l(f,h,p,y,g,v){const b=o(f,h,p,y,g,v);p.transmission>0?r.push(b):p.transparent===!0?i.push(b):n.push(b)}function c(f,h,p,y,g,v){const b=o(f,h,p,y,g,v);p.transmission>0?r.unshift(b):p.transparent===!0?i.unshift(b):n.unshift(b)}function u(f,h){n.length>1&&n.sort(f||a5e),r.length>1&&r.sort(h||NV),i.length>1&&i.sort(h||NV)}function d(){for(let f=e,h=t.length;f<h;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:l,unshift:c,finish:d,sort:u}}function o5e(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new AV,t.set(r,[o])):i>=a.length?(o=new AV,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function l5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ze,color:new rn};break;case"SpotLight":n={position:new ze,direction:new ze,color:new rn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ze,color:new rn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ze,skyColor:new rn,groundColor:new rn};break;case"RectAreaLight":n={color:new rn,position:new ze,halfWidth:new ze,halfHeight:new ze};break}return t[e.id]=n,n}}}function c5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ln,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let u5e=0;function d5e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function f5e(t){const e=new l5e,n=c5e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ze);const i=new ze,a=new bn,o=new bn;function l(u){let d=0,f=0,h=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let p=0,y=0,g=0,v=0,b=0,w=0,_=0,S=0,j=0,A=0,C=0;u.sort(d5e);for(let T=0,P=u.length;T<P;T++){const D=u[T],O=D.color,I=D.intensity,L=D.distance,z=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=O.r*I,f+=O.g*I,h+=O.b*I;else if(D.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(D.sh.coefficients[q],I);C++}else if(D.isDirectionalLight){const q=e.get(D);if(q.color.copy(D.color).multiplyScalar(D.intensity),D.castShadow){const V=D.shadow,F=n.get(D);F.shadowIntensity=V.intensity,F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,r.directionalShadow[p]=F,r.directionalShadowMap[p]=z,r.directionalShadowMatrix[p]=D.shadow.matrix,w++}r.directional[p]=q,p++}else if(D.isSpotLight){const q=e.get(D);q.position.setFromMatrixPosition(D.matrixWorld),q.color.copy(O).multiplyScalar(I),q.distance=L,q.coneCos=Math.cos(D.angle),q.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),q.decay=D.decay,r.spot[g]=q;const V=D.shadow;if(D.map&&(r.spotLightMap[j]=D.map,j++,V.updateMatrices(D),D.castShadow&&A++),r.spotLightMatrix[g]=V.matrix,D.castShadow){const F=n.get(D);F.shadowIntensity=V.intensity,F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,r.spotShadow[g]=F,r.spotShadowMap[g]=z,S++}g++}else if(D.isRectAreaLight){const q=e.get(D);q.color.copy(O).multiplyScalar(I),q.halfWidth.set(D.width*.5,0,0),q.halfHeight.set(0,D.height*.5,0),r.rectArea[v]=q,v++}else if(D.isPointLight){const q=e.get(D);if(q.color.copy(D.color).multiplyScalar(D.intensity),q.distance=D.distance,q.decay=D.decay,D.castShadow){const V=D.shadow,F=n.get(D);F.shadowIntensity=V.intensity,F.shadowBias=V.bias,F.shadowNormalBias=V.normalBias,F.shadowRadius=V.radius,F.shadowMapSize=V.mapSize,F.shadowCameraNear=V.camera.near,F.shadowCameraFar=V.camera.far,r.pointShadow[y]=F,r.pointShadowMap[y]=z,r.pointShadowMatrix[y]=D.shadow.matrix,_++}r.point[y]=q,y++}else if(D.isHemisphereLight){const q=e.get(D);q.skyColor.copy(D.color).multiplyScalar(I),q.groundColor.copy(D.groundColor).multiplyScalar(I),r.hemi[b]=q,b++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Dt.LTC_FLOAT_1,r.rectAreaLTC2=Dt.LTC_FLOAT_2):(r.rectAreaLTC1=Dt.LTC_HALF_1,r.rectAreaLTC2=Dt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=h;const N=r.hash;(N.directionalLength!==p||N.pointLength!==y||N.spotLength!==g||N.rectAreaLength!==v||N.hemiLength!==b||N.numDirectionalShadows!==w||N.numPointShadows!==_||N.numSpotShadows!==S||N.numSpotMaps!==j||N.numLightProbes!==C)&&(r.directional.length=p,r.spot.length=g,r.rectArea.length=v,r.point.length=y,r.hemi.length=b,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=S+j-A,r.spotLightMap.length=j,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=C,N.directionalLength=p,N.pointLength=y,N.spotLength=g,N.rectAreaLength=v,N.hemiLength=b,N.numDirectionalShadows=w,N.numPointShadows=_,N.numSpotShadows=S,N.numSpotMaps=j,N.numLightProbes=C,r.version=u5e++)}function c(u,d){let f=0,h=0,p=0,y=0,g=0;const v=d.matrixWorldInverse;for(let b=0,w=u.length;b<w;b++){const _=u[b];if(_.isDirectionalLight){const S=r.directional[f];S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),f++}else if(_.isSpotLight){const S=r.spot[p];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),p++}else if(_.isRectAreaLight){const S=r.rectArea[y];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),o.identity(),a.copy(_.matrixWorld),a.premultiply(v),o.extractRotation(a),S.halfWidth.set(_.width*.5,0,0),S.halfHeight.set(0,_.height*.5,0),S.halfWidth.applyMatrix4(o),S.halfHeight.applyMatrix4(o),y++}else if(_.isPointLight){const S=r.point[h];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),h++}else if(_.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(v),g++}}}return{setup:l,setupView:c,state:r}}function CV(t){const e=new f5e(t),n=[],r=[];function i(d){u.camera=d,n.length=0,r.length=0}function a(d){n.push(d)}function o(d){r.push(d)}function l(){e.setup(n)}function c(d){e.setupView(n,d)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function h5e(t){let e=new WeakMap;function n(i,a=0){const o=e.get(i);let l;return o===void 0?(l=new CV(t),e.set(i,[l])):a>=o.length?(l=new CV(t),o.push(l)):l=o[a],l}function r(){e=new WeakMap}return{get:n,dispose:r}}const p5e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,m5e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function g5e(t,e,n){let r=new oF;const i=new ln,a=new ln,o=new Xn,l=new mIe({depthPacking:rOe}),c=new gIe,u={},d=n.maxTextureSize,f={[dd]:Fa,[Fa]:dd,[Cc]:Cc},h=new Kf({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ln},radius:{value:4}},vertexShader:p5e,fragmentShader:m5e}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const y=new lc;y.setAttribute("position",new Vs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new fa(y,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=zse;let b=this.type;this.render=function(A,C,N){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||A.length===0)return;const T=t.getRenderTarget(),P=t.getActiveCubeFace(),D=t.getActiveMipmapLevel(),O=t.state;O.setBlending(Of),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const I=b!==Ru&&this.type===Ru,L=b===Ru&&this.type!==Ru;for(let z=0,q=A.length;z<q;z++){const V=A[z],F=V.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const U=F.getFrameExtents();if(i.multiply(U),a.copy(F.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/U.x),i.x=a.x*U.x,F.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/U.y),i.y=a.y*U.y,F.mapSize.y=a.y)),F.map===null||I===!0||L===!0){const $=this.type!==Ru?{minFilter:Ua,magFilter:Ua}:{};F.map!==null&&F.map.dispose(),F.map=new Gp(i.x,i.y,$),F.map.texture.name=V.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const H=F.getViewportCount();for(let $=0;$<H;$++){const W=F.getViewport($);o.set(a.x*W.x,a.y*W.y,a.x*W.z,a.y*W.w),O.viewport(o),F.updateMatrices(V,$),r=F.getFrustum(),S(C,N,F.camera,V,this.type)}F.isPointLightShadow!==!0&&this.type===Ru&&w(F,N),F.needsUpdate=!1}b=this.type,v.needsUpdate=!1,t.setRenderTarget(T,P,D)};function w(A,C){const N=e.update(g);h.defines.VSM_SAMPLES!==A.blurSamples&&(h.defines.VSM_SAMPLES=A.blurSamples,p.defines.VSM_SAMPLES=A.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new Gp(i.x,i.y)),h.uniforms.shadow_pass.value=A.map.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(C,null,N,h,g,null),p.uniforms.shadow_pass.value=A.mapPass.texture,p.uniforms.resolution.value=A.mapSize,p.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(C,null,N,p,g,null)}function _(A,C,N,T){let P=null;const D=N.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(D!==void 0)P=D;else if(P=N.isPointLight===!0?c:l,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0||C.alphaToCoverage===!0){const O=P.uuid,I=C.uuid;let L=u[O];L===void 0&&(L={},u[O]=L);let z=L[I];z===void 0&&(z=P.clone(),L[I]=z,C.addEventListener("dispose",j)),P=z}if(P.visible=C.visible,P.wireframe=C.wireframe,T===Ru?P.side=C.shadowSide!==null?C.shadowSide:C.side:P.side=C.shadowSide!==null?C.shadowSide:f[C.side],P.alphaMap=C.alphaMap,P.alphaTest=C.alphaToCoverage===!0?.5:C.alphaTest,P.map=C.map,P.clipShadows=C.clipShadows,P.clippingPlanes=C.clippingPlanes,P.clipIntersection=C.clipIntersection,P.displacementMap=C.displacementMap,P.displacementScale=C.displacementScale,P.displacementBias=C.displacementBias,P.wireframeLinewidth=C.wireframeLinewidth,P.linewidth=C.linewidth,N.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const O=t.properties.get(P);O.light=N}return P}function S(A,C,N,T,P){if(A.visible===!1)return;if(A.layers.test(C.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&P===Ru)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,A.matrixWorld);const I=e.update(A),L=A.material;if(Array.isArray(L)){const z=I.groups;for(let q=0,V=z.length;q<V;q++){const F=z[q],U=L[F.materialIndex];if(U&&U.visible){const H=_(A,U,T,P);A.onBeforeShadow(t,A,C,N,I,H,F),t.renderBufferDirect(N,null,I,H,A,F),A.onAfterShadow(t,A,C,N,I,H,F)}}}else if(L.visible){const z=_(A,L,T,P);A.onBeforeShadow(t,A,C,N,I,z,null),t.renderBufferDirect(N,null,I,z,A,null),A.onAfterShadow(t,A,C,N,I,z,null)}}const O=A.children;for(let I=0,L=O.length;I<L;I++)S(O[I],C,N,T,P)}function j(A){A.target.removeEventListener("dispose",j);for(const N in u){const T=u[N],P=A.target.uuid;P in T&&(T[P].dispose(),delete T[P])}}}const v5e={[Sk]:jk,[Ek]:Ck,[Nk]:Mk,[jv]:Ak,[jk]:Sk,[Ck]:Ek,[Mk]:Nk,[Ak]:jv};function x5e(t,e){function n(){let Z=!1;const Me=new Xn;let ye=null;const Ae=new Xn(0,0,0,0);return{setMask:function(Ue){ye!==Ue&&!Z&&(t.colorMask(Ue,Ue,Ue,Ue),ye=Ue)},setLocked:function(Ue){Z=Ue},setClear:function(Ue,Je,Ke,lt,yt){yt===!0&&(Ue*=lt,Je*=lt,Ke*=lt),Me.set(Ue,Je,Ke,lt),Ae.equals(Me)===!1&&(t.clearColor(Ue,Je,Ke,lt),Ae.copy(Me))},reset:function(){Z=!1,ye=null,Ae.set(-1,0,0,0)}}}function r(){let Z=!1,Me=!1,ye=null,Ae=null,Ue=null;return{setReversed:function(Je){if(Me!==Je){const Ke=e.get("EXT_clip_control");Je?Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.ZERO_TO_ONE_EXT):Ke.clipControlEXT(Ke.LOWER_LEFT_EXT,Ke.NEGATIVE_ONE_TO_ONE_EXT),Me=Je;const lt=Ue;Ue=null,this.setClear(lt)}},getReversed:function(){return Me},setTest:function(Je){Je?pe(t.DEPTH_TEST):Ne(t.DEPTH_TEST)},setMask:function(Je){ye!==Je&&!Z&&(t.depthMask(Je),ye=Je)},setFunc:function(Je){if(Me&&(Je=v5e[Je]),Ae!==Je){switch(Je){case Sk:t.depthFunc(t.NEVER);break;case jk:t.depthFunc(t.ALWAYS);break;case Ek:t.depthFunc(t.LESS);break;case jv:t.depthFunc(t.LEQUAL);break;case Nk:t.depthFunc(t.EQUAL);break;case Ak:t.depthFunc(t.GEQUAL);break;case Ck:t.depthFunc(t.GREATER);break;case Mk:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ae=Je}},setLocked:function(Je){Z=Je},setClear:function(Je){Ue!==Je&&(Me&&(Je=1-Je),t.clearDepth(Je),Ue=Je)},reset:function(){Z=!1,ye=null,Ae=null,Ue=null,Me=!1}}}function i(){let Z=!1,Me=null,ye=null,Ae=null,Ue=null,Je=null,Ke=null,lt=null,yt=null;return{setTest:function(at){Z||(at?pe(t.STENCIL_TEST):Ne(t.STENCIL_TEST))},setMask:function(at){Me!==at&&!Z&&(t.stencilMask(at),Me=at)},setFunc:function(at,vt,Ct){(ye!==at||Ae!==vt||Ue!==Ct)&&(t.stencilFunc(at,vt,Ct),ye=at,Ae=vt,Ue=Ct)},setOp:function(at,vt,Ct){(Je!==at||Ke!==vt||lt!==Ct)&&(t.stencilOp(at,vt,Ct),Je=at,Ke=vt,lt=Ct)},setLocked:function(at){Z=at},setClear:function(at){yt!==at&&(t.clearStencil(at),yt=at)},reset:function(){Z=!1,Me=null,ye=null,Ae=null,Ue=null,Je=null,Ke=null,lt=null,yt=null}}}const a=new n,o=new r,l=new i,c=new WeakMap,u=new WeakMap;let d={},f={},h=new WeakMap,p=[],y=null,g=!1,v=null,b=null,w=null,_=null,S=null,j=null,A=null,C=new rn(0,0,0),N=0,T=!1,P=null,D=null,O=null,I=null,L=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,V=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(F)[1]),q=V>=1):F.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),q=V>=2);let U=null,H={};const $=t.getParameter(t.SCISSOR_BOX),W=t.getParameter(t.VIEWPORT),le=new Xn().fromArray($),ie=new Xn().fromArray(W);function re(Z,Me,ye,Ae){const Ue=new Uint8Array(4),Je=t.createTexture();t.bindTexture(Z,Je),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ke=0;Ke<ye;Ke++)Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY?t.texImage3D(Me,0,t.RGBA,1,1,Ae,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(Me+Ke,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return Je}const _e={};_e[t.TEXTURE_2D]=re(t.TEXTURE_2D,t.TEXTURE_2D,1),_e[t.TEXTURE_CUBE_MAP]=re(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[t.TEXTURE_2D_ARRAY]=re(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),_e[t.TEXTURE_3D]=re(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),pe(t.DEPTH_TEST),o.setFunc(jv),Xe(!1),ue(d9),pe(t.CULL_FACE),Y(Of);function pe(Z){d[Z]!==!0&&(t.enable(Z),d[Z]=!0)}function Ne(Z){d[Z]!==!1&&(t.disable(Z),d[Z]=!1)}function je(Z,Me){return f[Z]!==Me?(t.bindFramebuffer(Z,Me),f[Z]=Me,Z===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=Me),Z===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=Me),!0):!1}function Oe(Z,Me){let ye=p,Ae=!1;if(Z){ye=h.get(Me),ye===void 0&&(ye=[],h.set(Me,ye));const Ue=Z.textures;if(ye.length!==Ue.length||ye[0]!==t.COLOR_ATTACHMENT0){for(let Je=0,Ke=Ue.length;Je<Ke;Je++)ye[Je]=t.COLOR_ATTACHMENT0+Je;ye.length=Ue.length,Ae=!0}}else ye[0]!==t.BACK&&(ye[0]=t.BACK,Ae=!0);Ae&&t.drawBuffers(ye)}function Ge(Z){return y!==Z?(t.useProgram(Z),y=Z,!0):!1}const Pe={[Xh]:t.FUNC_ADD,[ARe]:t.FUNC_SUBTRACT,[CRe]:t.FUNC_REVERSE_SUBTRACT};Pe[MRe]=t.MIN,Pe[TRe]=t.MAX;const Fe={[PRe]:t.ZERO,[DRe]:t.ONE,[RRe]:t.SRC_COLOR,[wk]:t.SRC_ALPHA,[URe]:t.SRC_ALPHA_SATURATE,[LRe]:t.DST_COLOR,[IRe]:t.DST_ALPHA,[ORe]:t.ONE_MINUS_SRC_COLOR,[_k]:t.ONE_MINUS_SRC_ALPHA,[FRe]:t.ONE_MINUS_DST_COLOR,[kRe]:t.ONE_MINUS_DST_ALPHA,[BRe]:t.CONSTANT_COLOR,[$Re]:t.ONE_MINUS_CONSTANT_COLOR,[zRe]:t.CONSTANT_ALPHA,[HRe]:t.ONE_MINUS_CONSTANT_ALPHA};function Y(Z,Me,ye,Ae,Ue,Je,Ke,lt,yt,at){if(Z===Of){g===!0&&(Ne(t.BLEND),g=!1);return}if(g===!1&&(pe(t.BLEND),g=!0),Z!==NRe){if(Z!==v||at!==T){if((b!==Xh||S!==Xh)&&(t.blendEquation(t.FUNC_ADD),b=Xh,S=Xh),at)switch(Z){case Kg:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f9:t.blendFunc(t.ONE,t.ONE);break;case h9:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case p9:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case Kg:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case f9:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case h9:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case p9:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}w=null,_=null,j=null,A=null,C.set(0,0,0),N=0,v=Z,T=at}return}Ue=Ue||Me,Je=Je||ye,Ke=Ke||Ae,(Me!==b||Ue!==S)&&(t.blendEquationSeparate(Pe[Me],Pe[Ue]),b=Me,S=Ue),(ye!==w||Ae!==_||Je!==j||Ke!==A)&&(t.blendFuncSeparate(Fe[ye],Fe[Ae],Fe[Je],Fe[Ke]),w=ye,_=Ae,j=Je,A=Ke),(lt.equals(C)===!1||yt!==N)&&(t.blendColor(lt.r,lt.g,lt.b,yt),C.copy(lt),N=yt),v=Z,T=!1}function Ie(Z,Me){Z.side===Cc?Ne(t.CULL_FACE):pe(t.CULL_FACE);let ye=Z.side===Fa;Me&&(ye=!ye),Xe(ye),Z.blending===Kg&&Z.transparent===!1?Y(Of):Y(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),o.setFunc(Z.depthFunc),o.setTest(Z.depthTest),o.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const Ae=Z.stencilWrite;l.setTest(Ae),Ae&&(l.setMask(Z.stencilWriteMask),l.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),l.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),rt(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?pe(t.SAMPLE_ALPHA_TO_COVERAGE):Ne(t.SAMPLE_ALPHA_TO_COVERAGE)}function Xe(Z){P!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),P=Z)}function ue(Z){Z!==jRe?(pe(t.CULL_FACE),Z!==D&&(Z===d9?t.cullFace(t.BACK):Z===ERe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ne(t.CULL_FACE),D=Z}function Be(Z){Z!==O&&(q&&t.lineWidth(Z),O=Z)}function rt(Z,Me,ye){Z?(pe(t.POLYGON_OFFSET_FILL),(I!==Me||L!==ye)&&(t.polygonOffset(Me,ye),I=Me,L=ye)):Ne(t.POLYGON_OFFSET_FILL)}function me(Z){Z?pe(t.SCISSOR_TEST):Ne(t.SCISSOR_TEST)}function X(Z){Z===void 0&&(Z=t.TEXTURE0+z-1),U!==Z&&(t.activeTexture(Z),U=Z)}function G(Z,Me,ye){ye===void 0&&(U===null?ye=t.TEXTURE0+z-1:ye=U);let Ae=H[ye];Ae===void 0&&(Ae={type:void 0,texture:void 0},H[ye]=Ae),(Ae.type!==Z||Ae.texture!==Me)&&(U!==ye&&(t.activeTexture(ye),U=ye),t.bindTexture(Z,Me||_e[Z]),Ae.type=Z,Ae.texture=Me)}function de(){const Z=H[U];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function fe(){try{t.compressedTexImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ne(){try{t.compressedTexImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function J(){try{t.texSubImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ve(){try{t.texSubImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function be(){try{t.compressedTexSubImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ve(){try{t.compressedTexSubImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Qe(){try{t.texStorage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function We(){try{t.texStorage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function xe(){try{t.texImage2D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Te(){try{t.texImage3D(...arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function te(Z){le.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),le.copy(Z))}function oe(Z){ie.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),ie.copy(Z))}function K(Z,Me){let ye=u.get(Me);ye===void 0&&(ye=new WeakMap,u.set(Me,ye));let Ae=ye.get(Z);Ae===void 0&&(Ae=t.getUniformBlockIndex(Me,Z.name),ye.set(Z,Ae))}function ae(Z,Me){const Ae=u.get(Me).get(Z);c.get(Me)!==Ae&&(t.uniformBlockBinding(Me,Ae,Z.__bindingPointIndex),c.set(Me,Ae))}function Re(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},U=null,H={},f={},h=new WeakMap,p=[],y=null,g=!1,v=null,b=null,w=null,_=null,S=null,j=null,A=null,C=new rn(0,0,0),N=0,T=!1,P=null,D=null,O=null,I=null,L=null,le.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:pe,disable:Ne,bindFramebuffer:je,drawBuffers:Oe,useProgram:Ge,setBlending:Y,setMaterial:Ie,setFlipSided:Xe,setCullFace:ue,setLineWidth:Be,setPolygonOffset:rt,setScissorTest:me,activeTexture:X,bindTexture:G,unbindTexture:de,compressedTexImage2D:fe,compressedTexImage3D:ne,texImage2D:xe,texImage3D:Te,updateUBOMapping:K,uniformBlockBinding:ae,texStorage2D:Qe,texStorage3D:We,texSubImage2D:J,texSubImage3D:ve,compressedTexSubImage2D:be,compressedTexSubImage3D:Ve,scissor:te,viewport:oe,reset:Re}}function y5e(t,e,n,r,i,a,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new ln,d=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(X,G){return p?new OffscreenCanvas(X,G):Eb("canvas")}function g(X,G,de){let fe=1;const ne=me(X);if((ne.width>de||ne.height>de)&&(fe=de/Math.max(ne.width,ne.height)),fe<1)if(typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&X instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&X instanceof ImageBitmap||typeof VideoFrame<"u"&&X instanceof VideoFrame){const J=Math.floor(fe*ne.width),ve=Math.floor(fe*ne.height);f===void 0&&(f=y(J,ve));const be=G?y(J,ve):f;return be.width=J,be.height=ve,be.getContext("2d").drawImage(X,0,0,J,ve),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+J+"x"+ve+")."),be}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),X;return X}function v(X){return X.generateMipmaps}function b(X){t.generateMipmap(X)}function w(X){return X.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?t.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(X,G,de,fe,ne=!1){if(X!==null){if(t[X]!==void 0)return t[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let J=G;if(G===t.RED&&(de===t.FLOAT&&(J=t.R32F),de===t.HALF_FLOAT&&(J=t.R16F),de===t.UNSIGNED_BYTE&&(J=t.R8)),G===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(J=t.R8UI),de===t.UNSIGNED_SHORT&&(J=t.R16UI),de===t.UNSIGNED_INT&&(J=t.R32UI),de===t.BYTE&&(J=t.R8I),de===t.SHORT&&(J=t.R16I),de===t.INT&&(J=t.R32I)),G===t.RG&&(de===t.FLOAT&&(J=t.RG32F),de===t.HALF_FLOAT&&(J=t.RG16F),de===t.UNSIGNED_BYTE&&(J=t.RG8)),G===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(J=t.RG8UI),de===t.UNSIGNED_SHORT&&(J=t.RG16UI),de===t.UNSIGNED_INT&&(J=t.RG32UI),de===t.BYTE&&(J=t.RG8I),de===t.SHORT&&(J=t.RG16I),de===t.INT&&(J=t.RG32I)),G===t.RGB_INTEGER&&(de===t.UNSIGNED_BYTE&&(J=t.RGB8UI),de===t.UNSIGNED_SHORT&&(J=t.RGB16UI),de===t.UNSIGNED_INT&&(J=t.RGB32UI),de===t.BYTE&&(J=t.RGB8I),de===t.SHORT&&(J=t.RGB16I),de===t.INT&&(J=t.RGB32I)),G===t.RGBA_INTEGER&&(de===t.UNSIGNED_BYTE&&(J=t.RGBA8UI),de===t.UNSIGNED_SHORT&&(J=t.RGBA16UI),de===t.UNSIGNED_INT&&(J=t.RGBA32UI),de===t.BYTE&&(J=t.RGBA8I),de===t.SHORT&&(J=t.RGBA16I),de===t.INT&&(J=t.RGBA32I)),G===t.RGB&&de===t.UNSIGNED_INT_5_9_9_9_REV&&(J=t.RGB9_E5),G===t.RGBA){const ve=ne?Yj:Gn.getTransfer(fe);de===t.FLOAT&&(J=t.RGBA32F),de===t.HALF_FLOAT&&(J=t.RGBA16F),de===t.UNSIGNED_BYTE&&(J=ve===or?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(J=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(J=t.RGB5_A1)}return(J===t.R16F||J===t.R32F||J===t.RG16F||J===t.RG32F||J===t.RGBA16F||J===t.RGBA32F)&&e.get("EXT_color_buffer_float"),J}function S(X,G){let de;return X?G===null||G===qp||G===bb?de=t.DEPTH24_STENCIL8:G===Vl?de=t.DEPTH32F_STENCIL8:G===yb&&(de=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===qp||G===bb?de=t.DEPTH_COMPONENT24:G===Vl?de=t.DEPTH_COMPONENT32F:G===yb&&(de=t.DEPTH_COMPONENT16),de}function j(X,G){return v(X)===!0||X.isFramebufferTexture&&X.minFilter!==Ua&&X.minFilter!==Jo?Math.log2(Math.max(G.width,G.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?G.mipmaps.length:1}function A(X){const G=X.target;G.removeEventListener("dispose",A),N(G),G.isVideoTexture&&d.delete(G)}function C(X){const G=X.target;G.removeEventListener("dispose",C),P(G)}function N(X){const G=r.get(X);if(G.__webglInit===void 0)return;const de=X.source,fe=h.get(de);if(fe){const ne=fe[G.__cacheKey];ne.usedTimes--,ne.usedTimes===0&&T(X),Object.keys(fe).length===0&&h.delete(de)}r.remove(X)}function T(X){const G=r.get(X);t.deleteTexture(G.__webglTexture);const de=X.source,fe=h.get(de);delete fe[G.__cacheKey],o.memory.textures--}function P(X){const G=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(G.__webglFramebuffer[fe]))for(let ne=0;ne<G.__webglFramebuffer[fe].length;ne++)t.deleteFramebuffer(G.__webglFramebuffer[fe][ne]);else t.deleteFramebuffer(G.__webglFramebuffer[fe]);G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer[fe])}else{if(Array.isArray(G.__webglFramebuffer))for(let fe=0;fe<G.__webglFramebuffer.length;fe++)t.deleteFramebuffer(G.__webglFramebuffer[fe]);else t.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&t.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let fe=0;fe<G.__webglColorRenderbuffer.length;fe++)G.__webglColorRenderbuffer[fe]&&t.deleteRenderbuffer(G.__webglColorRenderbuffer[fe]);G.__webglDepthRenderbuffer&&t.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const de=X.textures;for(let fe=0,ne=de.length;fe<ne;fe++){const J=r.get(de[fe]);J.__webglTexture&&(t.deleteTexture(J.__webglTexture),o.memory.textures--),r.remove(de[fe])}r.remove(X)}let D=0;function O(){D=0}function I(){const X=D;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),D+=1,X}function L(X){const G=[];return G.push(X.wrapS),G.push(X.wrapT),G.push(X.wrapR||0),G.push(X.magFilter),G.push(X.minFilter),G.push(X.anisotropy),G.push(X.internalFormat),G.push(X.format),G.push(X.type),G.push(X.generateMipmaps),G.push(X.premultiplyAlpha),G.push(X.flipY),G.push(X.unpackAlignment),G.push(X.colorSpace),G.join()}function z(X,G){const de=r.get(X);if(X.isVideoTexture&&Be(X),X.isRenderTargetTexture===!1&&X.version>0&&de.__version!==X.version){const fe=X.image;if(fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(de,X,G);return}}n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+G)}function q(X,G){const de=r.get(X);if(X.version>0&&de.__version!==X.version){ie(de,X,G);return}n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+G)}function V(X,G){const de=r.get(X);if(X.version>0&&de.__version!==X.version){ie(de,X,G);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+G)}function F(X,G){const de=r.get(X);if(X.version>0&&de.__version!==X.version){re(de,X,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+G)}const U={[Yf]:t.REPEAT,[bf]:t.CLAMP_TO_EDGE,[Xj]:t.MIRRORED_REPEAT},H={[Ua]:t.NEAREST,[qse]:t.NEAREST_MIPMAP_NEAREST,[f0]:t.NEAREST_MIPMAP_LINEAR,[Jo]:t.LINEAR,[WS]:t.LINEAR_MIPMAP_NEAREST,[Vu]:t.LINEAR_MIPMAP_LINEAR},$={[sOe]:t.NEVER,[dOe]:t.ALWAYS,[aOe]:t.LESS,[eae]:t.LEQUAL,[oOe]:t.EQUAL,[uOe]:t.GEQUAL,[lOe]:t.GREATER,[cOe]:t.NOTEQUAL};function W(X,G){if(G.type===Vl&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===Jo||G.magFilter===WS||G.magFilter===f0||G.magFilter===Vu||G.minFilter===Jo||G.minFilter===WS||G.minFilter===f0||G.minFilter===Vu)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(X,t.TEXTURE_WRAP_S,U[G.wrapS]),t.texParameteri(X,t.TEXTURE_WRAP_T,U[G.wrapT]),(X===t.TEXTURE_3D||X===t.TEXTURE_2D_ARRAY)&&t.texParameteri(X,t.TEXTURE_WRAP_R,U[G.wrapR]),t.texParameteri(X,t.TEXTURE_MAG_FILTER,H[G.magFilter]),t.texParameteri(X,t.TEXTURE_MIN_FILTER,H[G.minFilter]),G.compareFunction&&(t.texParameteri(X,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(X,t.TEXTURE_COMPARE_FUNC,$[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===Ua||G.minFilter!==f0&&G.minFilter!==Vu||G.type===Vl&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||r.get(G).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf(X,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy}}}function le(X,G){let de=!1;X.__webglInit===void 0&&(X.__webglInit=!0,G.addEventListener("dispose",A));const fe=G.source;let ne=h.get(fe);ne===void 0&&(ne={},h.set(fe,ne));const J=L(G);if(J!==X.__cacheKey){ne[J]===void 0&&(ne[J]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,de=!0),ne[J].usedTimes++;const ve=ne[X.__cacheKey];ve!==void 0&&(ne[X.__cacheKey].usedTimes--,ve.usedTimes===0&&T(G)),X.__cacheKey=J,X.__webglTexture=ne[J].texture}return de}function ie(X,G,de){let fe=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(fe=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(fe=t.TEXTURE_3D);const ne=le(X,G),J=G.source;n.bindTexture(fe,X.__webglTexture,t.TEXTURE0+de);const ve=r.get(J);if(J.version!==ve.__version||ne===!0){n.activeTexture(t.TEXTURE0+de);const be=Gn.getPrimaries(Gn.workingColorSpace),Ve=G.colorSpace===uf?null:Gn.getPrimaries(G.colorSpace),Qe=G.colorSpace===uf||be===Ve?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);let We=g(G.image,!1,i.maxTextureSize);We=rt(G,We);const xe=a.convert(G.format,G.colorSpace),Te=a.convert(G.type);let te=_(G.internalFormat,xe,Te,G.colorSpace,G.isVideoTexture);W(fe,G);let oe;const K=G.mipmaps,ae=G.isVideoTexture!==!0,Re=ve.__version===void 0||ne===!0,Z=J.dataReady,Me=j(G,We);if(G.isDepthTexture)te=S(G.format===_b,G.type),Re&&(ae?n.texStorage2D(t.TEXTURE_2D,1,te,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,te,We.width,We.height,0,xe,Te,null));else if(G.isDataTexture)if(K.length>0){ae&&Re&&n.texStorage2D(t.TEXTURE_2D,Me,te,K[0].width,K[0].height);for(let ye=0,Ae=K.length;ye<Ae;ye++)oe=K[ye],ae?Z&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,oe.width,oe.height,xe,Te,oe.data):n.texImage2D(t.TEXTURE_2D,ye,te,oe.width,oe.height,0,xe,Te,oe.data);G.generateMipmaps=!1}else ae?(Re&&n.texStorage2D(t.TEXTURE_2D,Me,te,We.width,We.height),Z&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,We.width,We.height,xe,Te,We.data)):n.texImage2D(t.TEXTURE_2D,0,te,We.width,We.height,0,xe,Te,We.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){ae&&Re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Me,te,K[0].width,K[0].height,We.depth);for(let ye=0,Ae=K.length;ye<Ae;ye++)if(oe=K[ye],G.format!==el)if(xe!==null)if(ae){if(Z)if(G.layerUpdates.size>0){const Ue=iV(oe.width,oe.height,G.format,G.type);for(const Je of G.layerUpdates){const Ke=oe.data.subarray(Je*Ue/oe.data.BYTES_PER_ELEMENT,(Je+1)*Ue/oe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,Je,oe.width,oe.height,1,xe,Ke)}G.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,oe.width,oe.height,We.depth,xe,oe.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ye,te,oe.width,oe.height,We.depth,0,oe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ae?Z&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ye,0,0,0,oe.width,oe.height,We.depth,xe,Te,oe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ye,te,oe.width,oe.height,We.depth,0,xe,Te,oe.data)}else{ae&&Re&&n.texStorage2D(t.TEXTURE_2D,Me,te,K[0].width,K[0].height);for(let ye=0,Ae=K.length;ye<Ae;ye++)oe=K[ye],G.format!==el?xe!==null?ae?Z&&n.compressedTexSubImage2D(t.TEXTURE_2D,ye,0,0,oe.width,oe.height,xe,oe.data):n.compressedTexImage2D(t.TEXTURE_2D,ye,te,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ae?Z&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,oe.width,oe.height,xe,Te,oe.data):n.texImage2D(t.TEXTURE_2D,ye,te,oe.width,oe.height,0,xe,Te,oe.data)}else if(G.isDataArrayTexture)if(ae){if(Re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Me,te,We.width,We.height,We.depth),Z)if(G.layerUpdates.size>0){const ye=iV(We.width,We.height,G.format,G.type);for(const Ae of G.layerUpdates){const Ue=We.data.subarray(Ae*ye/We.data.BYTES_PER_ELEMENT,(Ae+1)*ye/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ae,We.width,We.height,1,xe,Te,Ue)}G.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,xe,Te,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,te,We.width,We.height,We.depth,0,xe,Te,We.data);else if(G.isData3DTexture)ae?(Re&&n.texStorage3D(t.TEXTURE_3D,Me,te,We.width,We.height,We.depth),Z&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,xe,Te,We.data)):n.texImage3D(t.TEXTURE_3D,0,te,We.width,We.height,We.depth,0,xe,Te,We.data);else if(G.isFramebufferTexture){if(Re)if(ae)n.texStorage2D(t.TEXTURE_2D,Me,te,We.width,We.height);else{let ye=We.width,Ae=We.height;for(let Ue=0;Ue<Me;Ue++)n.texImage2D(t.TEXTURE_2D,Ue,te,ye,Ae,0,xe,Te,null),ye>>=1,Ae>>=1}}else if(K.length>0){if(ae&&Re){const ye=me(K[0]);n.texStorage2D(t.TEXTURE_2D,Me,te,ye.width,ye.height)}for(let ye=0,Ae=K.length;ye<Ae;ye++)oe=K[ye],ae?Z&&n.texSubImage2D(t.TEXTURE_2D,ye,0,0,xe,Te,oe):n.texImage2D(t.TEXTURE_2D,ye,te,xe,Te,oe);G.generateMipmaps=!1}else if(ae){if(Re){const ye=me(We);n.texStorage2D(t.TEXTURE_2D,Me,te,ye.width,ye.height)}Z&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,xe,Te,We)}else n.texImage2D(t.TEXTURE_2D,0,te,xe,Te,We);v(G)&&b(fe),ve.__version=J.version,G.onUpdate&&G.onUpdate(G)}X.__version=G.version}function re(X,G,de){if(G.image.length!==6)return;const fe=le(X,G),ne=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,X.__webglTexture,t.TEXTURE0+de);const J=r.get(ne);if(ne.version!==J.__version||fe===!0){n.activeTexture(t.TEXTURE0+de);const ve=Gn.getPrimaries(Gn.workingColorSpace),be=G.colorSpace===uf?null:Gn.getPrimaries(G.colorSpace),Ve=G.colorSpace===uf||ve===be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ve);const Qe=G.isCompressedTexture||G.image[0].isCompressedTexture,We=G.image[0]&&G.image[0].isDataTexture,xe=[];for(let Ae=0;Ae<6;Ae++)!Qe&&!We?xe[Ae]=g(G.image[Ae],!0,i.maxCubemapSize):xe[Ae]=We?G.image[Ae].image:G.image[Ae],xe[Ae]=rt(G,xe[Ae]);const Te=xe[0],te=a.convert(G.format,G.colorSpace),oe=a.convert(G.type),K=_(G.internalFormat,te,oe,G.colorSpace),ae=G.isVideoTexture!==!0,Re=J.__version===void 0||fe===!0,Z=ne.dataReady;let Me=j(G,Te);W(t.TEXTURE_CUBE_MAP,G);let ye;if(Qe){ae&&Re&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Me,K,Te.width,Te.height);for(let Ae=0;Ae<6;Ae++){ye=xe[Ae].mipmaps;for(let Ue=0;Ue<ye.length;Ue++){const Je=ye[Ue];G.format!==el?te!==null?ae?Z&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,0,0,Je.width,Je.height,te,Je.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,K,Je.width,Je.height,0,Je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,0,0,Je.width,Je.height,te,oe,Je.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue,K,Je.width,Je.height,0,te,oe,Je.data)}}}else{if(ye=G.mipmaps,ae&&Re){ye.length>0&&Me++;const Ae=me(xe[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Me,K,Ae.width,Ae.height)}for(let Ae=0;Ae<6;Ae++)if(We){ae?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,xe[Ae].width,xe[Ae].height,te,oe,xe[Ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,K,xe[Ae].width,xe[Ae].height,0,te,oe,xe[Ae].data);for(let Ue=0;Ue<ye.length;Ue++){const Ke=ye[Ue].image[Ae].image;ae?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,0,0,Ke.width,Ke.height,te,oe,Ke.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,K,Ke.width,Ke.height,0,te,oe,Ke.data)}}else{ae?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,0,0,te,oe,xe[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,0,K,te,oe,xe[Ae]);for(let Ue=0;Ue<ye.length;Ue++){const Je=ye[Ue];ae?Z&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,0,0,te,oe,Je.image[Ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,Ue+1,K,te,oe,Je.image[Ae])}}}v(G)&&b(t.TEXTURE_CUBE_MAP),J.__version=ne.version,G.onUpdate&&G.onUpdate(G)}X.__version=G.version}function _e(X,G,de,fe,ne,J){const ve=a.convert(de.format,de.colorSpace),be=a.convert(de.type),Ve=_(de.internalFormat,ve,be,de.colorSpace),Qe=r.get(G),We=r.get(de);if(We.__renderTarget=G,!Qe.__hasExternalTextures){const xe=Math.max(1,G.width>>J),Te=Math.max(1,G.height>>J);ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY?n.texImage3D(ne,J,Ve,xe,Te,G.depth,0,ve,be,null):n.texImage2D(ne,J,Ve,xe,Te,0,ve,be,null)}n.bindFramebuffer(t.FRAMEBUFFER,X),ue(G)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,fe,ne,We.__webglTexture,0,Xe(G)):(ne===t.TEXTURE_2D||ne>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ne<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,fe,ne,We.__webglTexture,J),n.bindFramebuffer(t.FRAMEBUFFER,null)}function pe(X,G,de){if(t.bindRenderbuffer(t.RENDERBUFFER,X),G.depthBuffer){const fe=G.depthTexture,ne=fe&&fe.isDepthTexture?fe.type:null,J=S(G.stencilBuffer,ne),ve=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,be=Xe(G);ue(G)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,J,G.width,G.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,J,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,J,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ve,t.RENDERBUFFER,X)}else{const fe=G.textures;for(let ne=0;ne<fe.length;ne++){const J=fe[ne],ve=a.convert(J.format,J.colorSpace),be=a.convert(J.type),Ve=_(J.internalFormat,ve,be,J.colorSpace),Qe=Xe(G);de&&ue(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Qe,Ve,G.width,G.height):ue(G)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Qe,Ve,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,Ve,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(X,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,X),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const fe=r.get(G.depthTexture);fe.__renderTarget=G,(!fe.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),z(G.depthTexture,0);const ne=fe.__webglTexture,J=Xe(G);if(G.depthTexture.format===wb)ue(G)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ne,0,J):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ne,0);else if(G.depthTexture.format===_b)ue(G)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ne,0,J):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ne,0);else throw new Error("Unknown depthTexture format")}function je(X){const G=r.get(X),de=X.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==X.depthTexture){const fe=X.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),fe){const ne=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,fe.removeEventListener("dispose",ne)};fe.addEventListener("dispose",ne),G.__depthDisposeCallback=ne}G.__boundDepthTexture=fe}if(X.depthTexture&&!G.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");const fe=X.texture.mipmaps;fe&&fe.length>0?Ne(G.__webglFramebuffer[0],X):Ne(G.__webglFramebuffer,X)}else if(de){G.__webglDepthbuffer=[];for(let fe=0;fe<6;fe++)if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[fe]),G.__webglDepthbuffer[fe]===void 0)G.__webglDepthbuffer[fe]=t.createRenderbuffer(),pe(G.__webglDepthbuffer[fe],X,!1);else{const ne=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,J=G.__webglDepthbuffer[fe];t.bindRenderbuffer(t.RENDERBUFFER,J),t.framebufferRenderbuffer(t.FRAMEBUFFER,ne,t.RENDERBUFFER,J)}}else{const fe=X.texture.mipmaps;if(fe&&fe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=t.createRenderbuffer(),pe(G.__webglDepthbuffer,X,!1);else{const ne=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,J=G.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,J),t.framebufferRenderbuffer(t.FRAMEBUFFER,ne,t.RENDERBUFFER,J)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(X,G,de){const fe=r.get(X);G!==void 0&&_e(fe.__webglFramebuffer,X,X.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&je(X)}function Ge(X){const G=X.texture,de=r.get(X),fe=r.get(G);X.addEventListener("dispose",C);const ne=X.textures,J=X.isWebGLCubeRenderTarget===!0,ve=ne.length>1;if(ve||(fe.__webglTexture===void 0&&(fe.__webglTexture=t.createTexture()),fe.__version=G.version,o.memory.textures++),J){de.__webglFramebuffer=[];for(let be=0;be<6;be++)if(G.mipmaps&&G.mipmaps.length>0){de.__webglFramebuffer[be]=[];for(let Ve=0;Ve<G.mipmaps.length;Ve++)de.__webglFramebuffer[be][Ve]=t.createFramebuffer()}else de.__webglFramebuffer[be]=t.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){de.__webglFramebuffer=[];for(let be=0;be<G.mipmaps.length;be++)de.__webglFramebuffer[be]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(ve)for(let be=0,Ve=ne.length;be<Ve;be++){const Qe=r.get(ne[be]);Qe.__webglTexture===void 0&&(Qe.__webglTexture=t.createTexture(),o.memory.textures++)}if(X.samples>0&&ue(X)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let be=0;be<ne.length;be++){const Ve=ne[be];de.__webglColorRenderbuffer[be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[be]);const Qe=a.convert(Ve.format,Ve.colorSpace),We=a.convert(Ve.type),xe=_(Ve.internalFormat,Qe,We,Ve.colorSpace,X.isXRRenderTarget===!0),Te=Xe(X);t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,xe,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+be,t.RENDERBUFFER,de.__webglColorRenderbuffer[be])}t.bindRenderbuffer(t.RENDERBUFFER,null),X.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),pe(de.__webglDepthRenderbuffer,X,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(J){n.bindTexture(t.TEXTURE_CUBE_MAP,fe.__webglTexture),W(t.TEXTURE_CUBE_MAP,G);for(let be=0;be<6;be++)if(G.mipmaps&&G.mipmaps.length>0)for(let Ve=0;Ve<G.mipmaps.length;Ve++)_e(de.__webglFramebuffer[be][Ve],X,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ve);else _e(de.__webglFramebuffer[be],X,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0);v(G)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ve){for(let be=0,Ve=ne.length;be<Ve;be++){const Qe=ne[be],We=r.get(Qe);n.bindTexture(t.TEXTURE_2D,We.__webglTexture),W(t.TEXTURE_2D,Qe),_e(de.__webglFramebuffer,X,Qe,t.COLOR_ATTACHMENT0+be,t.TEXTURE_2D,0),v(Qe)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let be=t.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(be=X.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(be,fe.__webglTexture),W(be,G),G.mipmaps&&G.mipmaps.length>0)for(let Ve=0;Ve<G.mipmaps.length;Ve++)_e(de.__webglFramebuffer[Ve],X,G,t.COLOR_ATTACHMENT0,be,Ve);else _e(de.__webglFramebuffer,X,G,t.COLOR_ATTACHMENT0,be,0);v(G)&&b(be),n.unbindTexture()}X.depthBuffer&&je(X)}function Pe(X){const G=X.textures;for(let de=0,fe=G.length;de<fe;de++){const ne=G[de];if(v(ne)){const J=w(X),ve=r.get(ne).__webglTexture;n.bindTexture(J,ve),b(J),n.unbindTexture()}}}const Fe=[],Y=[];function Ie(X){if(X.samples>0){if(ue(X)===!1){const G=X.textures,de=X.width,fe=X.height;let ne=t.COLOR_BUFFER_BIT;const J=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=r.get(X),be=G.length>1;if(be)for(let Qe=0;Qe<G.length;Qe++)n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ve.__webglMultisampledFramebuffer);const Ve=X.texture.mipmaps;Ve&&Ve.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ve.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ve.__webglFramebuffer);for(let Qe=0;Qe<G.length;Qe++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(ne|=t.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(ne|=t.STENCIL_BUFFER_BIT)),be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ve.__webglColorRenderbuffer[Qe]);const We=r.get(G[Qe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,de,fe,0,0,de,fe,ne,t.NEAREST),c===!0&&(Fe.length=0,Y.length=0,Fe.push(t.COLOR_ATTACHMENT0+Qe),X.depthBuffer&&X.resolveDepthBuffer===!1&&(Fe.push(J),Y.push(J),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Y)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),be)for(let Qe=0;Qe<G.length;Qe++){n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,ve.__webglColorRenderbuffer[Qe]);const We=r.get(G[Qe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ve.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&c){const G=X.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[G])}}}function Xe(X){return Math.min(i.maxSamples,X.samples)}function ue(X){const G=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function Be(X){const G=o.render.frame;d.get(X)!==G&&(d.set(X,G),X.update())}function rt(X,G){const de=X.colorSpace,fe=X.format,ne=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||de!==Av&&de!==uf&&(Gn.getTransfer(de)===or?(fe!==el||ne!==eu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),G}function me(X){return typeof HTMLImageElement<"u"&&X instanceof HTMLImageElement?(u.width=X.naturalWidth||X.width,u.height=X.naturalHeight||X.height):typeof VideoFrame<"u"&&X instanceof VideoFrame?(u.width=X.displayWidth,u.height=X.displayHeight):(u.width=X.width,u.height=X.height),u}this.allocateTextureUnit=I,this.resetTextureUnits=O,this.setTexture2D=z,this.setTexture2DArray=q,this.setTexture3D=V,this.setTextureCube=F,this.rebindTextures=Oe,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=Ie,this.setupDepthRenderbuffer=je,this.setupFrameBufferTexture=_e,this.useMultisampledRTT=ue}function b5e(t,e){function n(r,i=uf){let a;const o=Gn.getTransfer(i);if(r===eu)return t.UNSIGNED_BYTE;if(r===Y5)return t.UNSIGNED_SHORT_4_4_4_4;if(r===K5)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Xse)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===Gse)return t.BYTE;if(r===Wse)return t.SHORT;if(r===yb)return t.UNSIGNED_SHORT;if(r===X5)return t.INT;if(r===qp)return t.UNSIGNED_INT;if(r===Vl)return t.FLOAT;if(r===Mw)return t.HALF_FLOAT;if(r===Yse)return t.ALPHA;if(r===Kse)return t.RGB;if(r===el)return t.RGBA;if(r===wb)return t.DEPTH_COMPONENT;if(r===_b)return t.DEPTH_STENCIL;if(r===Q5)return t.RED;if(r===Z5)return t.RED_INTEGER;if(r===Qse)return t.RG;if(r===J5)return t.RG_INTEGER;if(r===eF)return t.RGBA_INTEGER;if(r===XS||r===YS||r===KS||r===QS)if(o===or)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===XS)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===YS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===KS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===QS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===XS)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===YS)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===KS)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===QS)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Dk||r===Rk||r===Ok||r===Ik)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===Dk)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Rk)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Ok)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Ik)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===kk||r===Lk||r===Fk)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===kk||r===Lk)return o===or?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===Fk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Uk||r===Bk||r===$k||r===zk||r===Hk||r===Vk||r===qk||r===Gk||r===Wk||r===Xk||r===Yk||r===Kk||r===Qk||r===Zk)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===Uk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Bk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===$k)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===zk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Hk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Vk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===qk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Gk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Wk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Xk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Yk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Kk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Qk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Zk)return o===or?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ZS||r===Jk||r===e3)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===ZS)return o===or?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Jk)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===e3)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Zse||r===t3||r===n3||r===r3)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===ZS)return a.COMPRESSED_RED_RGTC1_EXT;if(r===t3)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===n3)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===r3)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===bb?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const w5e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_5e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class S5e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new ss,a=e.properties.get(i);a.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Kf({vertexShader:w5e,fragmentShader:_5e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new fa(new Pw(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class j5e extends Sx{constructor(e,n){super();const r=this;let i=null,a=1,o=null,l="local-floor",c=1,u=null,d=null,f=null,h=null,p=null,y=null;const g=new S5e,v=n.getContextAttributes();let b=null,w=null;const _=[],S=[],j=new ln;let A=null;const C=new ns;C.viewport=new Xn;const N=new ns;N.viewport=new Xn;const T=[C,N],P=new kIe;let D=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let re=_[ie];return re===void 0&&(re=new rT,_[ie]=re),re.getTargetRaySpace()},this.getControllerGrip=function(ie){let re=_[ie];return re===void 0&&(re=new rT,_[ie]=re),re.getGripSpace()},this.getHand=function(ie){let re=_[ie];return re===void 0&&(re=new rT,_[ie]=re),re.getHandSpace()};function I(ie){const re=S.indexOf(ie.inputSource);if(re===-1)return;const _e=_[re];_e!==void 0&&(_e.update(ie.inputSource,ie.frame,u||o),_e.dispatchEvent({type:ie.type,data:ie.inputSource}))}function L(){i.removeEventListener("select",I),i.removeEventListener("selectstart",I),i.removeEventListener("selectend",I),i.removeEventListener("squeeze",I),i.removeEventListener("squeezestart",I),i.removeEventListener("squeezeend",I),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",z);for(let ie=0;ie<_.length;ie++){const re=S[ie];re!==null&&(S[ie]=null,_[ie].disconnect(re))}D=null,O=null,g.reset(),e.setRenderTarget(b),p=null,h=null,f=null,i=null,w=null,le.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(j.width,j.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){a=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){l=ie,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ie){u=ie},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(ie){if(i=ie,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",L),i.addEventListener("inputsourceschange",z),v.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(j),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let _e=null,pe=null,Ne=null;v.depth&&(Ne=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,_e=v.stencil?_b:wb,pe=v.stencil?bb:qp);const je={colorFormat:n.RGBA8,depthFormat:Ne,scaleFactor:a};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(je),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),w=new Gp(h.textureWidth,h.textureHeight,{format:el,type:eu,depthTexture:new pae(h.textureWidth,h.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const _e={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};p=new XRWebGLLayer(i,n,_e),i.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),w=new Gp(p.framebufferWidth,p.framebufferHeight,{format:el,type:eu,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}w.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(l),le.setContext(i),le.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function z(ie){for(let re=0;re<ie.removed.length;re++){const _e=ie.removed[re],pe=S.indexOf(_e);pe>=0&&(S[pe]=null,_[pe].disconnect(_e))}for(let re=0;re<ie.added.length;re++){const _e=ie.added[re];let pe=S.indexOf(_e);if(pe===-1){for(let je=0;je<_.length;je++)if(je>=S.length){S.push(_e),pe=je;break}else if(S[je]===null){S[je]=_e,pe=je;break}if(pe===-1)break}const Ne=_[pe];Ne&&Ne.connect(_e)}}const q=new ze,V=new ze;function F(ie,re,_e){q.setFromMatrixPosition(re.matrixWorld),V.setFromMatrixPosition(_e.matrixWorld);const pe=q.distanceTo(V),Ne=re.projectionMatrix.elements,je=_e.projectionMatrix.elements,Oe=Ne[14]/(Ne[10]-1),Ge=Ne[14]/(Ne[10]+1),Pe=(Ne[9]+1)/Ne[5],Fe=(Ne[9]-1)/Ne[5],Y=(Ne[8]-1)/Ne[0],Ie=(je[8]+1)/je[0],Xe=Oe*Y,ue=Oe*Ie,Be=pe/(-Y+Ie),rt=Be*-Y;if(re.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(rt),ie.translateZ(Be),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),Ne[10]===-1)ie.projectionMatrix.copy(re.projectionMatrix),ie.projectionMatrixInverse.copy(re.projectionMatrixInverse);else{const me=Oe+Be,X=Ge+Be,G=Xe-rt,de=ue+(pe-rt),fe=Pe*Ge/X*me,ne=Fe*Ge/X*me;ie.projectionMatrix.makePerspective(G,de,fe,ne,me,X),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function U(ie,re){re===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(re.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(i===null)return;let re=ie.near,_e=ie.far;g.texture!==null&&(g.depthNear>0&&(re=g.depthNear),g.depthFar>0&&(_e=g.depthFar)),P.near=N.near=C.near=re,P.far=N.far=C.far=_e,(D!==P.near||O!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),D=P.near,O=P.far),C.layers.mask=ie.layers.mask|2,N.layers.mask=ie.layers.mask|4,P.layers.mask=C.layers.mask|N.layers.mask;const pe=ie.parent,Ne=P.cameras;U(P,pe);for(let je=0;je<Ne.length;je++)U(Ne[je],pe);Ne.length===2?F(P,C,N):P.projectionMatrix.copy(C.projectionMatrix),H(ie,P,pe)};function H(ie,re,_e){_e===null?ie.matrix.copy(re.matrixWorld):(ie.matrix.copy(_e.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(re.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(re.projectionMatrix),ie.projectionMatrixInverse.copy(re.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=Cv*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(h===null&&p===null))return c},this.setFoveation=function(ie){c=ie,h!==null&&(h.fixedFoveation=ie),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=ie)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(P)};let $=null;function W(ie,re){if(d=re.getViewerPose(u||o),y=re,d!==null){const _e=d.views;p!==null&&(e.setRenderTargetFramebuffer(w,p.framebuffer),e.setRenderTarget(w));let pe=!1;_e.length!==P.cameras.length&&(P.cameras.length=0,pe=!0);for(let Oe=0;Oe<_e.length;Oe++){const Ge=_e[Oe];let Pe=null;if(p!==null)Pe=p.getViewport(Ge);else{const Y=f.getViewSubImage(h,Ge);Pe=Y.viewport,Oe===0&&(e.setRenderTargetTextures(w,Y.colorTexture,Y.depthStencilTexture),e.setRenderTarget(w))}let Fe=T[Oe];Fe===void 0&&(Fe=new ns,Fe.layers.enable(Oe),Fe.viewport=new Xn,T[Oe]=Fe),Fe.matrix.fromArray(Ge.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Ge.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),Oe===0&&(P.matrix.copy(Fe.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),pe===!0&&P.cameras.push(Fe)}const Ne=i.enabledFeatures;if(Ne&&Ne.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const Oe=f.getDepthInformation(_e[0]);Oe&&Oe.isValid&&Oe.texture&&g.init(e,Oe,i.renderState)}}for(let _e=0;_e<_.length;_e++){const pe=S[_e],Ne=_[_e];pe!==null&&Ne!==void 0&&Ne.update(pe,re,u||o)}$&&$(ie,re),re.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:re}),y=null}const le=new wae;le.setAnimationLoop(W),this.setAnimationLoop=function(ie){$=ie},this.dispose=function(){}}}const Ih=new rc,E5e=new bn;function N5e(t,e){function n(v,b){v.matrixAutoUpdate===!0&&v.updateMatrix(),b.value.copy(v.matrix)}function r(v,b){b.color.getRGB(v.fogColor.value,oae(t)),b.isFog?(v.fogNear.value=b.near,v.fogFar.value=b.far):b.isFogExp2&&(v.fogDensity.value=b.density)}function i(v,b,w,_,S){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(v,b):b.isMeshToonMaterial?(a(v,b),f(v,b)):b.isMeshPhongMaterial?(a(v,b),d(v,b)):b.isMeshStandardMaterial?(a(v,b),h(v,b),b.isMeshPhysicalMaterial&&p(v,b,S)):b.isMeshMatcapMaterial?(a(v,b),y(v,b)):b.isMeshDepthMaterial?a(v,b):b.isMeshDistanceMaterial?(a(v,b),g(v,b)):b.isMeshNormalMaterial?a(v,b):b.isLineBasicMaterial?(o(v,b),b.isLineDashedMaterial&&l(v,b)):b.isPointsMaterial?c(v,b,w,_):b.isSpriteMaterial?u(v,b):b.isShadowMaterial?(v.color.value.copy(b.color),v.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function a(v,b){v.opacity.value=b.opacity,b.color&&v.diffuse.value.copy(b.color),b.emissive&&v.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(v.map.value=b.map,n(b.map,v.mapTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,n(b.alphaMap,v.alphaMapTransform)),b.bumpMap&&(v.bumpMap.value=b.bumpMap,n(b.bumpMap,v.bumpMapTransform),v.bumpScale.value=b.bumpScale,b.side===Fa&&(v.bumpScale.value*=-1)),b.normalMap&&(v.normalMap.value=b.normalMap,n(b.normalMap,v.normalMapTransform),v.normalScale.value.copy(b.normalScale),b.side===Fa&&v.normalScale.value.negate()),b.displacementMap&&(v.displacementMap.value=b.displacementMap,n(b.displacementMap,v.displacementMapTransform),v.displacementScale.value=b.displacementScale,v.displacementBias.value=b.displacementBias),b.emissiveMap&&(v.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,v.emissiveMapTransform)),b.specularMap&&(v.specularMap.value=b.specularMap,n(b.specularMap,v.specularMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest);const w=e.get(b),_=w.envMap,S=w.envMapRotation;_&&(v.envMap.value=_,Ih.copy(S),Ih.x*=-1,Ih.y*=-1,Ih.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Ih.y*=-1,Ih.z*=-1),v.envMapRotation.value.setFromMatrix4(E5e.makeRotationFromEuler(Ih)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=b.reflectivity,v.ior.value=b.ior,v.refractionRatio.value=b.refractionRatio),b.lightMap&&(v.lightMap.value=b.lightMap,v.lightMapIntensity.value=b.lightMapIntensity,n(b.lightMap,v.lightMapTransform)),b.aoMap&&(v.aoMap.value=b.aoMap,v.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,v.aoMapTransform))}function o(v,b){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,b.map&&(v.map.value=b.map,n(b.map,v.mapTransform))}function l(v,b){v.dashSize.value=b.dashSize,v.totalSize.value=b.dashSize+b.gapSize,v.scale.value=b.scale}function c(v,b,w,_){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,v.size.value=b.size*w,v.scale.value=_*.5,b.map&&(v.map.value=b.map,n(b.map,v.uvTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,n(b.alphaMap,v.alphaMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest)}function u(v,b){v.diffuse.value.copy(b.color),v.opacity.value=b.opacity,v.rotation.value=b.rotation,b.map&&(v.map.value=b.map,n(b.map,v.mapTransform)),b.alphaMap&&(v.alphaMap.value=b.alphaMap,n(b.alphaMap,v.alphaMapTransform)),b.alphaTest>0&&(v.alphaTest.value=b.alphaTest)}function d(v,b){v.specular.value.copy(b.specular),v.shininess.value=Math.max(b.shininess,1e-4)}function f(v,b){b.gradientMap&&(v.gradientMap.value=b.gradientMap)}function h(v,b){v.metalness.value=b.metalness,b.metalnessMap&&(v.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,v.metalnessMapTransform)),v.roughness.value=b.roughness,b.roughnessMap&&(v.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,v.roughnessMapTransform)),b.envMap&&(v.envMapIntensity.value=b.envMapIntensity)}function p(v,b,w){v.ior.value=b.ior,b.sheen>0&&(v.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),v.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(v.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,v.sheenColorMapTransform)),b.sheenRoughnessMap&&(v.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,v.sheenRoughnessMapTransform))),b.clearcoat>0&&(v.clearcoat.value=b.clearcoat,v.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(v.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,v.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(v.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Fa&&v.clearcoatNormalScale.value.negate())),b.dispersion>0&&(v.dispersion.value=b.dispersion),b.iridescence>0&&(v.iridescence.value=b.iridescence,v.iridescenceIOR.value=b.iridescenceIOR,v.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(v.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,v.iridescenceMapTransform)),b.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),b.transmission>0&&(v.transmission.value=b.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),b.transmissionMap&&(v.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,v.transmissionMapTransform)),v.thickness.value=b.thickness,b.thicknessMap&&(v.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=b.attenuationDistance,v.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(v.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(v.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=b.specularIntensity,v.specularColor.value.copy(b.specularColor),b.specularColorMap&&(v.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,v.specularColorMapTransform)),b.specularIntensityMap&&(v.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,b){b.matcap&&(v.matcap.value=b.matcap)}function g(v,b){const w=e.get(b).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function A5e(t,e,n,r){let i={},a={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(w,_){const S=_.program;r.uniformBlockBinding(w,S)}function u(w,_){let S=i[w.id];S===void 0&&(y(w),S=d(w),i[w.id]=S,w.addEventListener("dispose",v));const j=_.program;r.updateUBOMapping(w,j);const A=e.render.frame;a[w.id]!==A&&(h(w),a[w.id]=A)}function d(w){const _=f();w.__bindingPointIndex=_;const S=t.createBuffer(),j=w.__size,A=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,j,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function f(){for(let w=0;w<l;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(w){const _=i[w.id],S=w.uniforms,j=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let A=0,C=S.length;A<C;A++){const N=Array.isArray(S[A])?S[A]:[S[A]];for(let T=0,P=N.length;T<P;T++){const D=N[T];if(p(D,A,T,j)===!0){const O=D.__offset,I=Array.isArray(D.value)?D.value:[D.value];let L=0;for(let z=0;z<I.length;z++){const q=I[z],V=g(q);typeof q=="number"||typeof q=="boolean"?(D.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,O+L,D.__data)):q.isMatrix3?(D.__data[0]=q.elements[0],D.__data[1]=q.elements[1],D.__data[2]=q.elements[2],D.__data[3]=0,D.__data[4]=q.elements[3],D.__data[5]=q.elements[4],D.__data[6]=q.elements[5],D.__data[7]=0,D.__data[8]=q.elements[6],D.__data[9]=q.elements[7],D.__data[10]=q.elements[8],D.__data[11]=0):(q.toArray(D.__data,L),L+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,O,D.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(w,_,S,j){const A=w.value,C=_+"_"+S;if(j[C]===void 0)return typeof A=="number"||typeof A=="boolean"?j[C]=A:j[C]=A.clone(),!0;{const N=j[C];if(typeof A=="number"||typeof A=="boolean"){if(N!==A)return j[C]=A,!0}else if(N.equals(A)===!1)return N.copy(A),!0}return!1}function y(w){const _=w.uniforms;let S=0;const j=16;for(let C=0,N=_.length;C<N;C++){const T=Array.isArray(_[C])?_[C]:[_[C]];for(let P=0,D=T.length;P<D;P++){const O=T[P],I=Array.isArray(O.value)?O.value:[O.value];for(let L=0,z=I.length;L<z;L++){const q=I[L],V=g(q),F=S%j,U=F%V.boundary,H=F+U;S+=U,H!==0&&j-H<V.storage&&(S+=j-H),O.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),O.__offset=S,S+=V.storage}}}const A=S%j;return A>0&&(S+=j-A),w.__size=S,w.__cache={},this}function g(w){const _={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function v(w){const _=w.target;_.removeEventListener("dispose",v);const S=o.indexOf(_.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function b(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},a={}}return{bind:c,update:u,dispose:b}}class C5e{constructor(e={}){const{canvas:n=MOe(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=r.getContextAttributes().alpha}else p=o;const y=new Uint32Array(4),g=new Int32Array(4);let v=null,b=null;const w=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=If,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const S=this;let j=!1;this._outputColorSpace=Go;let A=0,C=0,N=null,T=-1,P=null;const D=new Xn,O=new Xn;let I=null;const L=new rn(0);let z=0,q=n.width,V=n.height,F=1,U=null,H=null;const $=new Xn(0,0,q,V),W=new Xn(0,0,q,V);let le=!1;const ie=new oF;let re=!1,_e=!1;const pe=new bn,Ne=new bn,je=new ze,Oe=new Xn,Ge={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Pe=!1;function Fe(){return N===null?F:1}let Y=r;function Ie(se,$e){return n.getContext(se,$e)}try{const se={alpha:!0,depth:i,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${$N}`),n.addEventListener("webglcontextlost",Ae,!1),n.addEventListener("webglcontextrestored",Ue,!1),n.addEventListener("webglcontextcreationerror",Je,!1),Y===null){const $e="webgl2";if(Y=Ie($e,se),Y===null)throw Ie($e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(se){throw console.error("THREE.WebGLRenderer: "+se.message),se}let Xe,ue,Be,rt,me,X,G,de,fe,ne,J,ve,be,Ve,Qe,We,xe,Te,te,oe,K,ae,Re,Z;function Me(){Xe=new FLe(Y),Xe.init(),ae=new b5e(Y,Xe),ue=new PLe(Y,Xe,e,ae),Be=new x5e(Y,Xe),ue.reverseDepthBuffer&&h&&Be.buffers.depth.setReversed(!0),rt=new $Le(Y),me=new s5e,X=new y5e(Y,Xe,Be,me,ue,ae,rt),G=new RLe(S),de=new LLe(S),fe=new WIe(Y),Re=new MLe(Y,fe),ne=new ULe(Y,fe,rt,Re),J=new HLe(Y,ne,fe,rt),te=new zLe(Y,ue,X),We=new DLe(me),ve=new i5e(S,G,de,Xe,ue,Re,We),be=new N5e(S,me),Ve=new o5e,Qe=new h5e(Xe),Te=new CLe(S,G,de,Be,J,p,c),xe=new g5e(S,J,ue),Z=new A5e(Y,rt,ue,Be),oe=new TLe(Y,Xe,rt),K=new BLe(Y,Xe,rt),rt.programs=ve.programs,S.capabilities=ue,S.extensions=Xe,S.properties=me,S.renderLists=Ve,S.shadowMap=xe,S.state=Be,S.info=rt}Me();const ye=new j5e(S,Y);this.xr=ye,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const se=Xe.get("WEBGL_lose_context");se&&se.loseContext()},this.forceContextRestore=function(){const se=Xe.get("WEBGL_lose_context");se&&se.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(se){se!==void 0&&(F=se,this.setSize(q,V,!1))},this.getSize=function(se){return se.set(q,V)},this.setSize=function(se,$e,et=!0){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=se,V=$e,n.width=Math.floor(se*F),n.height=Math.floor($e*F),et===!0&&(n.style.width=se+"px",n.style.height=$e+"px"),this.setViewport(0,0,se,$e)},this.getDrawingBufferSize=function(se){return se.set(q*F,V*F).floor()},this.setDrawingBufferSize=function(se,$e,et){q=se,V=$e,F=et,n.width=Math.floor(se*et),n.height=Math.floor($e*et),this.setViewport(0,0,se,$e)},this.getCurrentViewport=function(se){return se.copy(D)},this.getViewport=function(se){return se.copy($)},this.setViewport=function(se,$e,et,He){se.isVector4?$.set(se.x,se.y,se.z,se.w):$.set(se,$e,et,He),Be.viewport(D.copy($).multiplyScalar(F).round())},this.getScissor=function(se){return se.copy(W)},this.setScissor=function(se,$e,et,He){se.isVector4?W.set(se.x,se.y,se.z,se.w):W.set(se,$e,et,He),Be.scissor(O.copy(W).multiplyScalar(F).round())},this.getScissorTest=function(){return le},this.setScissorTest=function(se){Be.setScissorTest(le=se)},this.setOpaqueSort=function(se){U=se},this.setTransparentSort=function(se){H=se},this.getClearColor=function(se){return se.copy(Te.getClearColor())},this.setClearColor=function(){Te.setClearColor(...arguments)},this.getClearAlpha=function(){return Te.getClearAlpha()},this.setClearAlpha=function(){Te.setClearAlpha(...arguments)},this.clear=function(se=!0,$e=!0,et=!0){let He=0;if(se){let ke=!1;if(N!==null){const pt=N.texture.format;ke=pt===eF||pt===J5||pt===Z5}if(ke){const pt=N.texture.type,Tt=pt===eu||pt===qp||pt===yb||pt===bb||pt===Y5||pt===K5,Rt=Te.getClearColor(),Ot=Te.getClearAlpha(),Gt=Rt.r,Xt=Rt.g,kt=Rt.b;Tt?(y[0]=Gt,y[1]=Xt,y[2]=kt,y[3]=Ot,Y.clearBufferuiv(Y.COLOR,0,y)):(g[0]=Gt,g[1]=Xt,g[2]=kt,g[3]=Ot,Y.clearBufferiv(Y.COLOR,0,g))}else He|=Y.COLOR_BUFFER_BIT}$e&&(He|=Y.DEPTH_BUFFER_BIT),et&&(He|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(He)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ae,!1),n.removeEventListener("webglcontextrestored",Ue,!1),n.removeEventListener("webglcontextcreationerror",Je,!1),Te.dispose(),Ve.dispose(),Qe.dispose(),me.dispose(),G.dispose(),de.dispose(),J.dispose(),Re.dispose(),Z.dispose(),ve.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",ht),ye.removeEventListener("sessionend",Pt),bt.stop()};function Ae(se){se.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function Ue(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const se=rt.autoReset,$e=xe.enabled,et=xe.autoUpdate,He=xe.needsUpdate,ke=xe.type;Me(),rt.autoReset=se,xe.enabled=$e,xe.autoUpdate=et,xe.needsUpdate=He,xe.type=ke}function Je(se){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",se.statusMessage)}function Ke(se){const $e=se.target;$e.removeEventListener("dispose",Ke),lt($e)}function lt(se){yt(se),me.remove(se)}function yt(se){const $e=me.get(se).programs;$e!==void 0&&($e.forEach(function(et){ve.releaseProgram(et)}),se.isShaderMaterial&&ve.releaseShaderCache(se))}this.renderBufferDirect=function(se,$e,et,He,ke,pt){$e===null&&($e=Ge);const Tt=ke.isMesh&&ke.matrixWorld.determinant()<0,Rt=bs(se,$e,et,He,ke);Be.setMaterial(He,Tt);let Ot=et.index,Gt=1;if(He.wireframe===!0){if(Ot=ne.getWireframeAttribute(et),Ot===void 0)return;Gt=2}const Xt=et.drawRange,kt=et.attributes.position;let fn=Xt.start*Gt,pn=(Xt.start+Xt.count)*Gt;pt!==null&&(fn=Math.max(fn,pt.start*Gt),pn=Math.min(pn,(pt.start+pt.count)*Gt)),Ot!==null?(fn=Math.max(fn,0),pn=Math.min(pn,Ot.count)):kt!=null&&(fn=Math.max(fn,0),pn=Math.min(pn,kt.count));const Xr=pn-fn;if(Xr<0||Xr===1/0)return;Re.setup(ke,He,Rt,et,Ot);let Pr,Un=oe;if(Ot!==null&&(Pr=fe.get(Ot),Un=K,Un.setIndex(Pr)),ke.isMesh)He.wireframe===!0?(Be.setLineWidth(He.wireframeLinewidth*Fe()),Un.setMode(Y.LINES)):Un.setMode(Y.TRIANGLES);else if(ke.isLine){let Yt=He.linewidth;Yt===void 0&&(Yt=1),Be.setLineWidth(Yt*Fe()),ke.isLineSegments?Un.setMode(Y.LINES):ke.isLineLoop?Un.setMode(Y.LINE_LOOP):Un.setMode(Y.LINE_STRIP)}else ke.isPoints?Un.setMode(Y.POINTS):ke.isSprite&&Un.setMode(Y.TRIANGLES);if(ke.isBatchedMesh)if(ke._multiDrawInstances!==null)JS("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Un.renderMultiDrawInstances(ke._multiDrawStarts,ke._multiDrawCounts,ke._multiDrawCount,ke._multiDrawInstances);else if(Xe.get("WEBGL_multi_draw"))Un.renderMultiDraw(ke._multiDrawStarts,ke._multiDrawCounts,ke._multiDrawCount);else{const Yt=ke._multiDrawStarts,Yr=ke._multiDrawCounts,On=ke._multiDrawCount,ws=Ot?fe.get(Ot).bytesPerElement:1,bd=me.get(He).currentProgram.getUniforms();for(let Ws=0;Ws<On;Ws++)bd.setValue(Y,"_gl_DrawID",Ws),Un.render(Yt[Ws]/ws,Yr[Ws])}else if(ke.isInstancedMesh)Un.renderInstances(fn,Xr,ke.count);else if(et.isInstancedBufferGeometry){const Yt=et._maxInstanceCount!==void 0?et._maxInstanceCount:1/0,Yr=Math.min(et.instanceCount,Yt);Un.renderInstances(fn,Xr,Yr)}else Un.render(fn,Xr)};function at(se,$e,et){se.transparent===!0&&se.side===Cc&&se.forceSinglePass===!1?(se.side=Fa,se.needsUpdate=!0,tr(se,$e,et),se.side=dd,se.needsUpdate=!0,tr(se,$e,et),se.side=Cc):tr(se,$e,et)}this.compile=function(se,$e,et=null){et===null&&(et=se),b=Qe.get(et),b.init($e),_.push(b),et.traverseVisible(function(ke){ke.isLight&&ke.layers.test($e.layers)&&(b.pushLight(ke),ke.castShadow&&b.pushShadow(ke))}),se!==et&&se.traverseVisible(function(ke){ke.isLight&&ke.layers.test($e.layers)&&(b.pushLight(ke),ke.castShadow&&b.pushShadow(ke))}),b.setupLights();const He=new Set;return se.traverse(function(ke){if(!(ke.isMesh||ke.isPoints||ke.isLine||ke.isSprite))return;const pt=ke.material;if(pt)if(Array.isArray(pt))for(let Tt=0;Tt<pt.length;Tt++){const Rt=pt[Tt];at(Rt,et,ke),He.add(Rt)}else at(pt,et,ke),He.add(pt)}),b=_.pop(),He},this.compileAsync=function(se,$e,et=null){const He=this.compile(se,$e,et);return new Promise(ke=>{function pt(){if(He.forEach(function(Tt){me.get(Tt).currentProgram.isReady()&&He.delete(Tt)}),He.size===0){ke(se);return}setTimeout(pt,10)}Xe.get("KHR_parallel_shader_compile")!==null?pt():setTimeout(pt,10)})};let vt=null;function Ct(se){vt&&vt(se)}function ht(){bt.stop()}function Pt(){bt.start()}const bt=new wae;bt.setAnimationLoop(Ct),typeof self<"u"&&bt.setContext(self),this.setAnimationLoop=function(se){vt=se,ye.setAnimationLoop(se),se===null?bt.stop():bt.start()},ye.addEventListener("sessionstart",ht),ye.addEventListener("sessionend",Pt),this.render=function(se,$e){if($e!==void 0&&$e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;if(se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),$e.parent===null&&$e.matrixWorldAutoUpdate===!0&&$e.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera($e),$e=ye.getCamera()),se.isScene===!0&&se.onBeforeRender(S,se,$e,N),b=Qe.get(se,_.length),b.init($e),_.push(b),Ne.multiplyMatrices($e.projectionMatrix,$e.matrixWorldInverse),ie.setFromProjectionMatrix(Ne),_e=this.localClippingEnabled,re=We.init(this.clippingPlanes,_e),v=Ve.get(se,w.length),v.init(),w.push(v),ye.enabled===!0&&ye.isPresenting===!0){const pt=S.xr.getDepthSensingMesh();pt!==null&&Bt(pt,$e,-1/0,S.sortObjects)}Bt(se,$e,0,S.sortObjects),v.finish(),S.sortObjects===!0&&v.sort(U,H),Pe=ye.enabled===!1||ye.isPresenting===!1||ye.hasDepthSensing()===!1,Pe&&Te.addToRenderList(v,se),this.info.render.frame++,re===!0&&We.beginShadows();const et=b.state.shadowsArray;xe.render(et,se,$e),re===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset();const He=v.opaque,ke=v.transmissive;if(b.setupLights(),$e.isArrayCamera){const pt=$e.cameras;if(ke.length>0)for(let Tt=0,Rt=pt.length;Tt<Rt;Tt++){const Ot=pt[Tt];en(He,ke,se,Ot)}Pe&&Te.render(se);for(let Tt=0,Rt=pt.length;Tt<Rt;Tt++){const Ot=pt[Tt];$n(v,se,Ot,Ot.viewport)}}else ke.length>0&&en(He,ke,se,$e),Pe&&Te.render(se),$n(v,se,$e);N!==null&&C===0&&(X.updateMultisampleRenderTarget(N),X.updateRenderTargetMipmap(N)),se.isScene===!0&&se.onAfterRender(S,se,$e),Re.resetDefaultState(),T=-1,P=null,_.pop(),_.length>0?(b=_[_.length-1],re===!0&&We.setGlobalState(S.clippingPlanes,b.state.camera)):b=null,w.pop(),w.length>0?v=w[w.length-1]:v=null};function Bt(se,$e,et,He){if(se.visible===!1)return;if(se.layers.test($e.layers)){if(se.isGroup)et=se.renderOrder;else if(se.isLOD)se.autoUpdate===!0&&se.update($e);else if(se.isLight)b.pushLight(se),se.castShadow&&b.pushShadow(se);else if(se.isSprite){if(!se.frustumCulled||ie.intersectsSprite(se)){He&&Oe.setFromMatrixPosition(se.matrixWorld).applyMatrix4(Ne);const Tt=J.update(se),Rt=se.material;Rt.visible&&v.push(se,Tt,Rt,et,Oe.z,null)}}else if((se.isMesh||se.isLine||se.isPoints)&&(!se.frustumCulled||ie.intersectsObject(se))){const Tt=J.update(se),Rt=se.material;if(He&&(se.boundingSphere!==void 0?(se.boundingSphere===null&&se.computeBoundingSphere(),Oe.copy(se.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),Oe.copy(Tt.boundingSphere.center)),Oe.applyMatrix4(se.matrixWorld).applyMatrix4(Ne)),Array.isArray(Rt)){const Ot=Tt.groups;for(let Gt=0,Xt=Ot.length;Gt<Xt;Gt++){const kt=Ot[Gt],fn=Rt[kt.materialIndex];fn&&fn.visible&&v.push(se,Tt,fn,et,Oe.z,kt)}}else Rt.visible&&v.push(se,Tt,Rt,et,Oe.z,null)}}const pt=se.children;for(let Tt=0,Rt=pt.length;Tt<Rt;Tt++)Bt(pt[Tt],$e,et,He)}function $n(se,$e,et,He){const ke=se.opaque,pt=se.transmissive,Tt=se.transparent;b.setupLightsView(et),re===!0&&We.setGlobalState(S.clippingPlanes,et),He&&Be.viewport(D.copy(He)),ke.length>0&&Yn(ke,$e,et),pt.length>0&&Yn(pt,$e,et),Tt.length>0&&Yn(Tt,$e,et),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function en(se,$e,et,He){if((et.isScene===!0?et.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[He.id]===void 0&&(b.state.transmissionRenderTarget[He.id]=new Gp(1,1,{generateMipmaps:!0,type:Xe.has("EXT_color_buffer_half_float")||Xe.has("EXT_color_buffer_float")?Mw:eu,minFilter:Vu,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gn.workingColorSpace}));const pt=b.state.transmissionRenderTarget[He.id],Tt=He.viewport||D;pt.setSize(Tt.z*S.transmissionResolutionScale,Tt.w*S.transmissionResolutionScale);const Rt=S.getRenderTarget();S.setRenderTarget(pt),S.getClearColor(L),z=S.getClearAlpha(),z<1&&S.setClearColor(16777215,.5),S.clear(),Pe&&Te.render(et);const Ot=S.toneMapping;S.toneMapping=If;const Gt=He.viewport;if(He.viewport!==void 0&&(He.viewport=void 0),b.setupLightsView(He),re===!0&&We.setGlobalState(S.clippingPlanes,He),Yn(se,et,He),X.updateMultisampleRenderTarget(pt),X.updateRenderTargetMipmap(pt),Xe.has("WEBGL_multisampled_render_to_texture")===!1){let Xt=!1;for(let kt=0,fn=$e.length;kt<fn;kt++){const pn=$e[kt],Xr=pn.object,Pr=pn.geometry,Un=pn.material,Yt=pn.group;if(Un.side===Cc&&Xr.layers.test(He.layers)){const Yr=Un.side;Un.side=Fa,Un.needsUpdate=!0,ni(Xr,et,He,Pr,Un,Yt),Un.side=Yr,Un.needsUpdate=!0,Xt=!0}}Xt===!0&&(X.updateMultisampleRenderTarget(pt),X.updateRenderTargetMipmap(pt))}S.setRenderTarget(Rt),S.setClearColor(L,z),Gt!==void 0&&(He.viewport=Gt),S.toneMapping=Ot}function Yn(se,$e,et){const He=$e.isScene===!0?$e.overrideMaterial:null;for(let ke=0,pt=se.length;ke<pt;ke++){const Tt=se[ke],Rt=Tt.object,Ot=Tt.geometry,Gt=Tt.group;let Xt=Tt.material;Xt.allowOverride===!0&&He!==null&&(Xt=He),Rt.layers.test(et.layers)&&ni(Rt,$e,et,Ot,Xt,Gt)}}function ni(se,$e,et,He,ke,pt){se.onBeforeRender(S,$e,et,He,ke,pt),se.modelViewMatrix.multiplyMatrices(et.matrixWorldInverse,se.matrixWorld),se.normalMatrix.getNormalMatrix(se.modelViewMatrix),ke.onBeforeRender(S,$e,et,He,se,pt),ke.transparent===!0&&ke.side===Cc&&ke.forceSinglePass===!1?(ke.side=Fa,ke.needsUpdate=!0,S.renderBufferDirect(et,$e,He,ke,se,pt),ke.side=dd,ke.needsUpdate=!0,S.renderBufferDirect(et,$e,He,ke,se,pt),ke.side=Cc):S.renderBufferDirect(et,$e,He,ke,se,pt),se.onAfterRender(S,$e,et,He,ke,pt)}function tr(se,$e,et){$e.isScene!==!0&&($e=Ge);const He=me.get(se),ke=b.state.lights,pt=b.state.shadowsArray,Tt=ke.state.version,Rt=ve.getParameters(se,ke.state,pt,$e,et),Ot=ve.getProgramCacheKey(Rt);let Gt=He.programs;He.environment=se.isMeshStandardMaterial?$e.environment:null,He.fog=$e.fog,He.envMap=(se.isMeshStandardMaterial?de:G).get(se.envMap||He.environment),He.envMapRotation=He.environment!==null&&se.envMap===null?$e.environmentRotation:se.envMapRotation,Gt===void 0&&(se.addEventListener("dispose",Ke),Gt=new Map,He.programs=Gt);let Xt=Gt.get(Ot);if(Xt!==void 0){if(He.currentProgram===Xt&&He.lightsStateVersion===Tt)return En(se,Rt),Xt}else Rt.uniforms=ve.getUniforms(se),se.onBeforeCompile(Rt,S),Xt=ve.acquireProgram(Rt,Ot),Gt.set(Ot,Xt),He.uniforms=Rt.uniforms;const kt=He.uniforms;return(!se.isShaderMaterial&&!se.isRawShaderMaterial||se.clipping===!0)&&(kt.clippingPlanes=We.uniform),En(se,Rt),He.needsLights=cs(se),He.lightsStateVersion=Tt,He.needsLights&&(kt.ambientLightColor.value=ke.state.ambient,kt.lightProbe.value=ke.state.probe,kt.directionalLights.value=ke.state.directional,kt.directionalLightShadows.value=ke.state.directionalShadow,kt.spotLights.value=ke.state.spot,kt.spotLightShadows.value=ke.state.spotShadow,kt.rectAreaLights.value=ke.state.rectArea,kt.ltc_1.value=ke.state.rectAreaLTC1,kt.ltc_2.value=ke.state.rectAreaLTC2,kt.pointLights.value=ke.state.point,kt.pointLightShadows.value=ke.state.pointShadow,kt.hemisphereLights.value=ke.state.hemi,kt.directionalShadowMap.value=ke.state.directionalShadowMap,kt.directionalShadowMatrix.value=ke.state.directionalShadowMatrix,kt.spotShadowMap.value=ke.state.spotShadowMap,kt.spotLightMatrix.value=ke.state.spotLightMatrix,kt.spotLightMap.value=ke.state.spotLightMap,kt.pointShadowMap.value=ke.state.pointShadowMap,kt.pointShadowMatrix.value=ke.state.pointShadowMatrix),He.currentProgram=Xt,He.uniformsList=null,Xt}function nr(se){if(se.uniformsList===null){const $e=se.currentProgram.getUniforms();se.uniformsList=ej.seqWithValue($e.seq,se.uniforms)}return se.uniformsList}function En(se,$e){const et=me.get(se);et.outputColorSpace=$e.outputColorSpace,et.batching=$e.batching,et.batchingColor=$e.batchingColor,et.instancing=$e.instancing,et.instancingColor=$e.instancingColor,et.instancingMorph=$e.instancingMorph,et.skinning=$e.skinning,et.morphTargets=$e.morphTargets,et.morphNormals=$e.morphNormals,et.morphColors=$e.morphColors,et.morphTargetsCount=$e.morphTargetsCount,et.numClippingPlanes=$e.numClippingPlanes,et.numIntersection=$e.numClipIntersection,et.vertexAlphas=$e.vertexAlphas,et.vertexTangents=$e.vertexTangents,et.toneMapping=$e.toneMapping}function bs(se,$e,et,He,ke){$e.isScene!==!0&&($e=Ge),X.resetTextureUnits();const pt=$e.fog,Tt=He.isMeshStandardMaterial?$e.environment:null,Rt=N===null?S.outputColorSpace:N.isXRRenderTarget===!0?N.texture.colorSpace:Av,Ot=(He.isMeshStandardMaterial?de:G).get(He.envMap||Tt),Gt=He.vertexColors===!0&&!!et.attributes.color&&et.attributes.color.itemSize===4,Xt=!!et.attributes.tangent&&(!!He.normalMap||He.anisotropy>0),kt=!!et.morphAttributes.position,fn=!!et.morphAttributes.normal,pn=!!et.morphAttributes.color;let Xr=If;He.toneMapped&&(N===null||N.isXRRenderTarget===!0)&&(Xr=S.toneMapping);const Pr=et.morphAttributes.position||et.morphAttributes.normal||et.morphAttributes.color,Un=Pr!==void 0?Pr.length:0,Yt=me.get(He),Yr=b.state.lights;if(re===!0&&(_e===!0||se!==P)){const us=se===P&&He.id===T;We.setState(He,se,us)}let On=!1;He.version===Yt.__version?(Yt.needsLights&&Yt.lightsStateVersion!==Yr.state.version||Yt.outputColorSpace!==Rt||ke.isBatchedMesh&&Yt.batching===!1||!ke.isBatchedMesh&&Yt.batching===!0||ke.isBatchedMesh&&Yt.batchingColor===!0&&ke.colorTexture===null||ke.isBatchedMesh&&Yt.batchingColor===!1&&ke.colorTexture!==null||ke.isInstancedMesh&&Yt.instancing===!1||!ke.isInstancedMesh&&Yt.instancing===!0||ke.isSkinnedMesh&&Yt.skinning===!1||!ke.isSkinnedMesh&&Yt.skinning===!0||ke.isInstancedMesh&&Yt.instancingColor===!0&&ke.instanceColor===null||ke.isInstancedMesh&&Yt.instancingColor===!1&&ke.instanceColor!==null||ke.isInstancedMesh&&Yt.instancingMorph===!0&&ke.morphTexture===null||ke.isInstancedMesh&&Yt.instancingMorph===!1&&ke.morphTexture!==null||Yt.envMap!==Ot||He.fog===!0&&Yt.fog!==pt||Yt.numClippingPlanes!==void 0&&(Yt.numClippingPlanes!==We.numPlanes||Yt.numIntersection!==We.numIntersection)||Yt.vertexAlphas!==Gt||Yt.vertexTangents!==Xt||Yt.morphTargets!==kt||Yt.morphNormals!==fn||Yt.morphColors!==pn||Yt.toneMapping!==Xr||Yt.morphTargetsCount!==Un)&&(On=!0):(On=!0,Yt.__version=He.version);let ws=Yt.currentProgram;On===!0&&(ws=tr(He,$e,ke));let bd=!1,Ws=!1,fu=!1;const dr=ws.getUniforms(),_s=Yt.uniforms;if(Be.useProgram(ws.program)&&(bd=!0,Ws=!0,fu=!0),He.id!==T&&(T=He.id,Ws=!0),bd||P!==se){Be.buffers.depth.getReversed()?(pe.copy(se.projectionMatrix),POe(pe),DOe(pe),dr.setValue(Y,"projectionMatrix",pe)):dr.setValue(Y,"projectionMatrix",se.projectionMatrix),dr.setValue(Y,"viewMatrix",se.matrixWorldInverse);const Gi=dr.map.cameraPosition;Gi!==void 0&&Gi.setValue(Y,je.setFromMatrixPosition(se.matrixWorld)),ue.logarithmicDepthBuffer&&dr.setValue(Y,"logDepthBufFC",2/(Math.log(se.far+1)/Math.LN2)),(He.isMeshPhongMaterial||He.isMeshToonMaterial||He.isMeshLambertMaterial||He.isMeshBasicMaterial||He.isMeshStandardMaterial||He.isShaderMaterial)&&dr.setValue(Y,"isOrthographic",se.isOrthographicCamera===!0),P!==se&&(P=se,Ws=!0,fu=!0)}if(ke.isSkinnedMesh){dr.setOptional(Y,ke,"bindMatrix"),dr.setOptional(Y,ke,"bindMatrixInverse");const us=ke.skeleton;us&&(us.boneTexture===null&&us.computeBoneTexture(),dr.setValue(Y,"boneTexture",us.boneTexture,X))}ke.isBatchedMesh&&(dr.setOptional(Y,ke,"batchingTexture"),dr.setValue(Y,"batchingTexture",ke._matricesTexture,X),dr.setOptional(Y,ke,"batchingIdTexture"),dr.setValue(Y,"batchingIdTexture",ke._indirectTexture,X),dr.setOptional(Y,ke,"batchingColorTexture"),ke._colorsTexture!==null&&dr.setValue(Y,"batchingColorTexture",ke._colorsTexture,X));const qi=et.morphAttributes;if((qi.position!==void 0||qi.normal!==void 0||qi.color!==void 0)&&te.update(ke,et,ws),(Ws||Yt.receiveShadow!==ke.receiveShadow)&&(Yt.receiveShadow=ke.receiveShadow,dr.setValue(Y,"receiveShadow",ke.receiveShadow)),He.isMeshGouraudMaterial&&He.envMap!==null&&(_s.envMap.value=Ot,_s.flipEnvMap.value=Ot.isCubeTexture&&Ot.isRenderTargetTexture===!1?-1:1),He.isMeshStandardMaterial&&He.envMap===null&&$e.environment!==null&&(_s.envMapIntensity.value=$e.environmentIntensity),Ws&&(dr.setValue(Y,"toneMappingExposure",S.toneMappingExposure),Yt.needsLights&&ar(_s,fu),pt&&He.fog===!0&&be.refreshFogUniforms(_s,pt),be.refreshMaterialUniforms(_s,He,F,V,b.state.transmissionRenderTarget[se.id]),ej.upload(Y,nr(Yt),_s,X)),He.isShaderMaterial&&He.uniformsNeedUpdate===!0&&(ej.upload(Y,nr(Yt),_s,X),He.uniformsNeedUpdate=!1),He.isSpriteMaterial&&dr.setValue(Y,"center",ke.center),dr.setValue(Y,"modelViewMatrix",ke.modelViewMatrix),dr.setValue(Y,"normalMatrix",ke.normalMatrix),dr.setValue(Y,"modelMatrix",ke.matrixWorld),He.isShaderMaterial||He.isRawShaderMaterial){const us=He.uniformsGroups;for(let Gi=0,zn=us.length;Gi<zn;Gi++){const fc=us[Gi];Z.update(fc,ws),Z.bind(fc,ws)}}return ws}function ar(se,$e){se.ambientLightColor.needsUpdate=$e,se.lightProbe.needsUpdate=$e,se.directionalLights.needsUpdate=$e,se.directionalLightShadows.needsUpdate=$e,se.pointLights.needsUpdate=$e,se.pointLightShadows.needsUpdate=$e,se.spotLights.needsUpdate=$e,se.spotLightShadows.needsUpdate=$e,se.rectAreaLights.needsUpdate=$e,se.hemisphereLights.needsUpdate=$e}function cs(se){return se.isMeshLambertMaterial||se.isMeshToonMaterial||se.isMeshPhongMaterial||se.isMeshStandardMaterial||se.isShadowMaterial||se.isShaderMaterial&&se.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(se,$e,et){const He=me.get(se);He.__autoAllocateDepthBuffer=se.resolveDepthBuffer===!1,He.__autoAllocateDepthBuffer===!1&&(He.__useRenderToTexture=!1),me.get(se.texture).__webglTexture=$e,me.get(se.depthTexture).__webglTexture=He.__autoAllocateDepthBuffer?void 0:et,He.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(se,$e){const et=me.get(se);et.__webglFramebuffer=$e,et.__useDefaultFramebuffer=$e===void 0};const Gs=Y.createFramebuffer();this.setRenderTarget=function(se,$e=0,et=0){N=se,A=$e,C=et;let He=!0,ke=null,pt=!1,Tt=!1;if(se){const Ot=me.get(se);if(Ot.__useDefaultFramebuffer!==void 0)Be.bindFramebuffer(Y.FRAMEBUFFER,null),He=!1;else if(Ot.__webglFramebuffer===void 0)X.setupRenderTarget(se);else if(Ot.__hasExternalTextures)X.rebindTextures(se,me.get(se.texture).__webglTexture,me.get(se.depthTexture).__webglTexture);else if(se.depthBuffer){const kt=se.depthTexture;if(Ot.__boundDepthTexture!==kt){if(kt!==null&&me.has(kt)&&(se.width!==kt.image.width||se.height!==kt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");X.setupDepthRenderbuffer(se)}}const Gt=se.texture;(Gt.isData3DTexture||Gt.isDataArrayTexture||Gt.isCompressedArrayTexture)&&(Tt=!0);const Xt=me.get(se).__webglFramebuffer;se.isWebGLCubeRenderTarget?(Array.isArray(Xt[$e])?ke=Xt[$e][et]:ke=Xt[$e],pt=!0):se.samples>0&&X.useMultisampledRTT(se)===!1?ke=me.get(se).__webglMultisampledFramebuffer:Array.isArray(Xt)?ke=Xt[et]:ke=Xt,D.copy(se.viewport),O.copy(se.scissor),I=se.scissorTest}else D.copy($).multiplyScalar(F).floor(),O.copy(W).multiplyScalar(F).floor(),I=le;if(et!==0&&(ke=Gs),Be.bindFramebuffer(Y.FRAMEBUFFER,ke)&&He&&Be.drawBuffers(se,ke),Be.viewport(D),Be.scissor(O),Be.setScissorTest(I),pt){const Ot=me.get(se.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+$e,Ot.__webglTexture,et)}else if(Tt){const Ot=me.get(se.texture),Gt=$e;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Ot.__webglTexture,et,Gt)}else if(se!==null&&et!==0){const Ot=me.get(se.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Ot.__webglTexture,et)}T=-1},this.readRenderTargetPixels=function(se,$e,et,He,ke,pt,Tt){if(!(se&&se.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Rt=me.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Rt=Rt[Tt]),Rt){Be.bindFramebuffer(Y.FRAMEBUFFER,Rt);try{const Ot=se.texture,Gt=Ot.format,Xt=Ot.type;if(!ue.textureFormatReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ue.textureTypeReadable(Xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}$e>=0&&$e<=se.width-He&&et>=0&&et<=se.height-ke&&Y.readPixels($e,et,He,ke,ae.convert(Gt),ae.convert(Xt),pt)}finally{const Ot=N!==null?me.get(N).__webglFramebuffer:null;Be.bindFramebuffer(Y.FRAMEBUFFER,Ot)}}},this.readRenderTargetPixelsAsync=async function(se,$e,et,He,ke,pt,Tt){if(!(se&&se.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Rt=me.get(se).__webglFramebuffer;if(se.isWebGLCubeRenderTarget&&Tt!==void 0&&(Rt=Rt[Tt]),Rt)if($e>=0&&$e<=se.width-He&&et>=0&&et<=se.height-ke){Be.bindFramebuffer(Y.FRAMEBUFFER,Rt);const Ot=se.texture,Gt=Ot.format,Xt=Ot.type;if(!ue.textureFormatReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ue.textureTypeReadable(Xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const kt=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,kt),Y.bufferData(Y.PIXEL_PACK_BUFFER,pt.byteLength,Y.STREAM_READ),Y.readPixels($e,et,He,ke,ae.convert(Gt),ae.convert(Xt),0);const fn=N!==null?me.get(N).__webglFramebuffer:null;Be.bindFramebuffer(Y.FRAMEBUFFER,fn);const pn=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await TOe(Y,pn,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,kt),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,pt),Y.deleteBuffer(kt),Y.deleteSync(pn),pt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(se,$e=null,et=0){const He=Math.pow(2,-et),ke=Math.floor(se.image.width*He),pt=Math.floor(se.image.height*He),Tt=$e!==null?$e.x:0,Rt=$e!==null?$e.y:0;X.setTexture2D(se,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,et,0,0,Tt,Rt,ke,pt),Be.unbindTexture()};const Gr=Y.createFramebuffer(),Wr=Y.createFramebuffer();this.copyTextureToTexture=function(se,$e,et=null,He=null,ke=0,pt=null){pt===null&&(ke!==0?(JS("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pt=ke,ke=0):pt=0);let Tt,Rt,Ot,Gt,Xt,kt,fn,pn,Xr;const Pr=se.isCompressedTexture?se.mipmaps[pt]:se.image;if(et!==null)Tt=et.max.x-et.min.x,Rt=et.max.y-et.min.y,Ot=et.isBox3?et.max.z-et.min.z:1,Gt=et.min.x,Xt=et.min.y,kt=et.isBox3?et.min.z:0;else{const qi=Math.pow(2,-ke);Tt=Math.floor(Pr.width*qi),Rt=Math.floor(Pr.height*qi),se.isDataArrayTexture?Ot=Pr.depth:se.isData3DTexture?Ot=Math.floor(Pr.depth*qi):Ot=1,Gt=0,Xt=0,kt=0}He!==null?(fn=He.x,pn=He.y,Xr=He.z):(fn=0,pn=0,Xr=0);const Un=ae.convert($e.format),Yt=ae.convert($e.type);let Yr;$e.isData3DTexture?(X.setTexture3D($e,0),Yr=Y.TEXTURE_3D):$e.isDataArrayTexture||$e.isCompressedArrayTexture?(X.setTexture2DArray($e,0),Yr=Y.TEXTURE_2D_ARRAY):(X.setTexture2D($e,0),Yr=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,$e.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$e.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,$e.unpackAlignment);const On=Y.getParameter(Y.UNPACK_ROW_LENGTH),ws=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),bd=Y.getParameter(Y.UNPACK_SKIP_PIXELS),Ws=Y.getParameter(Y.UNPACK_SKIP_ROWS),fu=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Pr.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Pr.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Gt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Xt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,kt);const dr=se.isDataArrayTexture||se.isData3DTexture,_s=$e.isDataArrayTexture||$e.isData3DTexture;if(se.isDepthTexture){const qi=me.get(se),us=me.get($e),Gi=me.get(qi.__renderTarget),zn=me.get(us.__renderTarget);Be.bindFramebuffer(Y.READ_FRAMEBUFFER,Gi.__webglFramebuffer),Be.bindFramebuffer(Y.DRAW_FRAMEBUFFER,zn.__webglFramebuffer);for(let fc=0;fc<Ot;fc++)dr&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,me.get(se).__webglTexture,ke,kt+fc),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,me.get($e).__webglTexture,pt,Xr+fc)),Y.blitFramebuffer(Gt,Xt,Tt,Rt,fn,pn,Tt,Rt,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Be.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Be.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(ke!==0||se.isRenderTargetTexture||me.has(se)){const qi=me.get(se),us=me.get($e);Be.bindFramebuffer(Y.READ_FRAMEBUFFER,Gr),Be.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Wr);for(let Gi=0;Gi<Ot;Gi++)dr?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,qi.__webglTexture,ke,kt+Gi):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,qi.__webglTexture,ke),_s?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,us.__webglTexture,pt,Xr+Gi):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,us.__webglTexture,pt),ke!==0?Y.blitFramebuffer(Gt,Xt,Tt,Rt,fn,pn,Tt,Rt,Y.COLOR_BUFFER_BIT,Y.NEAREST):_s?Y.copyTexSubImage3D(Yr,pt,fn,pn,Xr+Gi,Gt,Xt,Tt,Rt):Y.copyTexSubImage2D(Yr,pt,fn,pn,Gt,Xt,Tt,Rt);Be.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Be.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else _s?se.isDataTexture||se.isData3DTexture?Y.texSubImage3D(Yr,pt,fn,pn,Xr,Tt,Rt,Ot,Un,Yt,Pr.data):$e.isCompressedArrayTexture?Y.compressedTexSubImage3D(Yr,pt,fn,pn,Xr,Tt,Rt,Ot,Un,Pr.data):Y.texSubImage3D(Yr,pt,fn,pn,Xr,Tt,Rt,Ot,Un,Yt,Pr):se.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,pt,fn,pn,Tt,Rt,Un,Yt,Pr.data):se.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,pt,fn,pn,Pr.width,Pr.height,Un,Pr.data):Y.texSubImage2D(Y.TEXTURE_2D,pt,fn,pn,Tt,Rt,Un,Yt,Pr);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,On),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,ws),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,bd),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Ws),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,fu),pt===0&&$e.generateMipmaps&&Y.generateMipmap(Yr),Be.unbindTexture()},this.copyTextureToTexture3D=function(se,$e,et=null,He=null,ke=0){return JS('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(se,$e,et,He,ke)},this.initRenderTarget=function(se){me.get(se).__webglFramebuffer===void 0&&X.setupRenderTarget(se)},this.initTexture=function(se){se.isCubeTexture?X.setTextureCube(se,0):se.isData3DTexture?X.setTexture3D(se,0):se.isDataArrayTexture||se.isCompressedArrayTexture?X.setTexture2DArray(se,0):X.setTexture2D(se,0),Be.unbindTexture()},this.resetState=function(){A=0,C=0,N=null,Be.reset(),Re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return qu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Gn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Gn._getUnpackColorSpace()}}const M5e=parseInt($N.replace(/\D+/g,""));function MV(t,e){if(e===tOe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===i3||e===Jse){let n=t.getIndex();if(n===null){const o=[],l=t.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)o.push(c);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===i3)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(i),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var T5e=Object.defineProperty,P5e=(t,e,n)=>e in t?T5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D5e=(t,e,n)=>(P5e(t,e+"",n),n);class R5e{constructor(){D5e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var O5e=Object.defineProperty,I5e=(t,e,n)=>e in t?O5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e,n)=>(I5e(t,typeof e!="symbol"?e+"":e,n),n);const sS=new Tw,TV=new af,k5e=Math.cos(70*(Math.PI/180)),PV=(t,e)=>(t%e+e)%e;class L5e extends R5e{constructor(e,n){super(),Zt(this,"object"),Zt(this,"domElement"),Zt(this,"enabled",!0),Zt(this,"target",new ze),Zt(this,"minDistance",0),Zt(this,"maxDistance",1/0),Zt(this,"minZoom",0),Zt(this,"maxZoom",1/0),Zt(this,"minPolarAngle",0),Zt(this,"maxPolarAngle",Math.PI),Zt(this,"minAzimuthAngle",-1/0),Zt(this,"maxAzimuthAngle",1/0),Zt(this,"enableDamping",!1),Zt(this,"dampingFactor",.05),Zt(this,"enableZoom",!0),Zt(this,"zoomSpeed",1),Zt(this,"enableRotate",!0),Zt(this,"rotateSpeed",1),Zt(this,"enablePan",!0),Zt(this,"panSpeed",1),Zt(this,"screenSpacePanning",!0),Zt(this,"keyPanSpeed",7),Zt(this,"zoomToCursor",!1),Zt(this,"autoRotate",!1),Zt(this,"autoRotateSpeed",2),Zt(this,"reverseOrbit",!1),Zt(this,"reverseHorizontalOrbit",!1),Zt(this,"reverseVerticalOrbit",!1),Zt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Zt(this,"mouseButtons",{LEFT:Wm.ROTATE,MIDDLE:Wm.DOLLY,RIGHT:Wm.PAN}),Zt(this,"touches",{ONE:Xm.ROTATE,TWO:Xm.DOLLY_PAN}),Zt(this,"target0"),Zt(this,"position0"),Zt(this,"zoom0"),Zt(this,"_domElementKeyEvents",null),Zt(this,"getPolarAngle"),Zt(this,"getAzimuthalAngle"),Zt(this,"setPolarAngle"),Zt(this,"setAzimuthalAngle"),Zt(this,"getDistance"),Zt(this,"getZoomScale"),Zt(this,"listenToKeyEvents"),Zt(this,"stopListenToKeyEvents"),Zt(this,"saveState"),Zt(this,"reset"),Zt(this,"update"),Zt(this,"connect"),Zt(this,"dispose"),Zt(this,"dollyIn"),Zt(this,"dollyOut"),Zt(this,"getScale"),Zt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=K=>{let ae=PV(K,2*Math.PI),Re=d.phi;Re<0&&(Re+=2*Math.PI),ae<0&&(ae+=2*Math.PI);let Z=Math.abs(ae-Re);2*Math.PI-Z<Z&&(ae<Re?ae+=2*Math.PI:Re+=2*Math.PI),f.phi=ae-Re,r.update()},this.setAzimuthalAngle=K=>{let ae=PV(K,2*Math.PI),Re=d.theta;Re<0&&(Re+=2*Math.PI),ae<0&&(ae+=2*Math.PI);let Z=Math.abs(ae-Re);2*Math.PI-Z<Z&&(ae<Re?ae+=2*Math.PI:Re+=2*Math.PI),f.theta=ae-Re,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=K=>{K.addEventListener("keydown",be),this._domElementKeyEvents=K},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",be),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=l.NONE},this.update=(()=>{const K=new ze,ae=new ze(0,1,0),Re=new tu().setFromUnitVectors(e.up,ae),Z=Re.clone().invert(),Me=new ze,ye=new tu,Ae=2*Math.PI;return function(){const Je=r.object.position;Re.setFromUnitVectors(e.up,ae),Z.copy(Re).invert(),K.copy(Je).sub(r.target),K.applyQuaternion(Re),d.setFromVector3(K),r.autoRotate&&c===l.NONE&&L(O()),r.enableDamping?(d.theta+=f.theta*r.dampingFactor,d.phi+=f.phi*r.dampingFactor):(d.theta+=f.theta,d.phi+=f.phi);let Ke=r.minAzimuthAngle,lt=r.maxAzimuthAngle;isFinite(Ke)&&isFinite(lt)&&(Ke<-Math.PI?Ke+=Ae:Ke>Math.PI&&(Ke-=Ae),lt<-Math.PI?lt+=Ae:lt>Math.PI&&(lt-=Ae),Ke<=lt?d.theta=Math.max(Ke,Math.min(lt,d.theta)):d.theta=d.theta>(Ke+lt)/2?Math.max(Ke,d.theta):Math.min(lt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&T||r.object.isOrthographicCamera?d.radius=le(d.radius):d.radius=le(d.radius*h),K.setFromSpherical(d),K.applyQuaternion(Z),Je.copy(r.target).add(K),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let yt=!1;if(r.zoomToCursor&&T){let at=null;if(r.object instanceof ns&&r.object.isPerspectiveCamera){const vt=K.length();at=le(vt*h);const Ct=vt-at;r.object.position.addScaledVector(C,Ct),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const vt=new ze(N.x,N.y,0);vt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),yt=!0;const Ct=new ze(N.x,N.y,0);Ct.unproject(r.object),r.object.position.sub(Ct).add(vt),r.object.updateMatrixWorld(),at=K.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;at!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(at).add(r.object.position):(sS.origin.copy(r.object.position),sS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(sS.direction))<k5e?e.lookAt(r.target):(TV.setFromNormalAndCoplanarPoint(r.object.up,r.target),sS.intersectPlane(TV,r.target))))}else r.object instanceof Zg&&r.object.isOrthographicCamera&&(yt=h!==1,yt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,T=!1,yt||Me.distanceToSquared(r.object.position)>u||8*(1-ye.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Me.copy(r.object.position),ye.copy(r.object.quaternion),yt=!1,!0):!1}})(),this.connect=K=>{r.domElement=K,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",We),r.domElement.addEventListener("pointerdown",G),r.domElement.addEventListener("pointercancel",fe),r.domElement.addEventListener("wheel",ve)},this.dispose=()=>{var K,ae,Re,Z,Me,ye;r.domElement&&(r.domElement.style.touchAction="auto"),(K=r.domElement)==null||K.removeEventListener("contextmenu",We),(ae=r.domElement)==null||ae.removeEventListener("pointerdown",G),(Re=r.domElement)==null||Re.removeEventListener("pointercancel",fe),(Z=r.domElement)==null||Z.removeEventListener("wheel",ve),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",de),(ye=r.domElement)==null||ye.ownerDocument.removeEventListener("pointerup",fe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",be)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=l.NONE;const u=1e-6,d=new rV,f=new rV;let h=1;const p=new ze,y=new ln,g=new ln,v=new ln,b=new ln,w=new ln,_=new ln,S=new ln,j=new ln,A=new ln,C=new ze,N=new ln;let T=!1;const P=[],D={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function I(){return Math.pow(.95,r.zoomSpeed)}function L(K){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=K:f.theta-=K}function z(K){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=K:f.phi-=K}const q=(()=>{const K=new ze;return function(Re,Z){K.setFromMatrixColumn(Z,0),K.multiplyScalar(-Re),p.add(K)}})(),V=(()=>{const K=new ze;return function(Re,Z){r.screenSpacePanning===!0?K.setFromMatrixColumn(Z,1):(K.setFromMatrixColumn(Z,0),K.crossVectors(r.object.up,K)),K.multiplyScalar(Re),p.add(K)}})(),F=(()=>{const K=new ze;return function(Re,Z){const Me=r.domElement;if(Me&&r.object instanceof ns&&r.object.isPerspectiveCamera){const ye=r.object.position;K.copy(ye).sub(r.target);let Ae=K.length();Ae*=Math.tan(r.object.fov/2*Math.PI/180),q(2*Re*Ae/Me.clientHeight,r.object.matrix),V(2*Z*Ae/Me.clientHeight,r.object.matrix)}else Me&&r.object instanceof Zg&&r.object.isOrthographicCamera?(q(Re*(r.object.right-r.object.left)/r.object.zoom/Me.clientWidth,r.object.matrix),V(Z*(r.object.top-r.object.bottom)/r.object.zoom/Me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function U(K){r.object instanceof ns&&r.object.isPerspectiveCamera||r.object instanceof Zg&&r.object.isOrthographicCamera?h=K:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(K){U(h/K)}function $(K){U(h*K)}function W(K){if(!r.zoomToCursor||!r.domElement)return;T=!0;const ae=r.domElement.getBoundingClientRect(),Re=K.clientX-ae.left,Z=K.clientY-ae.top,Me=ae.width,ye=ae.height;N.x=Re/Me*2-1,N.y=-(Z/ye)*2+1,C.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function le(K){return Math.max(r.minDistance,Math.min(r.maxDistance,K))}function ie(K){y.set(K.clientX,K.clientY)}function re(K){W(K),S.set(K.clientX,K.clientY)}function _e(K){b.set(K.clientX,K.clientY)}function pe(K){g.set(K.clientX,K.clientY),v.subVectors(g,y).multiplyScalar(r.rotateSpeed);const ae=r.domElement;ae&&(L(2*Math.PI*v.x/ae.clientHeight),z(2*Math.PI*v.y/ae.clientHeight)),y.copy(g),r.update()}function Ne(K){j.set(K.clientX,K.clientY),A.subVectors(j,S),A.y>0?H(I()):A.y<0&&$(I()),S.copy(j),r.update()}function je(K){w.set(K.clientX,K.clientY),_.subVectors(w,b).multiplyScalar(r.panSpeed),F(_.x,_.y),b.copy(w),r.update()}function Oe(K){W(K),K.deltaY<0?$(I()):K.deltaY>0&&H(I()),r.update()}function Ge(K){let ae=!1;switch(K.code){case r.keys.UP:F(0,r.keyPanSpeed),ae=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),ae=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),ae=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),ae=!0;break}ae&&(K.preventDefault(),r.update())}function Pe(){if(P.length==1)y.set(P[0].pageX,P[0].pageY);else{const K=.5*(P[0].pageX+P[1].pageX),ae=.5*(P[0].pageY+P[1].pageY);y.set(K,ae)}}function Fe(){if(P.length==1)b.set(P[0].pageX,P[0].pageY);else{const K=.5*(P[0].pageX+P[1].pageX),ae=.5*(P[0].pageY+P[1].pageY);b.set(K,ae)}}function Y(){const K=P[0].pageX-P[1].pageX,ae=P[0].pageY-P[1].pageY,Re=Math.sqrt(K*K+ae*ae);S.set(0,Re)}function Ie(){r.enableZoom&&Y(),r.enablePan&&Fe()}function Xe(){r.enableZoom&&Y(),r.enableRotate&&Pe()}function ue(K){if(P.length==1)g.set(K.pageX,K.pageY);else{const Re=oe(K),Z=.5*(K.pageX+Re.x),Me=.5*(K.pageY+Re.y);g.set(Z,Me)}v.subVectors(g,y).multiplyScalar(r.rotateSpeed);const ae=r.domElement;ae&&(L(2*Math.PI*v.x/ae.clientHeight),z(2*Math.PI*v.y/ae.clientHeight)),y.copy(g)}function Be(K){if(P.length==1)w.set(K.pageX,K.pageY);else{const ae=oe(K),Re=.5*(K.pageX+ae.x),Z=.5*(K.pageY+ae.y);w.set(Re,Z)}_.subVectors(w,b).multiplyScalar(r.panSpeed),F(_.x,_.y),b.copy(w)}function rt(K){const ae=oe(K),Re=K.pageX-ae.x,Z=K.pageY-ae.y,Me=Math.sqrt(Re*Re+Z*Z);j.set(0,Me),A.set(0,Math.pow(j.y/S.y,r.zoomSpeed)),H(A.y),S.copy(j)}function me(K){r.enableZoom&&rt(K),r.enablePan&&Be(K)}function X(K){r.enableZoom&&rt(K),r.enableRotate&&ue(K)}function G(K){var ae,Re;r.enabled!==!1&&(P.length===0&&((ae=r.domElement)==null||ae.ownerDocument.addEventListener("pointermove",de),(Re=r.domElement)==null||Re.ownerDocument.addEventListener("pointerup",fe)),xe(K),K.pointerType==="touch"?Ve(K):ne(K))}function de(K){r.enabled!==!1&&(K.pointerType==="touch"?Qe(K):J(K))}function fe(K){var ae,Re,Z;Te(K),P.length===0&&((ae=r.domElement)==null||ae.releasePointerCapture(K.pointerId),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointermove",de),(Z=r.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",fe)),r.dispatchEvent(o),c=l.NONE}function ne(K){let ae;switch(K.button){case 0:ae=r.mouseButtons.LEFT;break;case 1:ae=r.mouseButtons.MIDDLE;break;case 2:ae=r.mouseButtons.RIGHT;break;default:ae=-1}switch(ae){case Wm.DOLLY:if(r.enableZoom===!1)return;re(K),c=l.DOLLY;break;case Wm.ROTATE:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enablePan===!1)return;_e(K),c=l.PAN}else{if(r.enableRotate===!1)return;ie(K),c=l.ROTATE}break;case Wm.PAN:if(K.ctrlKey||K.metaKey||K.shiftKey){if(r.enableRotate===!1)return;ie(K),c=l.ROTATE}else{if(r.enablePan===!1)return;_e(K),c=l.PAN}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(a)}function J(K){if(r.enabled!==!1)switch(c){case l.ROTATE:if(r.enableRotate===!1)return;pe(K);break;case l.DOLLY:if(r.enableZoom===!1)return;Ne(K);break;case l.PAN:if(r.enablePan===!1)return;je(K);break}}function ve(K){r.enabled===!1||r.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(K.preventDefault(),r.dispatchEvent(a),Oe(K),r.dispatchEvent(o))}function be(K){r.enabled===!1||r.enablePan===!1||Ge(K)}function Ve(K){switch(te(K),P.length){case 1:switch(r.touches.ONE){case Xm.ROTATE:if(r.enableRotate===!1)return;Pe(),c=l.TOUCH_ROTATE;break;case Xm.PAN:if(r.enablePan===!1)return;Fe(),c=l.TOUCH_PAN;break;default:c=l.NONE}break;case 2:switch(r.touches.TWO){case Xm.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ie(),c=l.TOUCH_DOLLY_PAN;break;case Xm.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Xe(),c=l.TOUCH_DOLLY_ROTATE;break;default:c=l.NONE}break;default:c=l.NONE}c!==l.NONE&&r.dispatchEvent(a)}function Qe(K){switch(te(K),c){case l.TOUCH_ROTATE:if(r.enableRotate===!1)return;ue(K),r.update();break;case l.TOUCH_PAN:if(r.enablePan===!1)return;Be(K),r.update();break;case l.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(K),r.update();break;case l.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;X(K),r.update();break;default:c=l.NONE}}function We(K){r.enabled!==!1&&K.preventDefault()}function xe(K){P.push(K)}function Te(K){delete D[K.pointerId];for(let ae=0;ae<P.length;ae++)if(P[ae].pointerId==K.pointerId){P.splice(ae,1);return}}function te(K){let ae=D[K.pointerId];ae===void 0&&(ae=new ln,D[K.pointerId]=ae),ae.set(K.pageX,K.pageY)}function oe(K){const ae=K.pointerId===P[0].pointerId?P[1]:P[0];return D[ae.pointerId]}this.dollyIn=(K=I())=>{$(K),r.update()},this.dollyOut=(K=I())=>{H(K),r.update()},this.getScale=()=>h,this.setScale=K=>{U(K),r.update()},this.getZoomScale=()=>I(),n!==void 0&&this.connect(n),this.update()}}function Jj(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const op="srgb",td="srgb-linear",DV=3001,F5e=3e3;class U5e extends Ax{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new V5e(n)}),this.register(function(n){return new q5e(n)}),this.register(function(n){return new eFe(n)}),this.register(function(n){return new tFe(n)}),this.register(function(n){return new nFe(n)}),this.register(function(n){return new W5e(n)}),this.register(function(n){return new X5e(n)}),this.register(function(n){return new Y5e(n)}),this.register(function(n){return new K5e(n)}),this.register(function(n){return new H5e(n)}),this.register(function(n){return new Q5e(n)}),this.register(function(n){return new G5e(n)}),this.register(function(n){return new J5e(n)}),this.register(function(n){return new Z5e(n)}),this.register(function(n){return new $5e(n)}),this.register(function(n){return new rFe(n)}),this.register(function(n){return new iFe(n)})}load(e,n,r,i){const a=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=k0.extractUrlBase(e);o=k0.resolveURL(u,this.path)}else o=k0.extractUrlBase(e);this.manager.itemStart(e);const l=function(u){i?i(u):console.error(u),a.manager.itemError(e),a.manager.itemEnd(e)},c=new vae(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{a.parse(u,o,function(d){n(d),a.manager.itemEnd(e)},l)}catch(d){l(d)}},r,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let a;const o={},l={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Jj(new Uint8Array(e.slice(0,4)))===Nae){try{o[Pn.KHR_BINARY_GLTF]=new sFe(e)}catch(d){i&&i(d);return}a=JSON.parse(o[Pn.KHR_BINARY_GLTF].content)}else a=JSON.parse(Jj(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new xFe(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[d.name]=d,o[d.name]=!0}if(a.extensionsUsed)for(let u=0;u<a.extensionsUsed.length;++u){const d=a.extensionsUsed[u],f=a.extensionsRequired||[];switch(d){case Pn.KHR_MATERIALS_UNLIT:o[d]=new z5e;break;case Pn.KHR_DRACO_MESH_COMPRESSION:o[d]=new aFe(a,this.dracoLoader);break;case Pn.KHR_TEXTURE_TRANSFORM:o[d]=new oFe;break;case Pn.KHR_MESH_QUANTIZATION:o[d]=new lFe;break;default:f.indexOf(d)>=0&&l[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(l),c.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,a){r.parse(e,n,i,a)})}}function B5e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class $5e{constructor(e){this.parser=e,this.name=Pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const a=n[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const a=n.json,c=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let u;const d=new rn(16777215);c.color!==void 0&&d.setRGB(c.color[0],c.color[1],c.color[2],td);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new bae(d),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new yae(d),u.distance=f;break;case"spot":u=new PIe(d),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,Iu(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,a=r.json.nodes[e],l=(a.extensions&&a.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return r._getNodeRef(n.cache,l,c)})}}class z5e{constructor(){this.name=Pn.KHR_MATERIALS_UNLIT}getMaterialType(){return sp}extendParams(e,n,r){const i=[];e.color=new rn(1,1,1),e.opacity=1;const a=n.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const o=a.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],td),e.opacity=o[3]}a.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",a.baseColorTexture,op))}return Promise.all(i)}}class H5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(n.emissiveIntensity=a),Promise.resolve()}}class V5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&a.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ln(l,l)}return Promise.all(a)}}class q5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return n.dispersion=a.dispersion!==void 0?a.dispersion:0,Promise.resolve()}}class G5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&a.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(a)}}class W5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];n.sheenColor=new rn(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const l=o.sheenColorFactor;n.sheenColor.setRGB(l[0],l[1],l[2],td)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&a.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,op)),o.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(a)}}class X5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&a.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(a)}}class Y5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&a.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return n.attenuationColor=new rn().setRGB(l[0],l[1],l[2],td),Promise.all(a)}}class K5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return n.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class Q5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&a.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return n.specularColor=new rn().setRGB(l[0],l[1],l[2],td),o.specularColorTexture!==void 0&&a.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,op)),Promise.all(a)}}class Z5e{constructor(e){this.parser=e,this.name=Pn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&a.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(a)}}class J5e{constructor(e){this.parser=e,this.name=Pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:lu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&a.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(a)}}class eFe{constructor(e){this.parser=e,this.name=Pn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a.source,o)}}class tFe{constructor(e){this.parser=e,this.name=Pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,a=i.textures[e];if(!a.extensions||!a.extensions[n])return null;const o=a.extensions[n],l=i.images[o.source];let c=r.textureLoader;if(l.uri){const u=r.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class nFe{constructor(e){this.parser=e,this.name=Pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,a=i.textures[e];if(!a.extensions||!a.extensions[n])return null;const o=a.extensions[n],l=i.images[o.source];let c=r.textureLoader;if(l.uri){const u=r.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rFe{constructor(e){this.name=Pn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(l){const c=i.byteOffset||0,u=i.byteLength||0,d=i.count,f=i.byteStride,h=new Uint8Array(l,c,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(d,f,h,i.mode,i.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(d*f);return o.decodeGltfBuffer(new Uint8Array(p),d,f,h,i.mode,i.filter),p})})}else return null}}class iFe{constructor(e){this.name=Pn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==zo.TRIANGLES&&u.mode!==zo.TRIANGLE_STRIP&&u.mode!==zo.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,l=[],c={};for(const u in o)l.push(this.parser.getDependency("accessor",o[u]).then(d=>(c[u]=d,c[u])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(u=>{const d=u.pop(),f=d.isGroup?d.children:[d],h=u[0].count,p=[];for(const y of f){const g=new bn,v=new ze,b=new tu,w=new ze(1,1,1),_=new cIe(y.geometry,y.material,h);for(let S=0;S<h;S++)c.TRANSLATION&&v.fromBufferAttribute(c.TRANSLATION,S),c.ROTATION&&b.fromBufferAttribute(c.ROTATION,S),c.SCALE&&w.fromBufferAttribute(c.SCALE,S),_.setMatrixAt(S,g.compose(v,b,w));for(const S in c)if(S==="_COLOR_0"){const j=c[S];_.instanceColor=new a3(j.array,j.itemSize,j.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&y.geometry.setAttribute(S,c[S]);Vr.prototype.copy.call(_,y),this.parser.assignFinalMaterial(_),p.push(_)}return d.isGroup?(d.clear(),d.add(...p),d):p[0]}))}}const Nae="glTF",Fy=12,RV={JSON:1313821514,BIN:5130562};class sFe{constructor(e){this.name=Pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Fy);if(this.header={magic:Jj(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Nae)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Fy,i=new DataView(e,Fy);let a=0;for(;a<r;){const o=i.getUint32(a,!0);a+=4;const l=i.getUint32(a,!0);if(a+=4,l===RV.JSON){const c=new Uint8Array(e,Fy+a,o);this.content=Jj(c)}else if(l===RV.BIN){const c=Fy+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class aFe{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Pn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,l={},c={},u={};for(const d in o){const f=c3[d]||d.toLowerCase();l[f]=o[d]}for(const d in e.attributes){const f=c3[d]||d.toLowerCase();if(o[d]!==void 0){const h=r.accessors[e.attributes[d]],p=Jg[h.componentType];u[f]=p.name,c[f]=h.normalized===!0}}return n.getDependency("bufferView",a).then(function(d){return new Promise(function(f,h){i.decodeDracoFile(d,function(p){for(const y in p.attributes){const g=p.attributes[y],v=c[y];v!==void 0&&(g.normalized=v)}f(p)},l,u,td,h)})})}}class oFe{constructor(){this.name=Pn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class lFe{constructor(){this.name=Pn.KHR_MESH_QUANTIZATION}}class Aae extends Dw{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[a+o];return n}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=l*2,u=l*3,d=i-n,f=(r-n)/d,h=f*f,p=h*f,y=e*u,g=y-u,v=-2*p+3*h,b=p-h,w=1-v,_=b-h+f;for(let S=0;S!==l;S++){const j=o[g+S+l],A=o[g+S+c]*d,C=o[y+S+l],N=o[y+S]*d;a[S]=w*j+_*A+v*C+b*N}return a}}const cFe=new tu;class uFe extends Aae{interpolate_(e,n,r,i){const a=super.interpolate_(e,n,r,i);return cFe.fromArray(a).normalize().toArray(a),a}}const zo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Jg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},OV={9728:Ua,9729:Jo,9984:qse,9985:WS,9986:f0,9987:Vu},IV={33071:bf,33648:Xj,10497:Yf},gT={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},c3={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...M5e>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Qd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},dFe={CUBICSPLINE:void 0,LINEAR:jb,STEP:Sb},vT={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function fFe(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new uF({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:dd})),t.DefaultMaterial}function kh(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Iu(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function hFe(t,e,n){let r=!1,i=!1,a=!1;for(let u=0,d=e.length;u<d;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(t);const o=[],l=[],c=[];for(let u=0,d=e.length;u<d;u++){const f=e[u];if(r){const h=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(h)}if(i){const h=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;l.push(h)}if(a){const h=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;c.push(h)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],h=u[2];return r&&(t.morphAttributes.position=d),i&&(t.morphAttributes.normal=f),a&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function pFe(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function mFe(t){let e;const n=t.extensions&&t.extensions[Pn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+xT(n.attributes):e=t.indices+":"+xT(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+xT(t.targets[r]);return e}function xT(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function u3(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function gFe(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const vFe=new bn;class xFe{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new B5e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&a<98?this.textureLoader=new xae(this.options.manager):this.textureLoader=new IIe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new vae(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const l={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return kh(a,l,i),Iu(l,i),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,a=n.length;i<a;i++){const o=n[i].joints;for(let l=0,c=o.length;l<c;l++)e[o[l]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),a=(o,l)=>{const c=this.associations.get(o);c!=null&&this.associations.set(l,c);for(const[u,d]of o.children.entries())a(d,l.children[u])};return a(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const a=e(n[i]);a&&r.push(a)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(a){return a.loadNode&&a.loadNode(n)});break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(a,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Pn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,o){r.load(k0.resolveURL(n.uri,i.path),a,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,a=n.byteOffset||0;return r.slice(a,a+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=gT[i.type],l=Jg[i.componentType],c=i.normalized===!0,u=new l(i.count*o);return Promise.resolve(new Vs(u,o,c))}const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(o){const l=o[0],c=gT[i.type],u=Jg[i.componentType],d=u.BYTES_PER_ELEMENT,f=d*c,h=i.byteOffset||0,p=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let g,v;if(p&&p!==f){const b=Math.floor(h/p),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+b+":"+i.count;let _=n.cache.get(w);_||(g=new u(l,b*p,i.count*p/d),_=new iIe(g,p/d),n.cache.add(w,_)),v=new sF(_,c,h%p/d,y)}else l===null?g=new u(i.count*c):g=new u(l,h,i.count*c),v=new Vs(g,c,y);if(i.sparse!==void 0){const b=gT.SCALAR,w=Jg[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,j=new w(o[1],_,i.sparse.count*b),A=new u(o[2],S,i.sparse.count*c);l!==null&&(v=new Vs(v.array.slice(),v.itemSize,v.normalized));for(let C=0,N=j.length;C<N;C++){const T=j[C];if(v.setX(T,A[C*c]),c>=2&&v.setY(T,A[C*c+1]),c>=3&&v.setZ(T,A[C*c+2]),c>=4&&v.setW(T,A[C*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,r=this.options,a=n.textures[e].source,o=n.images[a];let l=this.textureLoader;if(o.uri){const c=r.manager.getHandler(o.uri);c!==null&&(l=c)}return this.loadTextureImage(e,a,l)}loadTextureImage(e,n,r){const i=this,a=this.json,o=a.textures[e],l=a.images[n],c=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(n,r).then(function(d){d.flipY=!1,d.name=o.name||l.name||"",d.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(d.name=l.uri);const h=(a.samplers||{})[o.sampler]||{};return d.magFilter=OV[h.magFilter]||Jo,d.minFilter=OV[h.minFilter]||Vu,d.wrapS=IV[h.wrapS]||Yf,d.wrapT=IV[h.wrapT]||Yf,i.associations.set(d,{textures:e}),d}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,n){const r=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],l=self.URL||self.webkitURL;let c=o.uri||"",u=!1;if(o.bufferView!==void 0)c=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const h=new Blob([f],{type:o.mimeType});return c=l.createObjectURL(h),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const d=Promise.resolve(c).then(function(f){return new Promise(function(h,p){let y=h;n.isImageBitmapLoader===!0&&(y=function(g){const v=new ss(g);v.needsUpdate=!0,h(v)}),n.load(k0.resolveURL(f,a.path),y,void 0,p)})}).then(function(f){return u===!0&&l.revokeObjectURL(c),Iu(f,o),f.userData.mimeType=o.mimeType||gFe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[e]=d,d}assignTexture(e,n,r,i){const a=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),a.extensions[Pn.KHR_TEXTURE_TRANSFORM]){const l=r.extensions!==void 0?r.extensions[Pn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=a.associations.get(o);o=a.extensions[Pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),a.associations.set(o,c)}}return i!==void 0&&(typeof i=="number"&&(i=i===DV?op:td),"colorSpace"in o?o.colorSpace=i:o.encoding=i===op?DV:F5e),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,a=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+r.uuid;let c=this.cache.get(l);c||(c=new cF,cl.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(l,c)),r=c}else if(e.isLine){const l="LineBasicMaterial:"+r.uuid;let c=this.cache.get(l);c||(c=new fae,cl.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(l,c)),r=c}if(i||a||o){let l="ClonedMaterial:"+r.uuid+":";i&&(l+="derivative-tangents:"),a&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=r.clone(),a&&(c.vertexColors=!0),o&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return uF}loadMaterial(e){const n=this,r=this.json,i=this.extensions,a=r.materials[e];let o;const l={},c=a.extensions||{},u=[];if(c[Pn.KHR_MATERIALS_UNLIT]){const f=i[Pn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(l,a,n))}else{const f=a.pbrMetallicRoughness||{};if(l.color=new rn(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;l.color.setRGB(h[0],h[1],h[2],td),l.opacity=h[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",f.baseColorTexture,op)),l.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,l.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,l)})))}a.doubleSided===!0&&(l.side=Cc);const d=a.alphaMode||vT.OPAQUE;if(d===vT.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,d===vT.MASK&&(l.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&o!==sp&&(u.push(n.assignTexture(l,"normalMap",a.normalTexture)),l.normalScale=new ln(1,1),a.normalTexture.scale!==void 0)){const f=a.normalTexture.scale;l.normalScale.set(f,f)}if(a.occlusionTexture!==void 0&&o!==sp&&(u.push(n.assignTexture(l,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&o!==sp){const f=a.emissiveFactor;l.emissive=new rn().setRGB(f[0],f[1],f[2],td)}return a.emissiveTexture!==void 0&&o!==sp&&u.push(n.assignTexture(l,"emissiveMap",a.emissiveTexture,op)),Promise.all(u).then(function(){const f=new o(l);return a.name&&(f.name=a.name),Iu(f,a),n.associations.set(f,{materials:e}),a.extensions&&kh(i,f,a),f})}createUniqueName(e){const n=sr.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function a(l){return r[Pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(c){return kV(c,l,n)})}const o=[];for(let l=0,c=e.length;l<c;l++){const u=e[l],d=mFe(u),f=i[d];if(f)o.push(f.promise);else{let h;u.extensions&&u.extensions[Pn.KHR_DRACO_MESH_COMPRESSION]?h=a(u):h=kV(new lc,u,n),i[d]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,l=[];for(let c=0,u=o.length;c<u;c++){const d=o[c].material===void 0?fFe(this.cache):this.getDependency("material",o[c].material);l.push(d)}return l.push(n.loadGeometries(o)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),d=c[c.length-1],f=[];for(let p=0,y=d.length;p<y;p++){const g=d[p],v=o[p];let b;const w=u[p];if(v.mode===zo.TRIANGLES||v.mode===zo.TRIANGLE_STRIP||v.mode===zo.TRIANGLE_FAN||v.mode===void 0)b=a.isSkinnedMesh===!0?new aIe(g,w):new fa(g,w),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),v.mode===zo.TRIANGLE_STRIP?b.geometry=MV(b.geometry,Jse):v.mode===zo.TRIANGLE_FAN&&(b.geometry=MV(b.geometry,i3));else if(v.mode===zo.LINES)b=new fIe(g,w);else if(v.mode===zo.LINE_STRIP)b=new lF(g,w);else if(v.mode===zo.LINE_LOOP)b=new hIe(g,w);else if(v.mode===zo.POINTS)b=new hae(g,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(b.geometry.morphAttributes).length>0&&pFe(b,a),b.name=n.createUniqueName(a.name||"mesh_"+e),Iu(b,a),v.extensions&&kh(i,b,v),n.assignFinalMaterial(b),f.push(b)}for(let p=0,y=f.length;p<y;p++)n.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return a.extensions&&kh(i,f[0],a),f[0];const h=new ap;a.extensions&&kh(i,h,a),n.associations.set(h,{meshes:e});for(let p=0,y=f.length;p<y;p++)h.add(f[p]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new ns(COe.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Zg(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Iu(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,a=n.joints.length;i<a;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const a=i.pop(),o=i,l=[],c=[];for(let u=0,d=o.length;u<d;u++){const f=o[u];if(f){l.push(f);const h=new bn;a!==null&&h.fromArray(a.array,u*16),c.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new aF(l,c)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],a=i.name?i.name:"animation_"+e,o=[],l=[],c=[],u=[],d=[];for(let f=0,h=i.channels.length;f<h;f++){const p=i.channels[f],y=i.samplers[p.sampler],g=p.target,v=g.node,b=i.parameters!==void 0?i.parameters[y.input]:y.input,w=i.parameters!==void 0?i.parameters[y.output]:y.output;g.node!==void 0&&(o.push(this.getDependency("node",v)),l.push(this.getDependency("accessor",b)),c.push(this.getDependency("accessor",w)),u.push(y),d.push(g))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u),Promise.all(d)]).then(function(f){const h=f[0],p=f[1],y=f[2],g=f[3],v=f[4],b=[];for(let w=0,_=h.length;w<_;w++){const S=h[w],j=p[w],A=y[w],C=g[w],N=v[w];if(S===void 0)continue;S.updateMatrix&&S.updateMatrix();const T=r._createAnimationTracks(S,j,A,C,N);if(T)for(let P=0;P<T.length;P++)b.push(T[P])}return new SIe(a,void 0,b)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(a){const o=r._getNodeRef(r.meshCache,i.mesh,a);return i.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let c=0,u=i.weights.length;c<u;c++)l.morphTargetInfluences[c]=i.weights[c]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],a=r._loadNodeShallow(e),o=[],l=i.children||[];for(let u=0,d=l.length;u<d;u++)o.push(r.getDependency("node",l[u]));const c=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([a,Promise.all(o),c]).then(function(u){const d=u[0],f=u[1],h=u[2];h!==null&&d.traverse(function(p){p.isSkinnedMesh&&p.bind(h,vFe)});for(let p=0,y=f.length;p<y;p++)d.add(f[p]);return d})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=n.nodes[e],o=a.name?i.createUniqueName(a.name):"",l=[],c=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&l.push(c),a.camera!==void 0&&l.push(i.getDependency("camera",a.camera).then(function(u){return i._getNodeRef(i.cameraCache,a.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){l.push(u)}),this.nodeCache[e]=Promise.all(l).then(function(u){let d;if(a.isBone===!0?d=new uae:u.length>1?d=new ap:u.length===1?d=u[0]:d=new Vr,d!==u[0])for(let f=0,h=u.length;f<h;f++)d.add(u[f]);if(a.name&&(d.userData.name=a.name,d.name=o),Iu(d,a),a.extensions&&kh(r,d,a),a.matrix!==void 0){const f=new bn;f.fromArray(a.matrix),d.applyMatrix4(f)}else a.translation!==void 0&&d.position.fromArray(a.translation),a.rotation!==void 0&&d.quaternion.fromArray(a.rotation),a.scale!==void 0&&d.scale.fromArray(a.scale);return i.associations.has(d)||i.associations.set(d,{}),i.associations.get(d).nodes=e,d}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,a=new ap;r.name&&(a.name=i.createUniqueName(r.name)),Iu(a,r),r.extensions&&kh(n,a,r);const o=r.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(i.getDependency("node",o[c]));return Promise.all(l).then(function(c){for(let d=0,f=c.length;d<f;d++)a.add(c[d]);const u=d=>{const f=new Map;for(const[h,p]of i.associations)(h instanceof cl||h instanceof ss)&&f.set(h,p);return d.traverse(h=>{const p=i.associations.get(h);p!=null&&f.set(h,p)}),f};return i.associations=u(a),a})}_createAnimationTracks(e,n,r,i,a){const o=[],l=e.name?e.name:e.uuid,c=[];Qd[a.path]===Qd.weights?e.traverse(function(h){h.morphTargetInfluences&&c.push(h.name?h.name:h.uuid)}):c.push(l);let u;switch(Qd[a.path]){case Qd.weights:u=Tv;break;case Qd.rotation:u=Pv;break;case Qd.position:case Qd.scale:u=Dv;break;default:switch(r.itemSize){case 1:u=Tv;break;case 2:case 3:default:u=Dv;break}break}const d=i.interpolation!==void 0?dFe[i.interpolation]:jb,f=this._getArrayFromAccessor(r);for(let h=0,p=c.length;h<p;h++){const y=new u(c[h]+"."+Qd[a.path],n.array,f,d);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=u3(n.constructor),i=new Float32Array(n.length);for(let a=0,o=n.length;a<o;a++)i[a]=n[a]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Pv?uFe:Aae;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function yFe(t,e,n){const r=e.attributes,i=new gd;if(r.POSITION!==void 0){const l=n.json.accessors[r.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(i.set(new ze(c[0],c[1],c[2]),new ze(u[0],u[1],u[2])),l.normalized){const d=u3(Jg[l.componentType]);i.min.multiplyScalar(d),i.max.multiplyScalar(d)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const l=new ze,c=new ze;for(let u=0,d=a.length;u<d;u++){const f=a[u];if(f.POSITION!==void 0){const h=n.json.accessors[f.POSITION],p=h.min,y=h.max;if(p!==void 0&&y!==void 0){if(c.setX(Math.max(Math.abs(p[0]),Math.abs(y[0]))),c.setY(Math.max(Math.abs(p[1]),Math.abs(y[1]))),c.setZ(Math.max(Math.abs(p[2]),Math.abs(y[2]))),h.normalized){const g=u3(Jg[h.componentType]);c.multiplyScalar(g)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(l)}t.boundingBox=i;const o=new ou;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function kV(t,e,n){const r=e.attributes,i=[];function a(o,l){return n.getDependency("accessor",o).then(function(c){t.setAttribute(l,c)})}for(const o in r){const l=c3[o]||o.toLowerCase();l in t.attributes||i.push(a(r[o],l))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(l){t.setIndex(l)});i.push(o)}return Iu(t,e),yFe(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?hFe(t,e.targets,n):t})}var Cae=["PageUp","PageDown"],Mae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tae={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mx="Slider",[d3,bFe,wFe]=ww(Mx),[Pae]=Ni(Mx,[wFe]),[_Fe,qN]=Pae(Mx),Dae=M.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:y,...g}=t,v=M.useRef(new Set),b=M.useRef(0),_=o==="horizontal"?SFe:jFe,[S=[],j]=Ba({prop:d,defaultProp:u,onChange:D=>{[...v.current][b.current]?.focus(),f(D)}}),A=M.useRef(S);function C(D){const O=MFe(S,D);P(D,O)}function N(D){P(D,b.current)}function T(){const D=A.current[b.current];S[b.current]!==D&&h(S)}function P(D,O,{commit:I}={commit:!1}){const L=RFe(a),z=OFe(Math.round((D-r)/a)*a+r,L),q=tb(z,[r,i]);j((V=[])=>{const F=AFe(V,q,O);if(DFe(F,c*a)){b.current=F.indexOf(q);const U=String(F)!==String(V);return U&&I&&h(F),U?F:V}else return V})}return s.jsx(_Fe,{scope:t.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:b,thumbs:v.current,values:S,orientation:o,form:y,children:s.jsx(d3.Provider,{scope:t.__scopeSlider,children:s.jsx(d3.Slot,{scope:t.__scopeSlider,children:s.jsx(_,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:St(g.onPointerDown,()=>{l||(A.current=S)}),min:r,max:i,inverted:p,onSlideStart:l?void 0:C,onSlideMove:l?void 0:N,onSlideEnd:l?void 0:T,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(i,S.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:O})=>{if(!l){const z=Cae.includes(D.key)||D.shiftKey&&Mae.includes(D.key)?10:1,q=b.current,V=S[q],F=a*z*O;P(V+F,q,{commit:!0})}}})})})})});Dae.displayName=Mx;var[Rae,Oae]=Pae(Mx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SFe=M.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,h]=M.useState(null),p=Jt(e,_=>h(_)),y=M.useRef(void 0),g=eh(i),v=g==="ltr",b=v&&!a||!v&&a;function w(_){const S=y.current||f.getBoundingClientRect(),j=[0,S.width],C=mF(j,b?[n,r]:[r,n]);return y.current=S,C(_-S.left)}return s.jsx(Rae,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(Iae,{dir:g,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const S=w(_.clientX);o?.(S)},onSlideMove:_=>{const S=w(_.clientX);l?.(S)},onSlideEnd:()=>{y.current=void 0,c?.()},onStepKeyDown:_=>{const j=Tae[b?"from-left":"from-right"].includes(_.key);u?.({event:_,direction:j?-1:1})}})})}),jFe=M.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=M.useRef(null),f=Jt(e,d),h=M.useRef(void 0),p=!i;function y(g){const v=h.current||d.current.getBoundingClientRect(),b=[0,v.height],_=mF(b,p?[r,n]:[n,r]);return h.current=v,_(g-v.top)}return s.jsx(Rae,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(Iae,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=y(g.clientY);a?.(v)},onSlideMove:g=>{const v=y(g.clientY);o?.(v)},onSlideEnd:()=>{h.current=void 0,l?.()},onStepKeyDown:g=>{const b=Tae[p?"from-bottom":"from-top"].includes(g.key);c?.({event:g,direction:b?-1:1})}})})}),Iae=M.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=qN(Mx,n);return s.jsx(Mt.span,{...u,ref:e,onKeyDown:St(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):Cae.concat(Mae).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:St(t.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:St(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:St(t.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),a(f))})})}),kae="SliderTrack",Lae=M.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=qN(kae,n);return s.jsx(Mt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Lae.displayName=kae;var f3="SliderRange",Fae=M.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=qN(f3,n),a=Oae(f3,n),o=M.useRef(null),l=Jt(e,o),c=i.values.length,u=i.values.map(h=>$ae(h,i.min,i.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Mt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});Fae.displayName=f3;var h3="SliderThumb",Uae=M.forwardRef((t,e)=>{const n=bFe(t.__scopeSlider),[r,i]=M.useState(null),a=Jt(e,l=>i(l)),o=M.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(EFe,{...t,ref:a,index:o})}),EFe=M.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...a}=t,o=qN(h3,n),l=Oae(h3,n),[c,u]=M.useState(null),d=Jt(e,w=>u(w)),f=c?o.form||!!c.closest("form"):!0,h=cw(c),p=o.values[r],y=p===void 0?0:$ae(p,o.min,o.max),g=CFe(r,o.values.length),v=h?.[l.size],b=v?TFe(v,y,l.direction):0;return M.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${b}px)`},children:[s.jsx(d3.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Mt.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:St(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&s.jsx(Bae,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},r)]})});Uae.displayName=h3;var NFe="RadioBubbleInput",Bae=M.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=M.useRef(null),a=Jt(i,r),o=Ew(e);return M.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(Mt.input,{style:{display:"none"},...n,ref:a,defaultValue:e})});Bae.displayName=NFe;function AFe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,a)=>i-a)}function $ae(t,e,n){const a=100/(n-e)*(t-e);return tb(a,[0,100])}function CFe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function MFe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function TFe(t,e,n){const r=t/2,a=mF([0,50],[0,r]);return(r-a(e)*n)*n}function PFe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function DFe(t,e){if(e>0){const n=PFe(t);return Math.min(...n)>=e}return!0}function mF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function RFe(t){return(String(t).split(".")[1]||"").length}function OFe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var zae=Dae,IFe=Lae,kFe=Fae,LFe=Uae;const Hae=M.forwardRef(({className:t,...e},n)=>s.jsxs(zae,{ref:n,className:Nt("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(IFe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(kFe,{className:"absolute h-full bg-primary"})}),s.jsx(LFe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Hae.displayName=zae.displayName;function FFe({modelUrl:t,productImage:e="https://via.placeholder.com/800x800",productName:n="منتج ثلاثي الأبعاد",enableControls:r=!0,autoRotate:i=!0,showStats:a=!1}){const o=M.useRef(null),l=M.useRef(),c=M.useRef(),u=M.useRef(),d=M.useRef(),f=M.useRef(),h=M.useRef(),[p,y]=M.useState(i),[g,v]=M.useState(1),[b,w]=M.useState("#8b5cf6"),[_,S]=M.useState(!1),[j,A]=M.useState({x:0,y:0,z:5});M.useEffect(()=>{if(!o.current)return;const I=new rIe;I.background=new rn(15790320),I.fog=new iF(15790320,10,50),l.current=I;const L=new ns(75,o.current.clientWidth/o.current.clientHeight,.1,1e3);L.position.set(0,0,5),u.current=L;const z=new C5e({antialias:!0,alpha:!0});z.setSize(o.current.clientWidth,o.current.clientHeight),z.setPixelRatio(window.devicePixelRatio),z.shadowMap.enabled=!0,z.shadowMap.type=Hse,o.current.appendChild(z.domElement),c.current=z;const q=new OIe(16777215,.6);I.add(q);const V=new bae(16777215,g);V.position.set(5,5,5),V.castShadow=!0,V.shadow.camera.near=.1,V.shadow.camera.far=50,V.shadow.camera.left=-10,V.shadow.camera.right=10,V.shadow.camera.top=10,V.shadow.camera.bottom=-10,I.add(V);const F=new yae(9133302,.5);F.position.set(-5,5,-5),I.add(F);const U=new L5e(L,z.domElement);U.enableDamping=!0,U.dampingFactor=.05,U.enableZoom=r,U.enablePan=r,U.autoRotate=p,U.autoRotateSpeed=2,d.current=U,t?new U5e().load(t,pe=>{const Ne=pe.scene;Ne.scale.set(1,1,1),Ne.position.set(0,0,0),Ne.castShadow=!0,Ne.receiveShadow=!0,I.add(Ne)},pe=>{console.log("Loading progress:",pe.loaded/pe.total*100+"%")},pe=>{console.error("Error loading model:",pe),H()}):H();function H(){const _e=new jx(2,2,2),Ne=new xae().load(e);Ne.wrapS=Yf,Ne.wrapT=Yf;const je=[new cg({map:Ne}),new cg({map:Ne}),new cg({color:b}),new cg({color:b}),new cg({map:Ne}),new cg({map:Ne})],Oe=new fa(_e,je);Oe.castShadow=!0,Oe.receiveShadow=!0,f.current=Oe,I.add(Oe);const Ge=new lc,Pe=500,Fe=new Float32Array(Pe*3);for(let Xe=0;Xe<Pe*3;Xe++)Fe[Xe]=(Math.random()-.5)*10;Ge.setAttribute("position",new Vs(Fe,3));const Y=new cF({color:9133302,size:.05,transparent:!0,opacity:.6}),Ie=new hae(Ge,Y);I.add(Ie),cr.to(Ie.rotation,{y:Math.PI*2,duration:20,repeat:-1,ease:"none"})}const $=new Pw(20,20),W=new pIe({opacity:.2}),le=new fa($,W);le.rotation.x=-Math.PI/2,le.position.y=-2,le.receiveShadow=!0,I.add(le);const ie=()=>{h.current=requestAnimationFrame(ie),f.current&&!p&&(f.current.rotation.y+=.005),U.update(),z.render(I,L)};ie();const re=()=>{o.current&&(L.aspect=o.current.clientWidth/o.current.clientHeight,L.updateProjectionMatrix(),z.setSize(o.current.clientWidth,o.current.clientHeight))};return window.addEventListener("resize",re),()=>{window.removeEventListener("resize",re),h.current&&cancelAnimationFrame(h.current),o.current&&z.domElement&&o.current.removeChild(z.domElement),z.dispose()}},[t,e,r,b,g]),M.useEffect(()=>{d.current&&(d.current.autoRotate=p)},[p]);const C=()=>{u.current&&d.current&&cr.to(u.current.position,{x:0,y:0,z:5,duration:1,ease:"power2.inOut",onUpdate:()=>d.current?.update()})},N=()=>{u.current&&cr.to(u.current.position,{z:u.current.position.z-1,duration:.5,ease:"power2.inOut"})},T=()=>{u.current&&cr.to(u.current.position,{z:u.current.position.z+1,duration:.5,ease:"power2.inOut"})},P=I=>{if(w(I),f.current&&f.current.material){const L=f.current.material;L[2].color.set(I),L[3].color.set(I)}},D=()=>{document.fullscreenElement?(document.exitFullscreen(),S(!1)):(o.current?.requestFullscreen(),S(!0))},O=()=>{if(c.current&&l.current&&u.current){c.current.render(l.current,u.current);const I=c.current.domElement.toDataURL("image/png"),L=document.createElement("a");L.href=I,L.download=`${n}-3d.png`,L.click()}};return s.jsxs(ce,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsx("h3",{className:"text-xl font-bold text-white bg-black/50 px-3 py-1 rounded-lg backdrop-blur",children:n})}),s.jsx("div",{ref:o,className:`bg-gradient-to-br from-purple-100 to-pink-100 ${_?"fixed inset-0 z-50":"h-[500px]"}`}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:s.jsx("div",{className:"bg-white/90 backdrop-blur-lg rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ge,{size:"icon",variant:p?"default":"outline",onClick:()=>y(!p),title:p?"إيقاف الدوران":"تشغيل الدوران",children:p?s.jsx(Wye,{className:"h-4 w-4"}):s.jsx(Zye,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ge,{size:"icon",variant:"outline",onClick:N,children:s.jsx(qZ,{className:"h-4 w-4"})}),s.jsx(ge,{size:"icon",variant:"outline",onClick:T,children:s.jsx(ebe,{className:"h-4 w-4"})})]}),s.jsx(ge,{size:"icon",variant:"outline",onClick:C,children:s.jsx($Z,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex gap-1",children:["#8b5cf6","#ef4444","#10b981","#3b82f6","#f59e0b"].map(I=>s.jsx("button",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md",style:{backgroundColor:I},onClick:()=>P(I)},I))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fj,{className:"h-4 w-4"}),s.jsx(Hae,{value:[g],onValueChange:([I])=>v(I),min:.1,max:2,step:.1,className:"w-24"})]}),s.jsx(ge,{size:"icon",variant:"outline",onClick:O,children:s.jsx(Oxe,{className:"h-4 w-4"})}),s.jsx(ge,{size:"icon",variant:"outline",onClick:D,children:s.jsx(kye,{className:"h-4 w-4"})})]})})}),a&&s.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-black/50 text-white p-2 rounded-lg text-xs backdrop-blur",children:[s.jsxs("div",{children:["Camera: (",j.x.toFixed(1),", ",j.y.toFixed(1),", ",j.z.toFixed(1),")"]}),s.jsxs("div",{children:["Auto-rotate: ",p?"ON":"OFF"]}),s.jsxs("div",{children:["Light: ",(g*100).toFixed(0),"%"]})]})]})}function UFe(){const[t,e]=M.useState(!0);xRe(),M.useEffect(()=>{const i=setTimeout(()=>{e(!1)},2e3);return()=>clearTimeout(i)},[]);const n=[{id:"1",name:"ساعة ذكية متطورة",price:1299,originalPrice:1599,image:"https://via.placeholder.com/400x400/8b5cf6/ffffff?text=Smart+Watch",rating:4.8,reviews:234,discount:19,badge:"جديد",description:"ساعة ذكية بمميزات متقدمة لتتبع الصحة واللياقة"},{id:"2",name:"سماعات لاسلكية Pro",price:899,originalPrice:1199,image:"https://via.placeholder.com/400x400/ec4899/ffffff?text=Headphones",rating:4.6,reviews:156,discount:25,badge:"الأكثر مبيعاً",description:"سماعات بجودة صوت استثنائية وإلغاء الضوضاء"},{id:"3",name:"كاميرا احترافية 4K",price:3499,originalPrice:3999,image:"https://via.placeholder.com/400x400/3b82f6/ffffff?text=Camera",rating:4.9,reviews:89,discount:13,description:"كاميرا احترافية لتصوير الفيديو بدقة 4K"},{id:"4",name:"لابتوب ألعاب متطور",price:5999,image:"https://via.placeholder.com/400x400/10b981/ffffff?text=Gaming+Laptop",rating:4.7,reviews:312,badge:"حصري",description:"لابتوب قوي للألعاب والأعمال الاحترافية"},{id:"5",name:"تابلت رسم رقمي",price:2299,originalPrice:2799,image:"https://via.placeholder.com/400x400/f59e0b/ffffff?text=Drawing+Tablet",rating:4.5,reviews:67,discount:18,description:"تابلت احترافي للرسم والتصميم الرقمي"}],r=[{id:"1",src:"https://via.placeholder.com/800x600/8b5cf6/ffffff?text=Product+1",thumb:"https://via.placeholder.com/400x300/8b5cf6/ffffff?text=Product+1",caption:"منتج إلكتروني متطور",category:"إلكترونيات"},{id:"2",src:"https://via.placeholder.com/800x1000/ec4899/ffffff?text=Fashion",thumb:"https://via.placeholder.com/400x500/ec4899/ffffff?text=Fashion",caption:"أزياء عصرية",category:"أزياء"},{id:"3",src:"https://via.placeholder.com/800x600/3b82f6/ffffff?text=Home",thumb:"https://via.placeholder.com/400x300/3b82f6/ffffff?text=Home",caption:"ديكور منزلي",category:"منزل"},{id:"4",src:"https://via.placeholder.com/800x800/10b981/ffffff?text=Sports",thumb:"https://via.placeholder.com/400x400/10b981/ffffff?text=Sports",caption:"معدات رياضية",category:"رياضة"},{id:"5",src:"https://via.placeholder.com/800x600/f59e0b/ffffff?text=Beauty",thumb:"https://via.placeholder.com/400x300/f59e0b/ffffff?text=Beauty",caption:"منتجات العناية",category:"جمال"},{id:"6",src:"https://via.placeholder.com/800x1000/ef4444/ffffff?text=Kids",thumb:"https://via.placeholder.com/400x500/ef4444/ffffff?text=Kids",caption:"ألعاب أطفال",category:"أطفال"}];return t?s.jsx(_Re,{}):s.jsxs(wRe,{namespace:"home",children:[s.jsx(SRe,{}),s.jsx(qDe,{}),s.jsx(VDe,{}),s.jsx(Io,{animation:"fadeIn",trigger:!0,triggerStart:"top 90%",children:s.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-purple-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx(Io,{animation:"slideUp",trigger:!0,children:s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"لماذا تختار EgyGo؟"})}),s.jsx(Io,{animation:"stagger",trigger:!0,staggerAmount:.1,children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(ce,{className:"text-center hover:shadow-xl transition-shadow",children:s.jsxs(he,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(va,{className:"h-8 w-8 text-purple-600"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"شحن سريع"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"توصيل خلال 24 ساعة"})]})}),s.jsx(ce,{className:"text-center hover:shadow-xl transition-shadow",children:s.jsxs(he,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Fs,{className:"h-8 w-8 text-green-600"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"ضمان الجودة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"منتجات أصلية 100%"})]})}),s.jsx(ce,{className:"text-center hover:shadow-xl transition-shadow",children:s.jsxs(he,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Jl,{className:"h-8 w-8 text-blue-600"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"دفع آمن"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"طرق دفع متعددة وآمنة"})]})}),s.jsx(ce,{className:"text-center hover:shadow-xl transition-shadow",children:s.jsxs(he,{className:"pt-6",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(OZ,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h3",{className:"font-semibold mb-2",children:"دعم 24/7"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"خدمة عملاء متميزة"})]})})]})})]})})}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs(vl,{defaultValue:"featured",className:"w-full",children:[s.jsxs(No,{className:"grid w-full max-w-md mx-auto grid-cols-3 mb-8",children:[s.jsx(mn,{value:"featured",children:"المميزة"}),s.jsx(mn,{value:"bestsellers",children:"الأكثر مبيعاً"}),s.jsx(mn,{value:"new",children:"جديد"})]}),s.jsx(gn,{value:"featured",children:s.jsx(Io,{animation:"fadeIn",children:s.jsx(mM,{products:n,title:"المنتجات المميزة",subtitle:"اكتشف أفضل المنتجات المختارة بعناية",variant:"default"})})}),s.jsx(gn,{value:"bestsellers",children:s.jsx(Io,{animation:"fadeIn",children:s.jsx(mM,{products:n.slice(0,3),title:"الأكثر مبيعاً",subtitle:"المنتجات الأكثر طلباً هذا الشهر",variant:"coverflow",slidesPerView:3})})}),s.jsx(gn,{value:"new",children:s.jsx(Io,{animation:"fadeIn",children:s.jsx(mM,{products:n.slice(2),title:"وصل حديثاً",subtitle:"أحدث المنتجات في متجرنا",variant:"cards",slidesPerView:1})})})]})})}),s.jsx(Io,{animation:"zoomIn",trigger:!0,children:s.jsx("section",{className:"py-16 bg-gradient-to-b from-purple-50 to-pink-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(jt,{className:"mb-4",children:"تقنية ثلاثية الأبعاد"}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"استكشف المنتجات بتقنية 3D"}),s.jsx("p",{className:"text-muted-foreground",children:"تجربة تفاعلية فريدة لعرض المنتجات"})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx(FFe,{productName:"منتج ثلاثي الأبعاد تفاعلي",productImage:"https://via.placeholder.com/800x800/8b5cf6/ffffff?text=3D+Product",enableControls:!0,autoRotate:!0})})]})})}),s.jsx(Io,{animation:"slideUp",trigger:!0,children:s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx(aPe,{images:r,variant:"masonry",columns:3,showCaptions:!0,enableZoom:!0})})})}),s.jsx(Io,{animation:"parallax",children:s.jsxs("section",{className:"py-24 bg-gradient-to-r from-purple-600 to-pink-600 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsx(Io,{animation:"morphText",trigger:!0,children:s.jsx("h2",{className:"text-4xl font-bold text-center mb-6",children:"ابدأ رحلة التسوق الآن"})}),s.jsx(Io,{animation:"bounce",trigger:!0,delay:.3,children:s.jsx("p",{className:"text-xl text-center mb-8 opacity-90",children:"احصل على خصم 20% على أول طلب لك"})}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs(l9,{className:"px-8 py-4 bg-white text-purple-600 rounded-full font-semibold hover:shadow-2xl transition-shadow",children:[s.jsx(hw,{className:"inline-block ml-2 h-5 w-5"}),"تسوق الآن"]}),s.jsxs(l9,{className:"px-8 py-4 border-2 border-white text-white rounded-full font-semibold hover:bg-white hover:text-purple-600 transition-all",children:[s.jsx(HZ,{className:"inline-block ml-2 h-5 w-5"}),"العروض الخاصة"]})]})]})]})}),s.jsx(Io,{animation:"stagger",trigger:!0,children:s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:"10K+"}),s.jsx("div",{className:"text-muted-foreground",children:"منتج متنوع"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-pink-600 mb-2",children:"50K+"}),s.jsx("div",{className:"text-muted-foreground",children:"عميل سعيد"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:"100+"}),s.jsx("div",{className:"text-muted-foreground",children:"علامة تجارية"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:"24/7"}),s.jsx("div",{className:"text-muted-foreground",children:"دعم فني"})]})]})})})})]})}class BFe extends M.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n),this.setState({error:e,errorInfo:n})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};handleGoHome=()=>{window.location.href="/"};render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-muted",children:s.jsxs(ce,{className:"max-w-2xl w-full",children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3 text-destructive",children:[s.jsx(fN,{className:"h-8 w-8"}),s.jsx(Ce,{className:"text-2xl",children:"حدث خطأ غير متوقع"})]})}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-muted-foreground",children:"نعتذر عن المشكلة. حدث خطأ أثناء تحميل هذه الصفحة."}),!1]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(ge,{onClick:this.handleReset,className:"flex-1",variant:"outline",children:[s.jsx(hx,{className:"ml-2 h-4 w-4"}),"إعادة المحاولة"]}),s.jsxs(ge,{onClick:this.handleGoHome,className:"flex-1",children:[s.jsx(xye,{className:"ml-2 h-4 w-4"}),"العودة للرئيسية"]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground text-center pt-4 border-t",children:["إذا استمرت المشكلة، يرجى"," ",s.jsx("a",{href:"/contact",className:"text-primary hover:underline",children:"التواصل مع الدعم الفني"})]})]})]})}):this.props.children}}function $Fe({error:t,onRetry:e,title:n="حدث خطأ"}){const r=typeof t=="string"?t:t.message;return s.jsx(ce,{className:"border-destructive",children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fN,{className:"h-5 w-5 text-destructive mt-0.5"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-destructive",children:n}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r}),e&&s.jsxs(ge,{onClick:e,size:"sm",variant:"outline",className:"mt-3",children:[s.jsx(hx,{className:"ml-2 h-3 w-3"}),"إعادة المحاولة"]})]})]})})})}const LV="";function zFe(){const{linkCode:t}=dN(),e=xa(),{addItem:n}=gx(),[r,i]=M.useState(null),[a,o]=M.useState(!1),[l,c]=M.useState(""),[u,d]=M.useState(""),[f,h]=M.useState([]),[p,y]=M.useState([]),[g,v]=M.useState([]),[b,w]=M.useState(0),_=Zf(),S=()=>!l||!u||g.length===0?0:g.find(z=>z.color===l&&z.size===u)?.quantity||0,{data:j,isLoading:A,error:C}=ci({queryKey:["affiliate-link",t],queryFn:async()=>{if(!t)throw new Error("Link code is required");const L=await tt.listDocuments(LV,"affiliate_links",[Se.equal("linkCode",t)]);if(L.documents.length===0)throw new Error("رابط غير صالح");return L.documents[0]},enabled:!!t}),{data:N,isLoading:T}=ci({queryKey:["product",j?.productId],queryFn:()=>hl.getById(j.productId),enabled:!!j?.productId}),P=ql({mutationFn:async()=>{j&&await tt.updateDocument(LV,"affiliate_links",j.$id,{clicks:(j.clicks||0)+1,lastClickAt:new Date().toISOString()})},onSuccess:()=>{_.invalidateQueries({queryKey:["affiliate-link",t]})}});M.useEffect(()=>{j&&!a&&(P.mutate(),o(!0),sessionStorage.setItem("referralAffiliateId",j.affiliateId),sessionStorage.setItem("referralLinkCode",t||""))},[j,a]),M.useEffect(()=>{if(N){console.log("🔍 Product data:",N),console.log("📦 colorSizeInventory:",N.colorSizeInventory),console.log("🎨 colors:",N.colors),console.log("📏 sizes:",N.sizes);try{const L=N.colorSizeInventory;if(L&&L!=="[]"&&L!==""){const V=JSON.parse(L);if(console.log("✅ Parsed inventory:",V),V.length>0){v(V);const F=V.reduce(($,W)=>$+(W.quantity||0),0);w(F),console.log("📊 Total stock:",F);const U=new Set,H=new Set;V.forEach($=>{$.quantity>0&&(U.add($.color),H.add($.size))}),h(Array.from(U)),y(Array.from(H)),U.size>0&&!l&&c(Array.from(U)[0]),H.size>0&&!u&&d(Array.from(H)[0]);return}}console.log("⚠️ No inventory data, using fallback");const z=N.colors||[],q=N.sizes||[];if(h(z),y(q),z.length>0||q.length>0)w(999),console.log("✅ Product has colors/sizes, setting stock to 999");else{const V=N.stock||N.stockQuantity||0;w(V>0?V:999),console.log("📦 Using old stock:",V||999)}}catch(L){console.error("❌ Error parsing inventory:",L);const z=N.colors||[],q=N.sizes||[];h(z),y(q),w(999)}}},[N]);const D=()=>{if(!N)return;const L=ps(N.images?.[0]),z=g.length>0&&l&&u?S():b;n({productId:N.id,name:N.name,price:N.price,image:L,quantity:1,stockQuantity:z,inStock:b>0,selectedColor:l||void 0,selectedSize:u||void 0}),e("/cart")},O=()=>{if(!N)return;const L=ps(N.images?.[0]),z=g.length>0&&l&&u?S():b;n({productId:N.id,name:N.name,price:N.price,image:L,quantity:1,stockQuantity:z,inStock:b>0,selectedColor:l||void 0,selectedSize:u||void 0}),e("/checkout")};if(A||T)return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-primary/5 to-white",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(Fne,{count:1})})});if(C||!N)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"max-w-md w-full px-4",children:s.jsx($Fe,{error:C||new Error("المنتج غير موجود"),onRetry:()=>window.location.reload()})})});const I=N.originalPrice?Math.round((N.originalPrice-N.price)/N.originalPrice*100):0;return s.jsxs(s.Fragment,{children:[s.jsx(d5,{title:`${N.name} - عرض خاص`,description:N.description,ogImage:ps(N.images?.[0])}),s.jsx("div",{className:"bg-gradient-to-r from-primary via-orange-500 to-pink-500 text-white",children:s.jsxs("div",{className:"container mx-auto px-4 py-12 text-center",children:[s.jsx(jt,{className:"mb-4 bg-white text-primary hover:bg-white",children:"🔥 عرض خاص لفترة محدودة"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:N.name}),I>0&&s.jsxs("p",{className:"text-2xl md:text-3xl font-semibold",children:["وفّر ",I,"% الآن!"]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12",children:[s.jsxs("div",{children:[s.jsx(ce,{className:"overflow-hidden shadow-xl",children:s.jsx("img",{src:ps(N.images?.[0]),alt:N.name,className:"w-full aspect-square object-cover"})}),N.images&&N.images.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:N.images.slice(1,5).map((L,z)=>{const q=ps(L);return s.jsx(ce,{className:"overflow-hidden cursor-pointer hover:ring-2 hover:ring-primary transition-all",children:s.jsx("img",{src:q,alt:`${N.name} ${z+2}`,className:"w-full aspect-square object-cover"})},z)})})]}),s.jsxs("div",{className:"space-y-6",children:[N.rating>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((L,z)=>s.jsx(da,{className:`h-5 w-5 ${z<Math.round(N.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},z))}),s.jsxs("span",{className:"text-sm text-gray-600",children:[N.rating.toFixed(1)," (",N.reviewCount," تقييم)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline gap-3",children:[s.jsxs("span",{className:"text-5xl font-bold text-primary",children:[N.price.toFixed(2)," جنيه"]}),N.originalPrice&&s.jsxs("span",{className:"text-2xl text-gray-400 line-through",children:[N.originalPrice.toFixed(2)," جنيه"]})]}),I>0&&s.jsxs(jt,{variant:"destructive",className:"text-lg px-3 py-1",children:["وفّر ",(N.originalPrice-N.price).toFixed(2)," جنيه"]})]}),s.jsx(ce,{className:"bg-green-50 border-green-200",children:s.jsxs(he,{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[s.jsx(ul,{className:"h-5 w-5"}),s.jsx("span",{children:"ضمان استرجاع المال خلال 14 يوم"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[s.jsx(va,{className:"h-5 w-5"}),s.jsx("span",{children:"شحن مجاني للطلبات فوق 500 جنيه"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[s.jsx(Fs,{className:"h-5 w-5"}),s.jsx("span",{children:"منتج أصلي 100%"})]})]})}),b>0?s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(ul,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"متوفر في المخزون"}),g.length>0&&l&&u&&s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",S()," متوفر)"]})]}):s.jsx("div",{className:"text-red-600 font-semibold",children:"غير متوفر حالياً"}),f.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(qe,{className:"text-base font-semibold",children:"اختر اللون:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((L,z)=>s.jsx(ge,{variant:l===L?"default":"outline",className:"min-w-[80px]",onClick:()=>c(L),children:L},z))}),l&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["تم اختيار: ",s.jsx("span",{className:"font-semibold",children:l})]})]}),p.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx(qe,{className:"text-base font-semibold",children:"اختر المقاس:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:p.map((L,z)=>s.jsx(ge,{variant:u===L?"default":"outline",className:"min-w-[60px]",onClick:()=>d(L),children:L},z))}),u&&l&&g.length>0&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["الكمية المتاحة: ",s.jsxs("span",{className:"font-semibold",children:[g.find(L=>L.color===l&&L.size===u)?.quantity||0," قطعة"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ge,{onClick:O,size:"lg",className:"w-full text-lg h-14 bg-gradient-to-r from-primary to-orange-500 hover:from-primary/90 hover:to-orange-600",disabled:b===0,children:[s.jsx(ti,{className:"ml-2 h-6 w-6"}),"اشترِ الآن - وفّر ",I,"%"]}),s.jsx(ge,{onClick:D,variant:"outline",size:"lg",className:"w-full text-lg h-14",disabled:b===0,children:"أضف إلى السلة"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{variant:"outline",size:"icon",children:s.jsx(Yc,{className:"h-5 w-5"})}),s.jsx(ge,{variant:"outline",size:"icon",children:s.jsx(fw,{className:"h-5 w-5"})})]})]})]}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-3xl font-bold mb-6",children:"تفاصيل المنتج"}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsx("p",{className:"text-lg text-gray-700 leading-relaxed whitespace-pre-wrap",children:N.description})})})]}),N.reviewCount>0&&s.jsxs("div",{className:"mt-12",children:[s.jsxs("h2",{className:"text-3xl font-bold mb-6",children:["آراء العملاء (",N.reviewCount,")"]}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsx("div",{className:"text-center text-gray-500",children:"التقييمات قادمة قريباً..."})})})]}),s.jsxs("div",{className:"mt-12 grid md:grid-cols-4 gap-6",children:[s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(Fs,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),s.jsx("h3",{className:"font-semibold mb-2",children:"دفع آمن"}),s.jsx("p",{className:"text-sm text-gray-600",children:"جميع المعاملات محمية ومشفرة"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(va,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),s.jsx("h3",{className:"font-semibold mb-2",children:"شحن سريع"}),s.jsx("p",{className:"text-sm text-gray-600",children:"توصيل خلال 2-5 أيام عمل"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(hx,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),s.jsx("h3",{className:"font-semibold mb-2",children:"إرجاع مجاني"}),s.jsx("p",{className:"text-sm text-gray-600",children:"استرجاع المال خلال 14 يوم"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(br,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),s.jsx("h3",{className:"font-semibold mb-2",children:"الأكثر مبيعاً"}),s.jsx("p",{className:"text-sm text-gray-600",children:"يثق به آلاف العملاء"})]})})]}),s.jsx(ce,{className:"mt-12 bg-gradient-to-r from-primary/10 to-orange-500/10 border-primary",children:s.jsxs(he,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"لا تفوت هذا العرض الخاص!"}),s.jsxs("p",{className:"text-lg text-gray-700 mb-6",children:["احصل على ",N.name," الآن بسعر مخفّض"]}),s.jsxs(ge,{onClick:O,size:"lg",className:"text-xl px-12 h-16 bg-gradient-to-r from-primary to-orange-500",disabled:!N.inStock,children:["اطلب الآن - وفّر ",I,"%!"]})]})})]})]})}const aS="",HFe=()=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e};function VFe(){const{user:t}=ur(),{toast:e}=mr(),n=xa(),r=Zf(),[i,a]=M.useState(""),[o,l]=M.useState(""),[c,u]=M.useState(null),{data:d,isLoading:f}=ci({queryKey:["products"],queryFn:()=>hl.getAll()}),h=Array.isArray(d)?d:d?.products||[],{data:p=[],isLoading:y}=ci({queryKey:["affiliate-links",t?.$id],queryFn:async()=>t?.$id?(await tt.listDocuments(aS,"affiliate_links",[Se.equal("affiliateId",t.$id),Se.orderDesc("$createdAt")])).documents:[],enabled:!!t?.$id}),g=ql({mutationFn:async({productId:S,linkCode:j})=>{if(!t?.$id)throw new Error("User not authenticated");if((await tt.listDocuments(aS,"affiliate_links",[Se.equal("linkCode",j)])).documents.length>0)throw new Error("رمز الرابط مستخدم بالفعل. جرب رمز آخر.");return await tt.createDocument(aS,"affiliate_links",za.unique(),{affiliateId:t.$id,productId:S,linkCode:j,clicks:0,conversions:0,revenue:0,createdAt:new Date().toISOString(),lastClickAt:null})},onSuccess:()=>{r.invalidateQueries({queryKey:["affiliate-links"]}),e({title:"تم إنشاء الرابط! 🎉",description:"يمكنك الآن مشاركة الرابط مع عملائك"}),a(""),l("")},onError:S=>{e({title:"خطأ",description:S.message,variant:"destructive"})}}),v=ql({mutationFn:async S=>{await tt.deleteDocument(aS,"affiliate_links",S)},onSuccess:()=>{r.invalidateQueries({queryKey:["affiliate-links"]}),e({title:"تم حذف الرابط",description:"تم حذف الرابط بنجاح"})}}),b=()=>{if(!i){e({title:"تنبيه",description:"الرجاء اختيار منتج",variant:"destructive"});return}const S=o.trim()||HFe();g.mutate({productId:i,linkCode:S})},w=S=>{const j=`${window.location.origin}/l/${S}`;navigator.clipboard.writeText(j),u(S),e({title:"تم النسخ! ✓",description:"تم نسخ الرابط إلى الحافظة"}),setTimeout(()=>u(null),2e3)},_=S=>{window.open(`/l/${S}`,"_blank")};return t?.isAffiliate?s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"إدارة روابط التسويق"}),s.jsx("p",{className:"text-muted-foreground",children:"أنشئ روابط تتبع خاصة لكل منتج وتابع أداء حملاتك"})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(sl,{className:"h-5 w-5"}),"إنشاء رابط جديد"]}),s.jsx(on,{children:"اختر منتجاً وأنشئ رابط تسويقي خاص به"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"اختر المنتج"}),s.jsxs(Lr,{value:i,onValueChange:a,disabled:f,children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"اختر منتج..."})}),s.jsx(Tr,{children:h.map(S=>s.jsxs(At,{value:S.id,children:[S.name," - ",S.price.toFixed(2)," جنيه"]},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"رمز مخصص (اختياري)"}),s.jsx(st,{placeholder:"اتركه فارغاً للتوليد التلقائي",value:o,onChange:S=>l(S.target.value.toUpperCase().slice(0,12)),maxLength:12}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"سيتم توليد رمز عشوائي إذا تركت هذا الحقل فارغاً"})]})]}),s.jsxs(ge,{onClick:b,disabled:!i||g.isPending,className:"w-full md:w-auto",children:[s.jsx(xC,{className:"ml-2 h-4 w-4"}),"إنشاء الرابط"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{children:["روابطك التسويقية (",p.length,")"]}),s.jsx(on,{children:"جميع الروابط التي أنشأتها مع إحصائيات الأداء"})]}),s.jsx(he,{children:y?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"جاري التحميل..."}):p.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(xC,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"لم تنشئ أي روابط بعد"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ابدأ بإنشاء أول رابط تسويقي لك من الأعلى"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"المنتج"}),s.jsx(ut,{children:"رمز الرابط"}),s.jsxs(ut,{className:"text-center",children:[s.jsx($s,{className:"h-4 w-4 inline ml-1"}),"نقرات"]}),s.jsxs(ut,{className:"text-center",children:[s.jsx(ti,{className:"h-4 w-4 inline ml-1"}),"تحويلات"]}),s.jsxs(ut,{className:"text-center",children:[s.jsx(br,{className:"h-4 w-4 inline ml-1"}),"معدل التحويل"]}),s.jsxs(ut,{className:"text-center",children:[s.jsx(kr,{className:"h-4 w-4 inline ml-1"}),"العمولة"]}),s.jsx(ut,{className:"text-left",children:"إجراءات"})]})}),s.jsx(ys,{children:p.map(S=>{const j=h.find(C=>C.id===S.productId),A=S.clicks>0?(S.conversions/S.clicks*100).toFixed(1):"0.0";return s.jsxs(Vn,{children:[s.jsx(dt,{className:"font-medium",children:j?.name||"منتج غير معروف"}),s.jsx(dt,{children:s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:S.linkCode})}),s.jsx(dt,{className:"text-center",children:s.jsx(jt,{variant:"outline",children:S.clicks||0})}),s.jsx(dt,{className:"text-center",children:s.jsx(jt,{variant:"outline",children:S.conversions||0})}),s.jsx(dt,{className:"text-center",children:s.jsxs(jt,{variant:parseFloat(A)>5?"default":"secondary",children:[A,"%"]})}),s.jsxs(dt,{className:"text-center font-semibold text-green-600",children:[(S.revenue||0).toFixed(2)," جنيه"]}),s.jsx(dt,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>w(S.linkCode),children:c===S.linkCode?s.jsx(jt,{variant:"default",className:"h-4 w-4 p-0",children:"✓"}):s.jsx(Rp,{className:"h-4 w-4"})}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>_(S.linkCode),children:s.jsx(c4,{className:"h-4 w-4"})}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>v.mutate(S.$id),disabled:v.isPending,children:s.jsx(fl,{className:"h-4 w-4 text-destructive"})})]})})]},S.$id)})})]})})})]}),s.jsxs(ce,{className:"bg-gradient-to-r from-primary/10 to-orange-500/10 border-primary",children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"flex items-center gap-2",children:"💡 نصائح لزيادة أرباحك"})}),s.jsxs(he,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm",children:"• شارك الروابط على وسائل التواصل الاجتماعي للوصول لجمهور أكبر"}),s.jsx("p",{className:"text-sm",children:"• أنشئ محتوى قيم حول المنتجات التي تسوق لها"}),s.jsx("p",{className:"text-sm",children:"• استخدم الكوبونات الخاصة بك لتحفيز العملاء على الشراء"}),s.jsx("p",{className:"text-sm",children:"• راقب الإحصائيات بانتظام لمعرفة أي المنتجات تحقق أفضل أداء"})]})]})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ce,{children:s.jsxs(he,{className:"p-12 text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(xC,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"هذه الصفحة للمسوقين فقط"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"يجب أن يكون حسابك مفعّلاً كحساب مسوق للوصول إلى أدوات إنشاء الروابط التسويقية"}),s.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[s.jsx(ge,{onClick:()=>n("/update-affiliate-prefs"),children:"تفعيل حساب المسوق"}),s.jsx(ge,{variant:"outline",onClick:()=>n("/affiliate"),children:"معرفة المزيد عن التسويق بالعمولة"})]})]})})})}var yT,FV;function Ga(){if(FV)return yT;FV=1;var t=Array.isArray;return yT=t,yT}var bT,UV;function Vae(){if(UV)return bT;UV=1;var t=typeof G1=="object"&&G1&&G1.Object===Object&&G1;return bT=t,bT}var wT,BV;function cu(){if(BV)return wT;BV=1;var t=Vae(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return wT=n,wT}var _T,$V;function Rw(){if($V)return _T;$V=1;var t=cu(),e=t.Symbol;return _T=e,_T}var ST,zV;function qFe(){if(zV)return ST;zV=1;var t=Rw(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=r.call(o);return u&&(l?o[i]=c:delete o[i]),d}return ST=a,ST}var jT,HV;function GFe(){if(HV)return jT;HV=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return jT=n,jT}var ET,VV;function vd(){if(VV)return ET;VV=1;var t=Rw(),e=qFe(),n=GFe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return ET=o,ET}var NT,qV;function xd(){if(qV)return NT;qV=1;function t(e){return e!=null&&typeof e=="object"}return NT=t,NT}var AT,GV;function Tx(){if(GV)return AT;GV=1;var t=vd(),e=xd(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return AT=r,AT}var CT,WV;function gF(){if(WV)return CT;WV=1;var t=Ga(),e=Tx(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return CT=i,CT}var MT,XV;function oh(){if(XV)return MT;XV=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return MT=t,MT}var TT,YV;function vF(){if(YV)return TT;YV=1;var t=vd(),e=oh(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return TT=o,TT}var PT,KV;function WFe(){if(KV)return PT;KV=1;var t=cu(),e=t["__core-js_shared__"];return PT=e,PT}var DT,QV;function XFe(){if(QV)return DT;QV=1;var t=WFe(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return DT=n,DT}var RT,ZV;function qae(){if(ZV)return RT;ZV=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return RT=n,RT}var OT,JV;function YFe(){if(JV)return OT;JV=1;var t=vF(),e=XFe(),n=oh(),r=qae(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!n(h)||e(h))return!1;var p=t(h)?d:a;return p.test(r(h))}return OT=f,OT}var IT,e7;function KFe(){if(e7)return IT;e7=1;function t(e,n){return e?.[n]}return IT=t,IT}var kT,t7;function sm(){if(t7)return kT;t7=1;var t=YFe(),e=KFe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return kT=n,kT}var LT,n7;function GN(){if(n7)return LT;n7=1;var t=sm(),e=t(Object,"create");return LT=e,LT}var FT,r7;function QFe(){if(r7)return FT;r7=1;var t=GN();function e(){this.__data__=t?t(null):{},this.size=0}return FT=e,FT}var UT,i7;function ZFe(){if(i7)return UT;i7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return UT=t,UT}var BT,s7;function JFe(){if(s7)return BT;s7=1;var t=GN(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return BT=i,BT}var $T,a7;function eUe(){if(a7)return $T;a7=1;var t=GN(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return $T=r,$T}var zT,o7;function tUe(){if(o7)return zT;o7=1;var t=GN(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return zT=n,zT}var HT,l7;function nUe(){if(l7)return HT;l7=1;var t=QFe(),e=ZFe(),n=JFe(),r=eUe(),i=tUe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,HT=a,HT}var VT,c7;function rUe(){if(c7)return VT;c7=1;function t(){this.__data__=[],this.size=0}return VT=t,VT}var qT,u7;function xF(){if(u7)return qT;u7=1;function t(e,n){return e===n||e!==e&&n!==n}return qT=t,qT}var GT,d7;function WN(){if(d7)return GT;d7=1;var t=xF();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return GT=e,GT}var WT,f7;function iUe(){if(f7)return WT;f7=1;var t=WN(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return WT=r,WT}var XT,h7;function sUe(){if(h7)return XT;h7=1;var t=WN();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return XT=e,XT}var YT,p7;function aUe(){if(p7)return YT;p7=1;var t=WN();function e(n){return t(this.__data__,n)>-1}return YT=e,YT}var KT,m7;function oUe(){if(m7)return KT;m7=1;var t=WN();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return KT=e,KT}var QT,g7;function XN(){if(g7)return QT;g7=1;var t=rUe(),e=iUe(),n=sUe(),r=aUe(),i=oUe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,QT=a,QT}var ZT,v7;function yF(){if(v7)return ZT;v7=1;var t=sm(),e=cu(),n=t(e,"Map");return ZT=n,ZT}var JT,x7;function lUe(){if(x7)return JT;x7=1;var t=nUe(),e=XN(),n=yF();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return JT=r,JT}var eP,y7;function cUe(){if(y7)return eP;y7=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return eP=t,eP}var tP,b7;function YN(){if(b7)return tP;b7=1;var t=cUe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return tP=e,tP}var nP,w7;function uUe(){if(w7)return nP;w7=1;var t=YN();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return nP=e,nP}var rP,_7;function dUe(){if(_7)return rP;_7=1;var t=YN();function e(n){return t(this,n).get(n)}return rP=e,rP}var iP,S7;function fUe(){if(S7)return iP;S7=1;var t=YN();function e(n){return t(this,n).has(n)}return iP=e,iP}var sP,j7;function hUe(){if(j7)return sP;j7=1;var t=YN();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return sP=e,sP}var aP,E7;function bF(){if(E7)return aP;E7=1;var t=lUe(),e=uUe(),n=dUe(),r=fUe(),i=hUe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,aP=a,aP}var oP,N7;function Gae(){if(N7)return oP;N7=1;var t=bF(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return a.cache=c.set(l,u)||c,u};return a.cache=new(n.Cache||t),a}return n.Cache=t,oP=n,oP}var lP,A7;function pUe(){if(A7)return lP;A7=1;var t=Gae(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return lP=n,lP}var cP,C7;function mUe(){if(C7)return cP;C7=1;var t=pUe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,u){a.push(c?u.replace(n,"$1"):l||o)}),a});return cP=r,cP}var uP,M7;function wF(){if(M7)return uP;M7=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return uP=t,uP}var dP,T7;function gUe(){if(T7)return dP;T7=1;var t=Rw(),e=wF(),n=Ga(),r=Tx(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return dP=o,dP}var fP,P7;function Wae(){if(P7)return fP;P7=1;var t=gUe();function e(n){return n==null?"":t(n)}return fP=e,fP}var hP,D7;function Xae(){if(D7)return hP;D7=1;var t=Ga(),e=gF(),n=mUe(),r=Wae();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return hP=i,hP}var pP,R7;function KN(){if(R7)return pP;R7=1;var t=Tx();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return pP=e,pP}var mP,O7;function _F(){if(O7)return mP;O7=1;var t=Xae(),e=KN();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return mP=n,mP}var gP,I7;function Yae(){if(I7)return gP;I7=1;var t=_F();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return gP=e,gP}var vUe=Yae();const bo=In(vUe);var vP,k7;function xUe(){if(k7)return vP;k7=1;function t(e){return e==null}return vP=t,vP}var yUe=xUe();const cn=In(yUe);var xP,L7;function bUe(){if(L7)return xP;L7=1;var t=vd(),e=Ga(),n=xd(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return xP=i,xP}var wUe=bUe();const Wp=In(wUe);var _Ue=vF();const nn=In(_Ue);var SUe=oh();const Px=In(SUe);var yP={exports:{}},Qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7;function jUe(){if(F7)return Qn;F7=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case t:switch(v=v.type,v){case n:case i:case r:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case h:case f:case a:return v;default:return b}}case e:return b}}}return Qn.ContextConsumer=o,Qn.ContextProvider=a,Qn.Element=t,Qn.ForwardRef=c,Qn.Fragment=n,Qn.Lazy=h,Qn.Memo=f,Qn.Portal=e,Qn.Profiler=i,Qn.StrictMode=r,Qn.Suspense=u,Qn.SuspenseList=d,Qn.isAsyncMode=function(){return!1},Qn.isConcurrentMode=function(){return!1},Qn.isContextConsumer=function(v){return g(v)===o},Qn.isContextProvider=function(v){return g(v)===a},Qn.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Qn.isForwardRef=function(v){return g(v)===c},Qn.isFragment=function(v){return g(v)===n},Qn.isLazy=function(v){return g(v)===h},Qn.isMemo=function(v){return g(v)===f},Qn.isPortal=function(v){return g(v)===e},Qn.isProfiler=function(v){return g(v)===i},Qn.isStrictMode=function(v){return g(v)===r},Qn.isSuspense=function(v){return g(v)===u},Qn.isSuspenseList=function(v){return g(v)===d},Qn.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===n||v===i||v===r||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===h||v.$$typeof===f||v.$$typeof===a||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},Qn.typeOf=g,Qn}var U7;function EUe(){return U7||(U7=1,yP.exports=jUe()),yP.exports}var NUe=EUe(),bP,B7;function Kae(){if(B7)return bP;B7=1;var t=vd(),e=xd(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return bP=r,bP}var wP,$7;function AUe(){if($7)return wP;$7=1;var t=Kae();function e(n){return t(n)&&n!=+n}return wP=e,wP}var CUe=AUe();const Dx=In(CUe);var MUe=Kae();const TUe=In(MUe);var ha=function(e){return e===0?0:e>0?1:-1},lp=function(e){return Wp(e)&&e.indexOf("%")===e.length-1},wt=function(e){return TUe(e)&&!Dx(e)},PUe=function(e){return cn(e)},ki=function(e){return wt(e)||Wp(e)},DUe=0,am=function(e){var n=++DUe;return"".concat(e||"").concat(n)},pa=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(e)&&!Wp(e))return r;var a;if(lp(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Dx(a)&&(a=r),i&&a>n&&(a=n),a},df=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},RUe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ii=function(e,n){return wt(e)&&wt(n)?function(r){return e+r*(n-e)}:function(){return n}};function eE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):bo(r,e))===n})}var OUe=function(e,n){return wt(e)&&wt(n)?e-n:Wp(e)&&Wp(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ev(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function p3(t){"@babel/helpers - typeof";return p3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p3(t)}var IUe=["viewBox","children"],kUe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z7=["points","pathLength"],_P={svg:IUe,polygon:z7,polyline:z7},SF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],tE=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Px(r))return null;var i={};return Object.keys(r).forEach(function(a){SF.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},LUe=function(e,n,r){return function(i){return e(n,r,i),null}},Xp=function(e,n,r){if(!Px(e)||p3(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];SF.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=LUe(o,n,r))}),i},FUe=["children"],UUe=["children"];function H7(t,e){if(t==null)return{};var n=BUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m3(t){"@babel/helpers - typeof";return m3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m3(t)}var V7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},nd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},q7=null,SP=null,jF=function t(e){if(e===q7&&Array.isArray(SP))return SP;var n=[];return M.Children.forEach(e,function(r){cn(r)||(NUe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),SP=n,q7=e,n};function wo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return nd(i)}):r=[nd(e)],jF(t).forEach(function(i){var a=bo(i,"type.displayName")||bo(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function ao(t,e){var n=wo(t,e);return n&&n[0]}var G7=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!wt(r)||r<=0||!wt(i)||i<=0)},$Ue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zUe=function(e){return e&&e.type&&Wp(e.type)&&$Ue.indexOf(e.type)>=0},Qae=function(e){return e&&m3(e)==="object"&&"clipDot"in e},HUe=function(e,n,r,i){var a,o=(a=_P?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!nn(e)&&(i&&o.includes(n)||kUe.includes(n))||r&&SF.includes(n)},Wt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Px(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;HUe((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},g3=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return W7(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!W7(a,o))return!1}return!0},W7=function(e,n){if(cn(e)&&cn(n))return!0;if(!cn(e)&&!cn(n)){var r=e.props||{},i=r.children,a=H7(r,FUe),o=n.props||{},l=o.children,c=H7(o,UUe);return i&&l?ev(a,c)&&g3(i,l):!i&&!l?ev(a,c):!1}return!1},X7=function(e,n){var r=[],i={};return jF(e).forEach(function(a,o){if(zUe(a))r.push(a);else if(a){var l=nd(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);r.push(f),i[l]=!0}}}),r},VUe=function(e){var n=e&&e.type;return n&&V7[n]?V7[n]:null},qUe=function(e,n){return jF(n).indexOf(e)},GUe=["children","width","height","viewBox","className","style","title","desc"];function v3(){return v3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v3.apply(this,arguments)}function WUe(t,e){if(t==null)return{};var n=XUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x3(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=WUe(t,GUe),d=i||{width:n,height:r,x:0,y:0},f=dn("recharts-surface",a);return ee.createElement("svg",v3({},Wt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ee.createElement("title",null,l),ee.createElement("desc",null,c),e)}var YUe=["children","className"];function y3(){return y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y3.apply(this,arguments)}function KUe(t,e){if(t==null)return{};var n=QUe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Dn=ee.forwardRef(function(t,e){var n=t.children,r=t.className,i=KUe(t,YUe),a=dn("recharts-layer",r);return ee.createElement("g",y3({className:a},Wt(i,!0),{ref:e}),n)}),Kl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},jP,Y7;function ZUe(){if(Y7)return jP;Y7=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return jP=t,jP}var EP,K7;function JUe(){if(K7)return EP;K7=1;var t=ZUe();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return EP=e,EP}var NP,Q7;function Zae(){if(Q7)return NP;Q7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(u){return l.test(u)}return NP=c,NP}var AP,Z7;function e6e(){if(Z7)return AP;Z7=1;function t(e){return e.split("")}return AP=t,AP}var CP,J7;function t6e(){if(J7)return CP;J7=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",g="["+a+"]?",v="(?:"+p+"(?:"+[d,f,h].join("|")+")"+g+y+")*",b=g+y+v,w="(?:"+[d+l+"?",l,f,h,o].join("|")+")",_=RegExp(c+"(?="+c+")|"+w+b,"g");function S(j){return j.match(_)||[]}return CP=S,CP}var MP,eq;function n6e(){if(eq)return MP;eq=1;var t=e6e(),e=Zae(),n=t6e();function r(i){return e(i)?n(i):t(i)}return MP=r,MP}var TP,tq;function r6e(){if(tq)return TP;tq=1;var t=JUe(),e=Zae(),n=n6e(),r=Wae();function i(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[a]()+u}}return TP=i,TP}var PP,nq;function i6e(){if(nq)return PP;nq=1;var t=r6e(),e=t("toUpperCase");return PP=e,PP}var s6e=i6e();const QN=In(s6e);function yr(t){return function(){return t}}const Jae=Math.cos,nE=Math.sin,uc=Math.sqrt,rE=Math.PI,ZN=2*rE,b3=Math.PI,w3=2*b3,Gh=1e-6,a6e=w3-Gh;function eoe(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function o6e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eoe;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class l6e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eoe:o6e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Gh)if(!(Math.abs(f*c-u*d)>Gh)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-o,y=i-l,g=c*c+u*u,v=p*p+y*y,b=Math.sqrt(g),w=Math.sqrt(h),_=a*Math.tan((b3-Math.acos((g+h-v)/(2*b*w)))/2),S=_/w,j=_/b;Math.abs(S-1)>Gh&&this._append`L${e+S*d},${n+S*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=e+j*c},${this._y1=n+j*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Gh||Math.abs(this._y1-d)>Gh)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%w3+w3),h>a6e?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Gh&&this._append`A${r},${r},0,${+(h>=b3)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function EF(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new l6e(e)}function NF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function toe(t){this._context=t}toe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function JN(t){return new toe(t)}function noe(t){return t[0]}function roe(t){return t[1]}function ioe(t,e){var n=yr(!0),r=null,i=JN,a=null,o=EF(l);t=typeof t=="function"?t:t===void 0?noe:yr(t),e=typeof e=="function"?e:e===void 0?roe:yr(e);function l(c){var u,d=(c=NF(c)).length,f,h=!1,p;for(r==null&&(a=i(p=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,c),+e(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:yr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:yr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:yr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function oS(t,e,n){var r=null,i=yr(!0),a=null,o=JN,l=null,c=EF(u);t=typeof t=="function"?t:t===void 0?noe:yr(+t),e=typeof e=="function"?e:yr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?roe:yr(+n);function u(f){var h,p,y,g=(f=NF(f)).length,v,b=!1,w,_=new Array(g),S=new Array(g);for(a==null&&(l=o(w=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=p;--y)l.point(_[y],S[y]);l.lineEnd(),l.areaEnd()}b&&(_[h]=+t(v,h,f),S[h]=+e(v,h,f),l.point(r?+r(v,h,f):_[h],n?+n(v,h,f):S[h]))}if(w)return l=null,w+""||null}function d(){return ioe().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:yr(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:yr(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:yr(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:yr(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:yr(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:yr(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:yr(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class soe{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function c6e(t){return new soe(t,!0)}function u6e(t){return new soe(t,!1)}const AF={draw(t,e){const n=uc(e/rE);t.moveTo(n,0),t.arc(0,0,n,0,ZN)}},d6e={draw(t,e){const n=uc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aoe=uc(1/3),f6e=aoe*2,h6e={draw(t,e){const n=uc(e/f6e),r=n*aoe;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},p6e={draw(t,e){const n=uc(e),r=-n/2;t.rect(r,r,n,n)}},m6e=.8908130915292852,ooe=nE(rE/10)/nE(7*rE/10),g6e=nE(ZN/10)*ooe,v6e=-Jae(ZN/10)*ooe,x6e={draw(t,e){const n=uc(e*m6e),r=g6e*n,i=v6e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=ZN*a/5,l=Jae(o),c=nE(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},DP=uc(3),y6e={draw(t,e){const n=-uc(e/(DP*3));t.moveTo(0,n*2),t.lineTo(-DP*n,-n),t.lineTo(DP*n,-n),t.closePath()}},Lo=-.5,Fo=uc(3)/2,_3=1/uc(12),b6e=(_3/2+1)*3,w6e={draw(t,e){const n=uc(e/b6e),r=n/2,i=n*_3,a=r,o=n*_3+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Lo*r-Fo*i,Fo*r+Lo*i),t.lineTo(Lo*a-Fo*o,Fo*a+Lo*o),t.lineTo(Lo*l-Fo*c,Fo*l+Lo*c),t.lineTo(Lo*r+Fo*i,Lo*i-Fo*r),t.lineTo(Lo*a+Fo*o,Lo*o-Fo*a),t.lineTo(Lo*l+Fo*c,Lo*c-Fo*l),t.closePath()}};function _6e(t,e){let n=null,r=EF(i);t=typeof t=="function"?t:yr(t||AF),e=typeof e=="function"?e:yr(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:yr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:yr(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function iE(){}function sE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function loe(t){this._context=t}loe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S6e(t){return new loe(t)}function coe(t){this._context=t}coe.prototype={areaStart:iE,areaEnd:iE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function j6e(t){return new coe(t)}function uoe(t){this._context=t}uoe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E6e(t){return new uoe(t)}function doe(t){this._context=t}doe.prototype={areaStart:iE,areaEnd:iE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function N6e(t){return new doe(t)}function rq(t){return t<0?-1:1}function iq(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(rq(a)+rq(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function sq(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function RP(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function aE(t){this._context=t}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RP(this,this._t0,sq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,RP(this,sq(this,n=iq(this,t,e)),n);break;default:RP(this,this._t0,n=iq(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function foe(t){this._context=new hoe(t)}(foe.prototype=Object.create(aE.prototype)).point=function(t,e){aE.prototype.point.call(this,e,t)};function hoe(t){this._context=t}hoe.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function A6e(t){return new aE(t)}function C6e(t){return new foe(t)}function poe(t){this._context=t}poe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aq(t),i=aq(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aq(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function M6e(t){return new poe(t)}function e2(t,e){this._context=t,this._t=e}e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function T6e(t){return new e2(t,.5)}function P6e(t){return new e2(t,0)}function D6e(t){return new e2(t,1)}function Rv(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function S3(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function R6e(t,e){return t[e]}function O6e(t){const e=[];return e.key=t,e}function I6e(){var t=yr([]),e=S3,n=Rv,r=R6e;function i(a){var o=Array.from(t.apply(this,arguments),O6e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=NF(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:yr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:yr(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?S3:typeof a=="function"?a:yr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Rv,i):n},i}function k6e(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Rv(t,e)}}function L6e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Rv(t,e)}}function F6e(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,p=(f-h)/2,y=0;y<l;++y){var g=t[e[y]],v=g[r][1]||0,b=g[r-1][1]||0;p+=v-b}c+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Rv(t,e)}}function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}var U6e=["type","size","sizeType"];function j3(){return j3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j3.apply(this,arguments)}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(r){B6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6e(t,e,n){return e=$6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6e(t){var e=z6e(t,"string");return Nb(e)=="symbol"?e:e+""}function z6e(t,e){if(Nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H6e(t,e){if(t==null)return{};var n=V6e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var moe={symbolCircle:AF,symbolCross:d6e,symbolDiamond:h6e,symbolSquare:p6e,symbolStar:x6e,symbolTriangle:y6e,symbolWye:w6e},q6e=Math.PI/180,G6e=function(e){var n="symbol".concat(QN(e));return moe[n]||AF},W6e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*q6e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},X6e=function(e,n){moe["symbol".concat(QN(e))]=n},CF=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=H6e(e,U6e),u=lq(lq({},c),{},{type:r,size:a,sizeType:l}),d=function(){var v=G6e(r),b=_6e().type(v).size(W6e(a,l,r));return b()},f=u.className,h=u.cx,p=u.cy,y=Wt(u,!0);return h===+h&&p===+p&&a===+a?ee.createElement("path",j3({},y,{className:dn("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};CF.registerSymbol=X6e;function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function E3(){return E3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E3.apply(this,arguments)}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y6e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){Ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,voe(r.key),r)}}function Z6e(t,e,n){return e&&Q6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function J6e(t,e,n){return e=oE(e),eBe(t,goe()?Reflect.construct(e,n||[],oE(t).constructor):e.apply(t,n))}function eBe(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tBe(t)}function tBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function goe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(goe=function(){return!!t})()}function oE(t){return oE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oE(t)}function nBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N3(t,e)}function Ab(t,e,n){return e=voe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function voe(t){var e=rBe(t,"string");return Ov(e)=="symbol"?e:e+""}function rBe(t,e){if(Ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uo=32,MF=(function(t){function e(){return K6e(this,e),J6e(this,e,arguments)}return nBe(e,t),Z6e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Uo/2,o=Uo/6,l=Uo/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Uo,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Uo,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ee.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Uo/8,"h").concat(Uo,"v").concat(Uo*3/4,"h").concat(-Uo,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(r.legendIcon)){var u=Y6e({},r);return delete u.legendIcon,ee.cloneElement(r.legendIcon,u)}return ee.createElement(CF,{fill:c,cx:a,cy:a,size:Uo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Uo,height:Uo},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var g=p.formatter||c,v=dn(Ab(Ab({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=nn(p.value)?null:p.value;Kl(!nn(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return ee.createElement("li",E3({className:v,style:f,key:"legend-item-".concat(y)},Xp(r.props,p,y)),ee.createElement(x3,{width:o,height:o,viewBox:d,style:h},r.renderIcon(p)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(b,p,y):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(M.PureComponent);Ab(MF,"displayName","Legend");Ab(MF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var OP,uq;function iBe(){if(uq)return OP;uq=1;var t=XN();function e(){this.__data__=new t,this.size=0}return OP=e,OP}var IP,dq;function sBe(){if(dq)return IP;dq=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return IP=t,IP}var kP,fq;function aBe(){if(fq)return kP;fq=1;function t(e){return this.__data__.get(e)}return kP=t,kP}var LP,hq;function oBe(){if(hq)return LP;hq=1;function t(e){return this.__data__.has(e)}return LP=t,LP}var FP,pq;function lBe(){if(pq)return FP;pq=1;var t=XN(),e=yF(),n=bF(),r=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return FP=i,FP}var UP,mq;function xoe(){if(mq)return UP;mq=1;var t=XN(),e=iBe(),n=sBe(),r=aBe(),i=oBe(),a=lBe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,UP=o,UP}var BP,gq;function cBe(){if(gq)return BP;gq=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return BP=e,BP}var $P,vq;function uBe(){if(vq)return $P;vq=1;function t(e){return this.__data__.has(e)}return $P=t,$P}var zP,xq;function yoe(){if(xq)return zP;xq=1;var t=bF(),e=cBe(),n=uBe();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,zP=r,zP}var HP,yq;function boe(){if(yq)return HP;yq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return HP=t,HP}var VP,bq;function woe(){if(bq)return VP;bq=1;function t(e,n){return e.has(n)}return VP=t,VP}var qP,wq;function _oe(){if(wq)return qP;wq=1;var t=yoe(),e=boe(),n=woe(),r=1,i=2;function a(o,l,c,u,d,f){var h=c&r,p=o.length,y=l.length;if(p!=y&&!(h&&y>p))return!1;var g=f.get(o),v=f.get(l);if(g&&v)return g==l&&v==o;var b=-1,w=!0,_=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++b<p;){var S=o[b],j=l[b];if(u)var A=h?u(j,S,b,l,o,f):u(S,j,b,o,l,f);if(A!==void 0){if(A)continue;w=!1;break}if(_){if(!e(l,function(C,N){if(!n(_,N)&&(S===C||d(S,C,c,u,f)))return _.push(N)})){w=!1;break}}else if(!(S===j||d(S,j,c,u,f))){w=!1;break}}return f.delete(o),f.delete(l),w}return qP=a,qP}var GP,_q;function dBe(){if(_q)return GP;_q=1;var t=cu(),e=t.Uint8Array;return GP=e,GP}var WP,Sq;function fBe(){if(Sq)return WP;Sq=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return WP=t,WP}var XP,jq;function TF(){if(jq)return XP;jq=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return XP=t,XP}var YP,Eq;function hBe(){if(Eq)return YP;Eq=1;var t=Rw(),e=dBe(),n=xF(),r=_oe(),i=fBe(),a=TF(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",y="[object Set]",g="[object String]",v="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",_=t?t.prototype:void 0,S=_?_.valueOf:void 0;function j(A,C,N,T,P,D,O){switch(N){case w:if(A.byteLength!=C.byteLength||A.byteOffset!=C.byteOffset)return!1;A=A.buffer,C=C.buffer;case b:return!(A.byteLength!=C.byteLength||!D(new e(A),new e(C)));case c:case u:case h:return n(+A,+C);case d:return A.name==C.name&&A.message==C.message;case p:case g:return A==C+"";case f:var I=i;case y:var L=T&o;if(I||(I=a),A.size!=C.size&&!L)return!1;var z=O.get(A);if(z)return z==C;T|=l,O.set(A,C);var q=r(I(A),I(C),T,P,D,O);return O.delete(A),q;case v:if(S)return S.call(A)==S.call(C)}return!1}return YP=j,YP}var KP,Nq;function Soe(){if(Nq)return KP;Nq=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return KP=t,KP}var QP,Aq;function pBe(){if(Aq)return QP;Aq=1;var t=Soe(),e=Ga();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return QP=n,QP}var ZP,Cq;function mBe(){if(Cq)return ZP;Cq=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return ZP=t,ZP}var JP,Mq;function gBe(){if(Mq)return JP;Mq=1;function t(){return[]}return JP=t,JP}var eD,Tq;function vBe(){if(Tq)return eD;Tq=1;var t=mBe(),e=gBe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return eD=a,eD}var tD,Pq;function xBe(){if(Pq)return tD;Pq=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return tD=t,tD}var nD,Dq;function yBe(){if(Dq)return nD;Dq=1;var t=vd(),e=xd(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return nD=r,nD}var rD,Rq;function PF(){if(Rq)return rD;Rq=1;var t=yBe(),e=xd(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return rD=a,rD}var p0={exports:{}},iD,Oq;function bBe(){if(Oq)return iD;Oq=1;function t(){return!1}return iD=t,iD}p0.exports;var Iq;function joe(){return Iq||(Iq=1,(function(t,e){var n=cu(),r=bBe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(p0,p0.exports)),p0.exports}var sD,kq;function DF(){if(kq)return sD;kq=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return sD=n,sD}var aD,Lq;function RF(){if(Lq)return aD;Lq=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return aD=e,aD}var oD,Fq;function wBe(){if(Fq)return oD;Fq=1;var t=vd(),e=RF(),n=xd(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",y="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",j="[object Int16Array]",A="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]",D={};D[w]=D[_]=D[S]=D[j]=D[A]=D[C]=D[N]=D[T]=D[P]=!0,D[r]=D[i]=D[v]=D[a]=D[b]=D[o]=D[l]=D[c]=D[u]=D[d]=D[f]=D[h]=D[p]=D[y]=D[g]=!1;function O(I){return n(I)&&e(I.length)&&!!D[t(I)]}return oD=O,oD}var lD,Uq;function Eoe(){if(Uq)return lD;Uq=1;function t(e){return function(n){return e(n)}}return lD=t,lD}var m0={exports:{}};m0.exports;var Bq;function _Be(){return Bq||(Bq=1,(function(t,e){var n=Vae(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(m0,m0.exports)),m0.exports}var cD,$q;function Noe(){if($q)return cD;$q=1;var t=wBe(),e=Eoe(),n=_Be(),r=n&&n.isTypedArray,i=r?e(r):t;return cD=i,cD}var uD,zq;function SBe(){if(zq)return uD;zq=1;var t=xBe(),e=PF(),n=Ga(),r=joe(),i=DF(),a=Noe(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=n(u),h=!f&&e(u),p=!f&&!h&&r(u),y=!f&&!h&&!p&&a(u),g=f||h||p||y,v=g?t(u.length,String):[],b=v.length;for(var w in u)(d||l.call(u,w))&&!(g&&(w=="length"||p&&(w=="offset"||w=="parent")||y&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,b)))&&v.push(w);return v}return uD=c,uD}var dD,Hq;function jBe(){if(Hq)return dD;Hq=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return dD=e,dD}var fD,Vq;function Aoe(){if(Vq)return fD;Vq=1;function t(e,n){return function(r){return e(n(r))}}return fD=t,fD}var hD,qq;function EBe(){if(qq)return hD;qq=1;var t=Aoe(),e=t(Object.keys,Object);return hD=e,hD}var pD,Gq;function NBe(){if(Gq)return pD;Gq=1;var t=jBe(),e=EBe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return pD=i,pD}var mD,Wq;function Ow(){if(Wq)return mD;Wq=1;var t=vF(),e=RF();function n(r){return r!=null&&e(r.length)&&!t(r)}return mD=n,mD}var gD,Xq;function t2(){if(Xq)return gD;Xq=1;var t=SBe(),e=NBe(),n=Ow();function r(i){return n(i)?t(i):e(i)}return gD=r,gD}var vD,Yq;function ABe(){if(Yq)return vD;Yq=1;var t=pBe(),e=vBe(),n=t2();function r(i){return t(i,n,e)}return vD=r,vD}var xD,Kq;function CBe(){if(Kq)return xD;Kq=1;var t=ABe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,c,u,d){var f=l&e,h=t(a),p=h.length,y=t(o),g=y.length;if(p!=g&&!f)return!1;for(var v=p;v--;){var b=h[v];if(!(f?b in o:r.call(o,b)))return!1}var w=d.get(a),_=d.get(o);if(w&&_)return w==o&&_==a;var S=!0;d.set(a,o),d.set(o,a);for(var j=f;++v<p;){b=h[v];var A=a[b],C=o[b];if(c)var N=f?c(C,A,b,o,a,d):c(A,C,b,a,o,d);if(!(N===void 0?A===C||u(A,C,l,c,d):N)){S=!1;break}j||(j=b=="constructor")}if(S&&!j){var T=a.constructor,P=o.constructor;T!=P&&"constructor"in a&&"constructor"in o&&!(typeof T=="function"&&T instanceof T&&typeof P=="function"&&P instanceof P)&&(S=!1)}return d.delete(a),d.delete(o),S}return xD=i,xD}var yD,Qq;function MBe(){if(Qq)return yD;Qq=1;var t=sm(),e=cu(),n=t(e,"DataView");return yD=n,yD}var bD,Zq;function TBe(){if(Zq)return bD;Zq=1;var t=sm(),e=cu(),n=t(e,"Promise");return bD=n,bD}var wD,Jq;function Coe(){if(Jq)return wD;Jq=1;var t=sm(),e=cu(),n=t(e,"Set");return wD=n,wD}var _D,eG;function PBe(){if(eG)return _D;eG=1;var t=sm(),e=cu(),n=t(e,"WeakMap");return _D=n,_D}var SD,tG;function DBe(){if(tG)return SD;tG=1;var t=MBe(),e=yF(),n=TBe(),r=Coe(),i=PBe(),a=vd(),o=qae(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=o(t),y=o(e),g=o(n),v=o(r),b=o(i),w=a;return(t&&w(new t(new ArrayBuffer(1)))!=h||e&&w(new e)!=l||n&&w(n.resolve())!=u||r&&w(new r)!=d||i&&w(new i)!=f)&&(w=function(_){var S=a(_),j=S==c?_.constructor:void 0,A=j?o(j):"";if(A)switch(A){case p:return h;case y:return l;case g:return u;case v:return d;case b:return f}return S}),SD=w,SD}var jD,nG;function RBe(){if(nG)return jD;nG=1;var t=xoe(),e=_oe(),n=hBe(),r=CBe(),i=DBe(),a=Ga(),o=joe(),l=Noe(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function y(g,v,b,w,_,S){var j=a(g),A=a(v),C=j?d:i(g),N=A?d:i(v);C=C==u?f:C,N=N==u?f:N;var T=C==f,P=N==f,D=C==N;if(D&&o(g)){if(!o(v))return!1;j=!0,T=!1}if(D&&!T)return S||(S=new t),j||l(g)?e(g,v,b,w,_,S):n(g,v,C,b,w,_,S);if(!(b&c)){var O=T&&p.call(g,"__wrapped__"),I=P&&p.call(v,"__wrapped__");if(O||I){var L=O?g.value():g,z=I?v.value():v;return S||(S=new t),_(L,z,b,w,S)}}return D?(S||(S=new t),r(g,v,b,w,_,S)):!1}return jD=y,jD}var ED,rG;function OF(){if(rG)return ED;rG=1;var t=RBe(),e=xd();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,l)}return ED=n,ED}var ND,iG;function OBe(){if(iG)return ND;iG=1;var t=xoe(),e=OF(),n=1,r=2;function i(a,o,l,c){var u=l.length,d=u,f=!c;if(a==null)return!d;for(a=Object(a);u--;){var h=l[u];if(f&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++u<d;){h=l[u];var p=h[0],y=a[p],g=h[1];if(f&&h[2]){if(y===void 0&&!(p in a))return!1}else{var v=new t;if(c)var b=c(y,g,p,a,o,v);if(!(b===void 0?e(g,y,n|r,c,v):b))return!1}}return!0}return ND=i,ND}var AD,sG;function Moe(){if(sG)return AD;sG=1;var t=oh();function e(n){return n===n&&!t(n)}return AD=e,AD}var CD,aG;function IBe(){if(aG)return CD;aG=1;var t=Moe(),e=t2();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,t(l)]}return i}return CD=n,CD}var MD,oG;function Toe(){if(oG)return MD;oG=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return MD=t,MD}var TD,lG;function kBe(){if(lG)return TD;lG=1;var t=OBe(),e=IBe(),n=Toe();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return TD=r,TD}var PD,cG;function LBe(){if(cG)return PD;cG=1;function t(e,n){return e!=null&&n in Object(e)}return PD=t,PD}var DD,uG;function FBe(){if(uG)return DD;uG=1;var t=Xae(),e=PF(),n=Ga(),r=DF(),i=RF(),a=KN();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,h=!1;++d<f;){var p=a(c[d]);if(!(h=l!=null&&u(l,p)))break;l=l[p]}return h||++d!=f?h:(f=l==null?0:l.length,!!f&&i(f)&&r(p,f)&&(n(l)||e(l)))}return DD=o,DD}var RD,dG;function UBe(){if(dG)return RD;dG=1;var t=LBe(),e=FBe();function n(r,i){return r!=null&&e(r,i,t)}return RD=n,RD}var OD,fG;function BBe(){if(fG)return OD;fG=1;var t=OF(),e=Yae(),n=UBe(),r=gF(),i=Moe(),a=Toe(),o=KN(),l=1,c=2;function u(d,f){return r(d)&&i(f)?a(o(d),f):function(h){var p=e(h,d);return p===void 0&&p===f?n(h,d):t(f,p,l|c)}}return OD=u,OD}var ID,hG;function Rx(){if(hG)return ID;hG=1;function t(e){return e}return ID=t,ID}var kD,pG;function $Be(){if(pG)return kD;pG=1;function t(e){return function(n){return n?.[e]}}return kD=t,kD}var LD,mG;function zBe(){if(mG)return LD;mG=1;var t=_F();function e(n){return function(r){return t(r,n)}}return LD=e,LD}var FD,gG;function HBe(){if(gG)return FD;gG=1;var t=$Be(),e=zBe(),n=gF(),r=KN();function i(a){return n(a)?t(r(a)):e(a)}return FD=i,FD}var UD,vG;function uu(){if(vG)return UD;vG=1;var t=kBe(),e=BBe(),n=Rx(),r=Ga(),i=HBe();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return UD=a,UD}var BD,xG;function Poe(){if(xG)return BD;xG=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return BD=t,BD}var $D,yG;function VBe(){if(yG)return $D;yG=1;function t(e){return e!==e}return $D=t,$D}var zD,bG;function qBe(){if(bG)return zD;bG=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return zD=t,zD}var HD,wG;function GBe(){if(wG)return HD;wG=1;var t=Poe(),e=VBe(),n=qBe();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return HD=r,HD}var VD,_G;function WBe(){if(_G)return VD;_G=1;var t=GBe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return VD=e,VD}var qD,SG;function XBe(){if(SG)return qD;SG=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return qD=t,qD}var GD,jG;function YBe(){if(jG)return GD;jG=1;function t(){}return GD=t,GD}var WD,EG;function KBe(){if(EG)return WD;EG=1;var t=Coe(),e=YBe(),n=TF(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return WD=i,WD}var XD,NG;function QBe(){if(NG)return XD;NG=1;var t=yoe(),e=WBe(),n=XBe(),r=woe(),i=KBe(),a=TF(),o=200;function l(c,u,d){var f=-1,h=e,p=c.length,y=!0,g=[],v=g;if(d)y=!1,h=n;else if(p>=o){var b=u?null:i(c);if(b)return a(b);y=!1,h=r,v=new t}else v=u?[]:g;e:for(;++f<p;){var w=c[f],_=u?u(w):w;if(w=d||w!==0?w:0,y&&_===_){for(var S=v.length;S--;)if(v[S]===_)continue e;u&&v.push(_),g.push(w)}else h(v,_,d)||(v!==g&&v.push(_),g.push(w))}return g}return XD=l,XD}var YD,AG;function ZBe(){if(AG)return YD;AG=1;var t=uu(),e=QBe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return YD=n,YD}var JBe=ZBe();const CG=In(JBe);function Doe(t,e,n){return e===!0?CG(t,n):nn(e)?CG(t,e):t}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}var e$e=["ref"];function MG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MG(Object(n),!0).forEach(function(r){n2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ooe(r.key),r)}}function n$e(t,e,n){return e&&TG(t.prototype,e),n&&TG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r$e(t,e,n){return e=lE(e),i$e(t,Roe()?Reflect.construct(e,n||[],lE(t).constructor):e.apply(t,n))}function i$e(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(t)}function s$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Roe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Roe=function(){return!!t})()}function lE(t){return lE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lE(t)}function a$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A3(t,e)}function A3(t,e){return A3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A3(t,e)}function n2(t,e,n){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=o$e(t,"string");return Iv(e)=="symbol"?e:e+""}function o$e(t,e){if(Iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function l$e(t,e){if(t==null)return{};var n=c$e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u$e(t){return t.value}function d$e(t,e){if(ee.isValidElement(t))return ee.cloneElement(t,e);if(typeof t=="function")return ee.createElement(t,e);e.ref;var n=l$e(e,e$e);return ee.createElement(MF,n)}var PG=1,tl=(function(t){function e(){var n;t$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=r$e(this,e,[].concat(i)),n2(n,"lastBoundingBox",{width:-1,height:-1}),n}return a$e(e,t),n$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>PG||Math.abs(i.height-this.lastBoundingBox.height)>PG)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Mu(Mu({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Mu(Mu({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ee.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},d$e(a,Mu(Mu({},this.props),{},{payload:Doe(d,u,u$e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Mu(Mu({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&wt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(M.PureComponent);n2(tl,"displayName","Legend");n2(tl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var KD,DG;function f$e(){if(DG)return KD;DG=1;var t=Rw(),e=PF(),n=Ga(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return KD=i,KD}var QD,RG;function Ioe(){if(RG)return QD;RG=1;var t=Soe(),e=f$e();function n(r,i,a,o,l){var c=-1,u=r.length;for(a||(a=e),l||(l=[]);++c<u;){var d=r[c];i>0&&a(d)?i>1?n(d,i-1,a,o,l):t(l,d):o||(l[l.length]=d)}return l}return QD=n,QD}var ZD,OG;function h$e(){if(OG)return ZD;OG=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),c=l.length;c--;){var u=l[e?c:++a];if(r(o[u],u,o)===!1)break}return n}}return ZD=t,ZD}var JD,IG;function p$e(){if(IG)return JD;IG=1;var t=h$e(),e=t();return JD=e,JD}var eR,kG;function koe(){if(kG)return eR;kG=1;var t=p$e(),e=t2();function n(r,i){return r&&t(r,i,e)}return eR=n,eR}var tR,LG;function m$e(){if(LG)return tR;LG=1;var t=Ow();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return tR=e,tR}var nR,FG;function IF(){if(FG)return nR;FG=1;var t=koe(),e=m$e(),n=e(t);return nR=n,nR}var rR,UG;function Loe(){if(UG)return rR;UG=1;var t=IF(),e=Ow();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,u){o[++a]=i(l,c,u)}),o}return rR=n,rR}var iR,BG;function g$e(){if(BG)return iR;BG=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return iR=t,iR}var sR,$G;function v$e(){if($G)return sR;$G=1;var t=Tx();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,u=r===null,d=r===r,f=t(r);if(!u&&!f&&!l&&n>r||l&&c&&d&&!u&&!f||a&&c&&d||!i&&d||!o)return 1;if(!a&&!l&&!f&&n<r||f&&i&&o&&!a&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return sR=e,sR}var aR,zG;function x$e(){if(zG)return aR;zG=1;var t=v$e();function e(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,u=i.length;++a<c;){var d=t(o[a],l[a]);if(d){if(a>=u)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return n.index-r.index}return aR=e,aR}var oR,HG;function y$e(){if(HG)return oR;HG=1;var t=wF(),e=_F(),n=uu(),r=Loe(),i=g$e(),a=Eoe(),o=x$e(),l=Rx(),c=Ga();function u(d,f,h){f.length?f=t(f,function(g){return c(g)?function(v){return e(v,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=t(f,a(n));var y=r(d,function(g,v,b){var w=t(f,function(_){return _(g)});return{criteria:w,index:++p,value:g}});return i(y,function(g,v){return o(g,v,h)})}return oR=u,oR}var lR,VG;function b$e(){if(VG)return lR;VG=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return lR=t,lR}var cR,qG;function w$e(){if(qG)return cR;qG=1;var t=b$e(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=a(u),t(r,this,d)}}return cR=n,cR}var uR,GG;function _$e(){if(GG)return uR;GG=1;function t(e){return function(){return e}}return uR=t,uR}var dR,WG;function Foe(){if(WG)return dR;WG=1;var t=sm(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return dR=e,dR}var fR,XG;function S$e(){if(XG)return fR;XG=1;var t=_$e(),e=Foe(),n=Rx(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return fR=r,fR}var hR,YG;function j$e(){if(YG)return hR;YG=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return hR=r,hR}var pR,KG;function E$e(){if(KG)return pR;KG=1;var t=S$e(),e=j$e(),n=e(t);return pR=n,pR}var mR,QG;function N$e(){if(QG)return mR;QG=1;var t=Rx(),e=w$e(),n=E$e();function r(i,a){return n(e(i,a,t),i+"")}return mR=r,mR}var gR,ZG;function r2(){if(ZG)return gR;ZG=1;var t=xF(),e=Ow(),n=DF(),r=oh();function i(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return gR=i,gR}var vR,JG;function A$e(){if(JG)return vR;JG=1;var t=Ioe(),e=y$e(),n=N$e(),r=r2(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return vR=i,vR}var C$e=A$e();const kF=In(C$e);function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function C3(){return C3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C3.apply(this,arguments)}function M$e(t,e){return R$e(t)||D$e(t,e)||P$e(t,e)||T$e()}function T$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$e(t,e){if(t){if(typeof t=="string")return eW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eW(t,e)}}function eW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function R$e(t){if(Array.isArray(t))return t}function tW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(n),!0).forEach(function(r){O$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O$e(t,e,n){return e=I$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$e(t){var e=k$e(t,"string");return Cb(e)=="symbol"?e:e+""}function k$e(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L$e(t){return Array.isArray(t)&&ki(t[0])&&ki(t[1])?t.join(" ~ "):t}var F$e=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,g=e.label,v=e.labelFormatter,b=e.accessibilityLayer,w=b===void 0?!1:b,_=function(){if(d&&d.length){var O={padding:0,margin:0},I=(h?kF(d,h):d).map(function(L,z){if(L.type==="none")return null;var q=xR({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),V=L.formatter||f||L$e,F=L.value,U=L.name,H=F,$=U;if(V&&H!=null&&$!=null){var W=V(F,U,L,z,d);if(Array.isArray(W)){var le=M$e(W,2);H=le[0],$=le[1]}else H=W}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:q},ki($)?ee.createElement("span",{className:"recharts-tooltip-item-name"},$):null,ki($)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},H),ee.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:O},I)}return null},S=xR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=xR({margin:0},u),A=!cn(g),C=A?g:"",N=dn("recharts-default-tooltip",p),T=dn("recharts-tooltip-label",y);A&&v&&d!==void 0&&d!==null&&(C=v(g,d));var P=w?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",C3({className:N,style:S},P),ee.createElement("p",{className:T,style:j},ee.isValidElement(C)?C:"".concat(C)),_())};function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}function lS(t,e,n){return e=U$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$e(t){var e=B$e(t,"string");return Mb(e)=="symbol"?e:e+""}function B$e(t,e){if(Mb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uy="recharts-tooltip-wrapper",$$e={visibility:"hidden"};function z$e(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return dn(Uy,lS(lS(lS(lS({},"".concat(Uy,"-right"),wt(n)&&e&&wt(e.x)&&n>=e.x),"".concat(Uy,"-left"),wt(n)&&e&&wt(e.x)&&n<e.x),"".concat(Uy,"-bottom"),wt(r)&&e&&wt(e.y)&&r>=e.y),"".concat(Uy,"-top"),wt(r)&&e&&wt(e.y)&&r<e.y))}function nW(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&wt(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,p=c[r];return h<p?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,g=c[r]+u;return y>g?Math.max(d,c[r]):Math.max(f,c[r])}function H$e(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function V$e(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=nW({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=nW({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=H$e({translateX:d,translateY:f,useTranslate3d:l})):u=$$e,{cssProperties:u,cssClasses:z$e({translateX:d,translateY:f,coordinate:n})}}function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function rW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(n),!0).forEach(function(r){T3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G$e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Boe(r.key),r)}}function W$e(t,e,n){return e&&G$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function X$e(t,e,n){return e=cE(e),Y$e(t,Uoe()?Reflect.construct(e,n||[],cE(t).constructor):e.apply(t,n))}function Y$e(t,e){if(e&&(kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K$e(t)}function K$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uoe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uoe=function(){return!!t})()}function cE(t){return cE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cE(t)}function Q$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M3(t,e)}function M3(t,e){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M3(t,e)}function T3(t,e,n){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t){var e=Z$e(t,"string");return kv(e)=="symbol"?e:e+""}function Z$e(t,e){if(kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sW=1,J$e=(function(t){function e(){var n;q$e(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=X$e(this,e,[].concat(i)),T3(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),T3(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Q$e(e,t),W$e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>sW||Math.abs(r.height-this.state.lastBoundingBox.height)>sW)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,y=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,_=V$e({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),S=_.cssClasses,j=_.cssProperties,A=iW(iW({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ee.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(N){r.wrapperNode=N}},u)}}])})(M.PureComponent),e8e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},lh={isSsr:e8e()};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function aW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aW(Object(n),!0).forEach(function(r){LF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zoe(r.key),r)}}function r8e(t,e,n){return e&&n8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i8e(t,e,n){return e=uE(e),s8e(t,$oe()?Reflect.construct(e,n||[],uE(t).constructor):e.apply(t,n))}function s8e(t,e){if(e&&(Lv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a8e(t)}function a8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $oe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($oe=function(){return!!t})()}function uE(t){return uE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uE(t)}function o8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P3(t,e)}function P3(t,e){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P3(t,e)}function LF(t,e,n){return e=zoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zoe(t){var e=l8e(t,"string");return Lv(e)=="symbol"?e:e+""}function l8e(t,e){if(Lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function c8e(t){return t.dataKey}function u8e(t,e){return ee.isValidElement(t)?ee.cloneElement(t,e):typeof t=="function"?ee.createElement(t,e):ee.createElement(F$e,e)}var Os=(function(t){function e(){return t8e(this,e),i8e(this,e,arguments)}return o8e(e,t),r8e(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,y=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,j=y??[];f&&j.length&&(j=Doe(y.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),g,c8e));var A=j.length>0;return ee.createElement(J$e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:A,offset:p,position:v,reverseDirection:b,useTranslate3d:w,viewBox:_,wrapperStyle:S},u8e(u,oW(oW({},this.props),{},{payload:j})))}}])})(M.PureComponent);LF(Os,"displayName","Tooltip");LF(Os,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!lh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var yR,lW;function d8e(){if(lW)return yR;lW=1;var t=cu(),e=function(){return t.Date.now()};return yR=e,yR}var bR,cW;function f8e(){if(cW)return bR;cW=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return bR=e,bR}var wR,uW;function h8e(){if(uW)return wR;uW=1;var t=f8e(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return wR=n,wR}var _R,dW;function Hoe(){if(dW)return _R;dW=1;var t=h8e(),e=oh(),n=Tx(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):i.test(u)?r:+u}return _R=c,_R}var SR,fW;function p8e(){if(fW)return SR;fW=1;var t=oh(),e=d8e(),n=Hoe(),r="Expected a function",i=Math.max,a=Math.min;function o(l,c,u){var d,f,h,p,y,g,v=0,b=!1,w=!1,_=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(u)&&(b=!!u.leading,w="maxWait"in u,h=w?i(n(u.maxWait)||0,c):h,_="trailing"in u?!!u.trailing:_);function S(I){var L=d,z=f;return d=f=void 0,v=I,p=l.apply(z,L),p}function j(I){return v=I,y=setTimeout(N,c),b?S(I):p}function A(I){var L=I-g,z=I-v,q=c-L;return w?a(q,h-z):q}function C(I){var L=I-g,z=I-v;return g===void 0||L>=c||L<0||w&&z>=h}function N(){var I=e();if(C(I))return T(I);y=setTimeout(N,A(I))}function T(I){return y=void 0,_&&d?S(I):(d=f=void 0,p)}function P(){y!==void 0&&clearTimeout(y),v=0,d=g=f=y=void 0}function D(){return y===void 0?p:T(e())}function O(){var I=e(),L=C(I);if(d=arguments,f=this,g=I,L){if(y===void 0)return j(g);if(w)return clearTimeout(y),y=setTimeout(N,c),S(g)}return y===void 0&&(y=setTimeout(N,c)),p}return O.cancel=P,O.flush=D,O}return SR=o,SR}var jR,hW;function m8e(){if(hW)return jR;hW=1;var t=p8e(),e=oh(),n="Expected a function";function r(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return jR=r,jR}var g8e=m8e();const Voe=In(g8e);function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function pW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(n),!0).forEach(function(r){v8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v8e(t,e,n){return e=x8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x8e(t){var e=y8e(t,"string");return Tb(e)=="symbol"?e:e+""}function y8e(t,e){if(Tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b8e(t,e){return j8e(t)||S8e(t,e)||_8e(t,e)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8e(t,e){if(t){if(typeof t=="string")return mW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mW(t,e)}}function mW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function j8e(t){if(Array.isArray(t))return t}var cp=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,y=t.debounce,g=y===void 0?0:y,v=t.id,b=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,j=M.useRef(null),A=M.useRef();A.current=w,M.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=M.useState({containerWidth:i.width,containerHeight:i.height}),N=b8e(C,2),T=N[0],P=N[1],D=M.useCallback(function(I,L){P(function(z){var q=Math.round(I),V=Math.round(L);return z.containerWidth===q&&z.containerHeight===V?z:{containerWidth:q,containerHeight:V}})},[]);M.useEffect(function(){var I=function(U){var H,$=U[0].contentRect,W=$.width,le=$.height;D(W,le),(H=A.current)===null||H===void 0||H.call(A,W,le)};g>0&&(I=Voe(I,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),z=j.current.getBoundingClientRect(),q=z.width,V=z.height;return D(q,V),L.observe(j.current),function(){L.disconnect()}},[D,g]);var O=M.useMemo(function(){var I=T.containerWidth,L=T.containerHeight;if(I<0||L<0)return null;Kl(lp(o)||lp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Kl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=lp(o)?I:o,q=lp(c)?L:c;n&&n>0&&(z?q=z/n:q&&(z=q*n),h&&q>h&&(q=h)),Kl(z>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,q,o,c,d,f,n);var V=!Array.isArray(p)&&nd(p.type).endsWith("Chart");return ee.Children.map(p,function(F){return ee.isValidElement(F)?M.cloneElement(F,cS({width:z,height:q},V?{style:cS({height:"100%",width:"100%",maxHeight:q,maxWidth:z},F.props.style)}:{})):F})},[n,p,c,h,f,d,T,o]);return ee.createElement("div",{id:v?"".concat(v):void 0,className:dn("recharts-responsive-container",b),style:cS(cS({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),Iw=function(e){return null};Iw.displayName="Cell";function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}function gW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(n),!0).forEach(function(r){E8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E8e(t,e,n){return e=N8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N8e(t){var e=A8e(t,"string");return Pb(e)=="symbol"?e:e+""}function A8e(t,e){if(Pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dg={widthCache:{},cacheCount:0},C8e=2e3,M8e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vW="recharts_measurement_span";function T8e(t){var e=D3({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var L0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||lh.isSsr)return{width:0,height:0};var r=T8e(n),i=JSON.stringify({text:e,copyStyle:r});if(dg.widthCache[i])return dg.widthCache[i];try{var a=document.getElementById(vW);a||(a=document.createElement("span"),a.setAttribute("id",vW),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=D3(D3({},M8e),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return dg.widthCache[i]=c,++dg.cacheCount>C8e&&(dg.cacheCount=0,dg.widthCache={}),c}catch{return{width:0,height:0}}},P8e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function dE(t,e){return I8e(t)||O8e(t,e)||R8e(t,e)||D8e()}function D8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8e(t,e){if(t){if(typeof t=="string")return xW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xW(t,e)}}function xW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function I8e(t){if(Array.isArray(t))return t}function k8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F8e(r.key),r)}}function L8e(t,e,n){return e&&yW(t.prototype,e),n&&yW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F8e(t){var e=U8e(t,"string");return Db(e)=="symbol"?e:e+""}function U8e(t,e){if(Db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,B8e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$8e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qoe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},z8e=Object.keys(qoe),Cg="NaN";function H8e(t,e){return t*qoe[e]}var uS=(function(){function t(e,n){k8e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!B8e.test(n)&&(this.num=NaN,this.unit=""),z8e.includes(n)&&(this.num=H8e(e,n),this.unit="px")}return L8e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$8e.exec(n))!==null&&r!==void 0?r:[],a=dE(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])})();function Goe(t){if(t.includes(Cg))return Cg;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bW.exec(e))!==null&&n!==void 0?n:[],i=dE(r,4),a=i[1],o=i[2],l=i[3],c=uS.parse(a??""),u=uS.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Cg;e=e.replace(bW,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=wW.exec(e))!==null&&f!==void 0?f:[],p=dE(h,4),y=p[1],g=p[2],v=p[3],b=uS.parse(y??""),w=uS.parse(v??""),_=g==="+"?b.add(w):b.subtract(w);if(_.isNaN())return Cg;e=e.replace(wW,_.toString())}return e}var _W=/\(([^()]*)\)/;function V8e(t){for(var e=t;e.includes("(");){var n=_W.exec(e),r=dE(n,2),i=r[1];e=e.replace(_W,Goe(i))}return e}function q8e(t){var e=t.replace(/\s+/g,"");return e=V8e(e),e=Goe(e),e}function G8e(t){try{return q8e(t)}catch{return Cg}}function ER(t){var e=G8e(t.slice(5,-1));return e===Cg?"":e}var W8e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],X8e=["dx","dy","angle","className","breakAll"];function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R3.apply(this,arguments)}function SW(t,e){if(t==null)return{};var n=Y8e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jW(t,e){return J8e(t)||Z8e(t,e)||Q8e(t,e)||K8e()}function K8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8e(t,e){if(t){if(typeof t=="string")return EW(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EW(t,e)}}function EW(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function J8e(t){if(Array.isArray(t))return t}var Woe=/[ \f\n\r\t\v\u2028\u2029]+/,Xoe=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];cn(n)||(r?a=n.toString().split(""):a=n.toString().split(Woe));var o=a.map(function(c){return{word:c,width:L0(c,i).width}}),l=r?0:L0(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},eze=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=wt(o),f=l,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(q,V){var F=V.word,U=V.width,H=q[q.length-1];if(H&&(i==null||a||H.width+U+r<Number(i)))H.words.push(F),H.width+=U+r;else{var $={words:[F],width:U};q.push($)}return q},[])},p=h(n),y=function(z){return z.reduce(function(q,V){return q.width>V.width?q:V})};if(!d)return p;for(var g="…",v=function(z){var q=f.slice(0,z),V=Xoe({breakAll:u,style:c,children:q+g}).wordsWithComputedWidth,F=h(V),U=F.length>o||y(F).width>Number(i);return[U,F]},b=0,w=f.length-1,_=0,S;b<=w&&_<=f.length-1;){var j=Math.floor((b+w)/2),A=j-1,C=v(A),N=jW(C,2),T=N[0],P=N[1],D=v(j),O=jW(D,1),I=O[0];if(!T&&!I&&(b=j+1),T&&I&&(w=j-1),!T&&I){S=P;break}_++}return S||p},NW=function(e){var n=cn(e)?[]:e.toString().split(Woe);return[{words:n}]},tze=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!lh.isSsr){var c,u,d=Xoe({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return NW(i);return eze({breakAll:o,children:i,maxLines:l,style:a},c,u,n,r)}return NW(i)},AW="#808080",Yp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,p=h===void 0?"start":h,y=e.verticalAnchor,g=y===void 0?"end":y,v=e.fill,b=v===void 0?AW:v,w=SW(e,W8e),_=M.useMemo(function(){return tze({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,j=w.dy,A=w.angle,C=w.className,N=w.breakAll,T=SW(w,X8e);if(!ki(r)||!ki(a))return null;var P=r+(wt(S)?S:0),D=a+(wt(j)?j:0),O;switch(g){case"start":O=ER("calc(".concat(u,")"));break;case"middle":O=ER("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=ER("calc(".concat(_.length-1," * -").concat(l,")"));break}var I=[];if(f){var L=_[0].width,z=w.width;I.push("scale(".concat((wt(z)?z/L:1)/L,")"))}return A&&I.push("rotate(".concat(A,", ").concat(P,", ").concat(D,")")),I.length&&(T.transform=I.join(" ")),ee.createElement("text",R3({},Wt(T,!0),{x:P,y:D,className:dn("recharts-text",C),textAnchor:p,fill:b.includes("url")?AW:b}),_.map(function(q,V){var F=q.words.join(N?"":" ");return ee.createElement("tspan",{x:P,dy:V===0?O:l,key:"".concat(F,"-").concat(V)},F)}))};function kf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nze(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FF(t){let e,n,r;t.length!==2?(e=kf,n=(l,c)=>kf(t(l),c),r=(l,c)=>t(l)-c):(e=t===kf||t===nze?t:rze,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function rze(){return 0}function Yoe(t){return t===null?NaN:+t}function*ize(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sze=FF(kf),kw=sze.right;FF(Yoe).center;class CW extends Map{constructor(e,n=lze){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(MW(this,e))}has(e){return super.has(MW(this,e))}set(e,n){return super.set(aze(this,e),n)}delete(e){return super.delete(oze(this,e))}}function MW({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function aze({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function oze({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lze(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cze(t=kf){if(t===kf)return Koe;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Koe(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uze=Math.sqrt(50),dze=Math.sqrt(10),fze=Math.sqrt(2);function fE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=uze?10:a>=dze?5:a>=fze?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?fE(t,e,n*2):[l,c,u]}function O3(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?fE(e,t,n):fE(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function I3(t,e,n){return e=+e,t=+t,n=+n,fE(t,e,n)[2]}function k3(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?I3(e,t,n):I3(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function TW(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PW(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Qoe(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Koe:cze(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));Qoe(t,e,p,y,i)}const a=t[e];let o=n,l=r;for(By(t,n,e),i(t[r],a)>0&&By(t,n,r);o<l;){for(By(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?By(t,n,l):(++l,By(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function By(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hze(t,e,n){if(t=Float64Array.from(ize(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return PW(t);if(e>=1)return TW(t);var r,i=(r-1)*e,a=Math.floor(i),o=TW(Qoe(t,a).subarray(0,a+1)),l=PW(t.subarray(a+1));return o+(l-o)*(i-a)}}function pze(t,e,n=Yoe){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function mze(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function xl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function yd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L3=Symbol("implicit");function UF(){var t=new CW,e=[],n=[],r=L3;function i(a){let o=t.get(a);if(o===void 0){if(r!==L3)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new CW;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return UF(e,n).unknown(r)},xl.apply(i,arguments),i}function Rb(){var t=UF().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,p=i<r,y=p?i:r,g=p?r:i;a=(g-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(g-y-a*(h-c))*d,o=a*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=mze(h).map(function(b){return y+a*b});return n(p?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Rb(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},xl.apply(f(),arguments)}function Zoe(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Zoe(e())},t}function F0(){return Zoe(Rb.apply(null,arguments).paddingInner(1))}function BF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Joe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lw(){}var Ob=.7,hE=1/Ob,tv="\\s*([+-]?\\d+)\\s*",Ib="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gze=/^#([0-9a-f]{3,8})$/,vze=new RegExp(`^rgb\\(${tv},${tv},${tv}\\)$`),xze=new RegExp(`^rgb\\(${zc},${zc},${zc}\\)$`),yze=new RegExp(`^rgba\\(${tv},${tv},${tv},${Ib}\\)$`),bze=new RegExp(`^rgba\\(${zc},${zc},${zc},${Ib}\\)$`),wze=new RegExp(`^hsl\\(${Ib},${zc},${zc}\\)$`),_ze=new RegExp(`^hsla\\(${Ib},${zc},${zc},${Ib}\\)$`),DW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BF(Lw,kb,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:RW,formatHex:RW,formatHex8:Sze,formatHsl:jze,formatRgb:OW,toString:OW});function RW(){return this.rgb().formatHex()}function Sze(){return this.rgb().formatHex8()}function jze(){return ele(this).formatHsl()}function OW(){return this.rgb().formatRgb()}function kb(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gze.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IW(e):n===3?new Pa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vze.exec(t))?new Pa(e[1],e[2],e[3],1):(e=xze.exec(t))?new Pa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=yze.exec(t))?dS(e[1],e[2],e[3],e[4]):(e=bze.exec(t))?dS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=wze.exec(t))?FW(e[1],e[2]/100,e[3]/100,1):(e=_ze.exec(t))?FW(e[1],e[2]/100,e[3]/100,e[4]):DW.hasOwnProperty(t)?IW(DW[t]):t==="transparent"?new Pa(NaN,NaN,NaN,0):null}function IW(t){return new Pa(t>>16&255,t>>8&255,t&255,1)}function dS(t,e,n,r){return r<=0&&(t=e=n=NaN),new Pa(t,e,n,r)}function Eze(t){return t instanceof Lw||(t=kb(t)),t?(t=t.rgb(),new Pa(t.r,t.g,t.b,t.opacity)):new Pa}function F3(t,e,n,r){return arguments.length===1?Eze(t):new Pa(t,e,n,r??1)}function Pa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}BF(Pa,F3,Joe(Lw,{brighter(t){return t=t==null?hE:Math.pow(hE,t),new Pa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ob:Math.pow(Ob,t),new Pa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Pa(Np(this.r),Np(this.g),Np(this.b),pE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kW,formatHex:kW,formatHex8:Nze,formatRgb:LW,toString:LW}));function kW(){return`#${up(this.r)}${up(this.g)}${up(this.b)}`}function Nze(){return`#${up(this.r)}${up(this.g)}${up(this.b)}${up((isNaN(this.opacity)?1:this.opacity)*255)}`}function LW(){const t=pE(this.opacity);return`${t===1?"rgb(":"rgba("}${Np(this.r)}, ${Np(this.g)}, ${Np(this.b)}${t===1?")":`, ${t})`}`}function pE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Np(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function up(t){return t=Np(t),(t<16?"0":"")+t.toString(16)}function FW(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $l(t,e,n,r)}function ele(t){if(t instanceof $l)return new $l(t.h,t.s,t.l,t.opacity);if(t instanceof Lw||(t=kb(t)),!t)return new $l;if(t instanceof $l)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new $l(o,l,c,t.opacity)}function Aze(t,e,n,r){return arguments.length===1?ele(t):new $l(t,e,n,r??1)}function $l(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}BF($l,Aze,Joe(Lw,{brighter(t){return t=t==null?hE:Math.pow(hE,t),new $l(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ob:Math.pow(Ob,t),new $l(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Pa(NR(t>=240?t-240:t+120,i,r),NR(t,i,r),NR(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $l(UW(this.h),fS(this.s),fS(this.l),pE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=pE(this.opacity);return`${t===1?"hsl(":"hsla("}${UW(this.h)}, ${fS(this.s)*100}%, ${fS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function UW(t){return t=(t||0)%360,t<0?t+360:t}function fS(t){return Math.max(0,Math.min(1,t||0))}function NR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $F=t=>()=>t;function Cze(t,e){return function(n){return t+n*e}}function Mze(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Tze(t){return(t=+t)==1?tle:function(e,n){return n-e?Mze(e,n,t):$F(isNaN(e)?n:e)}}function tle(t,e){var n=e-t;return n?Cze(t,n):$F(isNaN(t)?e:t)}const BW=(function t(e){var n=Tze(e);function r(i,a){var o=n((i=F3(i)).r,(a=F3(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=tle(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r})(1);function Pze(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Dze(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rze(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ox(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Oze(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function mE(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ize(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ox(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var U3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AR=new RegExp(U3.source,"g");function kze(t){return function(){return t}}function Lze(t){return function(e){return t(e)+""}}function Fze(t,e){var n=U3.lastIndex=AR.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=U3.exec(t))&&(i=AR.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:mE(r,i)})),n=AR.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Lze(c[0].x):kze(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ox(t,e){var n=typeof e,r;return e==null||n==="boolean"?$F(e):(n==="number"?mE:n==="string"?(r=kb(e))?(e=r,BW):Fze:e instanceof kb?BW:e instanceof Date?Oze:Dze(e)?Pze:Array.isArray(e)?Rze:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ize:mE)(t,e)}function zF(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Uze(t,e){e===void 0&&(e=t,t=Ox);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Bze(t){return function(){return t}}function gE(t){return+t}var $W=[0,1];function ma(t){return t}function B3(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Bze(isNaN(e)?NaN:.5)}function $ze(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function zze(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=B3(i,r),a=n(o,a)):(r=B3(r,i),a=n(a,o)),function(l){return a(r(l))}}function Hze(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=B3(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=kw(t,l,1,r)-1;return a[c](i[c](l))}}function Fw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function i2(){var t=$W,e=$W,n=Ox,r,i,a,o=ma,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==ma&&(o=$ze(t[0],t[h-1])),l=h>2?Hze:zze,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(r),mE)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,gE),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=zF,d()},f.clamp=function(h){return arguments.length?(o=h?!0:ma,d()):o!==ma},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return r=h,i=p,d()}}function HF(){return i2()(ma,ma)}function Vze(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fv(t){return t=vE(Math.abs(t)),t?t[1]:NaN}function qze(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Gze(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Wze=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lb(t){if(!(e=Wze.exec(t)))throw new Error("invalid format: "+t);var e;return new VF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lb.prototype=VF.prototype;function VF(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xze(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var nle;function Yze(t,e){var n=vE(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(nle=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+vE(t,Math.max(0,e+a-1))[0]}function zW(t,e){var n=vE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const HW={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vze,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>zW(t*100,e),r:zW,s:Yze,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VW(t){return t}var qW=Array.prototype.map,GW=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kze(t){var e=t.grouping===void 0||t.thousands===void 0?VW:qze(qW.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?VW:Gze(qW.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Lb(f);var h=f.fill,p=f.align,y=f.sign,g=f.symbol,v=f.zero,b=f.width,w=f.comma,_=f.precision,S=f.trim,j=f.type;j==="n"?(w=!0,j="g"):HW[j]||(_===void 0&&(_=12),S=!0,j="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=g==="$"?r:/[%p]/.test(j)?o:"",N=HW[j],T=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function P(D){var O=A,I=C,L,z,q;if(j==="c")I=N(D)+I,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),_),S&&(D=Xze(D)),V&&+D==0&&y!=="+"&&(V=!1),O=(V?y==="("?y:l:y==="-"||y==="("?"":y)+O,I=(j==="s"?GW[8+nle/3]:"")+I+(V&&y==="("?")":""),T){for(L=-1,z=D.length;++L<z;)if(q=D.charCodeAt(L),48>q||q>57){I=(q===46?i+D.slice(L+1):D.slice(L))+I,D=D.slice(0,L);break}}}w&&!v&&(D=e(D,1/0));var F=O.length+D.length+I.length,U=F<b?new Array(b-F+1).join(h):"";switch(w&&v&&(D=e(U+D,U.length?b-I.length:1/0),U=""),p){case"<":D=O+D+I+U;break;case"=":D=O+U+D+I;break;case"^":D=U.slice(0,F=U.length>>1)+O+D+I+U.slice(F);break;default:D=U+O+D+I;break}return a(D)}return P.toString=function(){return f+""},P}function d(f,h){var p=u((f=Lb(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Fv(h)/3)))*3,g=Math.pow(10,-y),v=GW[8+y/3];return function(b){return p(g*b)+v}}return{format:u,formatPrefix:d}}var hS,qF,rle;Qze({thousands:",",grouping:[3],currency:["$",""]});function Qze(t){return hS=Kze(t),qF=hS.format,rle=hS.formatPrefix,hS}function Zze(t){return Math.max(0,-Fv(Math.abs(t)))}function Jze(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fv(e)/3)))*3-Fv(Math.abs(t)))}function eHe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fv(e)-Fv(t))+1}function ile(t,e,n,r){var i=k3(t,e,n),a;switch(r=Lb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Jze(i,o))&&(r.precision=a),rle(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=eHe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Zze(i))&&(r.precision=a-(r.type==="%")*2);break}}return qF(r)}function ch(t){var e=t.domain;return t.ticks=function(n){var r=e();return O3(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ile(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=I3(o,l,n),u===c)return r[i]=o,r[a]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function xE(){var t=HF();return t.copy=function(){return Fw(t,xE())},xl.apply(t,arguments),ch(t)}function sle(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,gE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return sle(t).unknown(e)},t=arguments.length?Array.from(t,gE):[0,1],ch(n)}function ale(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function WW(t){return Math.log(t)}function XW(t){return Math.exp(t)}function tHe(t){return-Math.log(-t)}function nHe(t){return-Math.exp(-t)}function rHe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iHe(t){return t===10?rHe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function sHe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function YW(t){return(e,n)=>-t(-e,n)}function GF(t){const e=t(WW,XW),n=e.domain;let r=10,i,a;function o(){return i=sHe(r),a=iHe(r),n()[0]<0?(i=YW(i),a=YW(a),t(tHe,nHe)):t(WW,XW),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),y,g;const v=l==null?10:+l;let b=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(y=1;y<r;++y)if(g=h<0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(y=r-1;y>=1;--y)if(g=h>0?y/a(-h):y*a(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=O3(u,d,v))}else b=O3(h,p,Math.min(p-h,v)).map(a);return f?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Lb(c)).precision==null&&(c.trim=!0),c=qF(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(ale(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function ole(){const t=GF(i2()).domain([1,10]);return t.copy=()=>Fw(t,ole()).base(t.base()),xl.apply(t,arguments),t}function KW(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function QW(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function WF(t){var e=1,n=t(KW(e),QW(e));return n.constant=function(r){return arguments.length?t(KW(e=+r),QW(e)):e},ch(n)}function lle(){var t=WF(i2());return t.copy=function(){return Fw(t,lle()).constant(t.constant())},xl.apply(t,arguments)}function ZW(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function aHe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function oHe(t){return t<0?-t*t:t*t}function XF(t){var e=t(ma,ma),n=1;function r(){return n===1?t(ma,ma):n===.5?t(aHe,oHe):t(ZW(n),ZW(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ch(e)}function YF(){var t=XF(i2());return t.copy=function(){return Fw(t,YF()).exponent(t.exponent())},xl.apply(t,arguments),t}function lHe(){return YF.apply(null,arguments).exponent(.5)}function JW(t){return Math.sign(t)*t*t}function cHe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function cle(){var t=HF(),e=[0,1],n=!1,r;function i(a){var o=cHe(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(JW(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,gE)).map(JW)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return cle(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},xl.apply(i,arguments),ch(i)}function ule(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=pze(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[kw(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(kf),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return ule().domain(t).range(e).unknown(r)},xl.apply(a,arguments)}function dle(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[kw(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return dle().domain([t,e]).range(i).unknown(a)},xl.apply(ch(o),arguments)}function fle(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[kw(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return fle().domain(t).range(e).unknown(n)},xl.apply(i,arguments)}const CR=new Date,MR=new Date;function Vi(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>Vi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(CR.setTime(+a),MR.setTime(+o),t(CR),t(MR),Math.floor(n(CR,MR))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const yE=Vi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yE.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yE);yE.range;const Gu=1e3,nl=Gu*60,Wu=nl*60,fd=Wu*24,KF=fd*7,eX=fd*30,TR=fd*365,dp=Vi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getUTCSeconds());dp.range;const QF=Vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gu)},(t,e)=>{t.setTime(+t+e*nl)},(t,e)=>(e-t)/nl,t=>t.getMinutes());QF.range;const ZF=Vi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*nl)},(t,e)=>(e-t)/nl,t=>t.getUTCMinutes());ZF.range;const JF=Vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gu-t.getMinutes()*nl)},(t,e)=>{t.setTime(+t+e*Wu)},(t,e)=>(e-t)/Wu,t=>t.getHours());JF.range;const eU=Vi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wu)},(t,e)=>(e-t)/Wu,t=>t.getUTCHours());eU.range;const Uw=Vi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nl)/fd,t=>t.getDate()-1);Uw.range;const s2=Vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fd,t=>t.getUTCDate()-1);s2.range;const hle=Vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fd,t=>Math.floor(t/fd));hle.range;function om(t){return Vi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*nl)/KF)}const a2=om(0),bE=om(1),uHe=om(2),dHe=om(3),Uv=om(4),fHe=om(5),hHe=om(6);a2.range;bE.range;uHe.range;dHe.range;Uv.range;fHe.range;hHe.range;function lm(t){return Vi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/KF)}const o2=lm(0),wE=lm(1),pHe=lm(2),mHe=lm(3),Bv=lm(4),gHe=lm(5),vHe=lm(6);o2.range;wE.range;pHe.range;mHe.range;Bv.range;gHe.range;vHe.range;const tU=Vi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tU.range;const nU=Vi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nU.range;const hd=Vi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hd.range;const pd=Vi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pd.range;function ple(t,e,n,r,i,a){const o=[[dp,1,Gu],[dp,5,5*Gu],[dp,15,15*Gu],[dp,30,30*Gu],[a,1,nl],[a,5,5*nl],[a,15,15*nl],[a,30,30*nl],[i,1,Wu],[i,3,3*Wu],[i,6,6*Wu],[i,12,12*Wu],[r,1,fd],[r,2,2*fd],[n,1,KF],[e,1,eX],[e,3,3*eX],[t,1,TR]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,p=FF(([,,v])=>v).right(o,h);if(p===o.length)return t.every(k3(u/TR,d/TR,f));if(p===0)return yE.every(Math.max(k3(u,d,f),1));const[y,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return y.every(g)}return[l,c]}const[xHe,yHe]=ple(pd,nU,o2,hle,eU,ZF),[bHe,wHe]=ple(hd,tU,a2,Uw,JF,QF);function PR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function DR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $y(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _He(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=zy(i),d=Hy(i),f=zy(a),h=Hy(a),p=zy(o),y=Hy(o),g=zy(l),v=Hy(l),b=zy(c),w=Hy(c),_={a:V,A:F,b:U,B:H,c:null,d:aX,e:aX,f:qHe,g:t9e,G:r9e,H:zHe,I:HHe,j:VHe,L:mle,m:GHe,M:WHe,p:$,q:W,Q:cX,s:uX,S:XHe,u:YHe,U:KHe,V:QHe,w:ZHe,W:JHe,x:null,X:null,y:e9e,Y:n9e,Z:i9e,"%":lX},S={a:le,A:ie,b:re,B:_e,c:null,d:oX,e:oX,f:l9e,g:x9e,G:b9e,H:s9e,I:a9e,j:o9e,L:vle,m:c9e,M:u9e,p:pe,q:Ne,Q:cX,s:uX,S:d9e,u:f9e,U:h9e,V:p9e,w:m9e,W:g9e,x:null,X:null,y:v9e,Y:y9e,Z:w9e,"%":lX},j={a:P,A:D,b:O,B:I,c:L,d:iX,e:iX,f:FHe,g:rX,G:nX,H:sX,I:sX,j:OHe,L:LHe,m:RHe,M:IHe,p:T,q:DHe,Q:BHe,s:$He,S:kHe,u:AHe,U:CHe,V:MHe,w:NHe,W:THe,x:z,X:q,y:rX,Y:nX,Z:PHe,"%":UHe};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),S.x=A(n,S),S.X=A(r,S),S.c=A(e,S);function A(je,Oe){return function(Ge){var Pe=[],Fe=-1,Y=0,Ie=je.length,Xe,ue,Be;for(Ge instanceof Date||(Ge=new Date(+Ge));++Fe<Ie;)je.charCodeAt(Fe)===37&&(Pe.push(je.slice(Y,Fe)),(ue=tX[Xe=je.charAt(++Fe)])!=null?Xe=je.charAt(++Fe):ue=Xe==="e"?" ":"0",(Be=Oe[Xe])&&(Xe=Be(Ge,ue)),Pe.push(Xe),Y=Fe+1);return Pe.push(je.slice(Y,Fe)),Pe.join("")}}function C(je,Oe){return function(Ge){var Pe=$y(1900,void 0,1),Fe=N(Pe,je,Ge+="",0),Y,Ie;if(Fe!=Ge.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(Pe.s*1e3+("L"in Pe?Pe.L:0));if(Oe&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+Pe.p*12),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(Y=DR($y(Pe.y,0,1)),Ie=Y.getUTCDay(),Y=Ie>4||Ie===0?wE.ceil(Y):wE(Y),Y=s2.offset(Y,(Pe.V-1)*7),Pe.y=Y.getUTCFullYear(),Pe.m=Y.getUTCMonth(),Pe.d=Y.getUTCDate()+(Pe.w+6)%7):(Y=PR($y(Pe.y,0,1)),Ie=Y.getDay(),Y=Ie>4||Ie===0?bE.ceil(Y):bE(Y),Y=Uw.offset(Y,(Pe.V-1)*7),Pe.y=Y.getFullYear(),Pe.m=Y.getMonth(),Pe.d=Y.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),Ie="Z"in Pe?DR($y(Pe.y,0,1)).getUTCDay():PR($y(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+Pe.W*7-(Ie+5)%7:Pe.w+Pe.U*7-(Ie+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,DR(Pe)):PR(Pe)}}function N(je,Oe,Ge,Pe){for(var Fe=0,Y=Oe.length,Ie=Ge.length,Xe,ue;Fe<Y;){if(Pe>=Ie)return-1;if(Xe=Oe.charCodeAt(Fe++),Xe===37){if(Xe=Oe.charAt(Fe++),ue=j[Xe in tX?Oe.charAt(Fe++):Xe],!ue||(Pe=ue(je,Ge,Pe))<0)return-1}else if(Xe!=Ge.charCodeAt(Pe++))return-1}return Pe}function T(je,Oe,Ge){var Pe=u.exec(Oe.slice(Ge));return Pe?(je.p=d.get(Pe[0].toLowerCase()),Ge+Pe[0].length):-1}function P(je,Oe,Ge){var Pe=p.exec(Oe.slice(Ge));return Pe?(je.w=y.get(Pe[0].toLowerCase()),Ge+Pe[0].length):-1}function D(je,Oe,Ge){var Pe=f.exec(Oe.slice(Ge));return Pe?(je.w=h.get(Pe[0].toLowerCase()),Ge+Pe[0].length):-1}function O(je,Oe,Ge){var Pe=b.exec(Oe.slice(Ge));return Pe?(je.m=w.get(Pe[0].toLowerCase()),Ge+Pe[0].length):-1}function I(je,Oe,Ge){var Pe=g.exec(Oe.slice(Ge));return Pe?(je.m=v.get(Pe[0].toLowerCase()),Ge+Pe[0].length):-1}function L(je,Oe,Ge){return N(je,e,Oe,Ge)}function z(je,Oe,Ge){return N(je,n,Oe,Ge)}function q(je,Oe,Ge){return N(je,r,Oe,Ge)}function V(je){return o[je.getDay()]}function F(je){return a[je.getDay()]}function U(je){return c[je.getMonth()]}function H(je){return l[je.getMonth()]}function $(je){return i[+(je.getHours()>=12)]}function W(je){return 1+~~(je.getMonth()/3)}function le(je){return o[je.getUTCDay()]}function ie(je){return a[je.getUTCDay()]}function re(je){return c[je.getUTCMonth()]}function _e(je){return l[je.getUTCMonth()]}function pe(je){return i[+(je.getUTCHours()>=12)]}function Ne(je){return 1+~~(je.getUTCMonth()/3)}return{format:function(je){var Oe=A(je+="",_);return Oe.toString=function(){return je},Oe},parse:function(je){var Oe=C(je+="",!1);return Oe.toString=function(){return je},Oe},utcFormat:function(je){var Oe=A(je+="",S);return Oe.toString=function(){return je},Oe},utcParse:function(je){var Oe=C(je+="",!0);return Oe.toString=function(){return je},Oe}}}var tX={"-":"",_:" ",0:"0"},ls=/^\s*\d+/,SHe=/^%/,jHe=/[\\^$*+?|[\]().{}]/g;function Wn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function EHe(t){return t.replace(jHe,"\\$&")}function zy(t){return new RegExp("^(?:"+t.map(EHe).join("|")+")","i")}function Hy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function NHe(t,e,n){var r=ls.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function AHe(t,e,n){var r=ls.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function CHe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function MHe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function THe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nX(t,e,n){var r=ls.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rX(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function PHe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function DHe(t,e,n){var r=ls.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function RHe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iX(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function OHe(t,e,n){var r=ls.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sX(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function IHe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kHe(t,e,n){var r=ls.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function LHe(t,e,n){var r=ls.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function FHe(t,e,n){var r=ls.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UHe(t,e,n){var r=SHe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function BHe(t,e,n){var r=ls.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $He(t,e,n){var r=ls.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aX(t,e){return Wn(t.getDate(),e,2)}function zHe(t,e){return Wn(t.getHours(),e,2)}function HHe(t,e){return Wn(t.getHours()%12||12,e,2)}function VHe(t,e){return Wn(1+Uw.count(hd(t),t),e,3)}function mle(t,e){return Wn(t.getMilliseconds(),e,3)}function qHe(t,e){return mle(t,e)+"000"}function GHe(t,e){return Wn(t.getMonth()+1,e,2)}function WHe(t,e){return Wn(t.getMinutes(),e,2)}function XHe(t,e){return Wn(t.getSeconds(),e,2)}function YHe(t){var e=t.getDay();return e===0?7:e}function KHe(t,e){return Wn(a2.count(hd(t)-1,t),e,2)}function gle(t){var e=t.getDay();return e>=4||e===0?Uv(t):Uv.ceil(t)}function QHe(t,e){return t=gle(t),Wn(Uv.count(hd(t),t)+(hd(t).getDay()===4),e,2)}function ZHe(t){return t.getDay()}function JHe(t,e){return Wn(bE.count(hd(t)-1,t),e,2)}function e9e(t,e){return Wn(t.getFullYear()%100,e,2)}function t9e(t,e){return t=gle(t),Wn(t.getFullYear()%100,e,2)}function n9e(t,e){return Wn(t.getFullYear()%1e4,e,4)}function r9e(t,e){var n=t.getDay();return t=n>=4||n===0?Uv(t):Uv.ceil(t),Wn(t.getFullYear()%1e4,e,4)}function i9e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Wn(e/60|0,"0",2)+Wn(e%60,"0",2)}function oX(t,e){return Wn(t.getUTCDate(),e,2)}function s9e(t,e){return Wn(t.getUTCHours(),e,2)}function a9e(t,e){return Wn(t.getUTCHours()%12||12,e,2)}function o9e(t,e){return Wn(1+s2.count(pd(t),t),e,3)}function vle(t,e){return Wn(t.getUTCMilliseconds(),e,3)}function l9e(t,e){return vle(t,e)+"000"}function c9e(t,e){return Wn(t.getUTCMonth()+1,e,2)}function u9e(t,e){return Wn(t.getUTCMinutes(),e,2)}function d9e(t,e){return Wn(t.getUTCSeconds(),e,2)}function f9e(t){var e=t.getUTCDay();return e===0?7:e}function h9e(t,e){return Wn(o2.count(pd(t)-1,t),e,2)}function xle(t){var e=t.getUTCDay();return e>=4||e===0?Bv(t):Bv.ceil(t)}function p9e(t,e){return t=xle(t),Wn(Bv.count(pd(t),t)+(pd(t).getUTCDay()===4),e,2)}function m9e(t){return t.getUTCDay()}function g9e(t,e){return Wn(wE.count(pd(t)-1,t),e,2)}function v9e(t,e){return Wn(t.getUTCFullYear()%100,e,2)}function x9e(t,e){return t=xle(t),Wn(t.getUTCFullYear()%100,e,2)}function y9e(t,e){return Wn(t.getUTCFullYear()%1e4,e,4)}function b9e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bv(t):Bv.ceil(t),Wn(t.getUTCFullYear()%1e4,e,4)}function w9e(){return"+0000"}function lX(){return"%"}function cX(t){return+t}function uX(t){return Math.floor(+t/1e3)}var fg,yle,ble;_9e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _9e(t){return fg=_He(t),yle=fg.format,fg.parse,ble=fg.utcFormat,fg.utcParse,fg}function S9e(t){return new Date(t)}function j9e(t){return t instanceof Date?+t:+new Date(+t)}function rU(t,e,n,r,i,a,o,l,c,u){var d=HF(),f=d.invert,h=d.domain,p=u(".%L"),y=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),w=u("%b %d"),_=u("%B"),S=u("%Y");function j(A){return(c(A)<A?p:l(A)<A?y:o(A)<A?g:a(A)<A?v:r(A)<A?i(A)<A?b:w:n(A)<A?_:S)(A)}return d.invert=function(A){return new Date(f(A))},d.domain=function(A){return arguments.length?h(Array.from(A,j9e)):h().map(S9e)},d.ticks=function(A){var C=h();return t(C[0],C[C.length-1],A??10)},d.tickFormat=function(A,C){return C==null?j:u(C)},d.nice=function(A){var C=h();return(!A||typeof A.range!="function")&&(A=e(C[0],C[C.length-1],A??10)),A?h(ale(C,A)):d},d.copy=function(){return Fw(d,rU(t,e,n,r,i,a,o,l,c,u))},d}function E9e(){return xl.apply(rU(bHe,wHe,hd,tU,a2,Uw,JF,QF,dp,yle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N9e(){return xl.apply(rU(xHe,yHe,pd,nU,o2,s2,eU,ZF,dp,ble).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l2(){var t=0,e=1,n,r,i,a,o=ma,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,y;return arguments.length?([p,y]=h,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Ox),u.rangeRound=d(zF),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function uh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function wle(){var t=ch(l2()(ma));return t.copy=function(){return uh(t,wle())},yd.apply(t,arguments)}function _le(){var t=GF(l2()).domain([1,10]);return t.copy=function(){return uh(t,_le()).base(t.base())},yd.apply(t,arguments)}function Sle(){var t=WF(l2());return t.copy=function(){return uh(t,Sle()).constant(t.constant())},yd.apply(t,arguments)}function iU(){var t=XF(l2());return t.copy=function(){return uh(t,iU()).exponent(t.exponent())},yd.apply(t,arguments)}function A9e(){return iU.apply(null,arguments).exponent(.5)}function jle(){var t=[],e=ma;function n(r){if(r!=null&&!isNaN(r=+r))return e((kw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>hze(t,a/r))},n.copy=function(){return jle(e).domain(t)},yd.apply(n,arguments)}function c2(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,u=ma,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(r*g<r*a?l:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([t,e,n]=g,i=d(t=+t),a=d(e=+e),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p):[t,e,n]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function y(g){return function(v){var b,w,_;return arguments.length?([b,w,_]=v,u=Uze(g,[b,w,_]),p):[u(0),u(.5),u(1)]}}return p.range=y(Ox),p.rangeRound=y(zF),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(t),a=g(e),o=g(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,p}}function Ele(){var t=ch(c2()(ma));return t.copy=function(){return uh(t,Ele())},yd.apply(t,arguments)}function Nle(){var t=GF(c2()).domain([.1,1,10]);return t.copy=function(){return uh(t,Nle()).base(t.base())},yd.apply(t,arguments)}function Ale(){var t=WF(c2());return t.copy=function(){return uh(t,Ale()).constant(t.constant())},yd.apply(t,arguments)}function sU(){var t=XF(c2());return t.copy=function(){return uh(t,sU()).exponent(t.exponent())},yd.apply(t,arguments)}function C9e(){return sU.apply(null,arguments).exponent(.5)}const dX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rb,scaleDiverging:Ele,scaleDivergingLog:Nle,scaleDivergingPow:sU,scaleDivergingSqrt:C9e,scaleDivergingSymlog:Ale,scaleIdentity:sle,scaleImplicit:L3,scaleLinear:xE,scaleLog:ole,scaleOrdinal:UF,scalePoint:F0,scalePow:YF,scaleQuantile:ule,scaleQuantize:dle,scaleRadial:cle,scaleSequential:wle,scaleSequentialLog:_le,scaleSequentialPow:iU,scaleSequentialQuantile:jle,scaleSequentialSqrt:A9e,scaleSequentialSymlog:Sle,scaleSqrt:lHe,scaleSymlog:lle,scaleThreshold:fle,scaleTime:E9e,scaleUtc:N9e,tickFormat:ile},Symbol.toStringTag,{value:"Module"}));var RR,fX;function u2(){if(fX)return RR;fX=1;var t=Tx();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return RR=e,RR}var OR,hX;function Cle(){if(hX)return OR;hX=1;function t(e,n){return e>n}return OR=t,OR}var IR,pX;function M9e(){if(pX)return IR;pX=1;var t=u2(),e=Cle(),n=Rx();function r(i){return i&&i.length?t(i,n,e):void 0}return IR=r,IR}var T9e=M9e();const _f=In(T9e);var kR,mX;function Mle(){if(mX)return kR;mX=1;function t(e,n){return e<n}return kR=t,kR}var LR,gX;function P9e(){if(gX)return LR;gX=1;var t=u2(),e=Mle(),n=Rx();function r(i){return i&&i.length?t(i,n,e):void 0}return LR=r,LR}var D9e=P9e();const d2=In(D9e);var FR,vX;function R9e(){if(vX)return FR;vX=1;var t=wF(),e=uu(),n=Loe(),r=Ga();function i(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return FR=i,FR}var UR,xX;function O9e(){if(xX)return UR;xX=1;var t=Ioe(),e=R9e();function n(r,i){return t(e(r,i),1)}return UR=n,UR}var I9e=O9e();const k9e=In(I9e);var BR,yX;function L9e(){if(yX)return BR;yX=1;var t=OF();function e(n,r){return t(n,r)}return BR=e,BR}var F9e=L9e();const Kp=In(F9e);var Ix=1e9,U9e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oU,Ir=!0,ml="[DecimalError] ",Ap=ml+"Invalid argument: ",aU=ml+"Exponent out of range: ",kx=Math.floor,Wh=Math.pow,B9e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,po,es=1e7,Cr=7,Tle=9007199254740991,_E=kx(Tle/Cr),Ut={};Ut.absoluteValue=Ut.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ut.comparedTo=Ut.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Cr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ut.dividedBy=Ut.div=function(t){return rd(this,new this.constructor(t))};Ut.dividedToIntegerBy=Ut.idiv=function(t){var e=this,n=e.constructor;return pr(rd(e,new n(t),0,1),n.precision)};Ut.equals=Ut.eq=function(t){return!this.cmp(t)};Ut.exponent=function(){return Ei(this)};Ut.greaterThan=Ut.gt=function(t){return this.cmp(t)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(t){return this.cmp(t)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(t){return this.cmp(t)<0};Ut.lessThanOrEqualTo=Ut.lte=function(t){return this.cmp(t)<1};Ut.logarithm=Ut.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(po))throw Error(ml+"NaN");if(n.s<1)throw Error(ml+(n.s?"NaN":"-Infinity"));return n.eq(po)?new r(0):(Ir=!1,e=rd(Fb(n,a),Fb(t,a),a),Ir=!0,pr(e,i))};Ut.minus=Ut.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Rle(e,t):Ple(e,(t.s=-t.s,t))};Ut.modulo=Ut.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ml+"NaN");return n.s?(Ir=!1,e=rd(n,t,0,1).times(t),Ir=!0,n.minus(e)):pr(new r(n),i)};Ut.naturalExponential=Ut.exp=function(){return Dle(this)};Ut.naturalLogarithm=Ut.ln=function(){return Fb(this)};Ut.negated=Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ut.plus=Ut.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ple(e,t):Rle(e,(t.s=-t.s,t))};Ut.precision=Ut.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ap+t);if(e=Ei(i)+1,r=i.d.length-1,n=r*Cr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ut.squareRoot=Ut.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ml+"NaN")}for(t=Ei(l),Ir=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=kc(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kx((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(rd(l,a,o+2)).times(.5),kc(a.d).slice(0,o)===(e=kc(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(pr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return Ir=!0,pr(r,n)};Ut.times=Ut.mul=function(t){var e,n,r,i,a,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+p[r]*h[i-r-1]+e,a[i--]=l%es|0,e=l/es|0;a[i]=(a[i]+e)%es|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Ir?pr(t,f.precision):t};Ut.toDecimalPlaces=Ut.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(nu(t,0,Ix),e===void 0?e=r.rounding:nu(e,0,8),pr(n,t+Ei(n)+1,e))};Ut.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Qp(r,!0):(nu(t,0,Ix),e===void 0?e=i.rounding:nu(e,0,8),r=pr(new i(r),t+1,e),n=Qp(r,!0,t+1)),n};Ut.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Qp(i):(nu(t,0,Ix),e===void 0?e=a.rounding:nu(e,0,8),r=pr(new a(i),t+Ei(i)+1,e),n=Qp(r.abs(),!1,t+Ei(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ut.toInteger=Ut.toint=function(){var t=this,e=t.constructor;return pr(new e(t),Ei(t)+1,e.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(po);if(l=new c(l),!l.s){if(t.s<1)throw Error(ml+"Infinity");return l}if(l.eq(po))return l;if(r=c.precision,t.eq(po))return pr(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=d<0?-d:d)<=Tle){for(i=new c(po),e=Math.ceil(r/Cr+4),Ir=!1;n%2&&(i=i.times(l),wX(i.d,e)),n=kx(n/2),n!==0;)l=l.times(l),wX(l.d,e);return Ir=!0,t.s<0?new c(po).div(i):pr(i,r)}}else if(a<0)throw Error(ml+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Ir=!1,i=t.times(Fb(l,r+u)),Ir=!0,i=Dle(i),i.s=a,i};Ut.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ei(i),r=Qp(i,n<=a.toExpNeg||n>=a.toExpPos)):(nu(t,1,Ix),e===void 0?e=a.rounding:nu(e,0,8),i=pr(new a(i),t,e),n=Ei(i),r=Qp(i,t<=n||n<=a.toExpNeg,t)),r};Ut.toSignificantDigits=Ut.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(nu(t,1,Ix),e===void 0?e=r.rounding:nu(e,0,8)),pr(new r(n),t,e)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ei(t),n=t.constructor;return Qp(t,e<=n.toExpNeg||e>=n.toExpPos)};function Ple(t,e){var n,r,i,a,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Ir?pr(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/Cr),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/es|0,c[a]%=es;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Ir?pr(e,f):e}function nu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ap+t)}function kc(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Cr-r.length,n&&(a+=of(n)),a+=r;o=t[e],r=o+"",n=Cr-r.length,n&&(a+=of(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var rd=(function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%es|0,o=a/es|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*es+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,u,d,f,h,p,y,g,v,b,w,_,S,j,A,C,N,T=r.constructor,P=r.s==i.s?1:-1,D=r.d,O=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(ml+"Division by zero");for(c=r.e-i.e,C=O.length,j=D.length,p=new T(P),y=p.d=[],u=0;O[u]==(D[u]||0);)++u;if(O[u]>(D[u]||0)&&--c,a==null?w=a=T.precision:o?w=a+(Ei(r)-Ei(i))+1:w=a,w<0)return new T(0);if(w=w/Cr+2|0,u=0,C==1)for(d=0,O=O[0],w++;(u<j||d)&&w--;u++)_=d*es+(D[u]||0),y[u]=_/O|0,d=_%O|0;else{for(d=es/(O[0]+1)|0,d>1&&(O=t(O,d),D=t(D,d),C=O.length,j=D.length),S=C,g=D.slice(0,C),v=g.length;v<C;)g[v++]=0;N=O.slice(),N.unshift(0),A=O[0],O[1]>=es/2&&++A;do d=0,l=e(O,g,C,v),l<0?(b=g[0],C!=v&&(b=b*es+(g[1]||0)),d=b/A|0,d>1?(d>=es&&(d=es-1),f=t(O,d),h=f.length,v=g.length,l=e(f,g,h,v),l==1&&(d--,n(f,C<h?N:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(g,f,v),l==-1&&(v=g.length,l=e(O,g,C,v),l<1&&(d++,n(g,C<v?N:O,v))),v=g.length):l===0&&(d++,g=[0]),y[u++]=d,l&&g[0]?g[v++]=D[S]||0:(g=[D[S]],v=1);while((S++<j||g[0]!==void 0)&&w--)}return y[0]||y.shift(),p.e=c,pr(p,o?a+Ei(p)+1:a)}})();function Dle(t,e){var n,r,i,a,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Ei(t)>16)throw Error(aU+Ei(t));if(!t.s)return new d(po);for(Ir=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Wh(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(po),d.precision=l;;){if(i=pr(i.times(t),l),n=n.times(++c),o=a.plus(rd(i,n,l)),kc(o.d).slice(0,l)===kc(a.d).slice(0,l)){for(;u--;)a=pr(a.times(a),l);return d.precision=f,e==null?(Ir=!0,pr(a,f)):a}a=o}}function Ei(t){for(var e=t.e*Cr,n=t.d[0];n>=10;n/=10)e++;return e}function $R(t,e,n){if(e>t.LN10.sd())throw Ir=!0,n&&(t.precision=n),Error(ml+"LN10 precision limit exceeded");return pr(new t(t.LN10),e)}function of(t){for(var e="";t--;)e+="0";return e}function Fb(t,e){var n,r,i,a,o,l,c,u,d,f=1,h=10,p=t,y=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(ml+(p.s?"NaN":"-Infinity"));if(p.eq(po))return new g(0);if(e==null?(Ir=!1,u=v):u=e,p.eq(10))return e==null&&(Ir=!0),$R(g,u);if(u+=h,g.precision=u,n=kc(y),r=n.charAt(0),a=Ei(p),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=kc(p.d),r=n.charAt(0),f++;a=Ei(p),r>1?(p=new g("0."+n),a++):p=new g(r+"."+n.slice(1))}else return c=$R(g,u+2,v).times(a+""),p=Fb(new g(r+"."+n.slice(1)),u-h).plus(c),g.precision=v,e==null?(Ir=!0,pr(p,v)):p;for(l=o=p=rd(p.minus(po),p.plus(po),u),d=pr(p.times(p),u),i=3;;){if(o=pr(o.times(d),u),c=l.plus(rd(o,new g(i),u)),kc(c.d).slice(0,u)===kc(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus($R(g,u+2,v).times(a+""))),l=rd(l,new g(f),u),g.precision=v,e==null?(Ir=!0,pr(l,v)):l;l=c,i+=2}}function bX(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=kx(n/Cr),t.d=[],r=(n+1)%Cr,n<0&&(r+=Cr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Cr;r<i;)t.d.push(+e.slice(r,r+=Cr));e=e.slice(r),r=Cr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ir&&(t.e>_E||t.e<-_E))throw Error(aU+n)}else t.s=0,t.e=0,t.d=[0];return t}function pr(t,e,n){var r,i,a,o,l,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Cr,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/Cr),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=Cr,i=r-Cr+o}if(n!==void 0&&(a=Wh(10,o-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Wh(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(a=Ei(t),f.length=1,e=e-a-1,f[0]=Wh(10,(Cr-e%Cr)%Cr),t.e=kx(-e/Cr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Wh(10,Cr-r),f[d]=i>0?(u/Wh(10,o-i)%Wh(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==es&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=es)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Ir&&(t.e>_E||t.e<-_E))throw Error(aU+Ei(t));return t}function Rle(t,e){var n,r,i,a,o,l,c,u,d,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Ir?pr(e,p):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(p/Cr),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=es-1;--c[a],c[i]+=es}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Ir?pr(e,p):e):new h(0)}function Qp(t,e,n){var r,i=Ei(t),a=kc(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+of(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+of(-i-1)+a,n&&(r=n-o)>0&&(a+=of(r))):i>=o?(a+=of(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+of(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=of(r))),t.s<0?"-"+a:a}function wX(t,e){if(t.length>e)return t.length=e,!0}function Ole(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ap+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return bX(o,a.toString())}else if(typeof a!="string")throw Error(Ap+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,B9e.test(a))bX(o,a);else throw Error(Ap+a)}if(i.prototype=Ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ole,i.config=i.set=$9e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function $9e(t){if(!t||typeof t!="object")throw Error(ml+"Object expected");var e,n,r,i=["precision",1,Ix,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(kx(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ap+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ap+n+": "+r);return this}var oU=Ole(U9e);po=new oU(1);const lr=oU;function z9e(t){return G9e(t)||q9e(t)||V9e(t)||H9e()}function H9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9e(t,e){if(t){if(typeof t=="string")return $3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(t,e)}}function q9e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function G9e(t){if(Array.isArray(t))return $3(t)}function $3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var W9e=function(e){return e},Ile={},kle=function(e){return e===Ile},_X=function(e){return function n(){return arguments.length===0||arguments.length===1&&kle(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},X9e=function t(e,n){return e===1?n:_X(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==Ile}).length;return o>=e?n.apply(void 0,i):t(e-o,_X(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return kle(f)?c.shift():f});return n.apply(void 0,z9e(d).concat(c))}))})},f2=function(e){return X9e(e.length,e)},z3=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Y9e=f2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),K9e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return W9e;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},H3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Lle=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function Q9e(t){var e;return t===0?e=1:e=Math.floor(new lr(t).abs().log(10).toNumber())+1,e}function Z9e(t,e,n){for(var r=new lr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var J9e=f2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),eVe=f2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),tVe=f2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const h2={rangeStep:Z9e,getDigitCount:Q9e,interpolateNumber:J9e,uninterpolateNumber:eVe,uninterpolateTruncation:tVe};function V3(t){return iVe(t)||rVe(t)||Fle(t)||nVe()}function nVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rVe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iVe(t){if(Array.isArray(t))return q3(t)}function Ub(t,e){return oVe(t)||aVe(t,e)||Fle(t,e)||sVe()}function sVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fle(t,e){if(t){if(typeof t=="string")return q3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q3(t,e)}}function q3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aVe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function oVe(t){if(Array.isArray(t))return t}function Ule(t){var e=Ub(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Ble(t,e,n){if(t.lte(0))return new lr(0);var r=h2.getDigitCount(t.toNumber()),i=new lr(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new lr(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new lr(Math.ceil(c))}function lVe(t,e,n){var r=1,i=new lr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new lr(10).pow(h2.getDigitCount(t)-1),i=new lr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new lr(Math.floor(t)))}else t===0?i=new lr(Math.floor((e-1)/2)):n||(i=new lr(Math.floor(t)));var o=Math.floor((e-1)/2),l=K9e(Y9e(function(c){return i.add(new lr(c-o).mul(r)).toNumber()}),z3);return l(0,e)}function $le(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new lr(0),tickMin:new lr(0),tickMax:new lr(0)};var a=Ble(new lr(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new lr(0):(o=new lr(t).add(e).div(2),o=o.sub(new lr(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new lr(e).sub(o).div(a).toNumber()),u=l+c+1;return u>n?$le(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:a,tickMin:o.sub(new lr(l).mul(a)),tickMax:o.add(new lr(c).mul(a))})}function cVe(t){var e=Ub(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Ule([n,r]),c=Ub(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(V3(z3(0,i-1).map(function(){return 1/0}))):[].concat(V3(z3(0,i-1).map(function(){return-1/0})),[d]);return n>r?H3(f):f}if(u===d)return lVe(u,i,a);var h=$le(u,d,o,a),p=h.step,y=h.tickMin,g=h.tickMax,v=h2.rangeStep(y,g.add(new lr(.1).mul(p)),p);return n>r?H3(v):v}function uVe(t,e){var n=Ub(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Ule([r,i]),l=Ub(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=Ble(new lr(u).sub(c).div(d-1),a,0),h=[].concat(V3(h2.rangeStep(new lr(c),new lr(u).sub(new lr(.99).mul(f)),f)),[u]);return r>i?H3(h):h}var dVe=Lle(cVe),fVe=Lle(uVe),hVe="Invariant failed";function Zp(t,e){throw new Error(hVe)}var pVe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function mVe(t,e){return yVe(t)||xVe(t,e)||vVe(t,e)||gVe()}function gVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vVe(t,e){if(t){if(typeof t=="string")return SX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SX(t,e)}}function SX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yVe(t){if(Array.isArray(t))return t}function bVe(t,e){if(t==null)return{};var n=wVe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vle(r.key),r)}}function jVe(t,e,n){return e&&SVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EVe(t,e,n){return e=jE(e),NVe(t,zle()?Reflect.construct(e,n||[],jE(t).constructor):e.apply(t,n))}function NVe(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AVe(t)}function AVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zle(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zle=function(){return!!t})()}function jE(t){return jE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jE(t)}function CVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G3(t,e)}function G3(t,e){return G3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},G3(t,e)}function Hle(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=MVe(t,"string");return $v(e)=="symbol"?e:e+""}function MVe(t,e){if($v(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($v(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bw=(function(t){function e(){return _Ve(this,e),EVe(this,e,arguments)}return CVe(e,t),jVe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=bVe(r,pVe),p=Wt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Zp();var y=c.map(function(g){var v=u(g,l),b=v.x,w=v.y,_=v.value,S=v.errorVal;if(!S)return null;var j=[],A,C;if(Array.isArray(S)){var N=mVe(S,2);A=N[0],C=N[1]}else A=C=S;if(a==="vertical"){var T=d.scale,P=w+i,D=P+o,O=P-o,I=T(_-A),L=T(_+C);j.push({x1:L,y1:D,x2:L,y2:O}),j.push({x1:I,y1:P,x2:L,y2:P}),j.push({x1:I,y1:D,x2:I,y2:O})}else if(a==="horizontal"){var z=f.scale,q=b+i,V=q-o,F=q+o,U=z(_-A),H=z(_+C);j.push({x1:V,y1:H,x2:F,y2:H}),j.push({x1:q,y1:U,x2:q,y2:H}),j.push({x1:V,y1:U,x2:F,y2:U})}return ee.createElement(Dn,SE({className:"recharts-errorBar",key:"bar-".concat(j.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},p),j.map(function($){return ee.createElement("line",SE({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return ee.createElement(Dn,{className:"recharts-errorBars"},y)}}])})(ee.Component);Hle(Bw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Hle(Bw,"displayName","ErrorBar");function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}function jX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jX(Object(n),!0).forEach(function(r){TVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TVe(t,e,n){return e=PVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PVe(t){var e=DVe(t,"string");return Bb(e)=="symbol"?e:e+""}function DVe(t,e){if(Bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qle=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ao(n,tl);if(!o)return null;var l=tl.defaultProps,c=l!==void 0?Lh(Lh({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Lh(Lh({},h),f.props):{},y=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:y,type:c.iconType||v||"square",color:lU(f),value:g||y,payload:p}}),Lh(Lh(Lh({},c),tl.getWithHeight(o,i)),{},{payload:u,item:o})};function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function EX(t){return kVe(t)||IVe(t)||OVe(t)||RVe()}function RVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OVe(t,e){if(t){if(typeof t=="string")return W3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W3(t,e)}}function IVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kVe(t){if(Array.isArray(t))return W3(t)}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NX(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nv(t,e,n){return e=LVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LVe(t){var e=FVe(t,"string");return $b(e)=="symbol"?e:e+""}function FVe(t,e){if($b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ai(t,e,n){return cn(t)||cn(e)?n:ki(e)?bo(t,e,n):nn(e)?e(t):n}function U0(t,e,n,r){var i=k9e(t,function(l){return ai(l,e)});if(n==="number"){var a=i.filter(function(l){return wt(l)||parseFloat(l)});return a.length?[d2(a),_f(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!cn(l)}):i;return o.map(function(l){return ki(l)||l instanceof Date?l:""})}var UVe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(ha(f-d)!==ha(h-f)){var y=[];if(ha(h-f)===ha(c[1]-c[0])){p=h;var g=f+c[1]-c[0];y[0]=Math.min(g,(g+d)/2),y[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>b[0]&&e<=b[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var w=Math.min(d,h),_=Math.max(d,h);if(e>(w+f)/2&&e<=(_+f)/2){o=i[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===l-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){o=r[S].index;break}return o},lU=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qr(Qr({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},BVe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var y=d[f[h]],g=y.items,v=y.cateAxisId,b=g.filter(function(C){return nd(C.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,_=w!==void 0?Qr(Qr({},w),b[0].props):b[0].props,S=_.barSize,j=_[v];o[j]||(o[j]=[]);var A=cn(S)?n:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:cn(A)?void 0:pa(A,r,0)})}}return o},$Ve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=pa(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,y=o.reduce(function(S,j){return S+j.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&p>0&&(h=!0,p*=.9,y=c*p);var g=(i-y)/2>>0,v={offset:g-u,size:0};d=o.reduce(function(S,j){var A={item:j.item,position:{offset:v.offset+v.size+u,size:h?p:j.barSize}},C=[].concat(EX(S),[A]);return v=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:v})}),C},f)}else{var b=pa(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var _=l===+l?Math.min(w,l):w;d=o.reduce(function(S,j,A){var C=[].concat(EX(S),[{item:j.item,position:{offset:b+(w+u)*A+(w-_)/2,size:_}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){C.push({item:N,position:C[C.length-1].position})}),C},f)}return d},zVe=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=qle({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&p!=="center"&&wt(e[p]))return Qr(Qr({},e),{},nv({},p,e[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&y!=="middle"&&wt(e[y]))return Qr(Qr({},e),{},nv({},y,e[y]+(h||0)))}return e},HVe=function(e,n,r){return cn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Gle=function(e,n,r,i,a){var o=n.props.children,l=wo(o,Bw).filter(function(u){return HVe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ai(d,r);if(cn(f))return u;var h=Array.isArray(f)?[d2(f),_f(f)]:[f,f],p=c.reduce(function(y,g){var v=ai(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},VVe=function(e,n,r,i,a){var o=n.map(function(l){return Gle(e,l,r,a,i)}).filter(function(l){return!cn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Wle=function(e,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&Gle(e,c,u,i)||U0(e,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Xle=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Yle=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},Xu=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?ha(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Dx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},zR=new WeakMap,pS=function(e,n){if(typeof n!="function")return e;zR.has(e)||zR.set(e,new WeakMap);var r=zR.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Kle=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Rb(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:xE(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:F0(),realScaleType:"point"}:a==="category"?{scale:Rb(),realScaleType:"band"}:{scale:xE(),realScaleType:"linear"};if(Wp(i)){var c="scale".concat(QN(i));return{scale:(dX[c]||F0)(),realScaleType:dX[c]?c:"point"}}return nn(i)?{scale:i}:{scale:F0(),realScaleType:"point"}},AX=1e-4,Qle=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-AX,o=Math.max(i[0],i[1])+AX,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},qVe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},GVe=function(e,n){if(!n||n.length!==2||!wt(n[0])||!wt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!wt(e[0])||e[0]<r)&&(a[0]=r),(!wt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},WVe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Dx(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},XVe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Dx(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},YVe={sign:WVe,expand:k6e,none:Rv,silhouette:L6e,wiggle:F6e,positive:XVe},KVe=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=YVe[r],o=I6e().keys(i).value(function(l,c){return+ai(l,c,0)}).order(S3).offset(a);return o(e)},QVe=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var p,y=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Qr(Qr({},h.type.defaultProps),h.props):h.props,g=y.stackId,v=y.hide;if(v)return f;var b=y[r],w=f[b]||{hasStack:!1,stackGroups:{}};if(ki(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[am("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Qr(Qr({},f),{},nv({},b,w))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return Qr(Qr({},g),{},nv({},v,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:KVe(e,b.items,a)}))},y)}return Qr(Qr({},f),{},nv({},h,p))},d)},Zle=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=dVe(u,a,l);return e.domain([d2(d),_f(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),h=fVe(f,a,l);return{niceTicks:h}}return null};function EE(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!cn(i[e.dataKey])){var l=eE(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=ai(i,cn(o)?e.dataKey:o);return cn(c)?null:e.scale(c)}var CX=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=ai(o,n.dataKey,n.domain[l]);return cn(c)?null:n.scale(c)-a/2+i},ZVe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},JVe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qr(Qr({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(ki(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},e7e=function(e){return e.reduce(function(n,r){return[d2(r.concat([n[0]]).filter(wt)),_f(r.concat([n[1]]).filter(wt))]},[1/0,-1/0])},Jle=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var f=e7e(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X3=function(e,n,r){if(nn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(wt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MX.test(e[0])){var a=+MX.exec(e[0])[1];i[0]=n[0]-a}else nn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(wt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(TX.test(e[1])){var o=+TX.exec(e[1])[1];i[1]=n[1]+o}else nn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},NE=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=kF(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},PX=function(e,n,r){return!e||!e.length||Kp(e,bo(r,"type.defaultProps.domain"))?n:e},ece=function(e,n){var r=e.type.defaultProps?Qr(Qr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Qr(Qr({},Wt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:lU(e),value:ai(n,i),type:c,payload:n,chartType:u,hide:d})};function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}function DX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ku(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DX(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return e=t7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t7e(t){var e=n7e(t,"string");return zb(e)=="symbol"?e:e+""}function n7e(t,e){if(zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r7e(t,e){return o7e(t)||a7e(t,e)||s7e(t,e)||i7e()}function i7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s7e(t,e){if(t){if(typeof t=="string")return RX(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RX(t,e)}}function RX(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function o7e(t){if(Array.isArray(t))return t}var AE=Math.PI/180,l7e=function(e){return e*180/Math.PI},wr=function(e,n,r,i){return{x:e+Math.cos(-AE*i)*r,y:n+Math.sin(-AE*i)*r}},nce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},c7e=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=pa(e.cx,o,o/2),f=pa(e.cy,l,l/2),h=nce(o,l,r),p=pa(e.innerRadius,h,0),y=pa(e.outerRadius,h,h*.8),g=Object.keys(n);return g.reduce(function(v,b){var w=n[b],_=w.domain,S=w.reversed,j;if(cn(w.range))i==="angleAxis"?j=[c,u]:i==="radiusAxis"&&(j=[p,y]),S&&(j=[j[1],j[0]]);else{j=w.range;var A=j,C=r7e(A,2);c=C[0],u=C[1]}var N=Kle(w,a),T=N.realScaleType,P=N.scale;P.domain(_).range(j),Qle(P);var D=Zle(P,ku(ku({},w),{},{realScaleType:T})),O=ku(ku(ku({},w),D),{},{range:j,radius:y,realScaleType:T,scale:P,cx:d,cy:f,innerRadius:p,outerRadius:y,startAngle:c,endAngle:u});return ku(ku({},v),{},tce({},b,O))},{})},u7e=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},d7e=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=u7e({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:l7e(u),angleInRadian:u}},f7e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},h7e=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},OX=function(e,n){var r=e.x,i=e.y,a=d7e({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=f7e(n),f=d.startAngle,h=d.endAngle,p=l,y;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;y=p>=h&&p<=f}return y?ku(ku({},n),{},{radius:o,angle:h7e(p,n)}):null},rce=function(e){return!M.isValidElement(e)&&!nn(e)&&typeof e!="boolean"?e.className:""};function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}var p7e=["offset"];function m7e(t){return y7e(t)||x7e(t)||v7e(t)||g7e()}function g7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v7e(t,e){if(t){if(typeof t=="string")return Y3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y3(t,e)}}function x7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function y7e(t){if(Array.isArray(t))return Y3(t)}function Y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b7e(t,e){if(t==null)return{};var n=w7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IX(Object(n),!0).forEach(function(r){_7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _7e(t,e,n){return e=S7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S7e(t){var e=j7e(t,"string");return Hb(e)=="symbol"?e:e+""}function j7e(t,e){if(Hb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}var E7e=function(e){var n=e.value,r=e.formatter,i=cn(e.children)?n:e.children;return nn(r)?r(i):i},N7e=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),360);return r*i},A7e=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,y=c.endAngle,g=c.clockWise,v=(f+h)/2,b=N7e(p,y),w=b>=0?1:-1,_,S;i==="insideStart"?(_=p+w*o,S=g):i==="insideEnd"?(_=y-w*o,S=!g):i==="end"&&(_=y+w*o,S=g),S=b<=0?S:!S;var j=wr(u,d,v,_),A=wr(u,d,v,_+(S?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),N=cn(e.id)?am("recharts-radial-line-"):e.id;return ee.createElement("text",Vb({},r,{dominantBaseline:"central",className:dn("recharts-radial-bar-label",l)}),ee.createElement("defs",null,ee.createElement("path",{id:N,d:C})),ee.createElement("textPath",{xlinkHref:"#".concat(N)},n))},C7e=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=wr(o,l,u+r,h),y=p.x,g=p.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=wr(o,l,v,h),w=b.x,_=b.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},M7e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",y=f>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",w=g>0?"start":"end";if(a==="top"){var _={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Ti(Ti({},_),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Ti(Ti({},S),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ti(Ti({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(a==="right"){var A={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Ti(Ti({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return a==="insideLeft"?Ti({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},C):a==="insideRight"?Ti({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):a==="insideTop"?Ti({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},C):a==="insideBottom"?Ti({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},C):a==="insideTopLeft"?Ti({x:l+v,y:c+h,textAnchor:w,verticalAnchor:y},C):a==="insideTopRight"?Ti({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:y},C):a==="insideBottomLeft"?Ti({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:p},C):a==="insideBottomRight"?Ti({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},C):Px(a)&&(wt(a.x)||lp(a.x))&&(wt(a.y)||lp(a.y))?Ti({x:l+pa(a.x,u),y:c+pa(a.y,d),textAnchor:"end",verticalAnchor:"end"},C):Ti({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},T7e=function(e){return"cx"in e&&wt(e.cx)};function rs(t){var e=t.offset,n=e===void 0?5:e,r=b7e(t,p7e),i=Ti({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||cn(l)&&cn(c)&&!M.isValidElement(u)&&!nn(u))return null;if(M.isValidElement(u))return M.cloneElement(u,i);var p;if(nn(u)){if(p=M.createElement(u,i),M.isValidElement(p))return p}else p=E7e(i);var y=T7e(a),g=Wt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return A7e(i,p,g);var v=y?C7e(i):M7e(i);return ee.createElement(Yp,Vb({className:dn("recharts-label",f)},g,v,{breakAll:h}),p)}rs.displayName="Label";var ice=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,p=e.top,y=e.left,g=e.width,v=e.height,b=e.clockWise,w=e.labelViewBox;if(w)return w;if(wt(g)&&wt(v)){if(wt(f)&&wt(h))return{x:f,y:h,width:g,height:v};if(wt(p)&&wt(y))return{x:p,y,width:g,height:v}}return wt(f)&&wt(h)?{x:f,y:h,width:0,height:0}:wt(n)&&wt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},P7e=function(e,n){return e?e===!0?ee.createElement(rs,{key:"label-implicit",viewBox:n}):ki(e)?ee.createElement(rs,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===rs?M.cloneElement(e,{key:"label-implicit",viewBox:n}):ee.createElement(rs,{key:"label-implicit",content:e,viewBox:n}):nn(e)?ee.createElement(rs,{key:"label-implicit",content:e,viewBox:n}):Px(e)?ee.createElement(rs,Vb({viewBox:n},e,{key:"label-implicit"})):null:null},D7e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=ice(e),o=wo(i,rs).map(function(c,u){return M.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=P7e(e.label,n||a);return[l].concat(m7e(o))};rs.parseViewBox=ice;rs.renderCallByParent=D7e;var HR,kX;function R7e(){if(kX)return HR;kX=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return HR=t,HR}var O7e=R7e();const I7e=In(O7e);function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}var k7e=["valueAccessor"],L7e=["data","dataKey","clockWise","id","textBreakAll"];function F7e(t){return z7e(t)||$7e(t)||B7e(t)||U7e()}function U7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7e(t,e){if(t){if(typeof t=="string")return K3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K3(t,e)}}function $7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z7e(t){if(Array.isArray(t))return K3(t)}function K3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function LX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LX(Object(n),!0).forEach(function(r){H7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H7e(t,e,n){return e=V7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7e(t){var e=q7e(t,"string");return qb(e)=="symbol"?e:e+""}function q7e(t,e){if(qb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UX(t,e){if(t==null)return{};var n=G7e(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var W7e=function(e){return Array.isArray(e.value)?I7e(e.value):e.value};function Hc(t){var e=t.valueAccessor,n=e===void 0?W7e:e,r=UX(t,k7e),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=UX(r,L7e);return!i||!i.length?null:ee.createElement(Dn,{className:"recharts-label-list"},i.map(function(d,f){var h=cn(a)?n(d,f):ai(d&&d.payload,a),p=cn(l)?{}:{id:"".concat(l,"-").concat(f)};return ee.createElement(rs,CE({},Wt(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:rs.parseViewBox(cn(o)?d:FX(FX({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Hc.displayName="LabelList";function X7e(t,e){return t?t===!0?ee.createElement(Hc,{key:"labelList-implicit",data:e}):ee.isValidElement(t)||nn(t)?ee.createElement(Hc,{key:"labelList-implicit",data:e,content:t}):Px(t)?ee.createElement(Hc,CE({data:e},t,{key:"labelList-implicit"})):null:null}function Y7e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=wo(r,Hc).map(function(o,l){return M.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=X7e(t.label,e);return[a].concat(F7e(i))}Hc.renderCallByParent=Y7e;function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function Q3(){return Q3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q3.apply(this,arguments)}function BX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $X(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BX(Object(n),!0).forEach(function(r){K7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K7e(t,e,n){return e=Q7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q7e(t){var e=Z7e(t,"string");return Gb(e)=="symbol"?e:e+""}function Z7e(t,e){if(Gb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J7e=function(e,n){var r=ha(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},mS=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/AE,h=u?a:a+o*f,p=wr(n,r,d,h),y=wr(n,r,i,h),g=u?a-o*f:a,v=wr(n,r,d*Math.cos(f*AE),g);return{center:p,circleTangency:y,lineTangency:v,theta:f}},sce=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=J7e(o,l),u=o+c,d=wr(n,r,a,o),f=wr(n,r,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=wr(n,r,i,o),y=wr(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},eqe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ha(d-u),h=mS({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,y=h.lineTangency,g=h.theta,v=mS({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,w=v.lineTangency,_=v.theta,S=c?Math.abs(u-d):Math.abs(u-d)-g-_;if(S<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sce({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=mS({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=A.circleTangency,N=A.lineTangency,T=A.theta,P=mS({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=P.circleTangency,O=P.lineTangency,I=P.theta,L=c?Math.abs(u-d):Math.abs(u-d)-T-I;if(L<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},tqe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ace=function(e){var n=$X($X({},tqe),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<a||d===f)return null;var p=dn("recharts-sector",h),y=o-a,g=pa(l,y,0,!0),v;return g>0&&Math.abs(d-f)<360?v=eqe({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=sce({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),ee.createElement("path",Q3({},Wt(n,!0),{className:p,d:v,role:"img"}))};function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function Z3(){return Z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z3.apply(this,arguments)}function zX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zX(Object(n),!0).forEach(function(r){nqe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nqe(t,e,n){return e=rqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rqe(t){var e=iqe(t,"string");return Wb(e)=="symbol"?e:e+""}function iqe(t,e){if(Wb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VX={curveBasisClosed:j6e,curveBasisOpen:E6e,curveBasis:S6e,curveBumpX:c6e,curveBumpY:u6e,curveLinearClosed:N6e,curveLinear:JN,curveMonotoneX:A6e,curveMonotoneY:C6e,curveNatural:M6e,curveStep:T6e,curveStepAfter:D6e,curveStepBefore:P6e},gS=function(e){return e.x===+e.x&&e.y===+e.y},Vy=function(e){return e.x},qy=function(e){return e.y},sqe=function(e,n){if(nn(e))return e;var r="curve".concat(QN(e));return(r==="curveMonotone"||r==="curveBump")&&n?VX["".concat(r).concat(n==="vertical"?"Y":"X")]:VX[r]||JN},aqe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=sqe(r,l),f=u?a.filter(function(g){return gS(g)}):a,h;if(Array.isArray(o)){var p=u?o.filter(function(g){return gS(g)}):o,y=f.map(function(g,v){return HX(HX({},g),{},{base:p[v]})});return l==="vertical"?h=oS().y(qy).x1(Vy).x0(function(g){return g.base.x}):h=oS().x(Vy).y1(qy).y0(function(g){return g.base.y}),h.defined(gS).curve(d),h(y)}return l==="vertical"&&wt(o)?h=oS().y(qy).x1(Vy).x0(o):wt(o)?h=oS().x(Vy).y1(qy).y0(o):h=ioe().x(Vy).y(qy),h.defined(gS).curve(d),h(f)},Cp=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?aqe(e):i;return M.createElement("path",Z3({},Wt(e,!1),tE(e),{className:dn("recharts-curve",n),d:o,ref:a}))},VR={exports:{}},qR,qX;function oqe(){if(qX)return qR;qX=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qR=t,qR}var GR,GX;function lqe(){if(GX)return GR;GX=1;var t=oqe();function e(){}function n(){}return n.resetWarningCache=e,GR=function(){function r(o,l,c,u,d,f){if(f!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},GR}var WX;function cqe(){return WX||(WX=1,VR.exports=lqe()()),VR.exports}var uqe=cqe();const Zn=In(uqe);var dqe=Object.getOwnPropertyNames,fqe=Object.getOwnPropertySymbols,hqe=Object.prototype.hasOwnProperty;function XX(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function vS(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function pqe(t){return t?.[Symbol.toStringTag]}function YX(t){return dqe(t).concat(fqe(t))}var mqe=Object.hasOwn||(function(t,e){return hqe.call(t,e)});function cm(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var gqe="__v",vqe="__o",xqe="_owner",KX=Object.getOwnPropertyDescriptor,QX=Object.keys;function yqe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function bqe(t,e){return cm(t.getTime(),e.getTime())}function wqe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _qe(t,e){return t===e}function ZX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var h=o.value,p=l.value;if(n.equals(h[0],p[0],c,f,t,e,n)&&n.equals(h[1],p[1],h[0],p[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var Sqe=cm;function jqe(t,e,n){var r=QX(t),i=r.length;if(QX(e).length!==i)return!1;for(;i-- >0;)if(!oce(t,e,n,r[i]))return!1;return!0}function Gy(t,e,n){var r=YX(t),i=r.length;if(YX(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!oce(t,e,n,a)||(o=KX(t,a),l=KX(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Eqe(t,e){return cm(t.valueOf(),e.valueOf())}function Nqe(t,e){return t.source===e.source&&t.flags===e.flags}function JX(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function Aqe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Cqe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oce(t,e,n,r){return(r===xqe||r===vqe||r===gqe)&&(t.$$typeof||e.$$typeof)?!0:mqe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Mqe="[object Arguments]",Tqe="[object Boolean]",Pqe="[object Date]",Dqe="[object Error]",Rqe="[object Map]",Oqe="[object Number]",Iqe="[object Object]",kqe="[object RegExp]",Lqe="[object Set]",Fqe="[object String]",Uqe="[object URL]",Bqe=Array.isArray,eY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tY=Object.assign,$qe=Object.prototype.toString.call.bind(Object.prototype.toString);function zqe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,p=t.unknownTagComparators;return function(g,v,b){if(g===v)return!0;if(g==null||v==null)return!1;var w=typeof g;if(w!==typeof v)return!1;if(w!=="object")return w==="number"?o(g,v,b):w==="function"?i(g,v,b):!1;var _=g.constructor;if(_!==v.constructor)return!1;if(_===Object)return l(g,v,b);if(Bqe(g))return e(g,v,b);if(eY!=null&&eY(g))return f(g,v,b);if(_===Date)return n(g,v,b);if(_===RegExp)return u(g,v,b);if(_===Map)return a(g,v,b);if(_===Set)return d(g,v,b);var S=$qe(g);if(S===Pqe)return n(g,v,b);if(S===kqe)return u(g,v,b);if(S===Rqe)return a(g,v,b);if(S===Lqe)return d(g,v,b);if(S===Iqe)return typeof g.then!="function"&&typeof v.then!="function"&&l(g,v,b);if(S===Uqe)return h(g,v,b);if(S===Dqe)return r(g,v,b);if(S===Mqe)return l(g,v,b);if(S===Tqe||S===Oqe||S===Fqe)return c(g,v,b);if(p){var j=p[S];if(!j){var A=pqe(g);A&&(j=p[A])}if(j)return j(g,v,b)}return!1}}function Hqe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Gy:yqe,areDatesEqual:bqe,areErrorsEqual:wqe,areFunctionsEqual:_qe,areMapsEqual:r?XX(ZX,Gy):ZX,areNumbersEqual:Sqe,areObjectsEqual:r?Gy:jqe,arePrimitiveWrappersEqual:Eqe,areRegExpsEqual:Nqe,areSetsEqual:r?XX(JX,Gy):JX,areTypedArraysEqual:r?Gy:Aqe,areUrlsEqual:Cqe,unknownTagComparators:void 0};if(n&&(i=tY({},i,n(i))),e){var a=vS(i.areArraysEqual),o=vS(i.areMapsEqual),l=vS(i.areObjectsEqual),c=vS(i.areSetsEqual);i=tY({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function Vqe(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function qqe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,u){var d=r(),f=d.cache,h=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return n(c,u,{cache:h,equals:i,meta:p,strict:a})};if(e)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var Gqe=dh();dh({strict:!0});dh({circular:!0});dh({circular:!0,strict:!0});dh({createInternalComparator:function(){return cm}});dh({strict:!0,createInternalComparator:function(){return cm}});dh({circular:!0,createInternalComparator:function(){return cm}});dh({circular:!0,createInternalComparator:function(){return cm},strict:!0});function dh(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=Hqe(t),c=zqe(l),u=r?r(c):Vqe(c);return qqe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function Wqe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function nY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Wqe(i)};requestAnimationFrame(r)}function J3(t){"@babel/helpers - typeof";return J3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J3(t)}function Xqe(t){return Zqe(t)||Qqe(t)||Kqe(t)||Yqe()}function Yqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kqe(t,e){if(t){if(typeof t=="string")return rY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rY(t,e)}}function rY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zqe(t){if(Array.isArray(t))return t}function Jqe(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=Xqe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){nY(i.bind(null,u),c);return}i(c),nY(i.bind(null,u));return}J3(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function iY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iY(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return e=eGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eGe(t){var e=tGe(t,"string");return Xb(e)==="symbol"?e:String(e)}function tGe(t,e){if(Xb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nGe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},rGe=function(e){return e},iGe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},B0=function(e,n){return Object.keys(n).reduce(function(r,i){return sY(sY({},r),{},lce({},i,e(i,n[i])))},{})},aY=function(e,n,r){return e.map(function(i){return"".concat(iGe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function sGe(t,e){return lGe(t)||oGe(t,e)||cce(t,e)||aGe()}function aGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lGe(t){if(Array.isArray(t))return t}function cGe(t){return fGe(t)||dGe(t)||cce(t)||uGe()}function uGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(t,e){if(t){if(typeof t=="string")return eL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eL(t,e)}}function dGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fGe(t){if(Array.isArray(t))return eL(t)}function eL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ME=1e-4,uce=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},dce=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},oY=function(e,n){return function(r){var i=uce(e,n);return dce(i,r)}},hGe=function(e,n){return function(r){var i=uce(e,n),a=[].concat(cGe(i.map(function(o,l){return o*l}).slice(1)),[0]);return dce(a,r)}},lY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=sGe(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=oY(i,o),h=oY(a,l),p=hGe(i,o),y=function(b){return b>1?1:b<0?0:b},g=function(b){for(var w=b>1?1:b,_=w,S=0;S<8;++S){var j=f(_)-w,A=p(_);if(Math.abs(j-w)<ME||A<ME)return h(_);_=y(_-j/A)}return h(_)};return g.isStepper=!1,g},pGe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*r,y=h*a,g=h+(p-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<ME&&Math.abs(g)<ME?[f,0]:[v,g]};return c.isStepper=!0,c.dt=l,c},mGe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lY(i);case"spring":return pGe();default:if(i.split("(")[0]==="cubic-bezier")return lY(i)}return typeof i=="function"?i:null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}function cY(t){return xGe(t)||vGe(t)||fce(t)||gGe()}function gGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xGe(t){if(Array.isArray(t))return nL(t)}function uY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uY(Object(n),!0).forEach(function(r){tL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tL(t,e,n){return e=yGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yGe(t){var e=bGe(t,"string");return Yb(e)==="symbol"?e:String(e)}function bGe(t,e){if(Yb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wGe(t,e){return jGe(t)||SGe(t,e)||fce(t,e)||_Ge()}function _Ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jGe(t){if(Array.isArray(t))return t}var TE=function(e,n,r){return e+(n-e)*r},rL=function(e){var n=e.from,r=e.to;return n!==r},EGe=function t(e,n,r){var i=B0(function(a,o){if(rL(o)){var l=e(o.from,o.to,o.velocity),c=wGe(l,2),u=c[0],d=c[1];return hs(hs({},o),{},{from:u,velocity:d})}return o},n);return r<1?B0(function(a,o){return rL(o)?hs(hs({},o),{},{velocity:TE(o.velocity,i[a].velocity,r),from:TE(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const NGe=(function(t,e,n,r,i){var a=nGe(t,e),o=a.reduce(function(v,b){return hs(hs({},v),{},tL({},b,[t[b],e[b]]))},{}),l=a.reduce(function(v,b){return hs(hs({},v),{},tL({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return B0(function(b,w){return w.from},l)},p=function(){return!Object.values(l).filter(rL).length},y=function(b){u||(u=b);var w=b-u,_=w/n.dt;l=EGe(n,l,_),i(hs(hs(hs({},t),e),h())),u=b,p()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var w=(b-d)/r,_=B0(function(j,A){return TE.apply(void 0,cY(A).concat([n(w)]))},o);if(i(hs(hs(hs({},t),e),_)),w<1)c=requestAnimationFrame(f);else{var S=B0(function(j,A){return TE.apply(void 0,cY(A).concat([n(1)]))},o);i(hs(hs(hs({},t),e),S))}};return f=n.isStepper?y:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}});function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}var AGe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CGe(t,e){if(t==null)return{};var n=MGe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MGe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WR(t){return RGe(t)||DGe(t)||PGe(t)||TGe()}function TGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PGe(t,e){if(t){if(typeof t=="string")return iL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(t,e)}}function DGe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RGe(t){if(Array.isArray(t))return iL(t)}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ml(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dY(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0(t,e,n){return e=hce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IGe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hce(r.key),r)}}function kGe(t,e,n){return e&&IGe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hce(t){var e=LGe(t,"string");return zv(e)==="symbol"?e:String(e)}function LGe(t,e){if(zv(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zv(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FGe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sL(t,e)}function sL(t,e){return sL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sL(t,e)}function UGe(t){var e=BGe();return function(){var r=PE(t),i;if(e){var a=PE(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return aL(this,i)}}function aL(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oL(t)}function oL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BGe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function PE(t){return PE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PE(t)}var ic=(function(t){FGe(n,t);var e=UGe(n);function n(r,i){var a;OGe(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(oL(a)),a.changeStyle=a.changeStyle.bind(oL(a)),!l||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),aL(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},aL(a);a.state={style:c?g0({},c,u):u}}else a.state={style:{}};return a}return kGe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var p={style:c?g0({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Gqe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?f:i.to;if(this.state&&h){var v={style:c?g0({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(Ml(Ml({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=NGe(o,l,mGe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,b){if(b===0)return g;var w=v.duration,_=v.easing,S=_===void 0?"ease":_,j=v.style,A=v.properties,C=v.onAnimationEnd,N=b>0?o[b-1]:v,T=A||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(WR(g),[a.runJSAnimation.bind(a,{from:N.style,to:j,duration:w,easing:S}),w]);var P=aY(T,w,S),D=Ml(Ml(Ml({},N.style),j),{},{transition:P});return[].concat(WR(g),[D,w,C]).filter(rGe)};return this.manager.start([c].concat(WR(o.reduce(p,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Jqe());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?g0({},l,c):c,v=aY(Object.keys(g),o,u);y.start([d,a,Ml(Ml({},g),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=CGe(i,AGe),u=M.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var y=p.props,g=y.style,v=g===void 0?{}:g,b=y.className,w=M.cloneElement(p,Ml(Ml({},c),{},{style:Ml(Ml({},v),d),className:b}));return w};return u===1?f(M.Children.only(a)):ee.createElement("div",null,M.Children.map(a,function(h){return f(h)}))}}]),n})(M.PureComponent);ic.displayName="Animate";ic.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ic.propTypes={from:Zn.oneOfType([Zn.object,Zn.string]),to:Zn.oneOfType([Zn.object,Zn.string]),attributeName:Zn.string,duration:Zn.number,begin:Zn.number,easing:Zn.oneOfType([Zn.string,Zn.func]),steps:Zn.arrayOf(Zn.shape({duration:Zn.number.isRequired,style:Zn.object.isRequired,easing:Zn.oneOfType([Zn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Zn.func]),properties:Zn.arrayOf("string"),onAnimationEnd:Zn.func})),children:Zn.oneOfType([Zn.node,Zn.func]),isActive:Zn.bool,canBegin:Zn.bool,onAnimationEnd:Zn.func,shouldReAnimate:Zn.bool,onAnimationStart:Zn.func,onAnimationReStart:Zn.func};function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function $Ge(t,e){return qGe(t)||VGe(t,e)||HGe(t,e)||zGe()}function zGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HGe(t,e){if(t){if(typeof t=="string")return fY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fY(t,e)}}function fY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qGe(t){if(Array.isArray(t))return t}function hY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hY(Object(n),!0).forEach(function(r){GGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GGe(t,e,n){return e=WGe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WGe(t){var e=XGe(t,"string");return Kb(e)=="symbol"?e:e+""}function XGe(t,e){if(Kb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mY=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>o?o:a[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},YGe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},KGe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cU=function(e){var n=pY(pY({},KGe),e),r=M.useRef(),i=M.useState(-1),a=$Ge(i,2),o=a[0],l=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var _=dn("recharts-rectangle",p);return w?ee.createElement(ic,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:y,isActive:w},function(S){var j=S.width,A=S.height,C=S.x,N=S.y;return ee.createElement(ic,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:y},ee.createElement("path",DE({},Wt(n,!0),{className:_,d:mY(C,N,j,A,h),ref:r})))}):ee.createElement("path",DE({},Wt(n,!0),{className:_,d:mY(c,u,d,f,h)}))},QGe=["points","className","baseLinePoints","connectNulls"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function ZGe(t,e){if(t==null)return{};var n=JGe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gY(t){return rWe(t)||nWe(t)||tWe(t)||eWe()}function eWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tWe(t,e){if(t){if(typeof t=="string")return lL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lL(t,e)}}function nWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rWe(t){if(Array.isArray(t))return lL(t)}function lL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vY=function(e){return e&&e.x===+e.x&&e.y===+e.y},iWe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){vY(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),vY(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},$0=function(e,n){var r=iWe(e);n&&(r=[r.reduce(function(a,o){return[].concat(gY(a),gY(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},sWe=function(e,n,r){var i=$0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat($0(n.reverse(),r).slice(1))},aWe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=ZGe(e,QGe);if(!n||!n.length)return null;var l=dn("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=sWe(n,i,a);return ee.createElement("g",{className:l},ee.createElement("path",Mg({},Wt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ee.createElement("path",Mg({},Wt(o,!0),{fill:"none",d:$0(n,a)})):null,c?ee.createElement("path",Mg({},Wt(o,!0),{fill:"none",d:$0(i,a)})):null)}var d=$0(n,a);return ee.createElement("path",Mg({},Wt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function cL(){return cL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cL.apply(this,arguments)}var $w=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=dn("recharts-dot",a);return n===+n&&r===+r&&i===+i?M.createElement("circle",cL({},Wt(e,!1),tE(e),{className:o,cx:n,cy:r,r:i})):null};function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}var oWe=["x","y","top","left","width","height","className"];function uL(){return uL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uL.apply(this,arguments)}function xY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lWe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xY(Object(n),!0).forEach(function(r){cWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cWe(t,e,n){return e=uWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uWe(t){var e=dWe(t,"string");return Qb(e)=="symbol"?e:e+""}function dWe(t,e){if(Qb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fWe(t,e){if(t==null)return{};var n=hWe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pWe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},mWe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,p=h===void 0?0:h,y=e.className,g=fWe(e,oWe),v=lWe({x:r,y:a,top:l,left:u,width:f,height:p},g);return!wt(r)||!wt(a)||!wt(f)||!wt(p)||!wt(l)||!wt(u)?null:ee.createElement("path",uL({},Wt(v,!0),{className:dn("recharts-cross",y),d:pWe(r,a,f,p,l,u)}))},XR,yY;function gWe(){if(yY)return XR;yY=1;var t=u2(),e=Cle(),n=uu();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return XR=r,XR}var vWe=gWe();const xWe=In(vWe);var YR,bY;function yWe(){if(bY)return YR;bY=1;var t=u2(),e=uu(),n=Mle();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return YR=r,YR}var bWe=yWe();const wWe=In(bWe);var _We=["cx","cy","angle","ticks","axisLine"],SWe=["ticks","tick","angle","tickFormatter","stroke"];function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function wY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wY(Object(n),!0).forEach(function(r){p2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Y(t,e){if(t==null)return{};var n=jWe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mce(r.key),r)}}function NWe(t,e,n){return e&&SY(t.prototype,e),n&&SY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function AWe(t,e,n){return e=RE(e),CWe(t,pce()?Reflect.construct(e,n||[],RE(t).constructor):e.apply(t,n))}function CWe(t,e){if(e&&(Hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MWe(t)}function MWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pce=function(){return!!t})()}function RE(t){return RE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RE(t)}function TWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dL(t,e)}function dL(t,e){return dL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dL(t,e)}function p2(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=PWe(t,"string");return Hv(e)=="symbol"?e:e+""}function PWe(t,e){if(Hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m2=(function(t){function e(){return EWe(this,e),AWe(this,e,arguments)}return TWe(e,t),NWe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return wr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=xWe(l,function(d){return d.coordinate||0}),u=wWe(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=_Y(r,_We),d=l.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),f=wr(i,a,d[0],o),h=wr(i,a,d[1],o),p=Fh(Fh(Fh({},Wt(u,!1)),{},{fill:"none"},Wt(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return ee.createElement("line",z0({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=_Y(i,SWe),f=this.getTickTextAnchor(),h=Wt(d,!1),p=Wt(o,!1),y=a.map(function(g,v){var b=r.getTickValueCoord(g),w=Fh(Fh(Fh(Fh({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:g});return ee.createElement(Dn,z0({className:dn("recharts-polar-radius-axis-tick",rce(o)),key:"tick-".concat(g.coordinate)},Xp(r.props,g,v)),e.renderTickItem(o,w,c?c(g.value,v):g.value))});return ee.createElement(Dn,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:ee.createElement(Dn,{className:dn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),rs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):nn(r)?o=r(i):o=ee.createElement(Yp,z0({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(M.PureComponent);p2(m2,"displayName","PolarRadiusAxis");p2(m2,"axisType","radiusAxis");p2(m2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}function jY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jY(Object(n),!0).forEach(function(r){g2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vce(r.key),r)}}function RWe(t,e,n){return e&&EY(t.prototype,e),n&&EY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OWe(t,e,n){return e=OE(e),IWe(t,gce()?Reflect.construct(e,n||[],OE(t).constructor):e.apply(t,n))}function IWe(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kWe(t)}function kWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gce=function(){return!!t})()}function OE(t){return OE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OE(t)}function LWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fL(t,e)}function fL(t,e){return fL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fL(t,e)}function g2(t,e,n){return e=vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=FWe(t,"string");return Vv(e)=="symbol"?e:e+""}function FWe(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UWe=Math.PI/180,NY=1e-5,v2=(function(t){function e(){return DWe(this,e),OWe(this,e,arguments)}return LWe(e,t),RWe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=wr(a,o,l,r.coordinate),h=wr(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*UWe),o;return a>NY?o=i==="outer"?"start":"end":a<-NY?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Uh(Uh({},Wt(this.props,!1)),{},{fill:"none"},Wt(l,!1));if(c==="circle")return ee.createElement($w,Kh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return wr(i,a,o,h.coordinate)});return ee.createElement(aWe,Kh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Wt(this.props,!1),f=Wt(o,!1),h=Uh(Uh({},d),{},{fill:"none"},Wt(l,!1)),p=a.map(function(y,g){var v=r.getTickLineCoord(y),b=r.getTickTextAnchor(y),w=Uh(Uh(Uh({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:y,x:v.x2,y:v.y2});return ee.createElement(Dn,Kh({className:dn("recharts-polar-angle-axis-tick",rce(o)),key:"tick-".concat(y.coordinate)},Xp(r.props,y,g)),l&&ee.createElement("line",Kh({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,w,c?c(y.value,g):y.value))});return ee.createElement(Dn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:ee.createElement(Dn,{className:dn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ee.isValidElement(r)?o=ee.cloneElement(r,i):nn(r)?o=r(i):o=ee.createElement(Yp,Kh({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(M.PureComponent);g2(v2,"displayName","PolarAngleAxis");g2(v2,"axisType","angleAxis");g2(v2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var KR,AY;function BWe(){if(AY)return KR;AY=1;var t=Aoe(),e=t(Object.getPrototypeOf,Object);return KR=e,KR}var QR,CY;function $We(){if(CY)return QR;CY=1;var t=vd(),e=BWe(),n=xd(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function u(d){if(!n(d)||t(d)!=r)return!1;var f=e(d);if(f===null)return!0;var h=l.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return QR=u,QR}var zWe=$We();const HWe=In(zWe);var ZR,MY;function VWe(){if(MY)return ZR;MY=1;var t=vd(),e=xd(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return ZR=r,ZR}var qWe=VWe();const GWe=In(qWe);function Zb(t){"@babel/helpers - typeof";return Zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zb(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IE.apply(this,arguments)}function WWe(t,e){return QWe(t)||KWe(t,e)||YWe(t,e)||XWe()}function XWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YWe(t,e){if(t){if(typeof t=="string")return TY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TY(t,e)}}function TY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QWe(t){if(Array.isArray(t))return t}function PY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PY(Object(n),!0).forEach(function(r){ZWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZWe(t,e,n){return e=JWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JWe(t){var e=eXe(t,"string");return Zb(e)=="symbol"?e:e+""}function eXe(t,e){if(Zb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RY=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},tXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nXe=function(e){var n=DY(DY({},tXe),e),r=M.useRef(),i=M.useState(-1),a=WWe(i,2),o=a[0],l=a[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,y=n.animationEasing,g=n.animationDuration,v=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=dn("recharts-trapezoid",p);return b?ee.createElement(ic,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:y,isActive:b},function(_){var S=_.upperWidth,j=_.lowerWidth,A=_.height,C=_.x,N=_.y;return ee.createElement(ic,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:y},ee.createElement("path",IE({},Wt(n,!0),{className:w,d:RY(C,N,S,j,A),ref:r})))}):ee.createElement("g",null,ee.createElement("path",IE({},Wt(n,!0),{className:w,d:RY(c,u,d,f,h)})))},rXe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function iXe(t,e){if(t==null)return{};var n=sXe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OY(Object(n),!0).forEach(function(r){aXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aXe(t,e,n){return e=oXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oXe(t){var e=lXe(t,"string");return Jb(e)=="symbol"?e:e+""}function lXe(t,e){if(Jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cXe(t,e){return kE(kE({},e),t)}function uXe(t,e){return t==="symbols"}function IY(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ee.createElement(cU,n);case"trapezoid":return ee.createElement(nXe,n);case"sector":return ee.createElement(ace,n);case"symbols":if(uXe(e))return ee.createElement(CF,n);break;default:return null}}function dXe(t){return M.isValidElement(t)?t.props:t}function xce(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?cXe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=iXe(t,rXe),u;if(M.isValidElement(e))u=M.cloneElement(e,kE(kE({},c),dXe(e)));else if(nn(e))u=e(c);else if(HWe(e)&&!GWe(e)){var d=i(e,c);u=ee.createElement(IY,{shapeType:n,elementProps:d})}else{var f=c;u=ee.createElement(IY,{shapeType:n,elementProps:f})}return l?ee.createElement(Dn,{className:o},u):u}function x2(t,e){return e!=null&&"trapezoids"in t.props}function y2(t,e){return e!=null&&"sectors"in t.props}function ew(t,e){return e!=null&&"points"in t.props}function fXe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function hXe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function pXe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function mXe(t,e){var n;return x2(t,e)?n=fXe:y2(t,e)?n=hXe:ew(t,e)&&(n=pXe),n}function gXe(t,e){var n;return x2(t,e)?n="trapezoids":y2(t,e)?n="sectors":ew(t,e)&&(n="points"),n}function vXe(t,e){if(x2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(y2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ew(t,e)?e.payload:{}}function xXe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=gXe(n,e),a=vXe(n,e),o=r.filter(function(c,u){var d=Kp(a,c),f=n.props[i].filter(function(y){var g=mXe(n,e);return g(y,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=r.indexOf(o[o.length-1]);return l}var tj;function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function kY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kY(Object(n),!0).forEach(function(r){Yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bce(r.key),r)}}function bXe(t,e,n){return e&&LY(t.prototype,e),n&&LY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wXe(t,e,n){return e=LE(e),_Xe(t,yce()?Reflect.construct(e,n||[],LE(t).constructor):e.apply(t,n))}function _Xe(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SXe(t)}function SXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yce=function(){return!!t})()}function LE(t){return LE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},LE(t)}function jXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hL(t,e)}function hL(t,e){return hL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hL(t,e)}function Yo(t,e,n){return e=bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bce(t){var e=EXe(t,"string");return qv(e)=="symbol"?e:e+""}function EXe(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var du=(function(t){function e(n){var r;return yXe(this,e),r=wXe(this,e,[n]),Yo(r,"pieRef",null),Yo(r,"sectorRefs",[]),Yo(r,"id",am("recharts-pie-")),Yo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nn(i)&&i()}),Yo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return jXe(e,t),bXe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Wt(this.props,!1),f=Wt(o,!1),h=Wt(l,!1),p=o&&o.offsetRadius||20,y=r.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,w=wr(g.cx,g.cy,g.outerRadius+p,b),_=xr(xr(xr(xr({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(w.x,g.cx)},w),S=xr(xr(xr(xr({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[wr(g.cx,g.cy,g.outerRadius,b),w]}),j=c;return cn(c)&&cn(u)?j="value":cn(c)&&(j=u),ee.createElement(Dn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(o,_,ai(g,j)))});return ee.createElement(Dn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?o:h,y=xr(xr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ee.createElement(Dn,Tg({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Xp(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ee.createElement(xce,Tg({option:p,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return ee.createElement(ic,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,v=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(_,S){var j=h&&h[S],A=S>0?bo(_,"paddingAngle",0):0;if(j){var C=Ii(j.endAngle-j.startAngle,_.endAngle-_.startAngle),N=xr(xr({},_),{},{startAngle:w+A,endAngle:w+C(g)+A});v.push(N),w=N.endAngle}else{var T=_.endAngle,P=_.startAngle,D=Ii(0,T-P),O=D(g),I=xr(xr({},_),{},{startAngle:w+A,endAngle:w+O+A});v.push(I),w=I.endAngle}}),ee.createElement(Dn,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Kp(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!wt(u)||!wt(d)||!wt(f)||!wt(h))return null;var g=dn("recharts-pie",l);return ee.createElement(Dn,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),rs.renderCallByParent(this.props,null,!1),(!p||y)&&Hc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ee.isValidElement(r))return ee.cloneElement(r,i);if(nn(r))return r(i);var o=dn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ee.createElement(Cp,Tg({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(ee.isValidElement(r))return ee.cloneElement(r,i);var o=a;if(nn(r)&&(o=r(i),ee.isValidElement(o)))return o;var l=dn("recharts-pie-label-text",typeof r!="boolean"&&!nn(r)?r.className:"");return ee.createElement(Yp,Tg({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(M.PureComponent);tj=du;Yo(du,"displayName","Pie");Yo(du,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!lh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yo(du,"parseDeltaAngle",function(t,e){var n=ha(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Yo(du,"getRealPieData",function(t){var e=t.data,n=t.children,r=Wt(t,!1),i=wo(n,Iw);return e&&e.length?e.map(function(a,o){return xr(xr(xr({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return xr(xr({},r),a.props)}):[]});Yo(du,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=nce(i,a),l=r+pa(t.cx,i,i/2),c=n+pa(t.cy,a,a/2),u=pa(t.innerRadius,o,0),d=pa(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Yo(du,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?xr(xr({},e.type.defaultProps),e.props):e.props,i=tj.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,p=Math.abs(r.minAngle),y=tj.parseCoordinateOfPie(r,n),g=tj.parseDeltaAngle(o,l),v=Math.abs(g),b=u;cn(u)&&cn(f)?(Kl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):cn(u)&&(Kl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var w=i.filter(function(N){return ai(N,b,0)!==0}).length,_=(v>=360?w:w-1)*c,S=v-w*p-_,j=i.reduce(function(N,T){var P=ai(T,b,0);return N+(wt(P)?P:0)},0),A;if(j>0){var C;A=i.map(function(N,T){var P=ai(N,b,0),D=ai(N,d,T),O=(wt(P)?P:0)/j,I;T?I=C.endAngle+ha(g)*c*(P!==0?1:0):I=o;var L=I+ha(g)*((P!==0?p:0)+O*S),z=(I+L)/2,q=(y.innerRadius+y.outerRadius)/2,V=[{name:D,value:P,payload:N,dataKey:b,type:h}],F=wr(y.cx,y.cy,q,z);return C=xr(xr(xr({percent:O,cornerRadius:a,name:D,tooltipPayload:V,midAngle:z,middleRadius:q,tooltipPosition:F},N),y),{},{value:ai(N,b),startAngle:I,endAngle:L,payload:N,paddingAngle:ha(g)*c}),C})}return xr(xr({},y),{},{sectors:A,data:i})});var JR,FY;function NXe(){if(FY)return JR;FY=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var l=-1,c=e(t((i-r)/(a||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=a;return u}return JR=n,JR}var eO,UY;function wce(){if(UY)return eO;UY=1;var t=Hoe(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return eO=r,eO}var tO,BY;function AXe(){if(BY)return tO;BY=1;var t=NXe(),e=r2(),n=wce();function r(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,i)}}return tO=r,tO}var nO,$Y;function CXe(){if($Y)return nO;$Y=1;var t=AXe(),e=t();return nO=e,nO}var MXe=CXe();const FE=In(MXe);function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function zY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zY(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return e=TXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TXe(t){var e=PXe(t,"string");return tw(e)=="symbol"?e:e+""}function PXe(t,e){if(tw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DXe=["Webkit","Moz","O","ms"],RXe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=DXe.reduce(function(a,o){return HY(HY({},a),{},_ce({},o+r,n))},{});return i[e]=n,i};function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}function VY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VY(Object(n),!0).forEach(function(r){ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jce(r.key),r)}}function IXe(t,e,n){return e&&qY(t.prototype,e),n&&qY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kXe(t,e,n){return e=BE(e),LXe(t,Sce()?Reflect.construct(e,n||[],BE(t).constructor):e.apply(t,n))}function LXe(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FXe(t)}function FXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sce=function(){return!!t})()}function BE(t){return BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BE(t)}function UXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pL(t,e)}function pL(t,e){return pL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pL(t,e)}function ro(t,e,n){return e=jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=BXe(t,"string");return Gv(e)=="symbol"?e:e+""}function BXe(t,e){if(Gv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Xe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=F0().domain(FE(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},GY=function(e){return e.changedTouches&&!!e.changedTouches.length},Wv=(function(t){function e(n){var r;return OXe(this,e),r=kXe(this,e,[n]),ro(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ro(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ro(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),ro(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ro(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ro(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ro(r,"handleSlideDragStart",function(i){var a=GY(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return UXe(e,t),IXe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=e.getIndexInRange(o,f),y=e.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=ai(a[r],l,r);return nn(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,y=c.onChange,g=r.pageX-a;g>0?g=Math.min(g,u+d-f-l,u+d-f-o):g<0&&(g=Math.max(g,u-o,u-l));var v=this.getIndex({startX:o+g,endX:l+g});(v.startIndex!==h||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+g,endX:l+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=GY(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,y=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),b[o]=u+w;var _=this.getIndex(b),S=_.startIndex,j=_.endIndex,A=function(){var N=v.length-1;return o==="startX"&&(l>c?S%g===0:j%g===0)||l<c&&j===N||o==="endX"&&(l>c?j%g===0:S%g===0)||l>c&&j===N};this.setState(ro(ro({},o,u+w),"brushMoveStartX",r.pageX),function(){y&&A()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(ro({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return ee.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=M.Children.only(u);return f?ee.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,y=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(r,this.props.x),w=rO(rO({},Wt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),_=p||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return ee.createElement(Dn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,p=5,y={pointerEvents:"none",fill:u};return ee.createElement(Dn,{className:"recharts-brush-texts"},ee.createElement(Yp,UE({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},y),this.getTextOfTick(i)),ee.createElement(Yp,UE({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,y=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!wt(l)||!wt(c)||!wt(u)||!wt(d)||u<=0||d<=0)return null;var _=dn("recharts-brush",a),S=ee.Children.count(o)===1,j=RXe("userSelect","none");return ee.createElement(Dn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(g||v||b||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),ee.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ee.isValidElement(r)?a=ee.cloneElement(r,i):nn(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return rO({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?$Xe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])})(M.PureComponent);ro(Wv,"displayName","Brush");ro(Wv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var iO,WY;function zXe(){if(WY)return iO;WY=1;var t=IF();function e(n,r){var i;return t(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return iO=e,iO}var sO,XY;function HXe(){if(XY)return sO;XY=1;var t=boe(),e=uu(),n=zXe(),r=Ga(),i=r2();function a(o,l,c){var u=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return sO=a,sO}var VXe=HXe();const qXe=In(VXe);var Vc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},aO,YY;function GXe(){if(YY)return aO;YY=1;var t=Foe();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return aO=e,aO}var oO,KY;function WXe(){if(KY)return oO;KY=1;var t=GXe(),e=koe(),n=uu();function r(i,a){var o={};return a=n(a,3),e(i,function(l,c,u){t(o,c,a(l,c,u))}),o}return oO=r,oO}var XXe=WXe();const YXe=In(XXe);var lO,QY;function KXe(){if(QY)return lO;QY=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return lO=t,lO}var cO,ZY;function QXe(){if(ZY)return cO;ZY=1;var t=IF();function e(n,r){var i=!0;return t(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return cO=e,cO}var uO,JY;function ZXe(){if(JY)return uO;JY=1;var t=KXe(),e=QXe(),n=uu(),r=Ga(),i=r2();function a(o,l,c){var u=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,n(l,3))}return uO=a,uO}var JXe=ZXe();const Ece=In(JXe);var eYe=["x","y"];function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function mL(){return mL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mL.apply(this,arguments)}function eK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eK(Object(n),!0).forEach(function(r){tYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tYe(t,e,n){return e=nYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nYe(t){var e=rYe(t,"string");return nw(e)=="symbol"?e:e+""}function rYe(t,e){if(nw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iYe(t,e){if(t==null)return{};var n=sYe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aYe(t,e){var n=t.x,r=t.y,i=iYe(t,eYe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Wy(Wy(Wy(Wy(Wy({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function tK(t){return ee.createElement(xce,mL({shapeType:"rectangle",propTransformer:aYe,activeClassName:"recharts-active-bar"},t))}var oYe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=wt(r)||PUe(r);return a?e(r,i):(a||Zp(),n)}},lYe=["value","background"],Nce;function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function cYe(t,e){if(t==null)return{};var n=uYe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$E.apply(this,arguments)}function nK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nK(Object(n),!0).forEach(function(r){Sf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cce(r.key),r)}}function fYe(t,e,n){return e&&rK(t.prototype,e),n&&rK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hYe(t,e,n){return e=zE(e),pYe(t,Ace()?Reflect.construct(e,n||[],zE(t).constructor):e.apply(t,n))}function pYe(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mYe(t)}function mYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ace(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ace=function(){return!!t})()}function zE(t){return zE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zE(t)}function gYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gL(t,e)}function gL(t,e){return gL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gL(t,e)}function Sf(t,e,n){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=vYe(t,"string");return Xv(e)=="symbol"?e:e+""}function vYe(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qc=(function(t){function e(){var n;dYe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=hYe(this,e,[].concat(i)),Sf(n,"state",{isAnimationFinished:!1}),Sf(n,"id",am("recharts-bar-")),Sf(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Sf(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return gYe(e,t),fYe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Wt(this.props,!1);return r&&r.map(function(f,h){var p=h===c,y=p?u:o,g=vi(vi(vi({},d),f),{},{isActive:p,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ee.createElement(Dn,$E({className:"recharts-bar-rectangle"},Xp(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(h)}),ee.createElement(tK,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return ee.createElement(ic,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,g=a.map(function(v,b){var w=h&&h[b];if(w){var _=Ii(w.x,v.x),S=Ii(w.y,v.y),j=Ii(w.width,v.width),A=Ii(w.height,v.height);return vi(vi({},v),{},{x:_(y),y:S(y),width:j(y),height:A(y)})}if(o==="horizontal"){var C=Ii(0,v.height),N=C(y);return vi(vi({},v),{},{y:v.y+v.height-N,height:N})}var T=Ii(0,v.width),P=T(y);return vi(vi({},v),{},{width:P})});return ee.createElement(Dn,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Kp(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Wt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=cYe(u,lYe);if(!f)return null;var p=vi(vi(vi(vi(vi({},h),{},{fill:"#eee"},f),c),Xp(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ee.createElement(tK,$E({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=wo(d,Bw);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,b){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:ai(v,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(Dn,y,f.map(function(g){return ee.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,p=r.isAnimationActive,y=r.background,g=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=dn("recharts-bar",o),w=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,S=w||_,j=cn(g)?this.id:g;return ee.createElement(Dn,{className:b},w||_?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(j)},ee.createElement("rect",{x:w?u:u-f/2,y:_?d:d-h/2,width:w?f:f*2,height:_?h:h*2}))):null,ee.createElement(Dn,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!p||v)&&Hc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(M.PureComponent);Nce=qc;Sf(qc,"displayName","Bar");Sf(qc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!lh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sf(qc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=qVe(r,n);if(!p)return null;var y=e.layout,g=n.type.defaultProps,v=g!==void 0?vi(vi({},g),n.props):n.props,b=v.dataKey,w=v.children,_=v.minPointSize,S=y==="horizontal"?o:a,j=u?S.scale.domain():null,A=ZVe({numericAxis:S}),C=wo(w,Iw),N=f.map(function(T,P){var D,O,I,L,z,q;u?D=GVe(u[d+P],j):(D=ai(T,b),Array.isArray(D)||(D=[A,D]));var V=oYe(_,Nce.defaultProps.minPointSize)(D[1],P);if(y==="horizontal"){var F,U=[o.scale(D[0]),o.scale(D[1])],H=U[0],$=U[1];O=CX({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:T,index:P}),I=(F=$??H)!==null&&F!==void 0?F:void 0,L=p.size;var W=H-$;if(z=Number.isNaN(W)?0:W,q={x:O,y:o.y,width:L,height:o.height},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var le=ha(z||V)*(Math.abs(V)-Math.abs(z));I-=le,z+=le}}else{var ie=[a.scale(D[0]),a.scale(D[1])],re=ie[0],_e=ie[1];if(O=re,I=CX({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:T,index:P}),L=_e-re,z=p.size,q={x:a.x,y:I,width:a.width,height:z},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var pe=ha(L||V)*(Math.abs(V)-Math.abs(L));L+=pe}}return vi(vi(vi({},T),{},{x:O,y:I,width:L,height:z,value:u?D:D[1],payload:T,background:q},C&&C[P]&&C[P].props),{},{tooltipPayload:[ece(n,T)],tooltipPosition:{x:O+L/2,y:I+z/2}})});return vi({data:N,layout:y},h)});function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function xYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mce(r.key),r)}}function yYe(t,e,n){return e&&iK(t.prototype,e),n&&iK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sK(Object(n),!0).forEach(function(r){b2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b2(t,e,n){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=bYe(t,"string");return rw(e)=="symbol"?e:e+""}function bYe(t,e){if(rw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!ao(u,qc);return d.reduce(function(p,y){var g=n[y],v=g.orientation,b=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,j=g.reversed,A="".concat(v).concat(S?"Mirror":""),C,N,T,P,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var O=b[1]-b[0],I=1/0,L=g.categoricalDomain.sort(OUe);if(L.forEach(function(ie,re){re>0&&(I=Math.min((ie||0)-(L[re-1]||0),I))}),Number.isFinite(I)){var z=I/O,q=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(C=z*q/2),g.padding==="no-gap"){var V=pa(e.barCategoryGap,z*q),F=z*q/2;C=F-V-(F-V)/q*V}}}i==="xAxis"?N=[r.left+(_.left||0)+(C||0),r.left+r.width-(_.right||0)-(C||0)]:i==="yAxis"?N=c==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(C||0),r.top+r.height-(_.bottom||0)-(C||0)]:N=g.range,j&&(N=[N[1],N[0]]);var U=Kle(g,a,h),H=U.scale,$=U.realScaleType;H.domain(b).range(N),Qle(H);var W=Zle(H,Il(Il({},g),{},{realScaleType:$}));i==="xAxis"?(D=v==="top"&&!S||v==="bottom"&&S,T=r.left,P=f[A]-D*g.height):i==="yAxis"&&(D=v==="left"&&!S||v==="right"&&S,T=f[A]-D*g.width,P=r.top);var le=Il(Il(Il({},g),W),{},{realScaleType:$,x:T,y:P,scale:H,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return le.bandSize=NE(le,W),!g.hide&&i==="xAxis"?f[A]+=(D?-1:1)*le.height:g.hide||(f[A]+=(D?-1:1)*le.width),Il(Il({},p),{},b2({},y,le))},{})},Tce=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},wYe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return Tce({x:n,y:r},{x:i,y:a})},Pce=(function(){function t(e){xYe(this,t),this.scale=e}return yYe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();b2(Pce,"EPS",1e-4);var dU=function(e){var n=Object.keys(e).reduce(function(r,i){return Il(Il({},r),{},b2({},i,Pce.create(e[i])))},{});return Il(Il({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return YXe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Ece(i,function(a,o){return n[o].isInRange(a)})}})};function _Ye(t){return(t%180+180)%180}var SYe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=_Ye(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},dO,aK;function jYe(){if(aK)return dO;aK=1;var t=uu(),e=Ow(),n=t2();function r(i){return function(a,o,l){var c=Object(a);if(!e(a)){var u=t(o,3);a=n(a),o=function(f){return u(c[f],f,c)}}var d=i(a,o,l);return d>-1?c[u?a[d]:d]:void 0}}return dO=r,dO}var fO,oK;function EYe(){if(oK)return fO;oK=1;var t=wce();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return fO=e,fO}var hO,lK;function NYe(){if(lK)return hO;lK=1;var t=Poe(),e=uu(),n=EYe(),r=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),t(a,e(o,3),u)}return hO=i,hO}var pO,cK;function AYe(){if(cK)return pO;cK=1;var t=jYe(),e=NYe(),n=t(e);return pO=n,pO}var CYe=AYe();const MYe=In(CYe);var TYe=Gae();const PYe=In(TYe);var DYe=PYe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),fU=M.createContext(void 0),hU=M.createContext(void 0),Dce=M.createContext(void 0),Rce=M.createContext({}),Oce=M.createContext(void 0),Ice=M.createContext(0),kce=M.createContext(0),uK=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=DYe(a);return ee.createElement(fU.Provider,{value:r},ee.createElement(hU.Provider,{value:i},ee.createElement(Rce.Provider,{value:a},ee.createElement(Dce.Provider,{value:d},ee.createElement(Oce.Provider,{value:o},ee.createElement(Ice.Provider,{value:u},ee.createElement(kce.Provider,{value:c},l)))))))},RYe=function(){return M.useContext(Oce)},Lce=function(e){var n=M.useContext(fU);n==null&&Zp();var r=n[e];return r==null&&Zp(),r},OYe=function(){var e=M.useContext(fU);return df(e)},IYe=function(){var e=M.useContext(hU),n=MYe(e,function(r){return Ece(r.domain,Number.isFinite)});return n||df(e)},Fce=function(e){var n=M.useContext(hU);n==null&&Zp();var r=n[e];return r==null&&Zp(),r},kYe=function(){var e=M.useContext(Dce);return e},LYe=function(){return M.useContext(Rce)},pU=function(){return M.useContext(kce)},mU=function(){return M.useContext(Ice)};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function FYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UYe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bce(r.key),r)}}function BYe(t,e,n){return e&&UYe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Ye(t,e,n){return e=HE(e),zYe(t,Uce()?Reflect.construct(e,n||[],HE(t).constructor):e.apply(t,n))}function zYe(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HYe(t)}function HYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uce=function(){return!!t})()}function HE(t){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HE(t)}function VYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vL(t,e)}function vL(t,e){return vL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vL(t,e)}function dK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dK(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return e=Bce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t){var e=qYe(t,"string");return Yv(e)=="symbol"?e:e+""}function qYe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GYe(t,e){return KYe(t)||YYe(t,e)||XYe(t,e)||WYe()}function WYe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XYe(t,e){if(t){if(typeof t=="string")return hK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hK(t,e)}}function hK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YYe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KYe(t){if(Array.isArray(t))return t}function xL(){return xL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xL.apply(this,arguments)}var QYe=function(e,n){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,n):nn(e)?r=e(n):r=ee.createElement("line",xL({},n,{className:"recharts-reference-line-line"})),r},ZYe=function(e,n,r,i,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(r){var y=u.y,g=e.y.apply(y,{position:o});if(Vc(u,"discard")&&!e.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(n){var b=u.x,w=e.x.apply(b,{position:o});if(Vc(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return l==="top"?_.reverse():_}if(i){var S=u.segment,j=S.map(function(A){return e.apply(A,{position:o})});return Vc(u,"discard")&&qXe(j,function(A){return!e.isInRange(A)})?null:j}return null};function JYe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=RYe(),d=Lce(i),f=Fce(a),h=kYe();if(!u||!h)return null;Kl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dU({x:d.scale,y:f.scale}),y=ki(e),g=ki(n),v=r&&r.length===2,b=ZYe(p,y,g,v,h,t.position,d.orientation,f.orientation,t);if(!b)return null;var w=GYe(b,2),_=w[0],S=_.x,j=_.y,A=w[1],C=A.x,N=A.y,T=Vc(t,"hidden")?"url(#".concat(u,")"):void 0,P=fK(fK({clipPath:T},Wt(t,!0)),{},{x1:S,y1:j,x2:C,y2:N});return ee.createElement(Dn,{className:dn("recharts-reference-line",l)},QYe(o,P),rs.renderCallByParent(t,wYe({x1:S,y1:j,x2:C,y2:N})))}var vU=(function(t){function e(){return FYe(this,e),$Ye(this,e,arguments)}return VYe(e,t),BYe(e,[{key:"render",value:function(){return ee.createElement(JYe,this.props)}}])})(ee.Component);gU(vU,"displayName","ReferenceLine");gU(vU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yL(){return yL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yL.apply(this,arguments)}function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function pK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pK(Object(n),!0).forEach(function(r){w2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zce(r.key),r)}}function nKe(t,e,n){return e&&tKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rKe(t,e,n){return e=VE(e),iKe(t,$ce()?Reflect.construct(e,n||[],VE(t).constructor):e.apply(t,n))}function iKe(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sKe(t)}function sKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ce=function(){return!!t})()}function VE(t){return VE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VE(t)}function aKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bL(t,e)}function bL(t,e){return bL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bL(t,e)}function w2(t,e,n){return e=zce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=oKe(t,"string");return Kv(e)=="symbol"?e:e+""}function oKe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lKe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=dU({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Vc(e,"discard")&&!o.isInRange(l)?null:l},_2=(function(t){function e(){return eKe(this,e),rKe(this,e,arguments)}return aKe(e,t),nKe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=ki(i),d=ki(a);if(Kl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=lKe(this.props);if(!f)return null;var h=f.x,p=f.y,y=this.props,g=y.shape,v=y.className,b=Vc(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=mK(mK({clipPath:b},Wt(this.props,!0)),{},{cx:h,cy:p});return ee.createElement(Dn,{className:dn("recharts-reference-dot",v)},e.renderDot(g,w),rs.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])})(ee.Component);w2(_2,"displayName","ReferenceDot");w2(_2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});w2(_2,"renderDot",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):nn(t)?n=t(e):n=ee.createElement($w,yL({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function wL(){return wL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wL.apply(this,arguments)}function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function gK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gK(Object(n),!0).forEach(function(r){S2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vce(r.key),r)}}function dKe(t,e,n){return e&&uKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fKe(t,e,n){return e=qE(e),hKe(t,Hce()?Reflect.construct(e,n||[],qE(t).constructor):e.apply(t,n))}function hKe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pKe(t)}function pKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hce=function(){return!!t})()}function qE(t){return qE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qE(t)}function mKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_L(t,e)}function _L(t,e){return _L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_L(t,e)}function S2(t,e,n){return e=Vce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=gKe(t,"string");return Qv(e)=="symbol"?e:e+""}function gKe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vKe=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=dU({x:d.scale,y:f.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Vc(a,"discard")&&(!h.isInRange(p)||!h.isInRange(y))?null:Tce(p,y)},j2=(function(t){function e(){return cKe(this,e),fKe(this,e,arguments)}return mKe(e,t),dKe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Kl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ki(i),h=ki(a),p=ki(o),y=ki(l),g=this.props.shape;if(!f&&!h&&!p&&!y&&!g)return null;var v=vKe(f,h,p,y,this.props);if(!v&&!g)return null;var b=Vc(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ee.createElement(Dn,{className:dn("recharts-reference-area",c)},e.renderRect(g,vK(vK({clipPath:b},Wt(this.props,!0)),v)),rs.renderCallByParent(this.props,v))}}])})(ee.Component);S2(j2,"displayName","ReferenceArea");S2(j2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});S2(j2,"renderRect",function(t,e){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,e):nn(t)?n=t(e):n=ee.createElement(cU,wL({},e,{className:"recharts-reference-area-rect"})),n});function qce(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function xKe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return SYe(r,n)}function yKe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function GE(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function bKe(t,e){return qce(t,e+1)}function wKe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=r?.[c];if(y===void 0)return{v:qce(r,u)};var g=c,v,b=function(){return v===void 0&&(v=n(y,g)),v},w=y.coordinate,_=c===0||GE(t,w,b,d,l);_||(c=0,d=o,u+=1),_&&(d=w+t*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function iw(t){"@babel/helpers - typeof";return iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(t)}function xK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xK(Object(n),!0).forEach(function(r){_Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ke(t,e,n){return e=SKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SKe(t){var e=jKe(t,"string");return iw(e)=="symbol"?e:e+""}function jKe(t,e){if(iw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EKe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(h){var p=a[h],y,g=function(){return y===void 0&&(y=n(p,h)),y};if(h===o-1){var v=t*(p.coordinate+t*g()/2-c);a[h]=p=Ps(Ps({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[h]=p=Ps(Ps({},p),{},{tickCoord:p.coordinate});var b=GE(t,p.tickCoord,g,l,c);b&&(c=p.tickCoord-t*(g()/2+i),a[h]=Ps(Ps({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function NKe(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=Ps(Ps({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var p=GE(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+i),o[l-1]=Ps(Ps({},d),{},{isShow:!0}))}for(var y=a?l-1:l,g=function(w){var _=o[w],S,j=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var A=t*(_.coordinate-t*j()/2-c);o[w]=_=Ps(Ps({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else o[w]=_=Ps(Ps({},_),{},{tickCoord:_.coordinate});var C=GE(t,_.tickCoord,j,c,u);C&&(c=_.tickCoord+t*(j()/2+i),o[w]=Ps(Ps({},_),{},{isShow:!0}))},v=0;v<y;v++)g(v);return o}function xU(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(wt(c)||lh.isSsr)return bKe(i,typeof c=="number"&&wt(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?L0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,S){var j=nn(u)?u(_.value,S):_.value;return p==="width"?xKe(L0(j,{fontSize:e,letterSpacing:n}),y,f):L0(j,{fontSize:e,letterSpacing:n})[p]},v=i.length>=2?ha(i[1].coordinate-i[0].coordinate):1,b=yKe(a,v,p);return c==="equidistantPreserveStart"?wKe(v,b,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=NKe(v,b,g,i,o,c==="preserveStartEnd"):h=EKe(v,b,g,i,o),h.filter(function(w){return w.isShow}))}var AKe=["viewBox"],CKe=["viewBox"],MKe=["ticks"];function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function yK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yK(Object(n),!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mO(t,e){if(t==null)return{};var n=TKe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wce(r.key),r)}}function DKe(t,e,n){return e&&bK(t.prototype,e),n&&bK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RKe(t,e,n){return e=WE(e),OKe(t,Gce()?Reflect.construct(e,n||[],WE(t).constructor):e.apply(t,n))}function OKe(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(t)}function IKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gce=function(){return!!t})()}function WE(t){return WE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WE(t)}function kKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SL(t,e)}function SL(t,e){return SL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SL(t,e)}function yU(t,e,n){return e=Wce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wce(t){var e=LKe(t,"string");return Zv(e)=="symbol"?e:e+""}function LKe(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lx=(function(t){function e(n){var r;return PKe(this,e),r=RKe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kKe(e,t),DKe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=mO(r,AKe),l=this.props,c=l.viewBox,u=mO(l,CKe);return!ev(a,c)||!ev(o,u)||!ev(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,y,g,v,b,w,_=f?-1:1,S=r.tickSize||d,j=wt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=y=r.coordinate,v=o+ +!f*c,g=v-_*S,w=g-_*h,b=j;break;case"left":g=v=r.coordinate,y=a+ +!f*l,p=y-_*S,b=p-_*h,w=j;break;case"right":g=v=r.coordinate,y=a+ +f*l,p=y+_*S,b=p+_*h,w=j;break;default:p=y=r.coordinate,v=o+ +f*c,g=v+_*S,w=g+_*h,b=j;break}return{line:{x1:p,y1:g,x2:y,y2:v},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Mi(Mi(Mi({},Wt(this.props,!1)),Wt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Mi(Mi({},f),{},{x1:i,y1:a+h*l,x2:i+o,y2:a+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Mi(Mi({},f),{},{x1:i+p*o,y1:a,x2:i+p*o,y2:a+l})}return ee.createElement("line",Pg({},f,{className:dn("recharts-cartesian-axis-line",bo(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=xU(Mi(Mi({},this.props),{},{ticks:r}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Wt(this.props,!1),b=Wt(d,!1),w=Mi(Mi({},v),{},{fill:"none"},Wt(c,!1)),_=p.map(function(S,j){var A=o.getTickLineCoord(S),C=A.line,N=A.tick,T=Mi(Mi(Mi(Mi({textAnchor:y,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),N),{},{index:j,payload:S,visibleTicksCount:p.length,tickFormatter:f});return ee.createElement(Dn,Pg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Xp(o.props,S,j)),c&&ee.createElement("line",Pg({},w,C,{className:dn("recharts-cartesian-axis-tick-line",bo(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(nn(f)?f(S.value,j):S.value).concat(h||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=mO(f,MKe),y=h;return nn(c)&&(y=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:ee.createElement(Dn,{className:dn("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),rs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=dn(i.className,"recharts-cartesian-axis-tick-value");return ee.isValidElement(r)?o=ee.cloneElement(r,Mi(Mi({},i),{},{className:l})):nn(r)?o=r(Mi(Mi({},i),{},{className:l})):o=ee.createElement(Yp,Pg({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(M.Component);yU(Lx,"displayName","CartesianAxis");yU(Lx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FKe=["x1","y1","x2","y2","key"],UKe=["offset"];function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function wK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wK(Object(n),!0).forEach(function(r){BKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BKe(t,e,n){return e=$Ke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ke(t){var e=zKe(t,"string");return Jp(e)=="symbol"?e:e+""}function zKe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fp.apply(this,arguments)}function _K(t,e){if(t==null)return{};var n=HKe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var VKe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return ee.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Xce(t,e){var n;if(ee.isValidElement(t))n=ee.cloneElement(t,e);else if(nn(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=_K(e,FKe),u=Wt(c,!1);u.offset;var d=_K(u,UKe);n=ee.createElement("line",fp({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function qKe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Is(Is({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return Xce(i,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function GKe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=Is(Is({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return Xce(i,u)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function WKe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?i+o-h:d[p+1]-h;if(g<=0)return null;var v=p%e.length;return ee.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:g,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function XKe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var y=!d[p+1],g=y?a+l-h:d[p+1]-h;if(g<=0)return null;var v=p%r.length;return ee.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var YKe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return Yle(xU(Is(Is(Is({},Lx.defaultProps),r),{},{ticks:Xu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},KKe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return Yle(xU(Is(Is(Is({},Lx.defaultProps),r),{},{ticks:Xu(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},hg={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rv(t){var e,n,r,i,a,o,l=pU(),c=mU(),u=LYe(),d=Is(Is({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:hg.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:hg.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:hg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:hg.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:hg.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:hg.verticalFill,x:wt(t.x)?t.x:u.left,y:wt(t.y)?t.y:u.top,width:wt(t.width)?t.width:u.width,height:wt(t.height)?t.height:u.height}),f=d.x,h=d.y,p=d.width,y=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,w=OYe(),_=IYe();if(!wt(p)||p<=0||!wt(y)||y<=0||!wt(f)||f!==+f||!wt(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||YKe,j=d.horizontalCoordinatesGenerator||KKe,A=d.horizontalPoints,C=d.verticalPoints;if((!A||!A.length)&&nn(j)){var N=v&&v.length,T=j({yAxis:_?Is(Is({},_),{},{ticks:N?v:_.ticks}):void 0,width:l,height:c,offset:u},N?!0:g);Kl(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Jp(T),"]")),Array.isArray(T)&&(A=T)}if((!C||!C.length)&&nn(S)){var P=b&&b.length,D=S({xAxis:w?Is(Is({},w),{},{ticks:P?b:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:g);Kl(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Jp(D),"]")),Array.isArray(D)&&(C=D)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(VKe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ee.createElement(qKe,fp({},d,{offset:u,horizontalPoints:A,xAxis:w,yAxis:_})),ee.createElement(GKe,fp({},d,{offset:u,verticalPoints:C,xAxis:w,yAxis:_})),ee.createElement(WKe,fp({},d,{horizontalPoints:A})),ee.createElement(XKe,fp({},d,{verticalPoints:C})))}rv.displayName="CartesianGrid";var QKe=["type","layout","connectNulls","ref"],ZKe=["key"];function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function SK(t,e){if(t==null)return{};var n=JKe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function jK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jK(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pg(t){return rQe(t)||nQe(t)||tQe(t)||eQe()}function eQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQe(t,e){if(t){if(typeof t=="string")return jL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jL(t,e)}}function nQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rQe(t){if(Array.isArray(t))return jL(t)}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kce(r.key),r)}}function sQe(t,e,n){return e&&EK(t.prototype,e),n&&EK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aQe(t,e,n){return e=XE(e),oQe(t,Yce()?Reflect.construct(e,n||[],XE(t).constructor):e.apply(t,n))}function oQe(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lQe(t)}function lQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yce=function(){return!!t})()}function XE(t){return XE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},XE(t)}function cQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EL(t,e)}function EL(t,e){return EL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EL(t,e)}function kl(t,e,n){return e=Kce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=uQe(t,"string");return Jv(e)=="symbol"?e:e+""}function uQe(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var id=(function(t){function e(){var n;iQe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=aQe(this,e,[].concat(i)),kl(n,"state",{isAnimationFinished:!0,totalLength:0}),kl(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),kl(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],y=0,g=0;y<c.length;g+=c[y],++y)if(g+c[y]>f){p=[].concat(pg(c.slice(0,y)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(pg(e.repeat(c,d)),pg(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),kl(n,"id",am("recharts-line-")),kl(n,"pathRef",function(o){n.mainCurve=o}),kl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),kl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return cQe(e,t),sQe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=wo(d,Bw);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:ai(g.payload,v)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ee.createElement(Dn,p,f.map(function(y){return ee.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Wt(this.props,!1),h=Wt(c,!0),p=u.map(function(g,v){var b=Ja(Ja(Ja({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,b)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ee.createElement(Dn,H0({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=SK(l,QKe),h=Ja(Ja(Ja({},Wt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return ee.createElement(Cp,H0({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=o.animateNewValues,g=o.width,v=o.height,b=this.state,w=b.prevPoints,_=b.totalLength;return ee.createElement(ic,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var j=S.t;if(w){var A=w.length/l.length,C=l.map(function(O,I){var L=Math.floor(I*A);if(w[L]){var z=w[L],q=Ii(z.x,O.x),V=Ii(z.y,O.y);return Ja(Ja({},O),{},{x:q(j),y:V(j)})}if(y){var F=Ii(g*2,O.x),U=Ii(v/2,O.y);return Ja(Ja({},O),{},{x:F(j),y:U(j)})}return Ja(Ja({},O),{},{x:O.x,y:O.y})});return a.renderCurveStatically(C,r,i)}var N=Ii(0,_),T=N(j),P;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=a.getStrokeDasharray(T,_,D)}else P=a.generateSimpleStrokeDasharray(_,T);return a.renderCurveStatically(l,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Kp(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,_=dn("recharts-line",c),S=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,A=S||j,C=cn(v)?this.id:v,N=(r=Wt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=N.r,P=T===void 0?3:T,D=N.strokeWidth,O=D===void 0?2:D,I=Qae(o)?o:{},L=I.clipDot,z=L===void 0?!0:L,q=P*2+O;return ee.createElement(Dn,{className:_},S||j?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(C)},ee.createElement("rect",{x:S?h:h-p/2,y:j?f:f-y/2,width:S?p:p*2,height:j?y:y*2})),!z&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(C)},ee.createElement("rect",{x:h-q/2,y:f-q/2,width:p+q,height:y+q}))):null,!w&&this.renderCurve(A,C),this.renderErrorBar(A,C),(w||o)&&this.renderDots(A,z,C),(!g||b)&&Hc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(pg(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(pg(o),pg(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ee.isValidElement(r))a=ee.cloneElement(r,i);else if(nn(r))a=r(i);else{var o=i.key,l=SK(i,ZKe),c=dn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ee.createElement($w,H0({key:o},l,{className:c}))}return a}}])})(M.PureComponent);kl(id,"displayName","Line");kl(id,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!lh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});kl(id,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(h,p){var y=ai(h,o);return d==="horizontal"?{x:EE({axis:n,ticks:i,bandSize:l,entry:h,index:p}),y:cn(y)?null:r.scale(y),value:y,payload:h}:{x:cn(y)?null:n.scale(y),y:EE({axis:r,ticks:a,bandSize:l,entry:h,index:p}),value:y,payload:h}});return Ja({points:f,layout:d},u)});var dQe=["layout","type","stroke","connectNulls","isRange","ref"],fQe=["key"],Qce;function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function Zce(t,e){if(t==null)return{};var n=hQe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hp.apply(this,arguments)}function NK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NK(Object(n),!0).forEach(function(r){Lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eue(r.key),r)}}function mQe(t,e,n){return e&&AK(t.prototype,e),n&&AK(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gQe(t,e,n){return e=YE(e),vQe(t,Jce()?Reflect.construct(e,n||[],YE(t).constructor):e.apply(t,n))}function vQe(t,e){if(e&&(ex(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQe(t)}function xQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jce=function(){return!!t})()}function YE(t){return YE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},YE(t)}function yQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NL(t,e)}function NL(t,e){return NL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NL(t,e)}function Lc(t,e,n){return e=eue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=bQe(t,"string");return ex(e)=="symbol"?e:e+""}function bQe(t,e){if(ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ex(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fh=(function(t){function e(){var n;pQe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gQe(this,e,[].concat(i)),Lc(n,"state",{isAnimationFinished:!0}),Lc(n,"id",am("recharts-area-")),Lc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),nn(o)&&o()}),Lc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),nn(o)&&o()}),n}return yQe(e,t),mQe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Wt(this.props,!1),p=Wt(u,!0),y=d.map(function(v,b){var w=nf(nf(nf({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,w)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ee.createElement(Dn,hp({className:"recharts-area-dots"},g),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=_f(o.map(function(h){return h.y||0}));return wt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(_f(a.map(function(h){return h.y||0})),f)),wt(f)?ee.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=_f(o.map(function(h){return h.x||0}));return wt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(_f(a.map(function(h){return h.x||0})),f)),wt(f)?ee.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=Zce(l,dQe);return ee.createElement(Dn,{clipPath:a?"url(#clipPath-".concat(o,")"):null},ee.createElement(Cp,hp({},Wt(p,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&ee.createElement(Cp,hp({},Wt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&ee.createElement(Cp,hp({},Wt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,y=this.state,g=y.prevPoints,v=y.prevBaseLine;return ee.createElement(ic,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(g){var _=g.length/l.length,S=l.map(function(N,T){var P=Math.floor(T*_);if(g[P]){var D=g[P],O=Ii(D.x,N.x),I=Ii(D.y,N.y);return nf(nf({},N),{},{x:O(w),y:I(w)})}return N}),j;if(wt(c)&&typeof c=="number"){var A=Ii(v,c);j=A(w)}else if(cn(c)||Dx(c)){var C=Ii(v,0);j=C(w)}else j=c.map(function(N,T){var P=Math.floor(T*_);if(v[P]){var D=v[P],O=Ii(D.x,N.x),I=Ii(D.y,N.y);return nf(nf({},N),{},{x:O(w),y:I(w)})}return N});return a.renderAreaStatically(S,j,r,i)}return ee.createElement(Dn,null,ee.createElement("defs",null,ee.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),ee.createElement(Dn,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Kp(d,o)||!Kp(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,y=i.height,g=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,_=dn("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,A=S||j,C=cn(v)?this.id:v,N=(r=Wt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=N.r,P=T===void 0?3:T,D=N.strokeWidth,O=D===void 0?2:D,I=Qae(o)?o:{},L=I.clipDot,z=L===void 0?!0:L,q=P*2+O;return ee.createElement(Dn,{className:_},S||j?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(C)},ee.createElement("rect",{x:S?d:d-p/2,y:j?u:u-y/2,width:S?p:p*2,height:j?y:y*2})),!z&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(C)},ee.createElement("rect",{x:d-q/2,y:u-q/2,width:p+q,height:y+q}))):null,w?null:this.renderArea(A,C),(o||w)&&this.renderDots(A,z,C),(!g||b)&&Hc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(M.PureComponent);Qce=fh;Lc(fh,"displayName","Area");Lc(fh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!lh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Lc(fh,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(wt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Lc(fh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,p=e.layout,y=u&&u.length,g=Qce.getBaseValue(e,n,r,i),v=p==="horizontal",b=!1,w=f.map(function(S,j){var A;y?A=u[d+j]:(A=ai(S,c),Array.isArray(A)?b=!0:A=[g,A]);var C=A[1]==null||y&&ai(S,c)==null;return v?{x:EE({axis:r,ticks:a,bandSize:l,entry:S,index:j}),y:C?null:i.scale(A[1]),value:A,payload:S}:{x:C?null:r.scale(A[1]),y:EE({axis:i,ticks:o,bandSize:l,entry:S,index:j}),value:A,payload:S}}),_;return y||b?_=w.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return v?{x:S.x,y:j!=null&&S.y!=null?i.scale(j):null}:{x:j!=null?r.scale(j):null,y:S.y}}):_=v?i.scale(g):r.scale(g),nf({points:w,baseLine:_,layout:p,isRange:b},h)});Lc(fh,"renderDotItem",function(t,e){var n;if(ee.isValidElement(t))n=ee.cloneElement(t,e);else if(nn(t))n=t(e);else{var r=dn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=Zce(e,fQe);n=ee.createElement($w,hp({},a,{key:i,className:r}))}return n});function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function wQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rue(r.key),r)}}function SQe(t,e,n){return e&&_Qe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jQe(t,e,n){return e=KE(e),EQe(t,tue()?Reflect.construct(e,n||[],KE(t).constructor):e.apply(t,n))}function EQe(t,e){if(e&&(tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NQe(t)}function NQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tue=function(){return!!t})()}function KE(t){return KE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KE(t)}function AQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AL(t,e)}function AL(t,e){return AL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AL(t,e)}function nue(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=CQe(t,"string");return tx(e)=="symbol"?e:e+""}function CQe(t,e){if(tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CL(){return CL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CL.apply(this,arguments)}function MQe(t){var e=t.xAxisId,n=pU(),r=mU(),i=Lce(e);return i==null?null:M.createElement(Lx,CL({},i,{className:dn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Xu(o,!0)}}))}var Gc=(function(t){function e(){return wQe(this,e),jQe(this,e,arguments)}return AQe(e,t),SQe(e,[{key:"render",value:function(){return M.createElement(MQe,this.props)}}])})(M.Component);nue(Gc,"displayName","XAxis");nue(Gc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function TQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aue(r.key),r)}}function DQe(t,e,n){return e&&PQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RQe(t,e,n){return e=QE(e),OQe(t,iue()?Reflect.construct(e,n||[],QE(t).constructor):e.apply(t,n))}function OQe(t,e){if(e&&(nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQe(t)}function IQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iue=function(){return!!t})()}function QE(t){return QE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QE(t)}function kQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ML(t,e)}function ML(t,e){return ML=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ML(t,e)}function sue(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=LQe(t,"string");return nx(e)=="symbol"?e:e+""}function LQe(t,e){if(nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TL(){return TL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TL.apply(this,arguments)}var FQe=function(e){var n=e.yAxisId,r=pU(),i=mU(),a=Fce(n);return a==null?null:M.createElement(Lx,TL({},a,{className:dn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Xu(l,!0)}}))},go=(function(t){function e(){return TQe(this,e),RQe(this,e,arguments)}return kQe(e,t),DQe(e,[{key:"render",value:function(){return M.createElement(FQe,this.props)}}])})(M.Component);sue(go,"displayName","YAxis");sue(go,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function CK(t){return zQe(t)||$Qe(t)||BQe(t)||UQe()}function UQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQe(t,e){if(t){if(typeof t=="string")return PL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PL(t,e)}}function $Qe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zQe(t){if(Array.isArray(t))return PL(t)}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DL=function(e,n,r,i,a){var o=wo(e,vU),l=wo(e,_2),c=[].concat(CK(o),CK(l)),u=wo(e,j2),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===r&&Vc(v.props,"extendDomain")&&wt(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===r&&Vc(v.props,"extendDomain")&&wt(v.props[p])&&wt(v.props[y])){var b=v.props[p],w=v.props[y];return[Math.min(g[0],b,w),Math.max(g[1],b,w)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return wt(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},gO={exports:{}},MK;function HQe(){return MK||(MK=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,y=new Array(p);h<p;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,y){var g=n?n+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,y),!0}for(_=1,w=new Array(b-1);_<b;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var S=v.length,j;for(_=0;_<S;_++)switch(v[_].once&&this.removeListener(u,v[_].fn,void 0,!0),b){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,d);break;case 3:v[_].fn.call(v[_].context,d,f);break;case 4:v[_].fn.call(v[_].context,d,f,h);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];v[_].fn.apply(v[_].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var g=0,v=[],b=y.length;g<b;g++)(y[g].fn!==d||h&&!y[g].once||f&&y[g].context!==f)&&v.push(y[g]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(gO)),gO.exports}var VQe=HQe();const qQe=In(VQe);var vO=new qQe,xO="recharts.syncMouseEvents";function sw(t){"@babel/helpers - typeof";return sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sw(t)}function GQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oue(r.key),r)}}function XQe(t,e,n){return e&&WQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yO(t,e,n){return e=oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=YQe(t,"string");return sw(e)=="symbol"?e:e+""}function YQe(t,e){if(sw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KQe=(function(){function t(){GQe(this,t),yO(this,"activeIndex",0),yO(this,"coordinateList",[]),yO(this,"layout","horizontal")}return XQe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])})();function QQe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&wt(r)&&wt(i))return!0}return!1}function ZQe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lue(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=wr(e,n,r,i),l=wr(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function JQe(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=wr(l,c,u,f),p=wr(l,c,d,f);r=h.x,i=h.y,a=p.x,o=p.y}else return lue(e);return[{x:r,y:i},{x:a,y:o}]}function aw(t){"@babel/helpers - typeof";return aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aw(t)}function TK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(n),!0).forEach(function(r){eZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eZe(t,e,n){return e=tZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tZe(t){var e=nZe(t,"string");return aw(e)=="symbol"?e:e+""}function nZe(t,e){if(aw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(aw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rZe(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,g=Cp;if(h==="ScatterChart")y=o,g=mWe;else if(h==="BarChart")y=ZQe(f,o,c,d),g=cU;else if(f==="radial"){var v=lue(o),b=v.cx,w=v.cy,_=v.radius,S=v.startAngle,j=v.endAngle;y={cx:b,cy:w,startAngle:S,endAngle:j,innerRadius:_,outerRadius:_},g=ace}else y={points:JQe(f,o,c)},g=Cp;var A=xS(xS(xS(xS({stroke:"#ccc",pointerEvents:"none"},c),y),Wt(p,!1)),{},{payload:l,payloadIndex:u,className:dn("recharts-tooltip-cursor",p.className)});return M.isValidElement(p)?M.cloneElement(p,A):M.createElement(g,A)}var iZe=["item"],sZe=["children","className","width","height","style","compact","title","desc"];function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(this,arguments)}function PK(t,e){return lZe(t)||oZe(t,e)||uue(t,e)||aZe()}function aZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oZe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lZe(t){if(Array.isArray(t))return t}function DK(t,e){if(t==null)return{};var n=cZe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dZe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,due(r.key),r)}}function fZe(t,e,n){return e&&dZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hZe(t,e,n){return e=ZE(e),pZe(t,cue()?Reflect.construct(e,n||[],ZE(t).constructor):e.apply(t,n))}function pZe(t,e){if(e&&(rx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mZe(t)}function mZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cue(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cue=function(){return!!t})()}function ZE(t){return ZE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ZE(t)}function gZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RL(t,e)}function RL(t,e){return RL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RL(t,e)}function ix(t){return yZe(t)||xZe(t)||uue(t)||vZe()}function vZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uue(t,e){if(t){if(typeof t=="string")return OL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OL(t,e)}}function xZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yZe(t){if(Array.isArray(t))return OL(t)}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RK(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tn(t,e,n){return e=due(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function due(t){var e=bZe(t,"string");return rx(e)=="symbol"?e:e+""}function bZe(t,e){if(rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wZe={xAxis:["bottom","top"],yAxis:["left","right"]},_Ze={width:"100%",height:"100%"},fue={x:0,y:0};function yS(t){return t}var SZe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jZe=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return it(it(it({},i),wr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return it(it(it({},i),wr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return fue},E2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ix(l),ix(u)):l},[]);return o.length>0?o:e&&e.length&&wt(i)&&wt(a)?e.slice(i,a+1):[]};function hue(t){return t==="number"?[0,"auto"]:void 0}var IL=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=E2(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=eE(p,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(ix(c),[ece(u,h)]):c},[])},OK=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=SZe(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=UVe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=IL(e,n,d,f),p=jZe(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},EZe=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,p=Xle(d,a);return r.reduce(function(y,g){var v,b=g.type.defaultProps!==void 0?it(it({},g.type.defaultProps),g.props):g.props,w=b.type,_=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,A=b.scale,C=b.ticks,N=b.includeHidden,T=b[o];if(y[T])return y;var P=E2(e.data,{graphicalItems:i.filter(function(W){var le,ie=o in W.props?W.props[o]:(le=W.type.defaultProps)===null||le===void 0?void 0:le[o];return ie===T}),dataStartIndex:c,dataEndIndex:u}),D=P.length,O,I,L;QQe(b.domain,S,w)&&(O=X3(b.domain,null,S),p&&(w==="number"||A!=="auto")&&(L=U0(P,_,"category")));var z=hue(w);if(!O||O.length===0){var q,V=(q=b.domain)!==null&&q!==void 0?q:z;if(_){if(O=U0(P,_,w),w==="category"&&p){var F=RUe(O);j&&F?(I=O,O=FE(0,D)):j||(O=PX(V,O,g).reduce(function(W,le){return W.indexOf(le)>=0?W:[].concat(ix(W),[le])},[]))}else if(w==="category")j?O=O.filter(function(W){return W!==""&&!cn(W)}):O=PX(V,O,g).reduce(function(W,le){return W.indexOf(le)>=0||le===""||cn(le)?W:[].concat(ix(W),[le])},[]);else if(w==="number"){var U=VVe(P,i.filter(function(W){var le,ie,re=o in W.props?W.props[o]:(le=W.type.defaultProps)===null||le===void 0?void 0:le[o],_e="hide"in W.props?W.props.hide:(ie=W.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return re===T&&(N||!_e)}),_,a,d);U&&(O=U)}p&&(w==="number"||A!=="auto")&&(L=U0(P,_,"category"))}else p?O=FE(0,D):l&&l[T]&&l[T].hasStack&&w==="number"?O=h==="expand"?[0,1]:Jle(l[T].stackGroups,c,u):O=Wle(P,i.filter(function(W){var le=o in W.props?W.props[o]:W.type.defaultProps[o],ie="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return le===T&&(N||!ie)}),w,d,!0);if(w==="number")O=DL(f,O,T,a,C),V&&(O=X3(V,O,S));else if(w==="category"&&V){var H=V,$=O.every(function(W){return H.indexOf(W)>=0});$&&(O=H)}}return it(it({},y),{},tn({},T,it(it({},b),{},{axisType:a,domain:O,categoricalDomain:L,duplicateDomain:I,originalDomain:(v=b.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},NZe=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=E2(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),p=h.length,y=Xle(d,a),g=-1;return r.reduce(function(v,b){var w=b.type.defaultProps!==void 0?it(it({},b.type.defaultProps),b.props):b.props,_=w[o],S=hue("number");if(!v[_]){g++;var j;return y?j=FE(0,p):l&&l[_]&&l[_].hasStack?(j=Jle(l[_].stackGroups,c,u),j=DL(f,j,_,a)):(j=X3(S,Wle(h,r.filter(function(A){var C,N,T=o in A.props?A.props[o]:(C=A.type.defaultProps)===null||C===void 0?void 0:C[o],P="hide"in A.props?A.props.hide:(N=A.type.defaultProps)===null||N===void 0?void 0:N.hide;return T===_&&!P}),"number",d),i.defaultProps.allowDataOverflow),j=DL(f,j,_,a)),it(it({},v),{},tn({},_,it(it({axisType:a},i.defaultProps),{},{hide:!0,orientation:bo(wZe,"".concat(a,".").concat(g%2),null),domain:j,originalDomain:S,isCategorical:y,layout:d})))}return v},{})},AZe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=wo(d,a),p={};return h&&h.length?p=EZe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=NZe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},CZe=function(e){var n=df(e),r=Xu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:kF(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:NE(n,r)}},IK=function(e){var n=e.children,r=e.defaultShowTooltip,i=ao(n,Wv),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},MZe=function(e){return!e||!e.length?!1:e.some(function(n){var r=nd(n&&n.type);return r&&r.indexOf("Bar")>=0})},kK=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TZe=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},p=ao(f,Wv),y=ao(f,tl),g=Object.keys(c).reduce(function(j,A){var C=c[A],N=C.orientation;return!C.mirror&&!C.hide?it(it({},j),{},tn({},N,j[N]+C.width)):j},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(j,A){var C=o[A],N=C.orientation;return!C.mirror&&!C.hide?it(it({},j),{},tn({},N,bo(j,"".concat(N))+C.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=it(it({},v),g),w=b.bottom;p&&(b.bottom+=p.props.height||Wv.defaultProps.height),y&&n&&(b=zVe(b,i,r,n));var _=u-b.left-b.right,S=d-b.top-b.bottom;return it(it({brushBottom:w},b),{},{width:Math.max(_,0),height:Math.max(S,0)})},PZe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},N2=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(b,w){var _=w.graphicalItems,S=w.stackGroups,j=w.offset,A=w.updateId,C=w.dataStartIndex,N=w.dataEndIndex,T=b.barSize,P=b.layout,D=b.barGap,O=b.barCategoryGap,I=b.maxBarSize,L=kK(P),z=L.numericAxisName,q=L.cateAxisName,V=MZe(_),F=[];return _.forEach(function(U,H){var $=E2(b.data,{graphicalItems:[U],dataStartIndex:C,dataEndIndex:N}),W=U.type.defaultProps!==void 0?it(it({},U.type.defaultProps),U.props):U.props,le=W.dataKey,ie=W.maxBarSize,re=W["".concat(z,"Id")],_e=W["".concat(q,"Id")],pe={},Ne=c.reduce(function(X,G){var de=w["".concat(G.axisType,"Map")],fe=W["".concat(G.axisType,"Id")];de&&de[fe]||G.axisType==="zAxis"||Zp();var ne=de[fe];return it(it({},X),{},tn(tn({},G.axisType,ne),"".concat(G.axisType,"Ticks"),Xu(ne)))},pe),je=Ne[q],Oe=Ne["".concat(q,"Ticks")],Ge=S&&S[re]&&S[re].hasStack&&JVe(U,S[re].stackGroups),Pe=nd(U.type).indexOf("Bar")>=0,Fe=NE(je,Oe),Y=[],Ie=V&&BVe({barSize:T,stackGroups:S,totalSize:PZe(Ne,q)});if(Pe){var Xe,ue,Be=cn(ie)?I:ie,rt=(Xe=(ue=NE(je,Oe,!0))!==null&&ue!==void 0?ue:Be)!==null&&Xe!==void 0?Xe:0;Y=$Ve({barGap:D,barCategoryGap:O,bandSize:rt!==Fe?rt:Fe,sizeList:Ie[_e],maxBarSize:Be}),rt!==Fe&&(Y=Y.map(function(X){return it(it({},X),{},{position:it(it({},X.position),{},{offset:X.position.offset-rt/2})})}))}var me=U&&U.type&&U.type.getComposedData;me&&F.push({props:it(it({},me(it(it({},Ne),{},{displayedData:$,props:b,dataKey:le,item:U,bandSize:Fe,barPosition:Y,offset:j,stackedData:Ge,layout:P,dataStartIndex:C,dataEndIndex:N}))),{},tn(tn(tn({key:U.key||"item-".concat(H)},z,Ne[z]),q,Ne[q]),"animationId",A)),childIndex:qUe(U,b.children),item:U})}),F},p=function(b,w){var _=b.props,S=b.dataStartIndex,j=b.dataEndIndex,A=b.updateId;if(!G7({props:_}))return null;var C=_.children,N=_.layout,T=_.stackOffset,P=_.data,D=_.reverseStackOrder,O=kK(N),I=O.numericAxisName,L=O.cateAxisName,z=wo(C,r),q=QVe(P,z,"".concat(I,"Id"),"".concat(L,"Id"),T,D),V=c.reduce(function(W,le){var ie="".concat(le.axisType,"Map");return it(it({},W),{},tn({},ie,AZe(_,it(it({},le),{},{graphicalItems:z,stackGroups:le.axisType===I&&q,dataStartIndex:S,dataEndIndex:j}))))},{}),F=TZe(it(it({},V),{},{props:_,graphicalItems:z}),w?.legendBBox);Object.keys(V).forEach(function(W){V[W]=d(_,V[W],F,W.replace("Map",""),n)});var U=V["".concat(L,"Map")],H=CZe(U),$=h(_,it(it({},V),{},{dataStartIndex:S,dataEndIndex:j,updateId:A,graphicalItems:z,stackGroups:q,offset:F}));return it(it({formattedGraphicalItems:$,graphicalItems:z,offset:F,stackGroups:q},H),V)},y=(function(v){function b(w){var _,S,j;return uZe(this,b),j=hZe(this,b,[w]),tn(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tn(j,"accessibilityManager",new KQe),tn(j,"handleLegendBBoxUpdate",function(A){if(A){var C=j.state,N=C.dataStartIndex,T=C.dataEndIndex,P=C.updateId;j.setState(it({legendBBox:A},p({props:j.props,dataStartIndex:N,dataEndIndex:T,updateId:P},it(it({},j.state),{},{legendBBox:A}))))}}),tn(j,"handleReceiveSyncEvent",function(A,C,N){if(j.props.syncId===A){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),tn(j,"handleBrushChange",function(A){var C=A.startIndex,N=A.endIndex;if(C!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var T=j.state.updateId;j.setState(function(){return it({dataStartIndex:C,dataEndIndex:N},p({props:j.props,dataStartIndex:C,dataEndIndex:N,updateId:T},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),tn(j,"handleMouseEnter",function(A){var C=j.getMouseInfo(A);if(C){var N=it(it({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseEnter;nn(T)&&T(N,A)}}),tn(j,"triggeredAfterMouseMove",function(A){var C=j.getMouseInfo(A),N=C?it(it({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var T=j.props.onMouseMove;nn(T)&&T(N,A)}),tn(j,"handleItemMouseEnter",function(A){j.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),tn(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),tn(j,"handleMouseMove",function(A){A.persist(),j.throttleTriggeredAfterMouseMove(A)}),tn(j,"handleMouseLeave",function(A){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var N=j.props.onMouseLeave;nn(N)&&N(C,A)}),tn(j,"handleOuterEvent",function(A){var C=VUe(A),N=bo(j.props,"".concat(C));if(C&&nn(N)){var T,P;/.*touch.*/i.test(C)?P=j.getMouseInfo(A.changedTouches[0]):P=j.getMouseInfo(A),N((T=P)!==null&&T!==void 0?T:{},A)}}),tn(j,"handleClick",function(A){var C=j.getMouseInfo(A);if(C){var N=it(it({},C),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var T=j.props.onClick;nn(T)&&T(N,A)}}),tn(j,"handleMouseDown",function(A){var C=j.props.onMouseDown;if(nn(C)){var N=j.getMouseInfo(A);C(N,A)}}),tn(j,"handleMouseUp",function(A){var C=j.props.onMouseUp;if(nn(C)){var N=j.getMouseInfo(A);C(N,A)}}),tn(j,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),tn(j,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseDown(A.changedTouches[0])}),tn(j,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&j.handleMouseUp(A.changedTouches[0])}),tn(j,"handleDoubleClick",function(A){var C=j.props.onDoubleClick;if(nn(C)){var N=j.getMouseInfo(A);C(N,A)}}),tn(j,"handleContextMenu",function(A){var C=j.props.onContextMenu;if(nn(C)){var N=j.getMouseInfo(A);C(N,A)}}),tn(j,"triggerSyncEvent",function(A){j.props.syncId!==void 0&&vO.emit(xO,j.props.syncId,A,j.eventEmitterSymbol)}),tn(j,"applySyncEvent",function(A){var C=j.props,N=C.layout,T=C.syncMethod,P=j.state.updateId,D=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)j.setState(it({dataStartIndex:D,dataEndIndex:O},p({props:j.props,dataStartIndex:D,dataEndIndex:O,updateId:P},j.state)));else if(A.activeTooltipIndex!==void 0){var I=A.chartX,L=A.chartY,z=A.activeTooltipIndex,q=j.state,V=q.offset,F=q.tooltipTicks;if(!V)return;if(typeof T=="function")z=T(F,A);else if(T==="value"){z=-1;for(var U=0;U<F.length;U++)if(F[U].value===A.activeLabel){z=U;break}}var H=it(it({},V),{},{x:V.left,y:V.top}),$=Math.min(I,H.x+H.width),W=Math.min(L,H.y+H.height),le=F[z]&&F[z].value,ie=IL(j.state,j.props.data,z),re=F[z]?{x:N==="horizontal"?F[z].coordinate:$,y:N==="horizontal"?W:F[z].coordinate}:fue;j.setState(it(it({},A),{},{activeLabel:le,activeCoordinate:re,activePayload:ie,activeTooltipIndex:z}))}else j.setState(A)}),tn(j,"renderCursor",function(A){var C,N=j.state,T=N.isTooltipActive,P=N.activeCoordinate,D=N.activePayload,O=N.offset,I=N.activeTooltipIndex,L=N.tooltipAxisBandSize,z=j.getTooltipEventType(),q=(C=A.props.active)!==null&&C!==void 0?C:T,V=j.props.layout,F=A.key||"_recharts-cursor";return ee.createElement(rZe,{key:F,activeCoordinate:P,activePayload:D,activeTooltipIndex:I,chartName:n,element:A,isActive:q,layout:V,offset:O,tooltipAxisBandSize:L,tooltipEventType:z})}),tn(j,"renderPolarAxis",function(A,C,N){var T=bo(A,"type.axisType"),P=bo(j.state,"".concat(T,"Map")),D=A.type.defaultProps,O=D!==void 0?it(it({},D),A.props):A.props,I=P&&P[O["".concat(T,"Id")]];return M.cloneElement(A,it(it({},I),{},{className:dn(T,I.className),key:A.key||"".concat(C,"-").concat(N),ticks:Xu(I,!0)}))}),tn(j,"renderPolarGrid",function(A){var C=A.props,N=C.radialLines,T=C.polarAngles,P=C.polarRadius,D=j.state,O=D.radiusAxisMap,I=D.angleAxisMap,L=df(O),z=df(I),q=z.cx,V=z.cy,F=z.innerRadius,U=z.outerRadius;return M.cloneElement(A,{polarAngles:Array.isArray(T)?T:Xu(z,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(P)?P:Xu(L,!0).map(function(H){return H.coordinate}),cx:q,cy:V,innerRadius:F,outerRadius:U,key:A.key||"polar-grid",radialLines:N})}),tn(j,"renderLegend",function(){var A=j.state.formattedGraphicalItems,C=j.props,N=C.children,T=C.width,P=C.height,D=j.props.margin||{},O=T-(D.left||0)-(D.right||0),I=qle({children:N,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!I)return null;var L=I.item,z=DK(I,iZe);return M.cloneElement(L,it(it({},z),{},{chartWidth:T,chartHeight:P,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),tn(j,"renderTooltip",function(){var A,C=j.props,N=C.children,T=C.accessibilityLayer,P=ao(N,Os);if(!P)return null;var D=j.state,O=D.isTooltipActive,I=D.activeCoordinate,L=D.activePayload,z=D.activeLabel,q=D.offset,V=(A=P.props.active)!==null&&A!==void 0?A:O;return M.cloneElement(P,{viewBox:it(it({},q),{},{x:q.left,y:q.top}),active:V,label:z,payload:V?L:[],coordinate:I,accessibilityLayer:T})}),tn(j,"renderBrush",function(A){var C=j.props,N=C.margin,T=C.data,P=j.state,D=P.offset,O=P.dataStartIndex,I=P.dataEndIndex,L=P.updateId;return M.cloneElement(A,{key:A.key||"_recharts-brush",onChange:pS(j.handleBrushChange,A.props.onChange),data:T,x:wt(A.props.x)?A.props.x:D.left,y:wt(A.props.y)?A.props.y:D.top+D.height+D.brushBottom-(N.bottom||0),width:wt(A.props.width)?A.props.width:D.width,startIndex:O,endIndex:I,updateId:"brush-".concat(L)})}),tn(j,"renderReferenceElement",function(A,C,N){if(!A)return null;var T=j,P=T.clipPathId,D=j.state,O=D.xAxisMap,I=D.yAxisMap,L=D.offset,z=A.type.defaultProps||{},q=A.props,V=q.xAxisId,F=V===void 0?z.xAxisId:V,U=q.yAxisId,H=U===void 0?z.yAxisId:U;return M.cloneElement(A,{key:A.key||"".concat(C,"-").concat(N),xAxis:O[F],yAxis:I[H],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:P})}),tn(j,"renderActivePoints",function(A){var C=A.item,N=A.activePoint,T=A.basePoint,P=A.childIndex,D=A.isRange,O=[],I=C.props.key,L=C.item.type.defaultProps!==void 0?it(it({},C.item.type.defaultProps),C.item.props):C.item.props,z=L.activeDot,q=L.dataKey,V=it(it({index:P,dataKey:q,cx:N.x,cy:N.y,r:4,fill:lU(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Wt(z,!1)),tE(z));return O.push(b.renderActiveDot(z,V,"".concat(I,"-activePoint-").concat(P))),T?O.push(b.renderActiveDot(z,it(it({},V),{},{cx:T.x,cy:T.y}),"".concat(I,"-basePoint-").concat(P))):D&&O.push(null),O}),tn(j,"renderGraphicChild",function(A,C,N){var T=j.filterFormatItem(A,C,N);if(!T)return null;var P=j.getTooltipEventType(),D=j.state,O=D.isTooltipActive,I=D.tooltipAxis,L=D.activeTooltipIndex,z=D.activeLabel,q=j.props.children,V=ao(q,Os),F=T.props,U=F.points,H=F.isRange,$=F.baseLine,W=T.item.type.defaultProps!==void 0?it(it({},T.item.type.defaultProps),T.item.props):T.item.props,le=W.activeDot,ie=W.hide,re=W.activeBar,_e=W.activeShape,pe=!!(!ie&&O&&V&&(le||re||_e)),Ne={};P!=="axis"&&V&&V.props.trigger==="click"?Ne={onClick:pS(j.handleItemMouseEnter,A.props.onClick)}:P!=="axis"&&(Ne={onMouseLeave:pS(j.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:pS(j.handleItemMouseEnter,A.props.onMouseEnter)});var je=M.cloneElement(A,it(it({},T.props),Ne));function Oe(G){return typeof I.dataKey=="function"?I.dataKey(G.payload):null}if(pe)if(L>=0){var Ge,Pe;if(I.dataKey&&!I.allowDuplicatedCategory){var Fe=typeof I.dataKey=="function"?Oe:"payload.".concat(I.dataKey.toString());Ge=eE(U,Fe,z),Pe=H&&$&&eE($,Fe,z)}else Ge=U?.[L],Pe=H&&$&&$[L];if(_e||re){var Y=A.props.activeIndex!==void 0?A.props.activeIndex:L;return[M.cloneElement(A,it(it(it({},T.props),Ne),{},{activeIndex:Y})),null,null]}if(!cn(Ge))return[je].concat(ix(j.renderActivePoints({item:T,activePoint:Ge,basePoint:Pe,childIndex:L,isRange:H})))}else{var Ie,Xe=(Ie=j.getItemByXY(j.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:je},ue=Xe.graphicalItem,Be=ue.item,rt=Be===void 0?A:Be,me=ue.childIndex,X=it(it(it({},T.props),Ne),{},{activeIndex:me});return[M.cloneElement(rt,X),null,null]}return H?[je,null,null]:[je,null]}),tn(j,"renderCustomized",function(A,C,N){return M.cloneElement(A,it(it({key:"recharts-customized-".concat(N)},j.props),j.state))}),tn(j,"renderMap",{CartesianGrid:{handler:yS,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:yS},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:yS},YAxis:{handler:yS},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:am("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Voe(j.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return gZe(b,v),fZe(b,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,j=_.data,A=_.height,C=_.layout,N=ao(S,Os);if(N){var T=N.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=IL(this.state,j,T,P),O=this.state.tooltipTicks[T].coordinate,I=(this.state.offset.top+A)/2,L=C==="horizontal",z=L?{x:O,y:I}:{y:O,x:I},q=this.state.formattedGraphicalItems.find(function(F){var U=F.item;return U.type.name==="Scatter"});q&&(z=it(it({},z),q.props.points[T].tooltipPosition),D=q.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:D,activeCoordinate:z};this.setState(V),this.renderCursor(N),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var j,A;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){g3([ao(_.children,Os)],[ao(this.props.children,Os)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=ao(this.props.children,Os);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return l.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),A=P8e(j),C={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},N=j.width/S.offsetWidth||1,T=this.inRange(C.chartX,C.chartY,N);if(!T)return null;var P=this.state,D=P.xAxisMap,O=P.yAxisMap,I=this.getTooltipEventType(),L=OK(this.state,this.props.data,this.props.layout,T);if(I!=="axis"&&D&&O){var z=df(D).scale,q=df(O).scale,V=z&&z.invert?z.invert(C.chartX):null,F=q&&q.invert?q.invert(C.chartY):null;return it(it({},C),{},{xValue:V,yValue:F},L)}return L?it(it({},C),L):null}},{key:"inRange",value:function(_,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=_/j,N=S/j;if(A==="horizontal"||A==="vertical"){var T=this.state.offset,P=C>=T.left&&C<=T.left+T.width&&N>=T.top&&N<=T.top+T.height;return P?{x:C,y:N}:null}var D=this.state,O=D.angleAxisMap,I=D.radiusAxisMap;if(O&&I){var L=df(O);return OX({x:C,y:N},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),j=ao(_,Os),A={};j&&S==="axis"&&(j.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=tE(this.props,this.handleOuterEvent);return it(it({},C),A)}},{key:"addListener",value:function(){vO.on(xO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vO.removeListener(xO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,j){for(var A=this.state.formattedGraphicalItems,C=0,N=A.length;C<N;C++){var T=A[C];if(T.item===_||T.props.key===_.key||S===nd(T.item.type)&&j===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,j=S.left,A=S.top,C=S.height,N=S.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:_},ee.createElement("rect",{x:j,y:A,height:C,width:N})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,j){var A=PK(j,2),C=A[0],N=A[1];return it(it({},S),{},tn({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,j){var A=PK(j,2),C=A[0],N=A[1];return it(it({},S),{},tn({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,j=S.formattedGraphicalItems,A=S.activeItem;if(j&&j.length)for(var C=0,N=j.length;C<N;C++){var T=j[C],P=T.props,D=T.item,O=D.type.defaultProps!==void 0?it(it({},D.type.defaultProps),D.props):D.props,I=nd(D.type);if(I==="Bar"){var L=(P.data||[]).find(function(F){return YGe(_,F)});if(L)return{graphicalItem:T,payload:L}}else if(I==="RadialBar"){var z=(P.data||[]).find(function(F){return OX(_,F)});if(z)return{graphicalItem:T,payload:z}}else if(x2(T,A)||y2(T,A)||ew(T,A)){var q=xXe({graphicalItem:T,activeTooltipItem:A,itemData:O.data}),V=O.activeIndex===void 0?q:O.activeIndex;return{graphicalItem:it(it({},T),{},{childIndex:V}),payload:ew(T,A)?O.data[q]:T.props.data[q]}}}return null}},{key:"render",value:function(){var _=this;if(!G7(this))return null;var S=this.props,j=S.children,A=S.className,C=S.width,N=S.height,T=S.style,P=S.compact,D=S.title,O=S.desc,I=DK(S,sZe),L=Wt(I,!1);if(P)return ee.createElement(uK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(x3,Dg({},L,{width:C,height:N,title:D,desc:O}),this.renderClipPath(),X7(j,this.renderMap)));if(this.props.accessibilityLayer){var z,q;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(q=this.props.role)!==null&&q!==void 0?q:"application",L.onKeyDown=function(F){_.accessibilityManager.keyboardEvent(F)},L.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ee.createElement(uK,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",Dg({className:dn("recharts-wrapper",A),style:it({position:"relative",cursor:"default",width:C,height:N},T)},V,{ref:function(U){_.container=U}}),ee.createElement(x3,Dg({},L,{width:C,height:N,title:D,desc:O,style:_Ze}),this.renderClipPath(),X7(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);tn(y,"displayName",n),tn(y,"defaultProps",it({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),tn(y,"getDerivedStateFromProps",function(v,b){var w=v.dataKey,_=v.data,S=v.children,j=v.width,A=v.height,C=v.layout,N=v.stackOffset,T=v.margin,P=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var O=IK(v);return it(it(it({},O),{},{updateId:0},p(it(it({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:A,prevLayout:C,prevStackOffset:N,prevMargin:T,prevChildren:S})}if(w!==b.prevDataKey||_!==b.prevData||j!==b.prevWidth||A!==b.prevHeight||C!==b.prevLayout||N!==b.prevStackOffset||!ev(T,b.prevMargin)){var I=IK(v),L={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},z=it(it({},OK(b,_,C)),{},{updateId:b.updateId+1}),q=it(it(it({},I),L),z);return it(it(it({},q),p(it({props:v},q),b)),{},{prevDataKey:w,prevData:_,prevWidth:j,prevHeight:A,prevLayout:C,prevStackOffset:N,prevMargin:T,prevChildren:S})}if(!g3(S,b.prevChildren)){var V,F,U,H,$=ao(S,Wv),W=$&&(V=(F=$.props)===null||F===void 0?void 0:F.startIndex)!==null&&V!==void 0?V:P,le=$&&(U=(H=$.props)===null||H===void 0?void 0:H.endIndex)!==null&&U!==void 0?U:D,ie=W!==P||le!==D,re=!cn(_),_e=re&&!ie?b.updateId:b.updateId+1;return it(it({updateId:_e},p(it(it({props:v},b),{},{updateId:_e,dataStartIndex:W,dataEndIndex:le}),b)),{},{prevChildren:S,dataStartIndex:W,dataEndIndex:le})}return null}),tn(y,"renderActiveDot",function(v,b,w){var _;return M.isValidElement(v)?_=M.cloneElement(v,b):nn(v)?_=v(b):_=ee.createElement($w,b),ee.createElement(Dn,{className:"recharts-active-dot",key:w},_)});var g=M.forwardRef(function(b,w){return ee.createElement(y,Dg({},b,{ref:w}))});return g.displayName=y.displayName,g},pue=N2({chartName:"LineChart",GraphicalChild:id,axisComponents:[{axisType:"xAxis",AxisComp:Gc},{axisType:"yAxis",AxisComp:go}],formatAxisMap:uU}),mue=N2({chartName:"BarChart",GraphicalChild:qc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gc},{axisType:"yAxis",AxisComp:go}],formatAxisMap:uU}),gue=N2({chartName:"PieChart",GraphicalChild:du,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:v2},{axisType:"radiusAxis",AxisComp:m2}],formatAxisMap:c7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),DZe=N2({chartName:"AreaChart",GraphicalChild:fh,axisComponents:[{axisType:"xAxis",AxisComp:Gc},{axisType:"yAxis",AxisComp:go}],formatAxisMap:uU});const RZe="";function OZe(){const{user:t}=ur(),e=xa(),[n,r]=M.useState("7days"),{data:i=[],isLoading:a}=ci({queryKey:["affiliate-links",t?.$id],queryFn:async()=>t?.$id?(await tt.listDocuments(RZe,"affiliate_links",[Se.equal("affiliateId",t.$id),Se.orderDesc("$createdAt")])).documents:[],enabled:!!t?.$id}),o={totalClicks:i.reduce((d,f)=>d+(f.clicks||0),0),totalConversions:i.reduce((d,f)=>d+(f.conversions||0),0),totalRevenue:i.reduce((d,f)=>d+(f.revenue||0),0),totalLinks:i.length,avgConversionRate:i.length>0?(i.reduce((d,f)=>{const h=f.clicks>0?f.conversions/f.clicks*100:0;return d+h},0)/i.length).toFixed(2):"0.00"},l=()=>{const d=[],f=new Date;for(let h=6;h>=0;h--){const p=new Date(f);p.setDate(p.getDate()-h);const y=p.toLocaleDateString("ar-EG",{month:"short",day:"numeric"});d.push({date:y,clicks:Math.floor(Math.random()*50)+10,conversions:Math.floor(Math.random()*10),revenue:Math.floor(Math.random()*500)+100})}return d},c=[...i].sort((d,f)=>(f.revenue||0)-(d.revenue||0)).slice(0,5).map(d=>({linkCode:d.linkCode,clicks:d.clicks||0,conversions:d.conversions||0,revenue:d.revenue||0})),u=[{name:"النقرات",value:o.totalClicks,fill:"#f97316"},{name:"التحويلات",value:o.totalConversions,fill:"#10b981"}];return t?.isAffiliate?a?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"text-center py-12",children:"جاري التحميل..."})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"لوحة التحليلات"}),s.jsx("p",{className:"text-muted-foreground",children:"تابع أداء حملاتك التسويقية بالتفصيل"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(ce,{children:[s.jsx(Ee,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4"}),"إجمالي النقرات"]})}),s.jsxs(he,{children:[s.jsx("div",{className:"text-3xl font-bold",children:o.totalClicks}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["من ",o.totalLinks," رابط نشط"]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(ti,{className:"h-4 w-4"}),"إجمالي التحويلات"]})}),s.jsxs(he,{children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:o.totalConversions}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["معدل التحويل ",o.avgConversionRate,"%"]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(kr,{className:"h-4 w-4"}),"إجمالي العمولات"]})}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-3xl font-bold text-primary",children:[o.totalRevenue.toFixed(2)," جنيه"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["متوسط ",(o.totalRevenue/(o.totalConversions||1)).toFixed(2)," لكل تحويل"]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{className:"pb-2",children:s.jsxs(Ce,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[s.jsx(VZ,{className:"h-4 w-4"}),"معدل التحويل"]})}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[o.avgConversionRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"متوسط جميع الروابط"})]})]})]}),s.jsxs(vl,{defaultValue:"performance",className:"space-y-4",children:[s.jsxs(No,{children:[s.jsx(mn,{value:"performance",children:"الأداء اليومي"}),s.jsx(mn,{value:"top-links",children:"أفضل الروابط"}),s.jsx(mn,{value:"funnel",children:"مسار التحويل"})]}),s.jsx(gn,{value:"performance",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"الأداء اليومي - آخر 7 أيام"}),s.jsx(on,{children:"تتبع النقرات والتحويلات والعمولات يومياً"})]}),s.jsx(he,{children:s.jsx(cp,{width:"100%",height:400,children:s.jsxs(pue,{data:l(),children:[s.jsx(rv,{strokeDasharray:"3 3"}),s.jsx(Gc,{dataKey:"date"}),s.jsx(go,{yAxisId:"left"}),s.jsx(go,{yAxisId:"right",orientation:"right"}),s.jsx(Os,{}),s.jsx(tl,{}),s.jsx(id,{yAxisId:"left",type:"monotone",dataKey:"clicks",stroke:"#f97316",strokeWidth:2,name:"النقرات"}),s.jsx(id,{yAxisId:"left",type:"monotone",dataKey:"conversions",stroke:"#10b981",strokeWidth:2,name:"التحويلات"}),s.jsx(id,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,name:"العمولة (جنيه)"})]})})})]})}),s.jsx(gn,{value:"top-links",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"أفضل 5 روابط أداءً"}),s.jsx(on,{children:"الروابط التي حققت أعلى عمولات"})]}),s.jsx(he,{children:c.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"لا توجد بيانات كافية لعرض الرسم البياني"}):s.jsx(cp,{width:"100%",height:400,children:s.jsxs(mue,{data:c,children:[s.jsx(rv,{strokeDasharray:"3 3"}),s.jsx(Gc,{dataKey:"linkCode"}),s.jsx(go,{yAxisId:"left"}),s.jsx(go,{yAxisId:"right",orientation:"right"}),s.jsx(Os,{}),s.jsx(tl,{}),s.jsx(qc,{yAxisId:"left",dataKey:"clicks",fill:"#f97316",name:"النقرات"}),s.jsx(qc,{yAxisId:"left",dataKey:"conversions",fill:"#10b981",name:"التحويلات"}),s.jsx(qc,{yAxisId:"right",dataKey:"revenue",fill:"#3b82f6",name:"العمولة"})]})})})]})}),s.jsx(gn,{value:"funnel",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"مسار التحويل"}),s.jsx(on,{children:"تحليل رحلة العميل من النقرة إلى الشراء"})]}),s.jsx(he,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsx("div",{children:s.jsx(cp,{width:"100%",height:300,children:s.jsxs(gue,{children:[s.jsx(du,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,value:f})=>`${d}: ${f}`,outerRadius:100,dataKey:"value",children:u.map((d,f)=>s.jsx(Iw,{fill:d.fill},`cell-${f}`))}),s.jsx(Os,{})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"النقرات"}),s.jsx(jt,{variant:"outline",children:o.totalClicks})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500",style:{width:"100%"}})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:"التحويلات"}),s.jsx(jt,{variant:"outline",children:o.totalConversions})]}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500",style:{width:`${o.totalClicks>0?o.totalConversions/o.totalClicks*100:0}%`}})})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Q$,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"font-semibold",children:"معدل التحويل"})]}),s.jsxs("div",{className:"text-3xl font-bold text-primary",children:[o.avgConversionRate,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.totalClicks>0?`${o.totalConversions} من ${o.totalClicks} نقرة أصبحت عملية شراء`:"لا توجد بيانات بعد"})]})]})]})})]})})]}),s.jsxs(ce,{className:"bg-gradient-to-r from-primary/10 to-orange-500/10 border-primary",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(av,{className:"h-5 w-5"}),"نصائح لتحسين الأداء"]})}),s.jsxs(he,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm",children:"• معدل تحويل أعلى من 5% يُعتبر ممتاز - استمر بهذا الأداء!"}),s.jsx("p",{className:"text-sm",children:"• ركز على الروابط ذات الأداء الأفضل وأنشئ المزيد من المحتوى حولها"}),s.jsx("p",{className:"text-sm",children:"• جرب أوقات نشر مختلفة لمعرفة متى يكون جمهورك أكثر نشاطاً"}),s.jsx("p",{className:"text-sm",children:"• استخدم البانرات والأدوات التسويقية لزيادة النقرات"})]})]})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ce,{children:s.jsxs(he,{className:"p-12 text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Q$,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"هذه الصفحة للمسوقين فقط"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"يجب أن يكون حسابك مفعّلاً كحساب مسوق للوصول إلى لوحة التحليلات والإحصائيات"}),s.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[s.jsx(ge,{onClick:()=>e("/update-affiliate-prefs"),children:"تفعيل حساب المسوق"}),s.jsx(ge,{variant:"outline",onClick:()=>e("/affiliate"),children:"معرفة المزيد"})]})]})})})}var mg={},bO,LK;function IZe(){return LK||(LK=1,bO=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),bO}var wO={},Zd={},FK;function um(){if(FK)return Zd;FK=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Zd.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Zd.getSymbolTotalCodewords=function(r){return e[r]},Zd.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Zd.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Zd.isKanjiModeEnabled=function(){return typeof t<"u"},Zd.toSJIS=function(r){return t(r)},Zd}var _O={},UK;function bU(){return UK||(UK=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(_O)),_O}var SO,BK;function kZe(){if(BK)return SO;BK=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},SO=t,SO}var jO,$K;function LZe(){if($K)return jO;$K=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const a=e*this.size+n;this.data[a]=r,i&&(this.reservedBit[a]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},jO=t,jO}var EO={},zK;function FZe(){return zK||(zK=1,(function(t){const e=um().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=e(r),o=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-o;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],a=t.getRowColCoords(r),o=a.length;for(let l=0;l<o;l++)for(let c=0;c<o;c++)l===0&&c===0||l===0&&c===o-1||l===o-1&&c===0||i.push([a[l],a[c]]);return i}})(EO)),EO}var NO={},HK;function UZe(){if(HK)return NO;HK=1;const t=um().getSymbolSize,e=7;return NO.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},NO}var AO={},VK;function BZe(){return VK||(VK=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const a=i.size;let o=0,l=0,c=0,u=null,d=null;for(let f=0;f<a;f++){l=c=0,u=d=null;for(let h=0;h<a;h++){let p=i.get(f,h);p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1),p=i.get(h,f),p===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=p,c=1)}l>=5&&(o+=e.N1+(l-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const a=i.size;let o=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const a=i.size;let o=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&o++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let a=0;const o=i.data.length;for(let c=0;c<o;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/o/5)-10)*e.N4};function n(r,i,a){switch(r){case t.Patterns.PATTERN000:return(i+a)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return a%3===0;case t.Patterns.PATTERN011:return(i+a)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case t.Patterns.PATTERN101:return i*a%2+i*a%3===0;case t.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case t.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,a){const o=a.size;for(let l=0;l<o;l++)for(let c=0;c<o;c++)a.isReserved(c,l)||a.xor(c,l,n(i,c,l))},t.getBestMask=function(i,a){const o=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<o;u++){a(u),t.applyMask(u,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(AO)),AO}var bS={},qK;function vue(){if(qK)return bS;qK=1;const t=bU(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bS.getBlocksCount=function(i,a){switch(a){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},bS.getTotalCodewordsCount=function(i,a){switch(a){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},bS}var CO={},Xy={},GK;function $Ze(){if(GK)return Xy;GK=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Xy.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Xy.exp=function(r){return t[r]},Xy.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Xy}var WK;function zZe(){return WK||(WK=1,(function(t){const e=$Ze();t.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let l=0;l<i.length;l++)a[o+l]^=e.mul(r[o],i[l]);return a},t.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const o=a[0];for(let c=0;c<i.length;c++)a[c]^=e.mul(i[c],o);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=t.mul(i,new Uint8Array([1,e.exp(a)]));return i}})(CO)),CO}var MO,XK;function HZe(){if(XK)return MO;XK=1;const t=zZe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=t.mod(i,this.genPoly),o=this.degree-a.length;if(o>0){const l=new Uint8Array(this.degree);return l.set(a,o),l}return a},MO=e,MO}var TO={},PO={},DO={},YK;function xue(){return YK||(YK=1,DO.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),DO}var yc={},KK;function yue(){if(KK)return yc;KK=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;yc.KANJI=new RegExp(n,"g"),yc.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),yc.BYTE=new RegExp(r,"g"),yc.NUMERIC=new RegExp(t,"g"),yc.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return yc.testKanji=function(c){return i.test(c)},yc.testNumeric=function(c){return a.test(c)},yc.testAlphanumeric=function(c){return o.test(c)},yc}var QK;function dm(){return QK||(QK=1,(function(t){const e=xue(),n=yue();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(a,o){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?a.ccBits[0]:o<27?a.ccBits[1]:a.ccBits[2]},t.getBestModeForData=function(a){return n.testNumeric(a)?t.NUMERIC:n.testAlphanumeric(a)?t.ALPHANUMERIC:n.testKanji(a)?t.KANJI:t.BYTE},t.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},t.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(a,o){if(t.isValid(a))return a;try{return r(a)}catch{return o}}})(PO)),PO}var ZK;function VZe(){return ZK||(ZK=1,(function(t){const e=um(),n=vue(),r=bU(),i=dm(),a=xue(),o=7973,l=e.getBCHDigit(o);function c(h,p,y){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,y,h))return g}function u(h,p){return i.getCharCountIndicator(h,p)+4}function d(h,p){let y=0;return h.forEach(function(g){const v=u(g.mode,p);y+=v+g.getBitsLength()}),y}function f(h,p){for(let y=1;y<=40;y++)if(d(h,y)<=t.getCapacity(y,p,i.MIXED))return y}t.from=function(p,y){return a.isValid(p)?parseInt(p,10):y},t.getCapacity=function(p,y,g){if(!a.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const v=e.getSymbolTotalCodewords(p),b=n.getTotalCodewordsCount(p,y),w=(v-b)*8;if(g===i.MIXED)return w;const _=w-u(g,p);switch(g){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(p,y){let g;const v=r.from(y,r.M);if(Array.isArray(p)){if(p.length>1)return f(p,v);if(p.length===0)return 1;g=p[0]}else g=p;return c(g.mode,g.getLength(),v)},t.getEncodedBits=function(p){if(!a.isValid(p)||p<7)throw new Error("Invalid QR Code version");let y=p<<12;for(;e.getBCHDigit(y)-l>=0;)y^=o<<e.getBCHDigit(y)-l;return p<<12|y}})(TO)),TO}var RO={},JK;function qZe(){if(JK)return RO;JK=1;const t=um(),e=1335,n=21522,r=t.getBCHDigit(e);return RO.getEncodedBits=function(a,o){const l=a.bit<<3|o;let c=l<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(l<<10|c)^n},RO}var OO={},IO,eQ;function GZe(){if(eQ)return IO;eQ=1;const t=dm();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,a,o;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),o=parseInt(a,10),r.put(o,10);const l=this.data.length-i;l>0&&(a=this.data.substr(i),o=parseInt(a,10),r.put(o,l*3+1))},IO=e,IO}var kO,tQ;function WZe(){if(tQ)return kO;tQ=1;const t=dm(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let o=e.indexOf(this.data[a])*45;o+=e.indexOf(this.data[a+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[a]),6)},kO=n,kO}var LO,nQ;function XZe(){if(nQ)return LO;nQ=1;const t=dm();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},LO=e,LO}var FO,rQ;function YZe(){if(rQ)return FO;rQ=1;const t=dm(),e=um();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=e.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},FO=n,FO}var UO={exports:{}},iQ;function KZe(){return iQ||(iQ=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var a={},o={};o[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,u,d,f,h,p,y,g,v;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=n[u]||{};for(d in h)h.hasOwnProperty(d)&&(p=h[d],y=f+p,g=o[d],v=typeof o[d]>"u",(v||g>y)&&(o[d]=y,l.push(d,y),a[d]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(b)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],a=r;a;)i.push(a),n[a],a=n[a];return i.reverse(),i},find_path:function(n,r,i){var a=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(UO)),UO.exports}var sQ;function QZe(){return sQ||(sQ=1,(function(t){const e=dm(),n=GZe(),r=WZe(),i=XZe(),a=YZe(),o=yue(),l=um(),c=KZe();function u(b){return unescape(encodeURIComponent(b)).length}function d(b,w,_){const S=[];let j;for(;(j=b.exec(_))!==null;)S.push({data:j[0],index:j.index,mode:w,length:j[0].length});return S}function f(b){const w=d(o.NUMERIC,e.NUMERIC,b),_=d(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let S,j;return l.isKanjiModeEnabled()?(S=d(o.BYTE,e.BYTE,b),j=d(o.KANJI,e.KANJI,b)):(S=d(o.BYTE_KANJI,e.BYTE,b),j=[]),w.concat(_,S,j).sort(function(C,N){return C.index-N.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function h(b,w){switch(w){case e.NUMERIC:return n.getBitsLength(b);case e.ALPHANUMERIC:return r.getBitsLength(b);case e.KANJI:return a.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function p(b){return b.reduce(function(w,_){const S=w.length-1>=0?w[w.length-1]:null;return S&&S.mode===_.mode?(w[w.length-1].data+=_.data,w):(w.push(_),w)},[])}function y(b){const w=[];for(let _=0;_<b.length;_++){const S=b[_];switch(S.mode){case e.NUMERIC:w.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:w.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:w.push([S,{data:S.data,mode:e.BYTE,length:u(S.data)}]);break;case e.BYTE:w.push([{data:S.data,mode:e.BYTE,length:u(S.data)}])}}return w}function g(b,w){const _={},S={start:{}};let j=["start"];for(let A=0;A<b.length;A++){const C=b[A],N=[];for(let T=0;T<C.length;T++){const P=C[T],D=""+A+T;N.push(D),_[D]={node:P,lastCount:0},S[D]={};for(let O=0;O<j.length;O++){const I=j[O];_[I]&&_[I].node.mode===P.mode?(S[I][D]=h(_[I].lastCount+P.length,P.mode)-h(_[I].lastCount,P.mode),_[I].lastCount+=P.length):(_[I]&&(_[I].lastCount=P.length),S[I][D]=h(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,w))}}j=N}for(let A=0;A<j.length;A++)S[j[A]].end=0;return{map:S,table:_}}function v(b,w){let _;const S=e.getBestModeForData(b);if(_=e.from(w,S),_!==e.BYTE&&_.bit<S.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(S));switch(_===e.KANJI&&!l.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new n(b);case e.ALPHANUMERIC:return new r(b);case e.KANJI:return new a(b);case e.BYTE:return new i(b)}}t.fromArray=function(w){return w.reduce(function(_,S){return typeof S=="string"?_.push(v(S,null)):S.data&&_.push(v(S.data,S.mode)),_},[])},t.fromString=function(w,_){const S=f(w,l.isKanjiModeEnabled()),j=y(S),A=g(j,_),C=c.find_path(A.map,"start","end"),N=[];for(let T=1;T<C.length-1;T++)N.push(A.table[C[T]].node);return t.fromArray(p(N))},t.rawSplit=function(w){return t.fromArray(f(w,l.isKanjiModeEnabled()))}})(OO)),OO}var aQ;function ZZe(){if(aQ)return wO;aQ=1;const t=um(),e=bU(),n=kZe(),r=LZe(),i=FZe(),a=UZe(),o=BZe(),l=vue(),c=HZe(),u=VZe(),d=qZe(),f=dm(),h=QZe();function p(A,C){const N=A.size,T=a.getPositions(C);for(let P=0;P<T.length;P++){const D=T[P][0],O=T[P][1];for(let I=-1;I<=7;I++)if(!(D+I<=-1||N<=D+I))for(let L=-1;L<=7;L++)O+L<=-1||N<=O+L||(I>=0&&I<=6&&(L===0||L===6)||L>=0&&L<=6&&(I===0||I===6)||I>=2&&I<=4&&L>=2&&L<=4?A.set(D+I,O+L,!0,!0):A.set(D+I,O+L,!1,!0))}}function y(A){const C=A.size;for(let N=8;N<C-8;N++){const T=N%2===0;A.set(N,6,T,!0),A.set(6,N,T,!0)}}function g(A,C){const N=i.getPositions(C);for(let T=0;T<N.length;T++){const P=N[T][0],D=N[T][1];for(let O=-2;O<=2;O++)for(let I=-2;I<=2;I++)O===-2||O===2||I===-2||I===2||O===0&&I===0?A.set(P+O,D+I,!0,!0):A.set(P+O,D+I,!1,!0)}}function v(A,C){const N=A.size,T=u.getEncodedBits(C);let P,D,O;for(let I=0;I<18;I++)P=Math.floor(I/3),D=I%3+N-8-3,O=(T>>I&1)===1,A.set(P,D,O,!0),A.set(D,P,O,!0)}function b(A,C,N){const T=A.size,P=d.getEncodedBits(C,N);let D,O;for(D=0;D<15;D++)O=(P>>D&1)===1,D<6?A.set(D,8,O,!0):D<8?A.set(D+1,8,O,!0):A.set(T-15+D,8,O,!0),D<8?A.set(8,T-D-1,O,!0):D<9?A.set(8,15-D-1+1,O,!0):A.set(8,15-D-1,O,!0);A.set(T-8,8,1,!0)}function w(A,C){const N=A.size;let T=-1,P=N-1,D=7,O=0;for(let I=N-1;I>0;I-=2)for(I===6&&I--;;){for(let L=0;L<2;L++)if(!A.isReserved(P,I-L)){let z=!1;O<C.length&&(z=(C[O]>>>D&1)===1),A.set(P,I-L,z),D--,D===-1&&(O++,D=7)}if(P+=T,P<0||N<=P){P-=T,T=-T;break}}}function _(A,C,N){const T=new n;N.forEach(function(L){T.put(L.mode.bit,4),T.put(L.getLength(),f.getCharCountIndicator(L.mode,A)),L.write(T)});const P=t.getSymbolTotalCodewords(A),D=l.getTotalCodewordsCount(A,C),O=(P-D)*8;for(T.getLengthInBits()+4<=O&&T.put(0,4);T.getLengthInBits()%8!==0;)T.putBit(0);const I=(O-T.getLengthInBits())/8;for(let L=0;L<I;L++)T.put(L%2?17:236,8);return S(T,A,C)}function S(A,C,N){const T=t.getSymbolTotalCodewords(C),P=l.getTotalCodewordsCount(C,N),D=T-P,O=l.getBlocksCount(C,N),I=T%O,L=O-I,z=Math.floor(T/O),q=Math.floor(D/O),V=q+1,F=z-q,U=new c(F);let H=0;const $=new Array(O),W=new Array(O);let le=0;const ie=new Uint8Array(A.buffer);for(let je=0;je<O;je++){const Oe=je<L?q:V;$[je]=ie.slice(H,H+Oe),W[je]=U.encode($[je]),H+=Oe,le=Math.max(le,Oe)}const re=new Uint8Array(T);let _e=0,pe,Ne;for(pe=0;pe<le;pe++)for(Ne=0;Ne<O;Ne++)pe<$[Ne].length&&(re[_e++]=$[Ne][pe]);for(pe=0;pe<F;pe++)for(Ne=0;Ne<O;Ne++)re[_e++]=W[Ne][pe];return re}function j(A,C,N,T){let P;if(Array.isArray(A))P=h.fromArray(A);else if(typeof A=="string"){let z=C;if(!z){const q=h.rawSplit(A);z=u.getBestVersionForData(q,N)}P=h.fromString(A,z||40)}else throw new Error("Invalid data");const D=u.getBestVersionForData(P,N);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=D;else if(C<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const O=_(C,N,P),I=t.getSymbolSize(C),L=new r(I);return p(L,C),y(L),g(L,C),b(L,N,0),C>=7&&v(L,C),w(L,O),isNaN(T)&&(T=o.getBestMask(L,b.bind(null,L,N))),o.applyMask(T,L),b(L,N,T),{modules:L,version:C,errorCorrectionLevel:N,maskPattern:T,segments:P}}return wO.create=function(C,N){if(typeof C>"u"||C==="")throw new Error("No input text");let T=e.M,P,D;return typeof N<"u"&&(T=e.from(N.errorCorrectionLevel,e.M),P=u.from(N.version),D=o.from(N.maskPattern),N.toSJISFunc&&t.setToSJISFunction(N.toSJISFunc)),j(C,P,T,D)},wO}var BO={},$O={},oQ;function bue(){return oQ||(oQ=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:a,scale:a?4:o,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const a=t.getScale(r,i);return Math.floor((r+i.margin*2)*a)},t.qrToImageData=function(r,i,a){const o=i.modules.size,l=i.modules.data,c=t.getScale(o,a),u=Math.floor((o+a.margin*2)*c),d=a.margin*c,f=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let p=0;p<u;p++){let y=(h*u+p)*4,g=a.color.light;if(h>=d&&p>=d&&h<u-d&&p<u-d){const v=Math.floor((h-d)/c),b=Math.floor((p-d)/c);g=f[l[v*o+b]?1:0]}r[y++]=g.r,r[y++]=g.g,r[y++]=g.b,r[y]=g.a}}})($O)),$O}var lQ;function JZe(){return lQ||(lQ=1,(function(t){const e=bue();function n(i,a,o){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=o,a.width=o,a.style.height=o+"px",a.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(a,o,l){let c=l,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=e.getOptions(c);const d=e.getImageWidth(a.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return e.qrToImageData(h.data,a,c),n(f,u,d),f.putImageData(h,0,0),u},t.renderToDataURL=function(a,o,l){let c=l;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=t.render(a,o,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(BO)),BO}var zO={},cQ;function eJe(){if(cQ)return zO;cQ=1;const t=bue();function e(i,a){const o=i.a/255,l=a+'="'+i.hex+'"';return o<1?l+" "+a+'-opacity="'+o.toFixed(2).slice(1)+'"':l}function n(i,a,o){let l=i+a;return typeof o<"u"&&(l+=" "+o),l}function r(i,a,o){let l="",c=0,u=!1,d=0;for(let f=0;f<i.length;f++){const h=Math.floor(f%a),p=Math.floor(f/a);!h&&!u&&(u=!0),i[f]?(d++,f>0&&h>0&&i[f-1]||(l+=u?n("M",h+o,.5+p+o):n("m",c,0),c=0,u=!1),h+1<a&&i[f+1]||(l+=n("h",d),d=0)):c++}return l}return zO.render=function(a,o,l){const c=t.getOptions(o),u=a.modules.size,d=a.modules.data,f=u+c.margin*2,h=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+e(c.color.dark,"stroke")+' d="'+r(d,u,c.margin)+'"/>',y='viewBox="0 0 '+f+" "+f+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+y+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof l=="function"&&l(null,v),v},zO}var uQ;function tJe(){if(uQ)return mg;uQ=1;const t=IZe(),e=ZZe(),n=JZe(),r=eJe();function i(a,o,l,c,u){const d=[].slice.call(arguments,1),f=d.length,h=typeof d[f-1]=="function";if(!h&&!t())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(u=l,l=o,o=c=void 0):f===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=l,l=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(l=o,o=c=void 0):f===2&&!o.getContext&&(c=l,l=o,o=void 0),new Promise(function(p,y){try{const g=e.create(l,c);p(a(g,o,c))}catch(g){y(g)}})}try{const p=e.create(l,c);u(null,a(p,o,c))}catch(p){u(p)}}return mg.create=e.create,mg.toCanvas=i.bind(null,n.render),mg.toDataURL=i.bind(null,n.renderToDataURL),mg.toString=i.bind(null,function(a,o,l){return r.render(a,l)}),mg}var nJe=tJe();const rJe=In(nJe),iJe="",wS=[{name:"Leaderboard",width:728,height:90},{name:"Medium Rectangle",width:300,height:250},{name:"Wide Skyscraper",width:160,height:600},{name:"Mobile Banner",width:320,height:50},{name:"Large Rectangle",width:336,height:280},{name:"Half Page",width:300,height:600}];function sJe(){const{user:t}=ur(),{toast:e}=mr(),n=xa(),[r,i]=M.useState(""),[a,o]=M.useState(wS[0]),[l,c]=M.useState(""),u=M.useRef(null),{data:d=[]}=ci({queryKey:["affiliate-links",t?.$id],queryFn:async()=>t?.$id?(await tt.listDocuments(iJe,"affiliate_links",[Se.equal("affiliateId",t.$id)])).documents:[],enabled:!!t?.$id}),{data:f}=ci({queryKey:["products"],queryFn:()=>hl.getAll()}),h=Array.isArray(f)?f:f?.products||[];M.useEffect(()=>{if(r){const w=`${window.location.origin}/#/l/${r}`;rJe.toDataURL(w,{width:300,margin:2,color:{dark:"#000000",light:"#ffffff"}}).then(_=>c(_)).catch(_=>console.error(_))}},[r]);const p=()=>{if(!u.current||!r)return;const w=u.current,_=w.getContext("2d");if(!_)return;const{width:S,height:j}=a;w.width=S,w.height=j;const A=_.createLinearGradient(0,0,S,0);A.addColorStop(0,"#f97316"),A.addColorStop(1,"#fb923c"),_.fillStyle=A,_.fillRect(0,0,S,j),_.fillStyle="#ffffff",_.font="bold 24px Arial",_.textAlign="center";const C=d.find(T=>T.linkCode===r),N=h.find(T=>T.id===C?.productId);N?(_.fillText(N.name,S/2,j/2-20),_.font="16px Arial",_.fillText("احصل على خصم خاص!",S/2,j/2+10),_.fillText(`egygo.com/l/${r}`,S/2,j/2+35)):(_.fillText("EGYGO",S/2,j/2-10),_.font="16px Arial",_.fillText(`egygo.com/l/${r}`,S/2,j/2+20))};M.useEffect(()=>{p()},[r,a,d,h]);const y=()=>{if(!u.current)return;const w=u.current.toDataURL("image/png"),_=document.createElement("a");_.download=`banner-${a.width}x${a.height}.png`,_.href=w,_.click(),e({title:"تم التحميل! ✓",description:"تم تحميل البانر بنجاح"})},g=()=>{if(!l)return;const w=document.createElement("a");w.download=`qr-code-${r}.png`,w.href=l,w.click(),e({title:"تم التحميل! ✓",description:"تم تحميل رمز QR بنجاح"})},v=()=>r?`<a href="${`${window.location.origin}/l/${r}`}" target="_blank">
  <img src="${u.current?.toDataURL()}" alt="عرض خاص" />
</a>`:"",b=()=>{const w=v();navigator.clipboard.writeText(w),e({title:"تم النسخ! ✓",description:"تم نسخ كود التضمين"})};return t?.isAffiliate?d.length===0?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center space-y-4",children:[s.jsx(HZ,{className:"h-12 w-12 mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"أنشئ رابط تسويقي أولاً لتتمكن من إنشاء البانرات"}),s.jsx(ge,{onClick:()=>n("/affiliate/dashboard"),children:"إنشاء رابط الآن"})]})})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الأدوات التسويقية"}),s.jsx("p",{className:"text-muted-foreground",children:"بانرات، أكواد تضمين، ورموز QR جاهزة لحملاتك التسويقية"})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"اختر الرابط"}),s.jsx(on,{children:"اختر الرابط التسويقي لإنشاء المواد الترويجية"})]}),s.jsx(he,{children:s.jsxs(Lr,{value:r,onValueChange:i,children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"اختر رابط تسويقي..."})}),s.jsx(Tr,{children:d.map(w=>{const _=h.find(S=>S.id===w.productId);return s.jsxs(At,{value:w.linkCode,children:[w.linkCode," - ",_?.name||"منتج"]},w.$id)})})]})})]}),r&&s.jsxs(vl,{defaultValue:"banners",className:"space-y-4",children:[s.jsxs(No,{className:"grid w-full grid-cols-3",children:[s.jsxs(mn,{value:"banners",children:[s.jsx(K0,{className:"ml-2 h-4 w-4"}),"البانرات"]}),s.jsxs(mn,{value:"qr",children:[s.jsx(s0e,{className:"ml-2 h-4 w-4"}),"رمز QR"]}),s.jsxs(mn,{value:"embed",children:[s.jsx(Kxe,{className:"ml-2 h-4 w-4"}),"كود التضمين"]})]}),s.jsxs(gn,{value:"banners",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"إعدادات البانر"}),s.jsx(on,{children:"اختر حجم البانر المناسب لمنصتك"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"حجم البانر"}),s.jsxs(Lr,{value:a.name,onValueChange:w=>{const _=wS.find(S=>S.name===w);_&&o(_)},children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsx(Tr,{children:wS.map(w=>s.jsxs(At,{value:w.name,children:[w.name," (",w.width,"x",w.height,")"]},w.name))})]})]}),s.jsxs("div",{className:"pt-4 space-y-2",children:[s.jsxs(jt,{variant:"outline",children:[a.width,"x",a.height," بكسل"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["مناسب لـ:"," ",a.name==="Leaderboard"?"أعلى الصفحات والمواقع":a.name==="Medium Rectangle"?"المدونات والمقالات":a.name==="Mobile Banner"?"التطبيقات والمواقع المحمولة":"الشريط الجانبي"]})]}),s.jsxs(ge,{onClick:y,className:"w-full",children:[s.jsx(Xc,{className:"ml-2 h-4 w-4"}),"تحميل البانر"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"معاينة البانر"}),s.jsx(on,{children:"هكذا سيظهر البانر في حملتك"})]}),s.jsx(he,{children:s.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 flex items-center justify-center min-h-[300px]",children:s.jsx("canvas",{ref:u,className:"max-w-full h-auto shadow-lg"})})})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"جميع المقاسات المتاحة"}),s.jsx(on,{children:"اختر المقاس المناسب لكل منصة"})]}),s.jsx(he,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:wS.map(w=>s.jsxs(ge,{variant:a.name===w.name?"default":"outline",onClick:()=>o(w),className:"h-auto py-4 flex-col",children:[s.jsx("span",{className:"font-semibold",children:w.name}),s.jsxs("span",{className:"text-xs mt-1",children:[w.width,"x",w.height]})]},w.name))})})]})]}),s.jsx(gn,{value:"qr",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"رمز QR"}),s.jsx(on,{children:"اطبعه على المنتجات، البروشورات، أو البطاقات"})]}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l&&s.jsx("img",{src:l,alt:"QR Code",className:"border rounded-lg shadow-lg"}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-sm font-medium mb-1",children:["egygo.com/l/",r]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"امسح الرمز للوصول المباشر للمنتج"})]}),s.jsxs(ge,{onClick:g,size:"lg",children:[s.jsx(Xc,{className:"ml-2 h-4 w-4"}),"تحميل رمز QR"]})]}),s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"طرق استخدام رمز QR:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:"• اطبعه على البروشورات والكتيبات التسويقية"}),s.jsx("li",{children:"• أضفه على بطاقات العمل الخاصة بك"}),s.jsx("li",{children:"• استخدمه في المعارض والفعاليات"}),s.jsx("li",{children:"• شاركه على وسائل التواصل الاجتماعي"})]})]})]})]})}),s.jsx(gn,{value:"embed",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"كود التضمين HTML"}),s.jsx(on,{children:"انسخ هذا الكود وضعه في موقعك أو مدونتك"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"كود HTML"}),s.jsx(_o,{value:v(),readOnly:!0,className:"font-mono text-sm mt-2",rows:5})]}),s.jsxs(ge,{onClick:b,className:"w-full",children:[s.jsx(Rp,{className:"ml-2 h-4 w-4"}),"نسخ الكود"]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"كيفية الاستخدام:"}),s.jsxs("ol",{className:"space-y-2 text-sm text-muted-foreground list-decimal list-inside",children:[s.jsx("li",{children:"انسخ الكود أعلاه"}),s.jsx("li",{children:"افتح محرر HTML لموقعك أو مدونتك"}),s.jsx("li",{children:"الصق الكود في المكان المناسب"}),s.jsx("li",{children:"احفظ وانشر التغييرات"})]})]})]})]})})]}),s.jsxs(ce,{className:"bg-gradient-to-r from-primary/10 to-orange-500/10 border-primary",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(fw,{className:"h-5 w-5"}),"نصائح للترويج الفعّال"]})}),s.jsxs(he,{className:"space-y-2",children:[s.jsx("p",{className:"text-sm",children:"• استخدم البانرات في مواقع التواصل الاجتماعي لجذب الانتباه"}),s.jsx("p",{className:"text-sm",children:"• ضع رموز QR في أماكن مرئية للحصول على أفضل النتائج"}),s.jsx("p",{className:"text-sm",children:"• جرب أحجام مختلفة من البانرات لمعرفة أيها يحقق أفضل أداء"}),s.jsx("p",{className:"text-sm",children:"• شارك المواد الترويجية على قنوات متعددة لزيادة الوصول"})]})]})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ce,{children:s.jsxs(he,{className:"p-12 text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(K0,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h2",{className:"text-2xl font-bold",children:"هذه الصفحة للمسوقين فقط"}),s.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"يجب أن يكون حسابك مفعّلاً كحساب مسوق للوصول إلى البانرات والأدوات التسويقية"}),s.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[s.jsx(ge,{onClick:()=>n("/update-affiliate-prefs"),children:"تفعيل حساب المسوق"}),s.jsx(ge,{variant:"outline",onClick:()=>n("/affiliate"),children:"معرفة المزيد"})]})]})})})}const dQ="";function fQ(){const{toast:t}=mr(),[e,n]=M.useState(""),[r,i]=M.useState(""),[a,o]=M.useState(!1),[l,c]=M.useState({current:0,total:0}),[u,d]=M.useState([]),[f,h]=M.useState(null),[p,y]=M.useState(new Set),[g,v]=M.useState(!1),b=async()=>{o(!0),c({current:0,total:41});try{let j;const A=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";if(!dQ)if(A)j="/api/vendoor/scrape-all",console.log("✅ استخدام localhost API");else{t({title:"إعداد مطلوب",description:"يرجى إعداد Cloudflare Worker أولاً. راجع CLOUDFLARE_QUICK_START.md",variant:"destructive"});return}const C=await fetch(j,{method:"GET",headers:{"Content-Type":"application/json"}});if(!C.ok){const T=await C.text();throw new Error(`فشل جلب المنتجات: ${C.status} - ${T}`)}const N=await C.json();if(N.success&&N.products)d(N.products),t({title:"نجح! 🎉",description:`تم جلب ${N.totalProducts} منتج من ${N.totalPages} صفحة`});else throw new Error(N.error||"فشل في جلب المنتجات")}catch(j){console.error("خطأ في جلب المنتجات:",j),t({title:"خطأ",description:j.message||"فشل جلب المنتجات",variant:"destructive"})}finally{o(!1),c({current:0,total:0})}},w=j=>{const A=j.target.files?.[0];if(!A)return;const C=new FileReader;C.onload=N=>{try{const T=JSON.parse(N.target?.result);if(T.products&&Array.isArray(T.products))d(T.products),t({title:"نجح!",description:`تم تحميل ${T.products.length} منتج من الملف`});else throw new Error("صيغة الملف غير صحيحة")}catch{t({title:"خطأ",description:"فشل قراءة الملف. تأكد أنه ملف JSON صحيح.",variant:"destructive"})}},C.readAsText(A)},_=async j=>{y(A=>new Set(A).add(j.id));try{const A=await fetch("/api/vendoor/import-product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:j.id,vendoorEmail:e,vendoorPassword:r})});if(!A.ok)throw new Error("فشل استيراد المنتج");const C=await A.json();t({title:"نجح!",description:`تم استيراد ${j.title} بنجاح`}),d(N=>N.map(T=>T.id===j.id?{...T,imported:!0}:T))}catch(A){t({title:"خطأ",description:A.message||"فشل استيراد المنتج",variant:"destructive"})}finally{y(A=>{const C=new Set(A);return C.delete(j.id),C})}},S=j=>{h(j),v(!0)};return s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"استيراد المنتجات من Ven-door"}),s.jsx("p",{className:"text-muted-foreground",children:"استورد منتجاتك بسهولة من Ven-door إلى موقعك"})]}),s.jsxs(vl,{defaultValue:"import",className:"space-y-6",children:[s.jsxs(No,{className:"grid w-full grid-cols-2 lg:w-[400px]",children:[s.jsxs(mn,{value:"import",children:[s.jsx(Xc,{className:"ml-2 h-4 w-4"}),"استيراد المنتجات"]}),s.jsxs(mn,{value:"settings",children:[s.jsx(hx,{className:"ml-2 h-4 w-4"}),"الإعدادات"]})]}),s.jsxs(gn,{value:"import",className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"جلب كتالوج المنتجات"}),s.jsx(on,{children:"قم بجلب جميع المنتجات من حسابك في Ven-door"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"vendoor-email",children:"البريد الإلكتروني لـ Ven-door"}),s.jsx(st,{id:"vendoor-email",type:"text",placeholder:"almlmibrahym574@gmail.com",value:e,onChange:j=>n(j.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"vendoor-password",children:"كلمة المرور"}),s.jsx(st,{id:"vendoor-password",type:"password",placeholder:"••••••••",value:r,onChange:j=>i(j.target.value)})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(ge,{onClick:b,disabled:a,className:"flex-1",size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Da,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري جلب المنتجات... (",l.current,"/",l.total,")"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xc,{className:"ml-2 h-4 w-4"}),"جلب المنتجات (localhost فقط)"]})}),s.jsx(qe,{htmlFor:"json-upload",className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 w-full h-full px-4 py-3 bg-secondary hover:bg-secondary/80 rounded-md border border-input transition-colors text-sm font-medium",children:[s.jsx(lv,{className:"h-4 w-4"}),s.jsx("span",{children:"رفع ملف JSON"})]})}),s.jsx(st,{id:"json-upload",type:"file",accept:".json",onChange:w,className:"hidden"})]}),s.jsx("div",{className:"text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-900",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-lg",children:"💡"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"للعمل في Production:"})}),s.jsxs("p",{className:"text-xs",children:["الخيار 1: نشر Cloudflare Worker (راجع ",s.jsx("code",{children:"CLOUDFLARE_QUICK_START.md"}),")"]}),s.jsx("p",{className:"text-xs",children:"الخيار 2: تشغيل السكريبت محلياً ورفع الملف:"}),s.jsx("code",{className:"block p-2 bg-black/10 dark:bg-white/10 rounded font-mono text-xs",children:"node scripts/fetch-vendoor-catalog.mjs"}),s.jsxs("p",{className:"text-xs",children:["ثم ارفع ملف ",s.jsx("code",{className:"px-1 py-0.5 bg-black/10 dark:bg-white/10 rounded",children:"vendoor-products-detailed.json"}),' باستخدام زر "رفع ملف JSON".']})]})]})}),dQ]}),a&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[s.jsx("span",{children:"جاري المعالجة..."}),s.jsxs("span",{children:[Math.round(l.current/l.total*100),"%"]})]}),s.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:s.jsx("div",{className:"bg-primary h-full transition-all duration-300",style:{width:`${l.current/l.total*100}%`}})})]})]})]}),u.length>0&&s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{children:["المنتجات المتاحة (",u.length,")"]}),s.jsx(on,{children:"اختر المنتجات التي تريد استيرادها إلى موقعك"})]}),s.jsx(he,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(j=>s.jsxs(ce,{className:"overflow-hidden",children:[s.jsxs("div",{className:"aspect-square relative",children:[s.jsx("img",{src:j.image||"/placeholder-product.jpg",alt:j.title,className:"w-full h-full object-cover"}),s.jsx(jt,{className:"absolute top-2 right-2",variant:parseInt(j.stock)>50?"default":"destructive",children:j.stock})]}),s.jsxs(he,{className:"p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold line-clamp-2 min-h-[3rem]",children:j.title}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"السعر:"}),s.jsxs("span",{className:"font-bold text-primary",children:[j.price," جنيه"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"العمولة:"}),s.jsxs("span",{className:"font-bold text-green-600",children:[j.commission," جنيه"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"المورد:"}),s.jsx("span",{className:"text-xs",children:j.supplier})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ge,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>S(j),children:[s.jsx($s,{className:"ml-2 h-4 w-4"}),"عرض"]}),s.jsx(ge,{size:"sm",className:"flex-1",onClick:()=>_(j),disabled:p.has(j.id),children:p.has(j.id)?s.jsxs(s.Fragment,{children:[s.jsx(Da,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lv,{className:"ml-2 h-4 w-4"}),"استيراد"]})})]})]})]},j.id))})})]})]}),s.jsx(gn,{value:"settings",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"إعدادات الاستيراد"}),s.jsx(on,{children:"قم بتخصيص إعدادات استيراد المنتجات"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"نسبة الهامش الربحي الافتراضية (%)"}),s.jsx(st,{type:"number",placeholder:"20",defaultValue:"20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"الفئة الافتراضية"}),s.jsx(st,{placeholder:"أحذية"})]}),s.jsx(ge,{children:"حفظ الإعدادات"})]})]})})]}),s.jsx(_i,{open:g,onOpenChange:v,children:s.jsxs(di,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:f?.title}),s.jsx(ga,{children:"تفاصيل المنتج من Ven-door"})]}),f&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("img",{src:f.image,alt:f.title,className:"w-full h-64 object-cover rounded-lg"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"رقم المنتج"}),s.jsxs("p",{className:"font-semibold",children:["#",f.id]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"المورد"}),s.jsx("p",{className:"font-semibold",children:f.supplier})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"السعر"}),s.jsxs("p",{className:"font-semibold text-primary",children:[f.price," جنيه"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"العمولة"}),s.jsxs("p",{className:"font-semibold text-green-600",children:[f.commission," جنيه"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"المخزون"}),s.jsx("p",{className:"font-semibold",children:f.stock})]})]}),f.variations&&Object.keys(f.variations).length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"الألوان والمقاسات"}),s.jsx("div",{className:"space-y-2",children:Object.entries(f.variations).map(([j,A])=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{variant:"outline",children:j}),s.jsx("span",{className:"text-sm text-muted-foreground",children:A.join(", ")})]},j))})]}),s.jsx(ge,{className:"w-full",size:"lg",onClick:()=>{_(f),v(!1)},disabled:p.has(f.id),children:p.has(f.id)?s.jsxs(s.Fragment,{children:[s.jsx(Da,{className:"ml-2 h-4 w-4 animate-spin"}),"جاري الاستيراد..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ti,{className:"ml-2 h-4 w-4"}),"استيراد هذا المنتج"]})})]})]})})]})}const aJe=pw("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rl=M.forwardRef(({className:t,variant:e,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Nt(aJe({variant:e}),t),...n}));rl.displayName="Alert";const oJe=M.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:Nt("mb-1 font-medium leading-none tracking-tight",t),...e}));oJe.displayName="AlertTitle";const il=M.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Nt("text-sm [&_p]:leading-relaxed",t),...e}));il.displayName="AlertDescription";function lJe(){const t=xa(),[e,n]=M.useState(!1),[r,i]=M.useState(null),[a,o]=M.useState(null);M.useEffect(()=>{l()},[]);const l=async()=>{try{const u=await la.get();o(u.prefs)}catch(u){console.error("Error loading prefs:",u)}},c=async()=>{try{n(!0),i(null),await la.updatePrefs({isAffiliate:!0,role:"affiliate",commissionRate:15}),i({type:"success",text:"✅ تم تحديث الإعدادات بنجاح! قم بتحديث الصفحة لرؤية التغييرات."}),await l(),setTimeout(()=>{t("/affiliate/dashboard")},2e3)}catch(u){i({type:"error",text:`❌ خطأ: ${u.message}`})}finally{n(!1)}};return s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-2xl",children:"تحديث إعدادات المسوق"})}),s.jsxs(he,{className:"space-y-6",children:[a&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"الإعدادات الحالية:"}),s.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(a,null,2)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"هذه الصفحة ستقوم بـ:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-600",children:[s.jsx("li",{children:"تفعيل حساب المسوق (isAffiliate: true)"}),s.jsx("li",{children:'تعيين الدور كـ "affiliate"'}),s.jsx("li",{children:"تعيين نسبة العمولة 15%"})]})]}),r&&s.jsxs(rl,{variant:r.type==="error"?"destructive":"default",children:[r.type==="success"?s.jsx(Fi,{className:"h-4 w-4"}):s.jsx($a,{className:"h-4 w-4"}),s.jsx(il,{children:r.text})]}),s.jsx(ge,{onClick:c,disabled:e,className:"w-full",size:"lg",children:e?"جاري التحديث...":"تحديث الإعدادات"}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"أو استخدم Console المتصفح:"}),s.jsx("div",{className:"bg-black text-green-400 p-4 rounded-lg font-mono text-sm overflow-auto",children:s.jsx("code",{children:`// افتح Console (F12) ونفذ:
import('https://cdn.jsdelivr.net/npm/appwrite@14.0.1').then(async (Appwrite) => {
  const client = new Appwrite.Client()
    .setEndpoint('undefined')
    .setProject('undefined');
  
  const account = new Appwrite.Account(client);
  
  await account.updatePrefs({
    isAffiliate: true,
    role: 'affiliate',
    commissionRate: 15
  });
  
  console.log('✅ تم التحديث!');
  location.reload();
});`})})]})]})]})})}const _S="",SS="coupons";function cJe(){const{user:t}=ur(),{toast:e}=mr(),n=xa(),r=Zf(),[i,a]=M.useState(!1),[o,l]=M.useState({code:"",type:"percentage",value:10,expiryDate:"",usageLimit:100}),{data:c=[],isLoading:u}=ci({queryKey:["affiliate-coupons",t?.$id],queryFn:async()=>t?.$id?(await tt.listDocuments(_S,SS,[Se.equal("affiliateId",t.$id),Se.orderDesc("$createdAt")])).documents:[],enabled:!!t?.$id}),d=ql({mutationFn:async g=>{if(!t?.$id)throw new Error("User not found");const v={code:g.code.toUpperCase(),type:g.type,value:Number(g.value),expiryDate:g.expiryDate,usageLimit:Number(g.usageLimit),usageCount:0,affiliateId:t.$id,isActive:!0};return await tt.createDocument(_S,SS,za.unique(),v)},onSuccess:()=>{r.invalidateQueries({queryKey:["affiliate-coupons"]}),a(!1),l({code:"",type:"percentage",value:10,expiryDate:"",usageLimit:100}),e({title:"تم إنشاء الكوبون بنجاح!",description:"يمكنك مشاركة الكوبون مع عملائك الآن"})},onError:g=>{e({title:"خطأ",description:g.message||"فشل إنشاء الكوبون",variant:"destructive"})}}),f=ql({mutationFn:async g=>{await tt.deleteDocument(_S,SS,g)},onSuccess:()=>{r.invalidateQueries({queryKey:["affiliate-coupons"]}),e({title:"تم حذف الكوبون",description:"تم حذف الكوبون بنجاح"})}}),h=ql({mutationFn:async({couponId:g,isActive:v})=>{await tt.updateDocument(_S,SS,g,{isActive:!v})},onSuccess:()=>{r.invalidateQueries({queryKey:["affiliate-coupons"]})}}),p=g=>{if(g.preventDefault(),!o.code||!o.expiryDate){e({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}d.mutate(o)},y=g=>{navigator.clipboard.writeText(g),e({title:"تم النسخ!",description:`تم نسخ الكود: ${g}`})};return!t?.isAffiliate&&t?.role!=="affiliate"?s.jsx("div",{className:"container mx-auto px-4 py-16 text-center",children:s.jsxs(ce,{className:"max-w-md mx-auto",children:[s.jsxs(Ee,{children:[s.jsx(hj,{className:"h-12 w-12 mx-auto mb-4 text-orange-500"}),s.jsx(Ce,{children:"غير مصرح"}),s.jsx(on,{children:"هذه الصفحة متاحة فقط للمسوقين المفعلين"})]}),s.jsx(he,{children:s.jsx(ge,{onClick:()=>n("/update-affiliate-prefs"),className:"w-full",children:"تفعيل حساب المسوق"})})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"كوبونات الخصم"}),s.jsx("p",{className:"text-muted-foreground",children:"أنشئ وأدر كوبونات الخصم الخاصة بك"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs(ce,{className:"lg:col-span-1",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(sl,{className:"h-5 w-5"}),"إنشاء كوبون جديد"]})}),s.jsx(he,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"code",children:"كود الكوبون *"}),s.jsx(st,{id:"code",placeholder:"SUMMER2025",value:o.code,onChange:g=>l({...o,code:g.target.value.toUpperCase()}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"type",children:"نوع الخصم *"}),s.jsxs(Lr,{value:o.type,onValueChange:g=>l({...o,type:g}),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"percentage",children:"نسبة مئوية (%)"}),s.jsx(At,{value:"fixed",children:"مبلغ ثابت (ج.م)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"value",children:["قيمة الخصم * ",o.type==="percentage"?"(%)":"(ج.م)"]}),s.jsx(st,{id:"value",type:"number",min:"1",max:o.type==="percentage"?"100":void 0,value:o.value,onChange:g=>l({...o,value:Number(g.target.value)}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"expiryDate",children:"تاريخ الانتهاء *"}),s.jsx(st,{id:"expiryDate",type:"date",value:o.expiryDate,onChange:g=>l({...o,expiryDate:g.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"usageLimit",children:"حد الاستخدام *"}),s.jsx(st,{id:"usageLimit",type:"number",min:"1",value:o.usageLimit,onChange:g=>l({...o,usageLimit:Number(g.target.value)}),required:!0})]}),s.jsx(ge,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?"جاري الإنشاء...":"إنشاء كوبون"})]})})]}),s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{children:["كوبوناتي (",c.length,")"]}),s.jsx(on,{children:"جميع كوبونات الخصم التي أنشأتها"})]}),s.jsx(he,{children:u?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"جاري التحميل..."}):c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(hj,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"لم تنشئ أي كوبونات بعد"}),s.jsx("p",{className:"text-sm mt-2",children:"ابدأ بإنشاء كوبون من النموذج على اليسار"})]}):s.jsx("div",{className:"space-y-3",children:c.map(g=>{const v=new Date(g.expiryDate)<new Date,b=g.usageCount/g.usageLimit*100;return s.jsx(ce,{className:"border-l-4 border-l-orange-500",children:s.jsx(he,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("code",{className:"text-lg font-bold bg-muted px-3 py-1 rounded",children:g.code}),g.isActive&&!v?s.jsx(jt,{className:"bg-green-500",children:"نشط"}):v?s.jsx(jt,{variant:"destructive",children:"منتهي"}):s.jsx(jt,{variant:"secondary",children:"متوقف"}),s.jsx(jt,{variant:"outline",children:g.type==="percentage"?s.jsxs(s.Fragment,{children:[s.jsx(Yye,{className:"h-3 w-3 mr-1"}),g.value,"%"]}):s.jsxs(s.Fragment,{children:[s.jsx(kr,{className:"h-3 w-3 mr-1"}),g.value," ج.م"]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(a4,{className:"h-4 w-4"}),"ينتهي: ",new Date(g.expiryDate).toLocaleDateString("ar-EG")]}),s.jsxs("div",{className:"text-muted-foreground",children:["الاستخدام: ",g.usageCount," / ",g.usageLimit]})]}),s.jsx("div",{className:"mt-3",children:s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${b}%`}})})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>y(g.code),children:s.jsx(Rp,{className:"h-4 w-4"})}),s.jsx(ge,{size:"sm",variant:"outline",onClick:()=>h.mutate({couponId:g.$id,isActive:g.isActive}),disabled:v,children:g.isActive?"إيقاف":"تفعيل"}),s.jsx(ge,{size:"sm",variant:"destructive",onClick:()=>f.mutate(g.$id),children:s.jsx(fl,{className:"h-4 w-4"})})]})]})})},g.$id)})})})]})})]})]})}function uJe(){const t=[{id:1,title:"خصم 50% على الإلكترونيات",description:"خصم كبير على جميع المنتجات الإلكترونية",discount:50,endsIn:"3 أيام",image:"https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop"},{id:2,title:"عرض 2 بـ 1 على الملابس",description:"اشتري قطعتين واحصل على الثانية مجاناً",discount:50,endsIn:"5 أيام",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop"},{id:3,title:"شحن مجاني",description:"شحن مجاني على جميع الطلبات فوق 500 ج.م",discount:0,endsIn:"أسبوع",image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop"}];return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"العروض الخاصة"}),s.jsx("p",{className:"text-muted-foreground",children:"أفضل العروض والخصومات المتاحة الآن"})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>s.jsxs(ce,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Ce,{className:"text-xl",children:e.title}),e.discount>0&&s.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:["-",e.discount,"%"]})]}),s.jsx(on,{children:e.description})]}),s.jsx(he,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["ينتهي خلال: ",e.endsIn]}),s.jsx(hj,{className:"h-5 w-5 text-primary"})]})})]},e.id))}),s.jsx(ce,{className:"mt-8 bg-gradient-to-r from-orange-500/10 to-purple-500/10",children:s.jsxs(he,{className:"p-8 text-center",children:[s.jsx(hye,{className:"h-16 w-16 mx-auto mb-4 text-primary"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"المزيد من العروض قريباً!"}),s.jsx("p",{className:"text-muted-foreground",children:"تابعنا للحصول على أحدث العروض والخصومات الحصرية"})]})})]})}function dJe(){const{toast:t}=mr(),[e,n]=M.useState({name:"",email:"",subject:"",message:""}),r=i=>{i.preventDefault(),t({title:"تم إرسال رسالتك!",description:"سنتواصل معك قريباً"}),n({name:"",email:"",subject:"",message:""})};return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"اتصل بنا"}),s.jsx("p",{className:"text-muted-foreground",children:"نحن هنا للمساعدة! تواصل معنا في أي وقت"})]}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(ce,{children:s.jsxs(he,{className:"p-6",children:[s.jsx(hf,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"الهاتف"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"+20 123 456 7890"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6",children:[s.jsx(Kc,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"البريد الإلكتروني"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"support@egygo.com"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6",children:[s.jsx(Q0,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"العنوان"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["القاهرة، مصر",s.jsx("br",{}),"شارع التحرير، المعادي"]})]})})]}),s.jsxs(ce,{className:"lg:col-span-2",children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Bye,{className:"h-5 w-5"}),"أرسل رسالة"]}),s.jsx(on,{children:"املأ النموذج وسنرد عليك في أقرب وقت ممكن"})]}),s.jsx(he,{children:s.jsxs("form",{onSubmit:r,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"name",children:"الاسم *"}),s.jsx(st,{id:"name",value:e.name,onChange:i=>n({...e,name:i.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"email",children:"البريد الإلكتروني *"}),s.jsx(st,{id:"email",type:"email",value:e.email,onChange:i=>n({...e,email:i.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"subject",children:"الموضوع *"}),s.jsx(st,{id:"subject",value:e.subject,onChange:i=>n({...e,subject:i.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"message",children:"الرسالة *"}),s.jsx(_o,{id:"message",rows:6,value:e.message,onChange:i=>n({...e,message:i.target.value}),required:!0})]}),s.jsxs(ge,{type:"submit",className:"w-full",children:[s.jsx(u4,{className:"h-4 w-4 mr-2"}),"إرسال الرسالة"]})]})})]})]})]})}function fJe(){return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"من نحن"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"إيجي جو - وجهتك الأولى للتسوق الإلكتروني في مصر والعالم العربي"})]}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2 mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"رؤيتنا"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"نسعى لأن نكون المنصة الرائدة في التجارة الإلكترونية بالشرق الأوسط، حيث نقدم تجربة تسوق استثنائية تجمع بين التنوع والجودة والسهولة."})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"مهمتنا"}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"تقديم أفضل المنتجات بأسعار تنافسية مع خدمة عملاء متميزة، وبناء منصة تربط بين التجار والمسوقين والعملاء في نظام متكامل."})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-4 mb-12",children:[s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(hw,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),s.jsx("h3",{className:"font-bold text-2xl mb-2",children:"1000+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"منتج متنوع"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),s.jsx("h3",{className:"font-bold text-2xl mb-2",children:"10,000+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"عميل راضٍ"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),s.jsx("h3",{className:"font-bold text-2xl mb-2",children:"500+"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"مسوق نشط"})]})}),s.jsx(ce,{children:s.jsxs(he,{className:"p-6 text-center",children:[s.jsx(Yc,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),s.jsx("h3",{className:"font-bold text-2xl mb-2",children:"99%"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"رضا العملاء"})]})})]}),s.jsx(ce,{className:"bg-gradient-to-r from-orange-500/10 to-purple-500/10",children:s.jsxs(he,{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"قيمنا"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-bold mb-2",children:"الجودة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"نختار منتجاتنا بعناية لضمان أعلى مستويات الجودة"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-bold mb-2",children:"الثقة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"نبني علاقات طويلة الأمد مع عملائنا على أساس الثقة"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"font-bold mb-2",children:"الابتكار"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"نسعى دائماً لتقديم تجربة تسوق مبتكرة ومميزة"})]})]})]})})]})}function hJe(){return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"معلومات الشحن"}),s.jsx("p",{className:"text-muted-foreground",children:"كل ما تحتاج معرفته عن الشحن والتوصيل"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-5 w-5"}),"طرق الشحن"]})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"شحن قياسي (2-5 أيام عمل)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["• مجاني للطلبات فوق 500 ج.م",s.jsx("br",{}),"• 50 ج.م للطلبات الأقل من 500 ج.م"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"شحن سريع (1-2 يوم عمل)"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["• 100 ج.م لجميع الطلبات",s.jsx("br",{}),"• متاح في المدن الرئيسية فقط"]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(er,{className:"h-5 w-5"}),"مناطق التوصيل"]})}),s.jsxs(he,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"نوصل لجميع محافظات مصر:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{children:"✓ القاهرة والجيزة (يوم واحد)"}),s.jsx("div",{children:"✓ الإسكندرية (1-2 يوم)"}),s.jsx("div",{children:"✓ دلتا مصر (2-3 أيام)"}),s.jsx("div",{children:"✓ الصعيد (3-5 أيام)"}),s.jsx("div",{children:"✓ الساحل الشمالي (2-4 أيام)"}),s.jsx("div",{children:"✓ البحر الأحمر (3-5 أيام)"})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5"}),"أوقات التوصيل"]})}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("p",{children:"• من السبت إلى الخميس: 10 صباحاً - 9 مساءً"}),s.jsx("p",{children:"• الجمعة: 2 مساءً - 9 مساءً"}),s.jsx("p",{children:"• يمكنك تحديد وقت مفضل للتوصيل عند إتمام الطلب"})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Q0,{className:"h-5 w-5"}),"تتبع الشحنة"]})}),s.jsx(he,{children:s.jsx("p",{className:"text-muted-foreground",children:'ستتلقى رقم تتبع عبر SMS والبريد الإلكتروني بمجرد شحن طلبك. يمكنك تتبع حالة الطلب من صفحة "طلباتي".'})})]})]})]})}var A2="Collapsible",[pJe,wue]=Ni(A2),[mJe,wU]=pJe(A2),_ue=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,u]=Ba({prop:r,defaultProp:i??!1,onChange:o,caller:A2});return s.jsx(mJe,{scope:n,disabled:a,contentId:Li(),open:c,onOpenToggle:M.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Mt.div,{"data-state":SU(c),"data-disabled":a?"":void 0,...l,ref:e})})});_ue.displayName=A2;var Sue="CollapsibleTrigger",jue=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=wU(Sue,n);return s.jsx(Mt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":SU(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:St(t.onClick,i.onOpenToggle)})});jue.displayName=Sue;var _U="CollapsibleContent",Eue=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=wU(_U,t.__scopeCollapsible);return s.jsx(Hi,{present:n||i.open,children:({present:a})=>s.jsx(gJe,{...r,ref:e,present:a})})});Eue.displayName=_U;var gJe=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=t,o=wU(_U,n),[l,c]=M.useState(r),u=M.useRef(null),d=Jt(e,u),f=M.useRef(0),h=f.current,p=M.useRef(0),y=p.current,g=o.open||l,v=M.useRef(g),b=M.useRef(void 0);return M.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),fi(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const _=w.getBoundingClientRect();f.current=_.height,p.current=_.width,v.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[o.open,r]),s.jsx(Mt.div,{"data-state":SU(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&i})});function SU(t){return t?"open":"closed"}var vJe=_ue,xJe=jue,yJe=Eue,dc="Accordion",bJe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[jU,wJe,_Je]=ww(dc),[C2]=Ni(dc,[_Je,wue]),EU=wue(),Nue=ee.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,a=r;return s.jsx(jU.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?s.jsx(NJe,{...a,ref:e}):s.jsx(EJe,{...i,ref:e})})});Nue.displayName=dc;var[Aue,SJe]=C2(dc),[Cue,jJe]=C2(dc,{collapsible:!1}),EJe=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[l,c]=Ba({prop:n,defaultProp:r??"",onChange:i,caller:dc});return s.jsx(Aue,{scope:t.__scopeAccordion,value:ee.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ee.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(Cue,{scope:t.__scopeAccordion,collapsible:a,children:s.jsx(Mue,{...o,ref:e})})})}),NJe=ee.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=t,[o,l]=Ba({prop:n,defaultProp:r??[],onChange:i,caller:dc}),c=ee.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=ee.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(Aue,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(Cue,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(Mue,{...a,ref:e})})})}),[AJe,M2]=C2(dc),Mue=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:a="vertical",...o}=t,l=ee.useRef(null),c=Jt(l,e),u=wJe(n),f=eh(i)==="ltr",h=St(t.onKeyDown,p=>{if(!bJe.includes(p.key))return;const y=p.target,g=u().filter(N=>!N.ref.current?.disabled),v=g.findIndex(N=>N.ref.current===y),b=g.length;if(v===-1)return;p.preventDefault();let w=v;const _=0,S=b-1,j=()=>{w=v+1,w>S&&(w=_)},A=()=>{w=v-1,w<_&&(w=S)};switch(p.key){case"Home":w=_;break;case"End":w=S;break;case"ArrowRight":a==="horizontal"&&(f?j():A());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?A():j());break;case"ArrowUp":a==="vertical"&&A();break}const C=w%b;g[C].ref.current?.focus()});return s.jsx(AJe,{scope:n,disabled:r,direction:i,orientation:a,children:s.jsx(jU.Slot,{scope:n,children:s.jsx(Mt.div,{...o,"data-orientation":a,ref:c,onKeyDown:r?void 0:h})})})}),JE="AccordionItem",[CJe,NU]=C2(JE),Tue=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,a=M2(JE,n),o=SJe(JE,n),l=EU(n),c=Li(),u=r&&o.value.includes(r)||!1,d=a.disabled||t.disabled;return s.jsx(CJe,{scope:n,open:u,disabled:d,triggerId:c,children:s.jsx(vJe,{"data-orientation":a.orientation,"data-state":kue(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(r):o.onItemClose(r)}})})});Tue.displayName=JE;var Pue="AccordionHeader",Due=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=M2(dc,n),a=NU(Pue,n);return s.jsx(Mt.h3,{"data-orientation":i.orientation,"data-state":kue(a.open),"data-disabled":a.disabled?"":void 0,...r,ref:e})});Due.displayName=Pue;var kL="AccordionTrigger",Rue=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=M2(dc,n),a=NU(kL,n),o=jJe(kL,n),l=EU(n);return s.jsx(jU.ItemSlot,{scope:n,children:s.jsx(xJe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...r,ref:e})})});Rue.displayName=kL;var Oue="AccordionContent",Iue=ee.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=M2(dc,n),a=NU(Oue,n),o=EU(n);return s.jsx(yJe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Iue.displayName=Oue;function kue(t){return t?"open":"closed"}var MJe=Nue,TJe=Tue,PJe=Due,Lue=Rue,Fue=Iue;const jS=MJe,eo=M.forwardRef(({className:t,...e},n)=>s.jsx(TJe,{ref:n,className:Nt("border-b",t),...e}));eo.displayName="AccordionItem";const to=M.forwardRef(({className:t,children:e,...n},r)=>s.jsx(PJe,{className:"flex",children:s.jsxs(Lue,{ref:r,className:Nt("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,s.jsx(o4,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));to.displayName=Lue.displayName;const no=M.forwardRef(({className:t,children:e,...n},r)=>s.jsx(Fue,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:s.jsx("div",{className:Nt("pb-4 pt-0",t),children:e})}));no.displayName=Fue.displayName;function DJe(){return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(Hxe,{className:"h-12 w-12 mx-auto mb-4 text-primary"}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الأسئلة الشائعة"}),s.jsx("p",{className:"text-muted-foreground",children:"إجابات للأسئلة الأكثر شيوعاً"})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"عن الطلبات والشراء"})}),s.jsx(he,{children:s.jsxs(jS,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(eo,{value:"item-1",children:[s.jsx(to,{children:"كيف أقوم بتقديم طلب؟"}),s.jsx(no,{children:"اختر المنتج، أضفه للسلة، ثم اذهب للسلة وأكمل بيانات الشحن والدفع. ستتلقى رسالة تأكيد فوراً."})]}),s.jsxs(eo,{value:"item-2",children:[s.jsx(to,{children:"هل يمكنني تعديل طلبي بعد تقديمه؟"}),s.jsx(no,{children:"نعم، يمكنك التواصل معنا خلال ساعة من تقديم الطلب لتعديله. بعد ذلك قد يكون الطلب قيد التجهيز."})]}),s.jsxs(eo,{value:"item-3",children:[s.jsx(to,{children:"كيف ألغي طلبي؟"}),s.jsx(no,{children:'يمكنك إلغاء الطلب من صفحة "طلباتي" قبل شحنه. بعد الشحن يمكنك رفض الاستلام أو طلب الإرجاع.'})]})]})})]}),s.jsxs(ce,{className:"mt-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"عن الدفع"})}),s.jsx(he,{children:s.jsxs(jS,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(eo,{value:"item-4",children:[s.jsx(to,{children:"ما طرق الدفع المتاحة؟"}),s.jsx(no,{children:"نقبل الدفع عند الاستلام (نقداً) أو الدفع الإلكتروني ببطاقة الائتمان/الفيزا."})]}),s.jsxs(eo,{value:"item-5",children:[s.jsx(to,{children:"هل الدفع الإلكتروني آمن؟"}),s.jsx(no,{children:"نعم، نستخدم بوابات دفع معتمدة وآمنة 100% مع تشفير SSL لحماية بياناتك المالية."})]}),s.jsxs(eo,{value:"item-6",children:[s.jsx(to,{children:"هل يوجد رسوم إضافية؟"}),s.jsx(no,{children:"لا توجد رسوم مخفية. السعر الظاهر + رسوم الشحن فقط. قد تطبق رسوم إضافية على المناطق النائية."})]})]})})]}),s.jsxs(ce,{className:"mt-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"عن الشحن والإرجاع"})}),s.jsx(he,{children:s.jsxs(jS,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(eo,{value:"item-7",children:[s.jsx(to,{children:"كم تستغرق مدة التوصيل؟"}),s.jsx(no,{children:"الشحن القياسي 2-5 أيام عمل، والشحن السريع 1-2 يوم في المدن الرئيسية."})]}),s.jsxs(eo,{value:"item-8",children:[s.jsx(to,{children:"ما سياسة الإرجاع والاستبدال؟"}),s.jsx(no,{children:"يمكنك الإرجاع خلال 14 يوم من الاستلام إذا كان المنتج بحالته الأصلية. نتحمل تكلفة الإرجاع في حالة العيوب."})]}),s.jsxs(eo,{value:"item-9",children:[s.jsx(to,{children:"كيف أتتبع طلبي؟"}),s.jsx(no,{children:'ستتلقى رقم تتبع عبر SMS والبريد. يمكنك أيضاً متابعة الطلب من صفحة "طلباتي" في حسابك.'})]})]})})]}),s.jsxs(ce,{className:"mt-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"عن الحساب والأمان"})}),s.jsx(he,{children:s.jsxs(jS,{type:"single",collapsible:!0,className:"w-full",children:[s.jsxs(eo,{value:"item-10",children:[s.jsx(to,{children:"هل أحتاج حساب للشراء؟"}),s.jsx(no,{children:"الحساب غير إلزامي لكنه يوفر مزايا: تتبع الطلبات، حفظ العناوين، قائمة الأمنيات، والعروض الخاصة."})]}),s.jsxs(eo,{value:"item-11",children:[s.jsx(to,{children:"كيف أغير كلمة المرور؟"}),s.jsx(no,{children:'اذهب لصفحة "حسابي" ثم "الإعدادات" واضغط على "تغيير كلمة المرور". ستتلقى رابط تأكيد عبر البريد.'})]}),s.jsxs(eo,{value:"item-12",children:[s.jsx(to,{children:"هل بياناتي آمنة؟"}),s.jsx(no,{children:"نلتزم بحماية خصوصيتك. بياناتك مشفرة ولا نشاركها مع أي جهة خارجية. راجع سياسة الخصوصية للمزيد."})]})]})})]})]})}function RJe(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState(""),[i,a]=M.useState("bank"),[o,l]=M.useState(null),[c,u]=M.useState([]),[d,f]=M.useState(!0);M.useEffect(()=>{t?.$id&&h()},[t]);const h=async()=>{if(t?.$id)try{f(!0);const[v,b]=await Promise.all([IS.getStats(t.$id),IS.getWithdrawals(t.$id)]);l(v),u(b)}catch(v){console.error("Error loading data:",v)}finally{f(!1)}},p=o?.totalEarnings||0,y=100,g=async()=>{const v=parseFloat(n);if(isNaN(v)||v<y){e({variant:"destructive",title:"خطأ",description:`الحد الأدنى للسحب ${y} ج.م`});return}if(v>p){e({variant:"destructive",title:"خطأ",description:"المبلغ أكبر من رصيدك المتاح"});return}try{await IS.requestWithdrawal(t.$id,v,i,{}),e({title:"تم إرسال الطلب",description:"سيتم مراجعة طلبك والدفع خلال 7 أيام عمل"}),r(""),h()}catch(b){e({variant:"destructive",title:"خطأ",description:b.message||"فشل في إرسال طلب السحب"})}};return!t?.isAffiliate&&t?.role!=="affiliate"?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(rl,{variant:"destructive",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx(il,{children:"هذه الصفحة متاحة للمسوقين فقط"})]})}):d?s.jsx("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center min-h-[400px]",children:s.jsx(Da,{className:"h-8 w-8 animate-spin"})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"سحب الأرباح"}),s.jsx("p",{className:"text-muted-foreground",children:"اسحب عمولاتك بسهولة وأمان"})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3 mb-8",children:[s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:s.jsx(W0e,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"الرصيد المتاح"}),s.jsxs("p",{className:"text-2xl font-bold",children:[p.toFixed(2)," ج.م"]})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-yellow-500/10 rounded-lg",children:s.jsx(kr,{className:"h-6 w-6 text-yellow-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"قيد المراجعة"}),s.jsx("p",{className:"text-2xl font-bold",children:"500.00 ج.م"})]})]})})}),s.jsx(ce,{children:s.jsx(he,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:s.jsx(Jl,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"إجمالي المسحوبات"}),s.jsx("p",{className:"text-2xl font-bold",children:"5,000 ج.م"})]})]})})})]}),s.jsxs(ce,{className:"mb-6",children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"طلب سحب جديد"}),s.jsxs(on,{children:["الحد الأدنى للسحب: ",y," ج.م"]})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"amount",children:"المبلغ (ج.م)"}),s.jsx(st,{id:"amount",type:"number",value:n,onChange:v=>r(v.target.value),placeholder:`أدخل المبلغ (الحد الأدنى ${y} ج.م)`,min:y,max:p})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"طريقة الاستلام"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsx(ge,{variant:i==="bank"?"default":"outline",onClick:()=>a("bank"),className:"w-full",children:"حساب بنكي"}),s.jsx(ge,{variant:i==="wallet"?"default":"outline",onClick:()=>a("wallet"),className:"w-full",children:"محفظة إلكترونية"})]})]}),i==="bank"&&s.jsx(rl,{children:s.jsx(il,{children:"سيتم التحويل للحساب البنكي المسجل في ملفك الشخصي"})}),i==="wallet"&&s.jsx(rl,{children:s.jsx(il,{children:"متاح قريباً: فودافون كاش، إنستاباي، فوري"})}),s.jsx(ge,{onClick:g,disabled:!n||parseFloat(n)<y||parseFloat(n)>p,className:"w-full",children:"طلب السحب"})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"طلبات السحب السابقة"})}),s.jsx(he,{children:s.jsx("div",{className:"space-y-4",children:c&&c.length>0?c.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[v.amount," ج.م"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(v.createdAt).toLocaleDateString("ar")})]}),s.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${v.status==="completed"?"bg-green-500/10 text-green-700":v.status==="rejected"?"bg-red-500/10 text-red-700":"bg-yellow-500/10 text-yellow-700"}`,children:v.status==="completed"?"مكتمل":v.status==="rejected"?"مرفوض":"قيد المراجعة"})]},v.id)):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"لا توجد طلبات سحب سابقة"})})})]})]})}function OJe(){const{user:t}=ur(),e=[{title:"دليل المسوق الشامل",description:"كل ما تحتاج معرفته للبدء في التسويق بالعمولة",type:"pdf",icon:DZ,size:"2.5 MB"},{title:"فيديو تعليمي: كيف تبدأ",description:"شرح مفصل بالفيديو لاستخدام المنصة",type:"video",icon:q0e,duration:"15 دقيقة"},{title:"استراتيجيات التسويق",description:"أفضل الطرق لزيادة مبيعاتك وعمولاتك",type:"guide",icon:Mxe,size:"1.8 MB"}],n=[{title:"مدونة التسويق",url:"#"},{title:"قناة اليوتيوب",url:"#"},{title:"مجموعة الفيسبوك",url:"#"}];return!t?.isAffiliate&&t?.role!=="affiliate"?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(rl,{variant:"destructive",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx(il,{children:"هذه الصفحة متاحة للمسوقين فقط"})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"مصادر ومراجع"}),s.jsx("p",{className:"text-muted-foreground",children:"أدوات ومواد تعليمية لمساعدتك على النجاح"})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:e.map((r,i)=>{const a=r.icon;return s.jsxs(ce,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(a,{className:"h-6 w-6 text-primary"})}),s.jsx(ge,{size:"sm",variant:"ghost",children:s.jsx(Xc,{className:"h-4 w-4"})})]}),s.jsx(Ce,{className:"text-lg mt-4",children:r.title})]}),s.jsxs(he,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:r.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:r.type.toUpperCase()}),s.jsx("span",{children:r.size||r.duration})]})]})]},i)})}),s.jsxs(ce,{className:"mb-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"روابط مفيدة"})}),s.jsx(he,{children:s.jsx("div",{className:"space-y-3",children:n.map((r,i)=>s.jsxs("a",{href:r.url,className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent transition-colors",children:[s.jsx("span",{className:"font-medium",children:r.title}),s.jsx(c4,{className:"h-4 w-4 text-muted-foreground"})]},i))})})]}),s.jsx(ce,{className:"bg-gradient-to-r from-orange-500/10 to-purple-500/10",children:s.jsxs(he,{className:"p-6",children:[s.jsx("h3",{className:"font-bold mb-2",children:"نصائح للنجاح"}),s.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[s.jsx("li",{children:"✓ استخدم روابط التتبع في جميع منشوراتك"}),s.jsx("li",{children:"✓ شارك محتوى قيم لجمهورك بانتظام"}),s.jsx("li",{children:"✓ اختر منتجات تناسب اهتمامات متابعيك"}),s.jsx("li",{children:"✓ راقب تحليلاتك باستمرار لتحسين الأداء"}),s.jsx("li",{children:"✓ تواصل مع فريق الدعم عند الحاجة"})]})]})})]})}function IJe(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState({subject:"",priority:"medium",message:""}),i=a=>{a.preventDefault(),console.log("Support ticket:",n),e({title:"تم إرسال الطلب",description:"سنرد عليك في أقرب وقت ممكن"}),r({subject:"",priority:"medium",message:""})};return!t?.isAffiliate&&t?.role!=="affiliate"?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(rl,{variant:"destructive",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx(il,{children:"هذه الصفحة متاحة للمسوقين فقط"})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الدعم الفني"}),s.jsx("p",{className:"text-muted-foreground",children:"نحن هنا لمساعدتك في أي وقت"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"إرسال طلب دعم"})}),s.jsx(he,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"subject",children:"الموضوع"}),s.jsx(st,{id:"subject",value:n.subject,onChange:a=>r({...n,subject:a.target.value}),placeholder:"اكتب موضوع المشكلة",required:!0})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"priority",children:"الأولوية"}),s.jsxs("select",{id:"priority",value:n.priority,onChange:a=>r({...n,priority:a.target.value}),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"low",children:"عادي"}),s.jsx("option",{value:"medium",children:"متوسط"}),s.jsx("option",{value:"high",children:"عاجل"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"message",children:"الرسالة"}),s.jsx(_o,{id:"message",value:n.message,onChange:a=>r({...n,message:a.target.value}),placeholder:"اشرح المشكلة بالتفصيل...",rows:6,required:!0})]}),s.jsx(ge,{type:"submit",className:"w-full",children:"إرسال الطلب"})]})})]}),s.jsxs(ce,{className:"mt-6",children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"الأسئلة الشائعة للمسوقين"})}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"كيف أحصل على رابط تتبع؟"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'اذهب لصفحة "الروابط" واختر المنتج ثم انسخ الرابط الخاص بك.'})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"متى أستلم عمولاتي؟"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"تُصرف العمولات شهرياً في الأسبوع الأول من كل شهر."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"كيف أزيد مبيعاتي؟"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:'راجع صفحة "المصادر" للحصول على استراتيجيات تسويقية فعالة.'})]})]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-base",children:"طرق التواصل"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(FZ,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"دردشة مباشرة"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"متاح: 10 ص - 10 م"}),s.jsx(ge,{size:"sm",variant:"outline",className:"mt-2 w-full",children:"بدء المحادثة"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Kc,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"البريد الإلكتروني"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"affiliate@egygo.com"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(hf,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:"الهاتف"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+20 123 456 7890"})]})]})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"text-base flex items-center gap-2",children:[s.jsx(Ui,{className:"h-4 w-4"}),"أوقات العمل"]})}),s.jsxs(he,{className:"text-sm space-y-1",children:[s.jsx("p",{children:"السبت - الخميس: 10 ص - 10 م"}),s.jsx("p",{children:"الجمعة: 2 م - 10 م"})]})]}),s.jsx(rl,{children:s.jsx(il,{className:"text-sm",children:"متوسط وقت الرد: أقل من 24 ساعة"})})]})]})]})}var T2="Switch",[kJe]=Ni(T2),[LJe,FJe]=kJe(T2),Uue=M.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[h,p]=M.useState(null),y=Jt(e,_=>p(_)),g=M.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,w]=Ba({prop:i,defaultProp:a??!1,onChange:u,caller:T2});return s.jsxs(LJe,{scope:n,checked:b,disabled:l,children:[s.jsx(Mt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Hue(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:St(t.onClick,_=>{w(S=>!S),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&s.jsx(zue,{control:h,bubbles:!g.current,name:r,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Uue.displayName=T2;var Bue="SwitchThumb",$ue=M.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=FJe(Bue,n);return s.jsx(Mt.span,{"data-state":Hue(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$ue.displayName=Bue;var UJe="SwitchBubbleInput",zue=M.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},a)=>{const o=M.useRef(null),l=Jt(o,a),c=Ew(n),u=cw(e);return M.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const y=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(y)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zue.displayName=UJe;function Hue(t){return t?"checked":"unchecked"}var Vue=Uue,BJe=$ue;const jf=M.forwardRef(({className:t,...e},n)=>s.jsx(Vue,{className:Nt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(BJe,{className:Nt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jf.displayName=Vue.displayName;function $Je(){const{user:t}=ur(),{toast:e}=mr(),[n,r]=M.useState({siteName:"إيجي جو",siteDescription:"منصة التسوق الإلكتروني الأولى في مصر",currency:"EGP",shippingFee:50,freeShippingThreshold:500,taxRate:0,enableNotifications:!0,enableEmailAlerts:!0,maintenanceMode:!1}),i=()=>{console.log("Saving settings:",n),e({title:"تم الحفظ",description:"تم حفظ الإعدادات بنجاح"})};return t?.role!=="admin"?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(rl,{variant:"destructive",children:[s.jsx($a,{className:"h-4 w-4"}),s.jsx(il,{children:"هذه الصفحة متاحة للمسؤولين فقط"})]})}):s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[s.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[s.jsx(zZ,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"إعدادات النظام"}),s.jsx("p",{className:"text-muted-foreground",children:"إدارة إعدادات الموقع العامة"})]})]}),s.jsxs(vl,{defaultValue:"general",className:"space-y-6",children:[s.jsxs(No,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"general",children:"عام"}),s.jsx(mn,{value:"payment",children:"الدفع والشحن"}),s.jsx(mn,{value:"notifications",children:"الإشعارات"}),s.jsx(mn,{value:"security",children:"الأمان"})]}),s.jsx(gn,{value:"general",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Y0,{className:"h-5 w-5"}),"الإعدادات العامة"]}),s.jsx(on,{children:"معلومات الموقع الأساسية"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"siteName",children:"اسم الموقع"}),s.jsx(st,{id:"siteName",value:n.siteName,onChange:a=>r({...n,siteName:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"siteDescription",children:"وصف الموقع"}),s.jsx(st,{id:"siteDescription",value:n.siteDescription,onChange:a=>r({...n,siteDescription:a.target.value})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"currency",children:"العملة"}),s.jsxs("select",{id:"currency",value:n.currency,onChange:a=>r({...n,currency:a.target.value}),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"EGP",children:"جنيه مصري (ج.م)"}),s.jsx("option",{value:"USD",children:"دولار أمريكي ($)"}),s.jsx("option",{value:"EUR",children:"يورو (€)"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"maintenance",children:"وضع الصيانة"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"تعطيل الموقع مؤقتاً"})]}),s.jsx(jf,{id:"maintenance",checked:n.maintenanceMode,onCheckedChange:a=>r({...n,maintenanceMode:a})})]}),s.jsx(ge,{onClick:i,className:"w-full",children:"حفظ التغييرات"})]})]})}),s.jsx(gn,{value:"payment",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Jl,{className:"h-5 w-5"}),"إعدادات الدفع والشحن"]}),s.jsx(on,{children:"إدارة رسوم الشحن والضرائب"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"shippingFee",children:"رسوم الشحن (ج.م)"}),s.jsx(st,{id:"shippingFee",type:"number",value:n.shippingFee,onChange:a=>r({...n,shippingFee:parseFloat(a.target.value)})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"freeShipping",children:"حد الشحن المجاني (ج.م)"}),s.jsx(st,{id:"freeShipping",type:"number",value:n.freeShippingThreshold,onChange:a=>r({...n,freeShippingThreshold:parseFloat(a.target.value)})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"شحن مجاني للطلبات فوق هذا المبلغ"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"taxRate",children:"نسبة الضريبة (%)"}),s.jsx(st,{id:"taxRate",type:"number",value:n.taxRate,onChange:a=>r({...n,taxRate:parseFloat(a.target.value)}),min:"0",max:"100",step:"0.1"})]}),s.jsx(rl,{children:s.jsx(il,{className:"text-sm",children:"طرق الدفع النشطة: الدفع عند الاستلام، بطاقة الائتمان"})}),s.jsx(ge,{onClick:i,className:"w-full",children:"حفظ التغييرات"})]})]})}),s.jsx(gn,{value:"notifications",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Yu,{className:"h-5 w-5"}),"إعدادات الإشعارات"]}),s.jsx(on,{children:"إدارة الإشعارات والتنبيهات"})]}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"enableNotifications",children:"إشعارات الموقع"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"إشعارات داخل المنصة"})]}),s.jsx(jf,{id:"enableNotifications",checked:n.enableNotifications,onCheckedChange:a=>r({...n,enableNotifications:a})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"enableEmailAlerts",children:"تنبيهات البريد"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"إرسال تنبيهات عبر البريد الإلكتروني"})]}),s.jsx(jf,{id:"enableEmailAlerts",checked:n.enableEmailAlerts,onCheckedChange:a=>r({...n,enableEmailAlerts:a})})]}),s.jsx(rl,{children:s.jsx(il,{className:"text-sm",children:"الإشعارات تشمل: طلبات جديدة، تحديثات المنتجات، رسائل العملاء"})}),s.jsx(ge,{onClick:i,className:"w-full",children:"حفظ التغييرات"})]})]})}),s.jsx(gn,{value:"security",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Fs,{className:"h-5 w-5"}),"إعدادات الأمان"]}),s.jsx(on,{children:"إدارة أمان الموقع والحسابات"})]}),s.jsxs(he,{className:"space-y-4",children:[s.jsx(rl,{children:s.jsx(il,{children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsx("p",{children:"✓ المصادقة الثنائية: نشطة"}),s.jsx("p",{children:"✓ تشفير SSL: نشط"}),s.jsx("p",{children:"✓ جدار الحماية: نشط"}),s.jsx("p",{children:"✓ النسخ الاحتياطي: يومي"})]})})}),s.jsx(ge,{variant:"outline",className:"w-full",children:"عرض سجل الأمان"}),s.jsx(ge,{variant:"outline",className:"w-full",children:"تصدير النسخة الاحتياطية"})]})]})})]})]})}function zJe(){const{theme:t,setTheme:e}=I4();return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"الإعدادات"}),s.jsx("p",{className:"text-muted-foreground",children:"إدارة إعدادات حسابك والتطبيق"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"المظهر"}),s.jsx(on,{children:"اختر مظهر التطبيق (فاتح، داكن، أو تلقائي حسب نظامك)"})]}),s.jsx(he,{children:s.jsxs(ON,{value:t,onValueChange:n=>e(n),children:[s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Tc,{value:"light",id:"light"}),s.jsxs(qe,{htmlFor:"light",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(fj,{className:"h-4 w-4"}),s.jsx("span",{children:"مظهر فاتح"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mt-3",children:[s.jsx(Tc,{value:"dark",id:"dark"}),s.jsxs(qe,{htmlFor:"dark",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(fI,{className:"h-4 w-4"}),s.jsx("span",{children:"مظهر داكن"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse mt-3",children:[s.jsx(Tc,{value:"system",id:"system"}),s.jsxs(qe,{htmlFor:"system",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(BZ,{className:"h-4 w-4"}),s.jsx("span",{children:"تلقائي (حسب النظام)"})]})]})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"معاينة المظهر"})}),s.jsxs(he,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"بطاقة عادية"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"هذا نص تجريبي لمعاينة الألوان في المظهر الحالي"})]}),s.jsxs("div",{className:"p-4 border rounded-lg bg-primary text-primary-foreground",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"بطاقة رئيسية"}),s.jsx("p",{className:"text-sm",children:"هذا نص تجريبي على خلفية اللون الرئيسي"})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx("div",{className:"p-3 border rounded-lg bg-accent text-accent-foreground",children:s.jsx("p",{className:"text-sm font-medium",children:"لون مميز"})}),s.jsx("div",{className:"p-3 border rounded-lg bg-secondary text-secondary-foreground",children:s.jsx("p",{className:"text-sm font-medium",children:"لون ثانوي"})}),s.jsx("div",{className:"p-3 border rounded-lg bg-muted text-muted-foreground",children:s.jsx("p",{className:"text-sm font-medium",children:"لون باهت"})})]})]})]})]})]})}const Ef=void 0,eN=void 0,HJe=void 0,que=void 0,VJe=void 0;async function qJe(t=30){try{const e=new Date,n=Qu(e,t),r=await tt.listDocuments(Ef,eN,[Se.greaterThanEqual("$createdAt",n.toISOString()),Se.lessThanEqual("$createdAt",e.toISOString()),Se.limit(1e3)]),i=new Map;r.documents.forEach(o=>{const l=Ha(new Date(o.$createdAt),"yyyy-MM-dd"),c=i.get(l)||{sales:0,orders:0,revenue:0};c.orders+=1,c.revenue+=o.totalAmount||0,c.sales+=o.totalAmount||0,i.set(l,c)});const a=[];for(let o=0;o<t;o++){const l=Ha(Qu(e,t-o-1),"yyyy-MM-dd"),c=i.get(l)||{sales:0,orders:0,revenue:0};a.push({date:l,...c})}return a}catch(e){throw console.error("Error fetching daily sales:",e),e}}async function GJe(t=10){try{const e=await tt.listDocuments(Ef,VJe,[Se.limit(1e3)]),n=new Map;return e.documents.forEach(i=>{const a=i.productId,o=n.get(a)||{productId:a,productName:i.productName||"Unknown Product",totalSales:0,totalRevenue:0,totalOrders:0};o.totalSales+=i.quantity||0,o.totalRevenue+=(i.price||0)*(i.quantity||0),o.totalOrders+=1,n.set(a,o)}),Array.from(n.values()).sort((i,a)=>a.totalRevenue-i.totalRevenue).slice(0,t)}catch(e){throw console.error("Error fetching product performance:",e),e}}async function WJe(){try{const t=await tt.listDocuments(Ef,eN,[Se.limit(1e3)]),e=new Map;let n=0;return t.documents.forEach(i=>{const a=i.status||"pending";e.set(a,(e.get(a)||0)+1),n+=1}),Array.from(e.entries()).map(([i,a])=>({status:i,count:a,percentage:n>0?a/n*100:0}))}catch(t){throw console.error("Error fetching order status distribution:",t),t}}async function XJe(t=30){try{const e=new Date,n=Qu(e,t),r=await tt.listDocuments(Ef,que,[Se.limit(1e3)]),i=new Map;let a=0;r.documents.forEach(l=>{const c=new Date(l.$createdAt);if(c>=n){const u=Ha(c,"yyyy-MM-dd");i.set(u,(i.get(u)||0)+1)}});const o=[];for(let l=0;l<t;l++){const c=Ha(Qu(e,t-l-1),"yyyy-MM-dd"),u=i.get(c)||0;a+=u,o.push({date:c,totalUsers:a,newUsers:u})}return o}catch(e){throw console.error("Error fetching user growth:",e),e}}async function YJe(){try{const t=new Date,e=Qu(t,30),n=Qu(t,60),[r,i,a,o]=await Promise.all([tt.listDocuments(Ef,eN,[Se.greaterThanEqual("$createdAt",e.toISOString()),Se.limit(1e3)]),tt.listDocuments(Ef,eN,[Se.greaterThanEqual("$createdAt",n.toISOString()),Se.lessThan("$createdAt",e.toISOString()),Se.limit(1e3)]),tt.listDocuments(Ef,HJe,[Se.limit(1e3)]),tt.listDocuments(Ef,que,[Se.limit(1e3)])]),l=r.documents.reduce((y,g)=>y+(g.totalAmount||0),0),c=i.documents.reduce((y,g)=>y+(g.totalAmount||0),0),u=r.documents.length,d=i.documents.length,f=c>0?(l-c)/c*100:0,h=d>0?(u-d)/d*100:0,p=u>0?l/u:0;return{totalRevenue:l,totalOrders:u,totalProducts:a.total,totalUsers:o.total,revenueGrowth:f,ordersGrowth:h,avgOrderValue:p}}catch(t){throw console.error("Error fetching analytics summary:",t),t}}const ES=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function KJe(){const[t,e]=M.useState(!0),[n,r]=M.useState(null),[i,a]=M.useState(30),[o,l]=M.useState(null),[c,u]=M.useState([]),[d,f]=M.useState([]),[h,p]=M.useState([]),[y,g]=M.useState([]),[v,b]=M.useState([]);M.useEffect(()=>{w()},[i]);async function w(){e(!0),r(null);try{const[S,j,A,C,N]=await Promise.all([YJe(),qJe(i),GJe(i),WJe(),XJe(i)]);l(S),u(j),f(A),p(C),g(N)}catch(S){r(S.message||"حدث خطأ أثناء تحميل البيانات")}finally{e(!1)}}const _=()=>{alert("سيتم إضافة تصدير PDF قريباً")};return t?s.jsx(Bne,{children:s.jsx(Une,{count:4})}):n?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[s.jsx("div",{className:"text-red-500 text-xl mb-4",children:n}),s.jsx(ge,{onClick:w,children:"إعادة المحاولة"})]}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"لوحة التحليلات المتقدمة"}),s.jsx("p",{className:"text-muted-foreground",children:"نظرة شاملة على أداء المتجر"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:i,onChange:S=>a(Number(S.target.value)),className:"px-4 py-2 border rounded-lg",children:[s.jsx("option",{value:7,children:"آخر 7 أيام"}),s.jsx("option",{value:30,children:"آخر 30 يوم"}),s.jsx("option",{value:90,children:"آخر 90 يوم"})]}),s.jsxs(ge,{onClick:_,variant:"outline",children:[s.jsx(Xc,{className:"w-4 h-4 ml-2"}),"تصدير PDF"]})]})]}),o&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المستخدمين"}),s.jsx(wi,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.totalUsers}),o.revenueGrowth!==void 0&&s.jsxs("div",{className:"flex items-center text-sm",children:[o.revenueGrowth>=0?s.jsx(br,{className:"w-4 h-4 text-green-500 ml-1"}):s.jsx(Z0,{className:"w-4 h-4 text-red-500 ml-1"}),s.jsxs("span",{className:o.revenueGrowth>=0?"text-green-500":"text-red-500",children:[Math.abs(o.revenueGrowth).toFixed(1),"%"]}),s.jsx("span",{className:"text-muted-foreground mr-1",children:"عن الفترة السابقة"})]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الطلبات"}),s.jsx(ti,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.totalOrders}),o.ordersGrowth!==void 0&&s.jsxs("div",{className:"flex items-center text-sm",children:[o.ordersGrowth>=0?s.jsx(br,{className:"w-4 h-4 text-green-500 ml-1"}):s.jsx(Z0,{className:"w-4 h-4 text-red-500 ml-1"}),s.jsxs("span",{className:o.ordersGrowth>=0?"text-green-500":"text-red-500",children:[Math.abs(o.ordersGrowth).toFixed(1),"%"]}),s.jsx("span",{className:"text-muted-foreground mr-1",children:"عن الفترة السابقة"})]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المنتجات"}),s.jsx(er,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.totalProducts}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"منتج متاح"})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"متوسط قيمة الطلب"}),s.jsx(kr,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[o.avgOrderValue.toFixed(2)," ج.م"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"لكل طلب"})]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"المبيعات اليومية"}),s.jsx(on,{children:"تتبع الإيرادات والطلبات بمرور الوقت"})]}),s.jsx(he,{children:s.jsx(cp,{width:"100%",height:350,children:s.jsxs(pue,{data:c,children:[s.jsx(rv,{strokeDasharray:"3 3"}),s.jsx(Gc,{dataKey:"date"}),s.jsx(go,{yAxisId:"left"}),s.jsx(go,{yAxisId:"right",orientation:"left"}),s.jsx(Os,{}),s.jsx(tl,{}),s.jsx(id,{yAxisId:"left",type:"monotone",dataKey:"revenue",stroke:"#3b82f6",name:"الإيرادات (ج.م)",strokeWidth:2}),s.jsx(id,{yAxisId:"right",type:"monotone",dataKey:"orders",stroke:"#10b981",name:"عدد الطلبات",strokeWidth:2})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"أداء المنتجات"}),s.jsx(on,{children:"أفضل 10 منتجات مبيعاً"})]}),s.jsx(he,{children:s.jsx(cp,{width:"100%",height:300,children:s.jsxs(mue,{data:d,children:[s.jsx(rv,{strokeDasharray:"3 3"}),s.jsx(Gc,{dataKey:"productName",angle:-45,textAnchor:"end",height:100}),s.jsx(go,{}),s.jsx(Os,{}),s.jsx(tl,{}),s.jsx(qc,{dataKey:"totalRevenue",fill:"#3b82f6",name:"الإيرادات (ج.م)"})]})})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"توزيع حالة الطلبات"}),s.jsx(on,{children:"نظرة عامة على حالات الطلبات"})]}),s.jsxs(he,{children:[s.jsx(cp,{width:"100%",height:300,children:s.jsxs(gue,{children:[s.jsx(du,{data:h,dataKey:"count",nameKey:"status",cx:"50%",cy:"50%",outerRadius:80,label:!0,children:h.map((S,j)=>s.jsx(Iw,{fill:ES[j%ES.length]},`cell-${j}`))}),s.jsx(Os,{}),s.jsx(tl,{})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:h.map((S,j)=>s.jsxs(jt,{style:{backgroundColor:ES[j%ES.length]},children:[S.status,": ",S.count]},S.status))})]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"نمو المستخدمين"}),s.jsx(on,{children:"عدد المستخدمين الجدد بمرور الوقت"})]}),s.jsx(he,{children:s.jsx(cp,{width:"100%",height:300,children:s.jsxs(DZe,{data:y,children:[s.jsx(rv,{strokeDasharray:"3 3"}),s.jsx(Gc,{dataKey:"date"}),s.jsx(go,{}),s.jsx(Os,{}),s.jsx(tl,{}),s.jsx(fh,{type:"monotone",dataKey:"users",stroke:"#3b82f6",fill:"#3b82f6",name:"المستخدمون الجدد"})]})})})]})]})}const ru=void 0,iu=void 0;async function QJe(t,e){const n={success:0,failed:0,total:t.length,errors:[]};for(const r of t)try{const i=await tt.getDocument(ru,iu,r);let a;typeof e=="number"?a=i.price+e:e.type==="percentage"?a=i.price*(1+e.value/100):a=e.value,await tt.updateDocument(ru,iu,r,{price:a}),n.success++}catch(i){n.failed++,n.errors.push({id:r,error:i.message||"Unknown error"})}return n}async function ZJe(t,e){const n={success:0,failed:0,total:t.length,errors:[]};for(const r of t)try{await tt.updateDocument(ru,iu,r,{isActive:e}),n.success++}catch(i){n.failed++,n.errors.push({id:r,error:i.message||"Unknown error"})}return n}async function JJe(t){const e={success:0,failed:0,total:t.length,errors:[]};for(const n of t)try{await tt.deleteDocument(ru,iu,n),e.success++}catch(r){e.failed++,e.errors.push({id:n,error:r.message||"Unknown error"})}return e}async function eet(t,e){const n={success:0,failed:0,total:t.length,errors:[]};for(const r of t)try{await tt.updateDocument(ru,iu,r,{categoryId:e}),n.success++}catch(i){n.failed++,n.errors.push({id:r,error:i.message||"Unknown error"})}return n}async function tet(t,e){const n={success:0,failed:0,total:t.length,errors:[]};for(const r of t)try{const i=await tt.getDocument(ru,iu,r);let a;typeof e=="number"?a=i.stock+e:e.type==="add"?a=i.stock+e.value:a=e.value,a=Math.max(0,a),await tt.updateDocument(ru,iu,r,{stock:a}),n.success++}catch(i){n.failed++,n.errors.push({id:r,error:i.message||"Unknown error"})}return n}async function net(t){try{let e;t&&t.length>0?e=await Promise.all(t.map(a=>tt.getDocument(ru,iu,a))):e=(await tt.listDocuments(ru,iu,[Se.limit(1e3)])).documents;const n=["ID","Name","Price","Stock","Category","Status","Created"],r=e.map(a=>[a.$id,a.name,a.price,a.stock,a.category||"",a.isActive?"Active":"Inactive",new Date(a.$createdAt).toLocaleDateString("ar-EG")]);return[n.join(","),...r.map(a=>a.map(o=>`"${o}"`).join(","))].join(`
`)}catch(e){throw console.error("Error exporting products:",e),e}}async function ret(t){const e={success:0,failed:0,total:0,errors:[]};try{const n=t.trim().split(`
`),r=n[0].split(",").map(i=>i.trim().replace(/"/g,""));for(let i=1;i<n.length;i++){e.total++;try{const a=n[i].split(",").map(l=>l.trim().replace(/"/g,"")),o={};r.forEach((l,c)=>{o[l.toLowerCase()]=a[c]}),await tt.createDocument(ru,iu,"unique()",{name:o.name,price:parseFloat(o.price)||0,stock:parseInt(o.stock)||0,category:o.category||"",isActive:o.status==="Active",description:o.description||"",merchantId:o.merchantid||""}),e.success++}catch(a){e.failed++,e.errors.push({id:`Line ${i+1}`,error:a.message||"Unknown error"})}}}catch(n){e.failed=e.total,e.errors.push({id:"CSV Parsing",error:n.message||"Failed to parse CSV"})}return e}function iet(t,e="products.csv"){const n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),i=URL.createObjectURL(n);r.setAttribute("href",i),r.setAttribute("download",e),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}const set=void 0,aet=void 0;function oet(){const[t,e]=M.useState(!0),[n,r]=M.useState([]),[i,a]=M.useState(new Set),{toast:o}=mr(),[l,c]=M.useState({search:"",category:"all",status:"all",priceMin:"",priceMax:"",stockMin:""}),[u,d]=M.useState({open:!1,action:null}),[f,h]=M.useState(!1),[p,y]=M.useState(null),[g,v]=M.useState(""),[b,w]=M.useState({current:0,total:0});M.useEffect(()=>{_()},[]);const _=async()=>{e(!0);try{const D=await tt.listDocuments(set,aet,[Se.limit(1e3)]);r(D.documents)}catch(D){console.error("Error loading products:",D)}finally{e(!1)}},S=n.filter(D=>!(l.search&&!D.name.toLowerCase().includes(l.search.toLowerCase())||l.category!=="all"&&D.category!==l.category||l.status==="active"&&!D.isActive||l.status==="inactive"&&D.isActive||l.priceMin&&D.price<parseFloat(l.priceMin)||l.priceMax&&D.price>parseFloat(l.priceMax)||l.stockMin&&D.stock<parseInt(l.stockMin)));M.useEffect(()=>{const D=O=>{if(O.ctrlKey&&O.key==="a"&&!O.shiftKey){O.preventDefault();const I=S.map(L=>L.$id);a(new Set(I)),o({title:"تم التحديد",description:`تم تحديد ${I.length} منتج`})}O.key==="Delete"&&i.size>0&&!u.open&&(O.preventDefault(),d({open:!0,action:"delete"})),O.key==="Escape"&&i.size>0&&!u.open&&(O.preventDefault(),a(new Set),o({title:"تم الإلغاء",description:"تم إلغاء التحديد"}))};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[S,i,u.open,o]);const j=D=>{const O=new Set(i);O.has(D)?O.delete(D):O.add(D),a(O)},A=()=>{i.size===S.length?a(new Set):a(new Set(S.map(D=>D.$id)))},C=async()=>{if(i.size!==0){h(!0),y(null),w({current:0,total:i.size});try{const D=Array.from(i),O=50;let I=0,L=0;for(let q=0;q<D.length;q+=O){const V=D.slice(q,q+O);w({current:q,total:D.length});let F;switch(u.action){case"price":F=await QJe(V,u.value);break;case"stock":F=await tet(V,u.value);break;case"category":F=await eet(V,u.value);break;case"status":F=await ZJe(V,u.value);break;case"delete":F=await JJe(V);break;default:return}I+=F.success,L+=F.failed}const z={success:I,failed:L,total:D.length,errors:[]};w({current:D.length,total:D.length}),y(z),z.success>0?(await _(),a(new Set),o({title:"نجح!",description:`تم ${u.action==="delete"?"حذف":"تحديث"} ${z.success} منتج بنجاح${z.failed>0?` (فشل ${z.failed})`:""}`,variant:"default"})):z.failed>0&&o({title:"فشل!",description:`فشل تحديث ${z.failed} منتج`,variant:"destructive"})}catch(D){console.error("Bulk action error:",D),o({title:"خطأ!",description:"حدث خطأ أثناء تنفيذ العملية",variant:"destructive"})}finally{h(!1)}}},N=async()=>{try{const D=await net(i.size>0?Array.from(i):void 0);iet(D,`products-${new Date().toISOString().split("T")[0]}.csv`),o({title:"تم التصدير!",description:`تم تصدير ${i.size>0?i.size:n.length} منتج بنجاح`,variant:"default"})}catch(D){console.error("Export error:",D),o({title:"خطأ!",description:"فشل تصدير المنتجات",variant:"destructive"})}},T=D=>{const O=D.target.files?.[0];if(!O)return;const I=new FileReader;I.onload=async L=>{const z=L.target?.result;h(!0);try{const q=await ret(z);y(q),await _(),q.success>0?o({title:"تم الاستيراد!",description:`تم استيراد ${q.success} منتج بنجاح${q.failed>0?` (فشل ${q.failed})`:""}`,variant:"default"}):o({title:"فشل الاستيراد!",description:"فشل استيراد جميع المنتجات",variant:"destructive"})}catch(q){console.error("Import error:",q),o({title:"خطأ!",description:"فشل استيراد الملف",variant:"destructive"})}finally{h(!1)}},I.readAsText(O)},P=Array.from(new Set(n.map(D=>D.category).filter(Boolean)));return t?s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(An,{className:"h-9 w-64"}),s.jsx(An,{className:"h-4 w-48"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(An,{className:"h-10 w-24"}),s.jsx(An,{className:"h-10 w-24"})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(An,{className:"h-6 w-32"})}),s.jsx(he,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((D,O)=>s.jsx(An,{className:"h-10"},O))})})]}),s.jsx(ce,{children:s.jsx(he,{className:"p-0",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{className:"w-12",children:s.jsx(An,{className:"h-4 w-4"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-24"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-16"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-16"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-20"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-16"})}),s.jsx(ut,{children:s.jsx(An,{className:"h-4 w-20"})})]})}),s.jsx(ys,{children:[...Array(10)].map((D,O)=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx(An,{className:"h-4 w-4"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-4 w-32"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-4 w-16"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-6 w-12"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-4 w-20"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-6 w-16"})}),s.jsx(dt,{children:s.jsx(An,{className:"h-4 w-20"})})]},O))})]})})})]}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",dir:"rtl",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"إدارة المنتجات المتقدمة"}),s.jsxs("p",{className:"text-muted-foreground",children:[S.length," منتج • ",i.size," محدد"]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(_i,{children:[s.jsx($f,{asChild:!0,children:s.jsx(ge,{variant:"outline",size:"icon",title:"اختصارات لوحة المفاتيح",children:s.jsx(Eye,{className:"w-4 h-4"})})}),s.jsxs(di,{children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"اختصارات لوحة المفاتيح"}),s.jsx(ga,{children:"استخدم هذه الاختصارات لإدارة المنتجات بسرعة"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"تحديد الكل"}),s.jsx("kbd",{className:"px-2 py-1 text-xs font-semibold bg-background border rounded",children:"Ctrl + A"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"حذف المحدد"}),s.jsx("kbd",{className:"px-2 py-1 text-xs font-semibold bg-background border rounded",children:"Delete"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsx("span",{children:"إلغاء التحديد"}),s.jsx("kbd",{className:"px-2 py-1 text-xs font-semibold bg-background border rounded",children:"Escape"})]})]})]})]}),s.jsxs(ge,{onClick:N,variant:"outline",children:[s.jsx(Xc,{className:"w-4 h-4 ml-2"}),"تصدير"]}),s.jsxs("label",{children:[s.jsx(ge,{variant:"outline",asChild:!0,children:s.jsxs("span",{children:[s.jsx(lv,{className:"w-4 h-4 ml-2"}),"استيراد"]})}),s.jsx("input",{type:"file",accept:".csv",onChange:T,className:"hidden"})]})]})]}),i.size>0&&s.jsx(ce,{className:"bg-primary/5",children:s.jsx(he,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:[i.size," منتج محدد"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>d({open:!0,action:"price"}),children:[s.jsx(kr,{className:"w-4 h-4 ml-2"}),"تحديث السعر"]}),s.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>d({open:!0,action:"stock"}),children:[s.jsx(er,{className:"w-4 h-4 ml-2"}),"تحديث المخزون"]}),s.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>d({open:!0,action:"status",value:!0}),children:[s.jsx(r0e,{className:"w-4 h-4 ml-2"}),"تفعيل"]}),s.jsxs(ge,{size:"sm",variant:"outline",onClick:()=>d({open:!0,action:"status",value:!1}),children:[s.jsx(t0e,{className:"w-4 h-4 ml-2"}),"إلغاء تفعيل"]}),s.jsxs(ge,{size:"sm",variant:"destructive",onClick:()=>d({open:!0,action:"delete"}),children:[s.jsx(fl,{className:"w-4 h-4 ml-2"}),"حذف"]})]})]})})}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"التصفية والبحث"})}),s.jsx(he,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsx(st,{placeholder:"بحث بالاسم...",value:l.search,onChange:D=>c({...l,search:D.target.value})}),s.jsxs(Lr,{value:l.category,onValueChange:D=>c({...l,category:D}),children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"الفئة"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"كل الفئات"}),P.map(D=>s.jsx(At,{value:D,children:D},D))]})]}),s.jsxs(Lr,{value:l.status,onValueChange:D=>c({...l,status:D}),children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"الحالة"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"الكل"}),s.jsx(At,{value:"active",children:"نشط"}),s.jsx(At,{value:"inactive",children:"غير نشط"})]})]}),s.jsx(st,{type:"number",placeholder:"السعر من",value:l.priceMin,onChange:D=>c({...l,priceMin:D.target.value})}),s.jsx(st,{type:"number",placeholder:"السعر إلى",value:l.priceMax,onChange:D=>c({...l,priceMax:D.target.value})}),s.jsx(st,{type:"number",placeholder:"مخزون أقل من",value:l.stockMin,onChange:D=>c({...l,stockMin:D.target.value})})]})})]}),s.jsx(ce,{children:s.jsx(he,{className:"p-0",children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{className:"w-12",children:s.jsx(Qc,{checked:i.size===S.length&&S.length>0,onCheckedChange:A})}),s.jsx(ut,{children:"المنتج"}),s.jsx(ut,{children:"السعر"}),s.jsx(ut,{children:"المخزون"}),s.jsx(ut,{children:"الفئة"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"التاريخ"})]})}),s.jsx(ys,{children:S.map(D=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx(Qc,{checked:i.has(D.$id),onCheckedChange:()=>j(D.$id)})}),s.jsx(dt,{className:"font-medium",children:D.name}),s.jsxs(dt,{children:[D.price.toFixed(2)," ج.م"]}),s.jsx(dt,{children:s.jsx(jt,{variant:D.stock>10?"default":"destructive",children:D.stock})}),s.jsx(dt,{children:D.category||"-"}),s.jsx(dt,{children:s.jsx(jt,{variant:D.isActive?"default":"secondary",children:D.isActive?"نشط":"غير نشط"})}),s.jsx(dt,{children:new Date(D.$createdAt).toLocaleDateString("ar-EG")})]},D.$id))})]})})}),s.jsx(_i,{open:u.open,onOpenChange:D=>d({...u,open:D}),children:s.jsxs(di,{dir:"rtl",children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"عملية جماعية"}),s.jsxs(ga,{children:["سيتم تطبيق هذه العملية على ",i.size," منتج"]})]}),p?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(S0e,{className:"w-5 h-5"}),s.jsxs("span",{children:["نجح: ",p.success," منتج"]})]}),p.failed>0&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[s.jsx($a,{className:"w-5 h-5"}),s.jsxs("span",{children:["فشل: ",p.failed," منتج"]})]})]}):f?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"جاري المعالجة..."}),s.jsxs("span",{children:[b.current," / ",b.total]})]}),s.jsx(Fp,{value:b.current/b.total*100,className:"h-2"}),s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"يتم معالجة المنتجات في مجموعات من 50 منتج لضمان الأداء الأمثل"})]})}):u.action==="delete"?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx($a,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-100",children:"⚠️ تحذير: عملية حذف نهائية"}),s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-200",children:["سيتم حذف ",s.jsx("strong",{children:i.size})," منتج نهائياً. هذا الإجراء لا يمكن التراجع عنه!"]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(qe,{htmlFor:"confirm-delete",children:["للتأكيد، اكتب ",s.jsx("strong",{className:"text-red-600",children:"DELETE"})," في الحقل أدناه:"]}),s.jsx(st,{id:"confirm-delete",value:g,onChange:D=>v(D.target.value),placeholder:"اكتب DELETE",className:"text-center font-mono uppercase",autoFocus:!0})]})]}):null,s.jsxs(Gl,{children:[s.jsx(ge,{variant:"outline",onClick:()=>{d({open:!1,action:null}),y(null),v("")},children:p?"إغلاق":"إلغاء"}),!p&&s.jsx(ge,{onClick:C,disabled:f||u.action==="delete"&&g!=="DELETE",variant:u.action==="delete"?"destructive":"default",children:f?s.jsx(An,{className:"w-20 h-6 ml-2 inline-block align-middle"}):"تأكيد"})]})]})})]})}var sn=function(){return sn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},sn.apply(this,arguments)};function cet(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Gue(t,e,n){for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function zw(t){return t.mode==="multiple"}function Hw(t){return t.mode==="range"}function P2(t){return t.mode==="single"}var uet={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function det(t,e){return Ha(t,"LLLL y",e)}function fet(t,e){return Ha(t,"d",e)}function het(t,e){return Ha(t,"LLLL",e)}function pet(t){return"".concat(t)}function met(t,e){return Ha(t,"cccccc",e)}function get(t,e){return Ha(t,"yyyy",e)}var vet=Object.freeze({__proto__:null,formatCaption:det,formatDay:fet,formatMonthCaption:het,formatWeekNumber:pet,formatWeekdayName:met,formatYearCaption:get}),xet=function(t,e,n){return Ha(t,"do MMMM (EEEE)",n)},yet=function(){return"Month: "},bet=function(){return"Go to next month"},wet=function(){return"Go to previous month"},_et=function(t,e){return Ha(t,"cccc",e)},jet=function(t){return"Week n. ".concat(t)},Eet=function(){return"Year: "},Net=Object.freeze({__proto__:null,labelDay:xet,labelMonthDropdown:yet,labelNext:bet,labelPrevious:wet,labelWeekNumber:jet,labelWeekday:_et,labelYearDropdown:Eet});function Aet(){var t="buttons",e=uet,n=o5,r={},i={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:vet,labels:Net,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Cet(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,a=t.fromDate,o=t.toDate;return r?a=Ra(r):e&&(a=new Date(e,0,1)),i?o=IN(i):n&&(o=new Date(n,11,31)),{fromDate:a?pv(a):void 0,toDate:o?pv(o):void 0}}var Wue=M.createContext(void 0);function Met(t){var e,n=t.initialProps,r=Aet(),i=Cet(n),a=i.fromDate,o=i.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(P2(n)||zw(n)||Hw(n))&&(c=n.onSelect);var u=sn(sn(sn({},r),n),{captionLayout:l,classNames:sn(sn({},r.classNames),n.classNames),components:sn({},n.components),formatters:sn(sn({},r.formatters),n.formatters),fromDate:a,labels:sn(sn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:sn(sn({},r.modifiers),n.modifiers),modifiersClassNames:sn(sn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:sn(sn({},r.styles),n.styles),toDate:o});return s.jsx(Wue.Provider,{value:u,children:t.children})}function _r(){var t=M.useContext(Wue);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Xue(t){var e=_r(),n=e.locale,r=e.classNames,i=e.styles,a=e.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function Tet(t){return s.jsx("svg",sn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Yue(t){var e,n,r=t.onChange,i=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,u=_r(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Tet;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),s.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Pet(t){var e,n=_r(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var f=[];if(cCe(r,i))for(var h=Ra(r),p=r.getMonth();p<=i.getMonth();p++)f.push(sM(h,p));else for(var h=Ra(new Date),p=0;p<=11;p++)f.push(sM(h,p));var y=function(v){var b=Number(v.target.value),w=sM(Ra(t.displayMonth),b);t.onChange(w)},g=(e=u?.Dropdown)!==null&&e!==void 0?e:Yue;return s.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function Det(t){var e,n=t.displayMonth,r=_r(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var p=i.getFullYear(),y=a.getFullYear(),g=p;g<=y;g++)h.push(kz(Mre(new Date),g));var v=function(w){var _=kz(Ra(n),Number(w.target.value));t.onChange(_)},b=(e=u?.Dropdown)!==null&&e!==void 0?e:Yue;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(w){return s.jsx("option",{value:w.getFullYear(),children:d(w,{locale:o})},w.getFullYear())})})}function Ret(t,e){var n=M.useState(t),r=n[0],i=n[1],a=e===void 0?r:e;return[a,i]}function Oet(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&mv(a,i)<0){var u=-1*(c-1);i=nc(a,u)}return o&&mv(i,o)<0&&(i=o),Ra(i)}function Iet(){var t=_r(),e=Oet(t),n=Ret(e,t.month),r=n[0],i=n[1],a=function(o){var l;if(!t.disableNavigation){var c=Ra(o);i(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,a]}function ket(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ra(t),a=Ra(nc(i,r)),o=mv(a,i),l=[],c=0;c<o;c++){var u=nc(i,c);l.push(u)}return n&&(l=l.reverse()),l}function Let(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Ra(t);if(!n)return nc(l,o);var c=mv(n,t);if(!(c<a))return nc(l,o)}}function Fet(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Ra(t);if(!n)return nc(l,-o);var c=mv(l,n);if(!(c<=0))return nc(l,-o)}}var Kue=M.createContext(void 0);function Uet(t){var e=_r(),n=Iet(),r=n[0],i=n[1],a=ket(r,e),o=Let(r,e),l=Fet(r,e),c=function(f){return a.some(function(h){return l5(f,h)})},u=function(f,h){c(f)||(h&&kre(f,h)?i(nc(f,1+e.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Kue.Provider,{value:d,children:t.children})}function Vw(){var t=M.useContext(Kue);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function hQ(t){var e,n=_r(),r=n.classNames,i=n.styles,a=n.components,o=Vw().goToMonth,l=function(d){o(nc(d,t.displayIndex?-t.displayIndex:0))},c=(e=a?.CaptionLabel)!==null&&e!==void 0?e:Xue,u=s.jsx(c,{id:t.id,displayMonth:t.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(Pet,{onChange:l,displayMonth:t.displayMonth}),s.jsx(Det,{onChange:l,displayMonth:t.displayMonth})]})}function Bet(t){return s.jsx("svg",sn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $et(t){return s.jsx("svg",sn({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var tN=M.forwardRef(function(t,e){var n=_r(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];t.className&&a.push(t.className);var o=a.join(" "),l=sn(sn({},i.button_reset),i.button);return t.style&&Object.assign(l,t.style),s.jsx("button",sn({},t,{ref:e,type:"button",className:o,style:l}))});function zet(t){var e,n,r=_r(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return s.jsx(s.Fragment,{});var h=u(t.previousMonth,{locale:a}),p=[o.nav_button,o.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:a}),g=[o.nav_button,o.nav_button_next].join(" "),v=(e=f?.IconRight)!==null&&e!==void 0?e:$et,b=(n=f?.IconLeft)!==null&&n!==void 0?n:Bet;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&s.jsx(tN,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&s.jsx(tN,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function pQ(t){var e=_r().numberOfMonths,n=Vw(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(y){return l5(t.displayMonth,y)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),h=function(){r&&a(r)},p=function(){i&&a(i)};return s.jsx(zet,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:p})}function Het(t){var e,n=_r(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l?.CaptionLabel)!==null&&e!==void 0?e:Xue,u;return i?u=s.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=s.jsx(hQ,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(hQ,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),s.jsx(pQ,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(pQ,{displayMonth:t.displayMonth,id:t.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:u})}function Vet(t){var e=_r(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function qet(t,e,n){for(var r=n?Up(new Date):Zc(new Date,{locale:t,weekStartsOn:e}),i=[],a=0;a<7;a++){var o=oa(r,a);i.push(o)}return i}function Get(){var t=_r(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=qet(i,a,o);return s.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function Wet(){var t,e=_r(),n=e.classNames,r=e.styles,i=e.components,a=(t=i?.HeadRow)!==null&&t!==void 0?t:Get;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function Xet(t){var e=_r(),n=e.locale,r=e.formatters.formatDay;return s.jsx(s.Fragment,{children:r(t.date,{locale:n})})}var AU=M.createContext(void 0);function Yet(t){if(!zw(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return s.jsx(AU.Provider,{value:e,children:t.children})}return s.jsx(Ket,{initialProps:t.initialProps,children:t.children})}function Ket(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,a=e.max,o=function(u,d,f){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,u,d,f);var y=!!(d.selected&&i&&r?.length===i);if(!y){var g=!!(!d.selected&&a&&r?.length===a);if(!g){var v=r?Gue([],r):[];if(d.selected){var b=v.findIndex(function(w){return Ma(u,w)});v.splice(b,1)}else v.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,v,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,f=r.some(function(h){return Ma(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(AU.Provider,{value:c,children:n})}function CU(){var t=M.useContext(AU);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Qet(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Ma(i,t)&&Ma(r,t)?void 0:Ma(i,t)?{from:i,to:void 0}:Ma(r,t)?void 0:II(r,t)?{from:t,to:i}:{from:r,to:t}:i?II(t,i)?{from:i,to:t}:{from:t,to:i}:r?kre(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var MU=M.createContext(void 0);function Zet(t){if(!Hw(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(MU.Provider,{value:e,children:t.children})}return s.jsx(Jet,{initialProps:t.initialProps,children:t.children})}function Jet(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},a=i.from,o=i.to,l=e.min,c=e.max,u=function(p,y,g){var v,b;(v=e.onDayClick)===null||v===void 0||v.call(e,p,y,g);var w=Qet(p,r);(b=e.onSelect)===null||b===void 0||b.call(e,w,p,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Ma(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:Qu(a,l-1),before:oa(a,l-1)}),a&&o&&d.disabled.push({after:a,before:oa(a,l-1)}),!a&&o&&d.disabled.push({after:Qu(o,l-1),before:oa(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:oa(a,-c+1)}),d.disabled.push({after:oa(a,c-1)})),a&&o){var f=Pc(o,a)+1,h=c-f;d.disabled.push({before:Qu(a,h)}),d.disabled.push({after:oa(o,h)})}!a&&o&&(d.disabled.push({before:oa(o,-c+1)}),d.disabled.push({after:oa(o,c-1)}))}return s.jsx(MU.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function TU(){var t=M.useContext(MU);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function nj(t){return Array.isArray(t)?Gue([],t):t!==void 0?[t]:[]}function ett(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=nj(i)}),e}var sc;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(sc||(sc={}));var ttt=sc.Selected,Tu=sc.Disabled,ntt=sc.Hidden,rtt=sc.Today,HO=sc.RangeEnd,VO=sc.RangeMiddle,qO=sc.RangeStart,itt=sc.Outside;function stt(t,e,n){var r,i=(r={},r[ttt]=nj(t.selected),r[Tu]=nj(t.disabled),r[ntt]=nj(t.hidden),r[rtt]=[t.today],r[HO]=[],r[VO]=[],r[qO]=[],r[itt]=[],r);return t.fromDate&&i[Tu].push({before:t.fromDate}),t.toDate&&i[Tu].push({after:t.toDate}),zw(t)?i[Tu]=i[Tu].concat(e.modifiers[Tu]):Hw(t)&&(i[Tu]=i[Tu].concat(n.modifiers[Tu]),i[qO]=n.modifiers[qO],i[VO]=n.modifiers[VO],i[HO]=n.modifiers[HO]),i}var Que=M.createContext(void 0);function att(t){var e=_r(),n=CU(),r=TU(),i=stt(e,n,r),a=ett(e.modifiers),o=sn(sn({},i),a);return s.jsx(Que.Provider,{value:o,children:t.children})}function Zue(){var t=M.useContext(Que);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function ott(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function ltt(t){return!!(t&&typeof t=="object"&&"from"in t)}function ctt(t){return!!(t&&typeof t=="object"&&"after"in t)}function utt(t){return!!(t&&typeof t=="object"&&"before"in t)}function dtt(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ftt(t,e){var n,r=e.from,i=e.to;if(r&&i){var a=Pc(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Pc(t,r)>=0&&Pc(i,t)>=0;return o}return i?Ma(i,t):r?Ma(r,t):!1}function htt(t){return s5(t)}function ptt(t){return Array.isArray(t)&&t.every(s5)}function mtt(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(htt(n))return Ma(t,n);if(ptt(n))return n.includes(t);if(ltt(n))return ftt(t,n);if(dtt(n))return n.dayOfWeek.includes(t.getDay());if(ott(n)){var r=Pc(n.before,t),i=Pc(n.after,t),a=r>0,o=i<0,l=II(n.before,n.after);return l?o&&a:a||o}return ctt(n)?Pc(t,n.after)>0:utt(n)?Pc(n.before,t)>0:typeof n=="function"?n(t):!1})}function PU(t,e,n){var r=Object.keys(e).reduce(function(a,o){var l=e[o];return mtt(t,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!l5(t,n)&&(i.outside=!0),i}function gtt(t,e){for(var n=Ra(t[0]),r=IN(t[t.length-1]),i,a,o=n;o<=r;){var l=PU(o,e),c=!l.disabled&&!l.hidden;if(!c){o=oa(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=oa(o,1)}return a||i}var vtt=365;function Jue(t,e){var n=e.moveBy,r=e.direction,i=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:oa,week:OI,month:nc,year:Q2e,startOfWeek:function(v){return i.ISOWeek?Up(v):Zc(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?Tre(v):a5(v,{locale:f,weekStartsOn:c})}},p=h[n](t,r==="after"?1:-1);r==="before"&&u?p=Z2e([u,p]):r==="after"&&d&&(p=J2e([d,p]));var y=!0;if(a){var g=PU(p,a);y=!g.disabled&&!g.hidden}return y?p:l.count>vtt?l.lastFocused:Jue(p,{moveBy:n,direction:r,context:i,modifiers:a,retry:sn(sn({},l),{count:l.count+1})})}var ede=M.createContext(void 0);function xtt(t){var e=Vw(),n=Zue(),r=M.useState(),i=r[0],a=r[1],o=M.useState(),l=o[0],c=o[1],u=gtt(e.displayMonths,n),d=i??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(i),a(void 0)},h=function(v){a(v)},p=_r(),y=function(v,b){if(i){var w=Jue(i,{moveBy:v,direction:b,context:p,modifiers:n});Ma(i,w)||(e.goToDate(w,i),h(w))}},g={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return s.jsx(ede.Provider,{value:g,children:t.children})}function DU(){var t=M.useContext(ede);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function ytt(t,e){var n=Zue(),r=PU(t,n,e);return r}var RU=M.createContext(void 0);function btt(t){if(!P2(t.initialProps)){var e={selected:void 0};return s.jsx(RU.Provider,{value:e,children:t.children})}return s.jsx(wtt,{initialProps:t.initialProps,children:t.children})}function wtt(t){var e=t.initialProps,n=t.children,r=function(a,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,l)},i={selected:e.selected,onDayClick:r};return s.jsx(RU.Provider,{value:i,children:n})}function tde(){var t=M.useContext(RU);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function _tt(t,e){var n=_r(),r=tde(),i=CU(),a=TU(),o=DU(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,w=o.focusEndOfWeek,_=function(V){var F,U,H,$;P2(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,V):zw(n)?(U=i.onDayClick)===null||U===void 0||U.call(i,t,e,V):Hw(n)?(H=a.onDayClick)===null||H===void 0||H.call(a,t,e,V):($=n.onDayClick)===null||$===void 0||$.call(n,t,e,V)},S=function(V){var F;h(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,V)},j=function(V){var F;f(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,V)},A=function(V){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,V)},C=function(V){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,V)},N=function(V){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,V)},T=function(V){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,V)},P=function(V){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,V)},D=function(V){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,V)},O=function(V){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,V)},I=function(V){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,V)},L=function(V){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,V)},z=function(V){var F;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():y();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),w();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,V)},q={onClick:_,onFocus:S,onBlur:j,onKeyDown:z,onKeyUp:L,onMouseEnter:A,onMouseLeave:C,onPointerEnter:N,onPointerLeave:T,onTouchCancel:P,onTouchEnd:D,onTouchMove:O,onTouchStart:I};return q}function Stt(){var t=_r(),e=tde(),n=CU(),r=TU(),i=P2(t)?e.selected:zw(t)?n.selected:Hw(t)?r.selected:void 0;return i}function jtt(t){return Object.values(sc).includes(t)}function Ett(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(jtt(r)){var a=t.classNames["day_".concat(r)];a&&n.push(a)}}),n}function Ntt(t,e){var n=sn({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=sn(sn({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function Att(t,e,n){var r,i,a,o=_r(),l=DU(),c=ytt(t,e),u=_tt(t,c),d=Stt(),f=!!(o.onDayClick||o.mode!=="default");M.useEffect(function(){var A;c.outside||l.focusedDay&&f&&Ma(l.focusedDay,t)&&((A=n.current)===null||A===void 0||A.focus())},[l.focusedDay,t,n,f,c.outside]);var h=Ett(o,c).join(" "),p=Ntt(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Xet,v=s.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},w=l.focusTarget&&Ma(l.focusTarget,t)&&!c.outside,_=l.focusedDay&&Ma(l.focusedDay,t),S=sn(sn(sn({},b),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=_||w?0:-1,r)),u),j={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:b};return j}function Ctt(t){var e=M.useRef(null),n=Att(t.date,t.displayMonth,e);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(tN,sn({name:"day",ref:e},n.buttonProps)):s.jsx("div",sn({},n.divProps))}function Mtt(t){var e=t.number,n=t.dates,r=_r(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=c(Number(e),{locale:l}),h=function(p){i(e,n,p)};return s.jsx(tN,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:h,children:d})}function Ttt(t){var e,n,r=_r(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l?.Day)!==null&&e!==void 0?e:Ctt,u=(n=l?.WeekNumber)!==null&&n!==void 0?n:Mtt,d;return o&&(d=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(u,{number:t.weekNumber,dates:t.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[d,t.dates.map(function(f){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:t.displayMonth,date:f})},aCe(f))})]})}function mQ(t,e,n){for(var r=n?.ISOWeek?Tre(e):a5(e,n),i=n?.ISOWeek?Up(t):Zc(t,n),a=Pc(r,i),o=[],l=0;l<=a;l++)o.push(oa(i,l));var c=o.reduce(function(u,d){var f=n?.ISOWeek?Dre(d):Ore(d,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Ptt(t,e){var n=mQ(Ra(t),IN(t),e);if(e?.useFixedWeeks){var r=lCe(t,e);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=OI(a,6-r),l=mQ(OI(a,1),o,e);n.push.apply(n,l)}}return n}function Dtt(t){var e,n,r,i=_r(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,y=Ptt(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(e=d?.Head)!==null&&e!==void 0?e:Wet,v=(n=d?.Row)!==null&&n!==void 0?n:Ttt,b=(r=d?.Footer)!==null&&r!==void 0?r:Vet;return s.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(w){return s.jsx(v,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),s.jsx(b,{displayMonth:t.displayMonth})]})}function Rtt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ott=Rtt()?M.useLayoutEffect:M.useEffect,GO=!1,Itt=0;function gQ(){return"react-day-picker-".concat(++Itt)}function ktt(t){var e,n=t??(GO?gQ():null),r=M.useState(n),i=r[0],a=r[1];return Ott(function(){i===null&&a(gQ())},[]),M.useEffect(function(){GO===!1&&(GO=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Ltt(t){var e,n,r=_r(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=Vw().displayMonths,u=ktt(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[a.month],h=o.month,p=t.displayIndex===0,y=t.displayIndex===c.length-1,g=!p&&!y;i==="rtl"&&(e=[p,y],y=e[0],p=e[1]),p&&(f.push(a.caption_start),h=sn(sn({},h),o.caption_start)),y&&(f.push(a.caption_end),h=sn(sn({},h),o.caption_end)),g&&(f.push(a.caption_between),h=sn(sn({},h),o.caption_between));var v=(n=l?.Caption)!==null&&n!==void 0?n:Het;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),s.jsx(Dtt,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Ftt(t){var e=_r(),n=e.classNames,r=e.styles;return s.jsx("div",{className:n.months,style:r.months,children:t.children})}function Utt(t){var e,n,r=t.initialProps,i=_r(),a=DU(),o=Vw(),l=M.useState(!1),c=l[0],u=l[1];M.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=sn(sn({},i.styles.root),i.style),h=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var v;return sn(sn({},y),(v={},v[g]=r[g],v))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Ftt;return s.jsx("div",sn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:s.jsx(p,{children:o.displayMonths.map(function(y,g){return s.jsx(Ltt,{displayIndex:g,displayMonth:y},g)})})}))}function Btt(t){var e=t.children,n=cet(t,["children"]);return s.jsx(Met,{initialProps:n,children:s.jsx(Uet,{children:s.jsx(btt,{initialProps:n,children:s.jsx(Yet,{initialProps:n,children:s.jsx(Zet,{initialProps:n,children:s.jsx(att,{children:s.jsx(xtt,{children:e})})})})})})})}function $tt(t){return s.jsx(Btt,sn({},t,{children:s.jsx(Utt,{initialProps:t})}))}function nde({className:t,classNames:e,showOutsideDays:n=!0,...r}){return s.jsx($tt,{showOutsideDays:n,className:Nt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Nt(pI({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Nt(pI({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},...r})}nde.displayName="Calendar";var D2="Popover",[rde]=Ni(D2,[Qf]),qw=Qf(),[ztt,hh]=rde(D2),ide=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=qw(e),c=M.useRef(null),[u,d]=M.useState(!1),[f,h]=Ba({prop:r,defaultProp:i??!1,onChange:a,caller:D2});return s.jsx(XL,{...l,children:s.jsx(ztt,{scope:e,contentId:Li(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:M.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:M.useCallback(()=>d(!0),[]),onCustomAnchorRemove:M.useCallback(()=>d(!1),[]),modal:o,children:n})})};ide.displayName=D2;var sde="PopoverAnchor",Htt=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=hh(sde,n),a=qw(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return M.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(uw,{...a,...r,ref:e})});Htt.displayName=sde;var ade="PopoverTrigger",ode=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=hh(ade,n),a=qw(n),o=Jt(e,i.triggerRef),l=s.jsx(Mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fde(i.open),...r,ref:o,onClick:St(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(uw,{asChild:!0,...a,children:l})});ode.displayName=ade;var OU="PopoverPortal",[Vtt,qtt]=rde(OU,{forceMount:void 0}),lde=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=hh(OU,e);return s.jsx(Vtt,{scope:e,forceMount:n,children:s.jsx(Hi,{present:n||a.open,children:s.jsx(dw,{asChild:!0,container:i,children:r})})})};lde.displayName=OU;var sx="PopoverContent",cde=M.forwardRef((t,e)=>{const n=qtt(sx,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=hh(sx,t.__scopePopover);return s.jsx(Hi,{present:r||a.open,children:a.modal?s.jsx(Wtt,{...i,ref:e}):s.jsx(Xtt,{...i,ref:e})})});cde.displayName=sx;var Gtt=Lf("PopoverContent.RemoveScroll"),Wtt=M.forwardRef((t,e)=>{const n=hh(sx,t.__scopePopover),r=M.useRef(null),i=Jt(e,r),a=M.useRef(!1);return M.useEffect(()=>{const o=r.current;if(o)return mN(o)},[]),s.jsx(gw,{as:Gtt,allowPinchZoom:!0,children:s.jsx(ude,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:St(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:St(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:St(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Xtt=M.forwardRef((t,e)=>{const n=hh(sx,t.__scopePopover),r=M.useRef(!1),i=M.useRef(!1);return s.jsx(ude,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;n.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ude=M.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,h=hh(sx,n),p=qw(n);return hN(),s.jsx(mw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(ox,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(aN,{"data-state":fde(h.open),role:"dialog",id:h.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dde="PopoverClose",Ytt=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=hh(dde,n);return s.jsx(Mt.button,{type:"button",...r,ref:e,onClick:St(t.onClick,()=>i.onOpenChange(!1))})});Ytt.displayName=dde;var Ktt="PopoverArrow",Qtt=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=qw(n);return s.jsx(oN,{...i,...r,ref:e})});Qtt.displayName=Ktt;function fde(t){return t?"open":"closed"}var Ztt=ide,Jtt=ode,ent=lde,hde=cde;const tnt=Ztt,nnt=Jtt,pde=M.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>s.jsx(ent,{children:s.jsx(hde,{ref:i,align:e,sideOffset:n,className:Nt("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));pde.displayName=hde.displayName;function rnt(){const[t,e]=M.useState([]),[n,r]=M.useState({totalCoupons:0,activeCoupons:0,totalUsage:0,totalSavings:0,topCoupons:[]}),[i,a]=M.useState(!1),[o,l]=M.useState(!1),[c,u]=M.useState(null),[d,f]=M.useState(),{toast:h}=mr(),[p,y]=M.useState({code:"",type:"percentage",value:0,usageLimit:"",expiresAt:"",description:"",minOrderAmount:"",maxDiscountAmount:"",isActive:!0});M.useEffect(()=>{g(),v()},[]);const g=async()=>{try{e([{id:"1",code:"WELCOME10",type:"percentage",value:10,usageLimit:100,usageCount:45,expiresAt:new Date("2024-12-31"),isActive:!0,createdAt:new Date("2024-01-01"),description:"خصم 10% للعملاء الجدد",minOrderAmount:100},{id:"2",code:"SAVE50",type:"fixed",value:50,usageLimit:50,usageCount:23,expiresAt:new Date("2024-11-30"),isActive:!0,createdAt:new Date("2024-02-01"),description:"خصم 50 جنيه على الطلبات",minOrderAmount:200},{id:"3",code:"SUMMER20",type:"percentage",value:20,usageLimit:200,usageCount:156,expiresAt:new Date("2024-08-31"),isActive:!1,createdAt:new Date("2024-06-01"),description:"عرض الصيف - خصم 20%"}])}catch{h({title:"خطأ",description:"فشل في تحميل الكوبونات",variant:"destructive"})}},v=async()=>{try{r({totalCoupons:15,activeCoupons:8,totalUsage:1247,totalSavings:45680,topCoupons:[{code:"SUMMER20",usageCount:156,totalSavings:12500},{code:"WELCOME10",usageCount:145,totalSavings:8900},{code:"SAVE50",usageCount:89,totalSavings:4450}]})}catch(N){console.error("Failed to load stats:",N)}},b=async()=>{try{if(!p.code||p.value<=0){h({title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة",variant:"destructive"});return}const N={id:Date.now().toString(),code:p.code.toUpperCase(),type:p.type,value:p.value,usageLimit:p.usageLimit?parseInt(p.usageLimit):void 0,usageCount:0,expiresAt:d,isActive:p.isActive,createdAt:new Date,description:p.description,minOrderAmount:p.minOrderAmount?parseFloat(p.minOrderAmount):void 0,maxDiscountAmount:p.maxDiscountAmount?parseFloat(p.maxDiscountAmount):void 0};e(T=>[N,...T]),y({code:"",type:"percentage",value:0,usageLimit:"",expiresAt:"",description:"",minOrderAmount:"",maxDiscountAmount:"",isActive:!0}),f(void 0),a(!1),h({title:"نجح",description:"تم إنشاء الكوبون بنجاح"})}catch{h({title:"خطأ",description:"فشل في إنشاء الكوبون",variant:"destructive"})}},w=N=>{u(N),y({code:N.code,type:N.type,value:N.value,usageLimit:N.usageLimit?.toString()||"",expiresAt:N.expiresAt?.toISOString().split("T")[0]||"",description:N.description||"",minOrderAmount:N.minOrderAmount?.toString()||"",maxDiscountAmount:N.maxDiscountAmount?.toString()||"",isActive:N.isActive}),f(N.expiresAt),l(!0)},_=async()=>{if(c)try{const N={...c,code:p.code.toUpperCase(),type:p.type,value:p.value,usageLimit:p.usageLimit?parseInt(p.usageLimit):void 0,expiresAt:d,isActive:p.isActive,description:p.description,minOrderAmount:p.minOrderAmount?parseFloat(p.minOrderAmount):void 0,maxDiscountAmount:p.maxDiscountAmount?parseFloat(p.maxDiscountAmount):void 0};e(T=>T.map(P=>P.id===c.id?N:P)),l(!1),u(null),h({title:"نجح",description:"تم تحديث الكوبون بنجاح"})}catch{h({title:"خطأ",description:"فشل في تحديث الكوبون",variant:"destructive"})}},S=async N=>{try{e(T=>T.filter(P=>P.id!==N)),h({title:"نجح",description:"تم حذف الكوبون بنجاح"})}catch{h({title:"خطأ",description:"فشل في حذف الكوبون",variant:"destructive"})}},j=N=>{navigator.clipboard.writeText(N),h({title:"تم النسخ",description:`تم نسخ كود الكوبون: ${N}`})},A=(N,T)=>T?Math.round(N/T*100):0,C=N=>N?new Date>N:!1;return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"إدارة الكوبونات والعروض"}),s.jsxs(_i,{open:i,onOpenChange:a,children:[s.jsx($f,{asChild:!0,children:s.jsxs(ge,{children:[s.jsx(sl,{className:"w-4 h-4 mr-2"}),"إضافة كوبون جديد"]})}),s.jsxs(di,{className:"max-w-2xl",children:[s.jsx(Si,{children:s.jsx(ji,{children:"إنشاء كوبون جديد"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"code",children:"كود الكوبون"}),s.jsx(st,{id:"code",value:p.code,onChange:N=>y(T=>({...T,code:N.target.value})),placeholder:"مثال: WELCOME10"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"type",children:"نوع الخصم"}),s.jsxs(Lr,{value:p.type,onValueChange:N=>y(T=>({...T,type:N})),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"percentage",children:"نسبة مئوية"}),s.jsx(At,{value:"fixed",children:"مبلغ ثابت"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"value",children:"قيمة الخصم"}),s.jsx(st,{id:"value",type:"number",value:p.value,onChange:N=>y(T=>({...T,value:parseFloat(N.target.value)||0})),placeholder:p.type==="percentage"?"10":"50"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"usageLimit",children:"حد الاستخدام"}),s.jsx(st,{id:"usageLimit",type:"number",value:p.usageLimit,onChange:N=>y(T=>({...T,usageLimit:N.target.value})),placeholder:"100"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"تاريخ الانتهاء"}),s.jsxs(tnt,{children:[s.jsx(nnt,{asChild:!0,children:s.jsxs(ge,{variant:"outline",className:Nt("w-full justify-start text-left font-normal",!d&&"text-muted-foreground"),children:[s.jsx(a4,{className:"mr-2 h-4 w-4"}),d?Ha(d,"PPP",{locale:c5}):"اختر التاريخ"]})}),s.jsx(pde,{className:"w-auto p-0",children:s.jsx(nde,{mode:"single",selected:d,onSelect:f,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"description",children:"الوصف"}),s.jsx(st,{id:"description",value:p.description,onChange:N=>y(T=>({...T,description:N.target.value})),placeholder:"وصف الكوبون"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"minOrderAmount",children:"الحد الأدنى للطلب"}),s.jsx(st,{id:"minOrderAmount",type:"number",value:p.minOrderAmount,onChange:N=>y(T=>({...T,minOrderAmount:N.target.value})),placeholder:"100"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"maxDiscountAmount",children:"الحد الأقصى للخصم"}),s.jsx(st,{id:"maxDiscountAmount",type:"number",value:p.maxDiscountAmount,onChange:N=>y(T=>({...T,maxDiscountAmount:N.target.value})),placeholder:"200"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ge,{variant:"outline",onClick:()=>a(!1),children:"إلغاء"}),s.jsx(ge,{onClick:b,children:"إنشاء الكوبون"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الكوبونات"}),s.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.totalCoupons})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"الكوبونات النشطة"}),s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.activeCoupons})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الاستخدام"}),s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:n.totalUsage})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي التوفير"}),s.jsx(kr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[n.totalSavings.toLocaleString()," جنيه"]})})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"قائمة الكوبونات"})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"كود الكوبون"}),s.jsx(ut,{children:"النوع"}),s.jsx(ut,{children:"القيمة"}),s.jsx(ut,{children:"الاستخدام"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"تاريخ الانتهاء"}),s.jsx(ut,{children:"الإجراءات"})]})}),s.jsx(ys,{children:t.map(N=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:N.code}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>j(N.code),children:s.jsx(Rp,{className:"w-3 h-3"})})]})}),s.jsx(dt,{children:s.jsx(jt,{variant:N.type==="percentage"?"default":"secondary",children:N.type==="percentage"?"نسبة مئوية":"مبلغ ثابت"})}),s.jsx(dt,{children:N.type==="percentage"?`${N.value}%`:`${N.value} جنيه`}),s.jsx(dt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[N.usageCount," / ",N.usageLimit||"∞"]}),N.usageLimit&&s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${A(N.usageCount,N.usageLimit)}%`}})})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(jt,{variant:N.isActive?"default":"secondary",children:N.isActive?"نشط":"غير نشط"}),C(N.expiresAt)&&s.jsx(jt,{variant:"destructive",children:"منتهي الصلاحية"})]})}),s.jsx(dt,{children:N.expiresAt?Ha(N.expiresAt,"dd/MM/yyyy"):"بدون انتهاء"}),s.jsx(dt,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>w(N),children:s.jsx(ld,{className:"w-4 h-4"})}),s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>S(N.id),children:s.jsx(fl,{className:"w-4 h-4"})})]})})]},N.id))})]})})]}),s.jsx(_i,{open:o,onOpenChange:l,children:s.jsxs(di,{className:"max-w-2xl",children:[s.jsx(Si,{children:s.jsx(ji,{children:"تعديل الكوبون"})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ge,{variant:"outline",onClick:()=>l(!1),children:"إلغاء"}),s.jsx(ge,{onClick:_,children:"حفظ التغييرات"})]})})]})})]})}function int(){const[t,e]=M.useState([]),[n,r]=M.useState([]),[i,a]=M.useState({totalOrders:0,pendingShipment:0,inTransit:0,delivered:0,averageDeliveryTime:0,onTimeDeliveryRate:0}),[o,l]=M.useState(null),[c,u]=M.useState([]),[d,f]=M.useState(!1),[h,p]=M.useState(!1),[y,g]=M.useState(""),[v,b]=M.useState("all"),{toast:w}=mr(),[_,S]=M.useState({name:"",description:"",cost:0,estimatedDays:1,supportedRegions:[],isActive:!0});M.useEffect(()=>{j(),A(),C()},[]);const j=async()=>{try{e([{id:"1",orderNumber:"EGY-2024-001",customerName:"أحمد محمد",customerEmail:"ahmed@example.com",customerPhone:"+201234567890",shippingAddress:{street:"شارع التحرير 123",city:"القاهرة",state:"القاهرة",postalCode:"11511",country:"مصر"},items:[{productName:"لابتوب ديل",quantity:1,price:15e3},{productName:"ماوس لاسلكي",quantity:1,price:500}],total:15500,status:"shipped",shippingMethod:"express",trackingNumber:"TRK123456789",estimatedDelivery:new Date("2024-10-15"),createdAt:new Date("2024-10-10"),updatedAt:new Date("2024-10-12")},{id:"2",orderNumber:"EGY-2024-002",customerName:"فاطمة علي",customerEmail:"fatima@example.com",customerPhone:"+201234567891",shippingAddress:{street:"شارع النيل 456",city:"الإسكندرية",state:"الإسكندرية",postalCode:"21500",country:"مصر"},items:[{productName:"هاتف ذكي",quantity:1,price:8e3}],total:8e3,status:"processing",shippingMethod:"standard",createdAt:new Date("2024-10-11"),updatedAt:new Date("2024-10-11")}])}catch{w({title:"خطأ",description:"فشل في تحميل الطلبات",variant:"destructive"})}},A=async()=>{try{r([{id:"1",name:"الشحن السريع",description:"توصيل خلال 24 ساعة",cost:100,estimatedDays:1,isActive:!0,supportedRegions:["القاهرة","الجيزة"]},{id:"2",name:"الشحن العادي",description:"توصيل خلال 3-5 أيام",cost:50,estimatedDays:3,isActive:!0,supportedRegions:["جميع المحافظات"]},{id:"3",name:"الشحن الاقتصادي",description:"توصيل خلال 7-10 أيام",cost:25,estimatedDays:7,isActive:!0,supportedRegions:["جميع المحافظات"]}])}catch(I){console.error("Failed to load shipping methods:",I)}},C=async()=>{try{a({totalOrders:1250,pendingShipment:45,inTransit:78,delivered:1127,averageDeliveryTime:2.5,onTimeDeliveryRate:94.5})}catch(I){console.error("Failed to load stats:",I)}},N=async(I,L)=>{try{e(z=>z.map(q=>q.id===I?{...q,status:L,updatedAt:new Date}:q)),w({title:"نجح",description:"تم تحديث حالة الطلب بنجاح"})}catch{w({title:"خطأ",description:"فشل في تحديث حالة الطلب",variant:"destructive"})}},T=async()=>{try{const I={id:Date.now().toString(),..._};r(L=>[...L,I]),S({name:"",description:"",cost:0,estimatedDays:1,supportedRegions:[],isActive:!0}),p(!1),w({title:"نجح",description:"تم إنشاء طريقة الشحن بنجاح"})}catch{w({title:"خطأ",description:"فشل في إنشاء طريقة الشحن",variant:"destructive"})}},P=I=>{const L={pending:{label:"في الانتظار",variant:"secondary"},processing:{label:"قيد المعالجة",variant:"default"},shipped:{label:"تم الشحن",variant:"default"},delivered:{label:"تم التسليم",variant:"default"},cancelled:{label:"ملغي",variant:"destructive"}},z=L[I]||L.pending;return s.jsx(jt,{variant:z.variant,children:z.label})},D=I=>{switch(I){case"pending":return s.jsx(Ui,{className:"w-4 h-4"});case"processing":return s.jsx(er,{className:"w-4 h-4"});case"shipped":return s.jsx(va,{className:"w-4 h-4"});case"delivered":return s.jsx(Fi,{className:"w-4 h-4"});case"cancelled":return s.jsx($a,{className:"w-4 h-4"});default:return s.jsx(Ui,{className:"w-4 h-4"})}},O=t.filter(I=>{const L=I.orderNumber.toLowerCase().includes(y.toLowerCase())||I.customerName.toLowerCase().includes(y.toLowerCase())||I.customerEmail.toLowerCase().includes(y.toLowerCase()),z=v==="all"||I.status===v;return L&&z});return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"إدارة الشحن والتتبع"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(_i,{open:h,onOpenChange:p,children:[s.jsx($f,{asChild:!0,children:s.jsxs(ge,{variant:"outline",children:[s.jsx(sl,{className:"w-4 h-4 mr-2"}),"إضافة طريقة شحن"]})}),s.jsxs(di,{children:[s.jsx(Si,{children:s.jsx(ji,{children:"إضافة طريقة شحن جديدة"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"methodName",children:"اسم طريقة الشحن"}),s.jsx(st,{id:"methodName",value:_.name,onChange:I=>S(L=>({...L,name:I.target.value})),placeholder:"الشحن السريع"})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"methodDescription",children:"الوصف"}),s.jsx(st,{id:"methodDescription",value:_.description,onChange:I=>S(L=>({...L,description:I.target.value})),placeholder:"توصيل خلال 24 ساعة"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"methodCost",children:"التكلفة (جنيه)"}),s.jsx(st,{id:"methodCost",type:"number",value:_.cost,onChange:I=>S(L=>({...L,cost:parseFloat(I.target.value)||0}))})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"estimatedDays",children:"الأيام المتوقعة"}),s.jsx(st,{id:"estimatedDays",type:"number",value:_.estimatedDays,onChange:I=>S(L=>({...L,estimatedDays:parseInt(I.target.value)||1}))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ge,{variant:"outline",onClick:()=>p(!1),children:"إلغاء"}),s.jsx(ge,{onClick:T,children:"إضافة"})]})]})]})]}),s.jsxs(ge,{children:[s.jsx(Xc,{className:"w-4 h-4 mr-2"}),"تصدير التقرير"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الطلبات"}),s.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalOrders})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"في الانتظار"}),s.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.pendingShipment})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"قيد النقل"}),s.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.inTransit})})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"تم التسليم"}),s.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(he,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.delivered})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"متوسط وقت التسليم"})}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[i.averageDeliveryTime," أيام"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"متوسط الوقت من الشحن إلى التسليم"})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"معدل التسليم في الوقت"})}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"معدل التسليم في الوقت"}),s.jsxs("span",{children:[i.onTimeDeliveryRate,"%"]})]}),s.jsx(Fp,{value:i.onTimeDeliveryRate,className:"h-2"})]})})]})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"فلترة الطلبات"})}),s.jsx(he,{children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(dl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(st,{placeholder:"البحث في رقم الطلب، اسم العميل، أو البريد الإلكتروني...",value:y,onChange:I=>g(I.target.value),className:"pl-10"})]})}),s.jsxs(Lr,{value:v,onValueChange:b,children:[s.jsx(Mr,{className:"w-48",children:s.jsx(qr,{placeholder:"فلترة حسب الحالة"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع الحالات"}),s.jsx(At,{value:"pending",children:"في الانتظار"}),s.jsx(At,{value:"processing",children:"قيد المعالجة"}),s.jsx(At,{value:"shipped",children:"تم الشحن"}),s.jsx(At,{value:"delivered",children:"تم التسليم"}),s.jsx(At,{value:"cancelled",children:"ملغي"})]})]})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"الطلبات"})}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"رقم الطلب"}),s.jsx(ut,{children:"العميل"}),s.jsx(ut,{children:"العنوان"}),s.jsx(ut,{children:"المبلغ"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"رقم التتبع"}),s.jsx(ut,{children:"تاريخ الإنشاء"}),s.jsx(ut,{children:"الإجراءات"})]})}),s.jsx(ys,{children:O.map(I=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx("div",{className:"font-medium",children:I.orderNumber})}),s.jsx(dt,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:I.customerName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:I.customerEmail})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:I.shippingAddress.street}),s.jsxs("div",{children:[I.shippingAddress.city,", ",I.shippingAddress.state]})]})}),s.jsx(dt,{children:s.jsxs("div",{className:"font-medium",children:[I.total.toLocaleString()," جنيه"]})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[D(I.status),P(I.status)]})}),s.jsx(dt,{children:I.trackingNumber?s.jsx("code",{className:"bg-muted px-2 py-1 rounded text-sm",children:I.trackingNumber}):s.jsx("span",{className:"text-muted-foreground",children:"غير متوفر"})}),s.jsx(dt,{children:Ha(I.createdAt,"dd/MM/yyyy",{locale:c5})}),s.jsx(dt,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>{l(I),f(!0)},children:s.jsx($s,{className:"w-4 h-4"})}),s.jsxs(Lr,{value:I.status,onValueChange:L=>N(I.id,L),children:[s.jsx(Mr,{className:"w-32",children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"pending",children:"في الانتظار"}),s.jsx(At,{value:"processing",children:"قيد المعالجة"}),s.jsx(At,{value:"shipped",children:"تم الشحن"}),s.jsx(At,{value:"delivered",children:"تم التسليم"}),s.jsx(At,{value:"cancelled",children:"ملغي"})]})]})]})})]},I.id))})]})})]}),s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{children:"طرق الشحن المتاحة"})}),s.jsx(he,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.map(I=>s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsx(Ce,{className:"text-lg",children:I.name})}),s.jsx(he,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:I.description}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"التكلفة:"}),s.jsxs("span",{className:"font-medium",children:[I.cost," جنيه"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"الوقت المتوقع:"}),s.jsxs("span",{className:"font-medium",children:[I.estimatedDays," أيام"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"الحالة:"}),s.jsx(jt,{variant:I.isActive?"default":"secondary",children:I.isActive?"نشط":"غير نشط"})]})]})})]},I.id))})})]})]})}function snt(){const[t,e]=M.useState({siteName:"إيجي جو",siteDescription:"منصة التجارة الإلكترونية الرائدة",logo:"",favicon:"",primaryColor:"#3b82f6",secondaryColor:"#f59e0b",accentColor:"#10b981",contactEmail:"info@egygo.com",contactPhone:"+201234567890",address:"القاهرة، مصر",socialMedia:{},currency:"EGP",timezone:"Africa/Cairo",language:"ar",taxRate:14,shippingCost:50,freeShippingThreshold:500,features:{enableReviews:!0,enableWishlist:!0,enableCompare:!0,enableNewsletter:!0,enableAffiliate:!0,enableMultiCurrency:!1,enableGuestCheckout:!0},security:{enableTwoFactor:!1,enableBruteForceProtection:!0,sessionTimeout:30,passwordMinLength:8,requireStrongPassword:!0},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,orderNotifications:!0,marketingEmails:!1},seo:{metaTitle:"إيجي جو - منصة التجارة الإلكترونية",metaDescription:"تسوق آمن وسريع مع إيجي جو",metaKeywords:"تسوق، إلكتروني، مصر",googleAnalyticsId:"",facebookPixelId:"",enableSitemap:!0}}),[n,r]=M.useState(!1),[i,a]=M.useState(!1),{toast:o}=mr();M.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0),await new Promise(h=>setTimeout(h,1e3)),r(!1)}catch{o({title:"خطأ",description:"فشل في تحميل الإعدادات",variant:"destructive"}),r(!1)}},c=async()=>{try{r(!0),await new Promise(h=>setTimeout(h,1e3)),a(!1),o({title:"نجح",description:"تم حفظ الإعدادات بنجاح"}),r(!1)}catch{o({title:"خطأ",description:"فشل في حفظ الإعدادات",variant:"destructive"}),r(!1)}},u=()=>{l(),a(!1)},d=h=>{e(p=>({...p,...h})),a(!0)},f=(h,p)=>{e(y=>{const g={...y},v=h.split(".");let b=g;for(let w=0;w<v.length-1;w++)b=b[v[w]];return b[v[v.length-1]]=p,a(!0),g})};return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"الإعدادات المتقدمة"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ge,{variant:"outline",onClick:u,disabled:n,children:[s.jsx(hx,{className:"w-4 h-4 mr-2"}),"إعادة تعيين"]}),s.jsxs(ge,{onClick:c,disabled:n||!i,children:[s.jsx(c0e,{className:"w-4 h-4 mr-2"}),n?"جاري الحفظ...":"حفظ التغييرات"]})]})]}),i&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"text-yellow-600 text-sm",children:"لديك تغييرات غير محفوظة. لا تنس حفظ التغييرات."})})}),s.jsxs(vl,{defaultValue:"branding",className:"space-y-6",children:[s.jsxs(No,{className:"grid w-full grid-cols-6",children:[s.jsxs(mn,{value:"branding",className:"flex items-center space-x-2",children:[s.jsx(hI,{className:"w-4 h-4"}),s.jsx("span",{children:"الهوية البصرية"})]}),s.jsxs(mn,{value:"business",className:"flex items-center space-x-2",children:[s.jsx(Jl,{className:"w-4 h-4"}),s.jsx("span",{children:"الأعمال"})]}),s.jsxs(mn,{value:"features",className:"flex items-center space-x-2",children:[s.jsx(e8,{className:"w-4 h-4"}),s.jsx("span",{children:"الميزات"})]}),s.jsxs(mn,{value:"security",className:"flex items-center space-x-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),s.jsx("span",{children:"الأمان"})]}),s.jsxs(mn,{value:"notifications",className:"flex items-center space-x-2",children:[s.jsx(Yu,{className:"w-4 h-4"}),s.jsx("span",{children:"الإشعارات"})]}),s.jsxs(mn,{value:"seo",className:"flex items-center space-x-2",children:[s.jsx(Y0,{className:"w-4 h-4"}),s.jsx("span",{children:"SEO"})]})]}),s.jsx(gn,{value:"branding",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(hI,{className:"w-5 h-5"}),s.jsx("span",{children:"الهوية البصرية"})]})}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"siteName",children:"اسم الموقع"}),s.jsx(st,{id:"siteName",value:t.siteName,onChange:h=>d({siteName:h.target.value})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"siteDescription",children:"وصف الموقع"}),s.jsx(st,{id:"siteDescription",value:t.siteDescription,onChange:h=>d({siteDescription:h.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"primaryColor",children:"اللون الأساسي"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(st,{id:"primaryColor",type:"color",value:t.primaryColor,onChange:h=>d({primaryColor:h.target.value}),className:"w-16 h-10"}),s.jsx(st,{value:t.primaryColor,onChange:h=>d({primaryColor:h.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"secondaryColor",children:"اللون الثانوي"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(st,{id:"secondaryColor",type:"color",value:t.secondaryColor,onChange:h=>d({secondaryColor:h.target.value}),className:"w-16 h-10"}),s.jsx(st,{value:t.secondaryColor,onChange:h=>d({secondaryColor:h.target.value}),className:"flex-1"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"accentColor",children:"لون التمييز"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(st,{id:"accentColor",type:"color",value:t.accentColor,onChange:h=>d({accentColor:h.target.value}),className:"w-16 h-10"}),s.jsx(st,{value:t.accentColor,onChange:h=>d({accentColor:h.target.value}),className:"flex-1"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{children:"الشعار"}),s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[s.jsx(K0,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsxs(ge,{variant:"outline",children:[s.jsx(lv,{className:"w-4 h-4 mr-2"}),"رفع الشعار"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"PNG, JPG حتى 2MB"})]})]}),s.jsxs("div",{children:[s.jsx(qe,{children:"الأيقونة"}),s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[s.jsx(K0,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),s.jsxs(ge,{variant:"outline",children:[s.jsx(lv,{className:"w-4 h-4 mr-2"}),"رفع الأيقونة"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"ICO, PNG حتى 1MB"})]})]})]})]})]})}),s.jsx(gn,{value:"business",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(Jl,{className:"w-5 h-5"}),s.jsx("span",{children:"إعدادات الأعمال"})]})}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"currency",children:"العملة"}),s.jsxs(Lr,{value:t.currency,onValueChange:h=>d({currency:h}),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"EGP",children:"جنيه مصري (EGP)"}),s.jsx(At,{value:"USD",children:"دولار أمريكي (USD)"}),s.jsx(At,{value:"EUR",children:"يورو (EUR)"}),s.jsx(At,{value:"SAR",children:"ريال سعودي (SAR)"})]})]})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"timezone",children:"المنطقة الزمنية"}),s.jsxs(Lr,{value:t.timezone,onValueChange:h=>d({timezone:h}),children:[s.jsx(Mr,{children:s.jsx(qr,{})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"Africa/Cairo",children:"القاهرة (GMT+2)"}),s.jsx(At,{value:"Asia/Riyadh",children:"الرياض (GMT+3)"}),s.jsx(At,{value:"Asia/Dubai",children:"دبي (GMT+4)"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"taxRate",children:"معدل الضريبة (%)"}),s.jsx(st,{id:"taxRate",type:"number",value:t.taxRate,onChange:h=>d({taxRate:parseFloat(h.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"shippingCost",children:"تكلفة الشحن (جنيه)"}),s.jsx(st,{id:"shippingCost",type:"number",value:t.shippingCost,onChange:h=>d({shippingCost:parseFloat(h.target.value)||0})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"freeShippingThreshold",children:"حد الشحن المجاني (جنيه)"}),s.jsx(st,{id:"freeShippingThreshold",type:"number",value:t.freeShippingThreshold,onChange:h=>d({freeShippingThreshold:parseFloat(h.target.value)||0})})]})]}),s.jsx(Br,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"معلومات الاتصال"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"contactEmail",children:"البريد الإلكتروني"}),s.jsx(st,{id:"contactEmail",type:"email",value:t.contactEmail,onChange:h=>d({contactEmail:h.target.value})})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"contactPhone",children:"رقم الهاتف"}),s.jsx(st,{id:"contactPhone",value:t.contactPhone,onChange:h=>d({contactPhone:h.target.value})})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx(qe,{htmlFor:"address",children:"العنوان"}),s.jsx(st,{id:"address",value:t.address,onChange:h=>d({address:h.target.value})})]})]})]})]})}),s.jsx(gn,{value:"features",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(e8,{className:"w-5 h-5"}),s.jsx("span",{children:"تفعيل الميزات"})]})}),s.jsx(he,{className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:Object.entries(t.features).map(([h,p])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs(qe,{htmlFor:h,children:[h==="enableReviews"&&"تفعيل التقييمات",h==="enableWishlist"&&"تفعيل قائمة الأمنيات",h==="enableCompare"&&"تفعيل مقارنة المنتجات",h==="enableNewsletter"&&"تفعيل النشرة الإخبارية",h==="enableAffiliate"&&"تفعيل برنامج الشراكة",h==="enableMultiCurrency"&&"تفعيل العملات المتعددة",h==="enableGuestCheckout"&&"تفعيل الطلب كضيف"]})}),s.jsx(jf,{id:h,checked:p,onCheckedChange:y=>f(`features.${h}`,y)})]},h))})})]})}),s.jsx(gn,{value:"security",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(Fs,{className:"w-5 h-5"}),s.jsx("span",{children:"إعدادات الأمان"})]})}),s.jsx(he,{className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:Object.entries(t.security).map(([h,p])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs(qe,{htmlFor:h,children:[h==="enableTwoFactor"&&"تفعيل المصادقة الثنائية",h==="enableBruteForceProtection"&&"حماية من الهجمات",h==="sessionTimeout"&&"انتهاء الجلسة (دقيقة)",h==="passwordMinLength"&&"الحد الأدنى لكلمة المرور",h==="requireStrongPassword"&&"طلب كلمة مرور قوية"]})}),typeof p=="boolean"?s.jsx(jf,{id:h,checked:p,onCheckedChange:y=>f(`security.${h}`,y)}):s.jsx(st,{id:h,type:"number",value:p,onChange:y=>f(`security.${h}`,parseInt(y.target.value)||0),className:"w-20"})]},h))})})]})}),s.jsx(gn,{value:"notifications",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(Yu,{className:"w-5 h-5"}),s.jsx("span",{children:"إعدادات الإشعارات"})]})}),s.jsx(he,{className:"space-y-6",children:s.jsx("div",{className:"space-y-4",children:Object.entries(t.notifications).map(([h,p])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs(qe,{htmlFor:h,children:[h==="emailNotifications"&&"الإشعارات عبر البريد الإلكتروني",h==="smsNotifications"&&"الإشعارات عبر الرسائل النصية",h==="pushNotifications"&&"الإشعارات الفورية",h==="orderNotifications"&&"إشعارات الطلبات",h==="marketingEmails"&&"رسائل التسويق"]})}),s.jsx(jf,{id:h,checked:p,onCheckedChange:y=>f(`notifications.${h}`,y)})]},h))})})]})}),s.jsx(gn,{value:"seo",className:"space-y-6",children:s.jsxs(ce,{children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(Y0,{className:"w-5 h-5"}),s.jsx("span",{children:"إعدادات SEO"})]})}),s.jsx(he,{className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"metaTitle",children:"عنوان الموقع"}),s.jsx(st,{id:"metaTitle",value:t.seo.metaTitle,onChange:h=>f("seo.metaTitle",h.target.value)})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"metaDescription",children:"وصف الموقع"}),s.jsx(st,{id:"metaDescription",value:t.seo.metaDescription,onChange:h=>f("seo.metaDescription",h.target.value)})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"metaKeywords",children:"الكلمات المفتاحية"}),s.jsx(st,{id:"metaKeywords",value:t.seo.metaKeywords,onChange:h=>f("seo.metaKeywords",h.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"googleAnalyticsId",children:"Google Analytics ID"}),s.jsx(st,{id:"googleAnalyticsId",value:t.seo.googleAnalyticsId,onChange:h=>f("seo.googleAnalyticsId",h.target.value)})]}),s.jsxs("div",{children:[s.jsx(qe,{htmlFor:"facebookPixelId",children:"Facebook Pixel ID"}),s.jsx(st,{id:"facebookPixelId",value:t.seo.facebookPixelId,onChange:h=>f("seo.facebookPixelId",h.target.value)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(qe,{htmlFor:"enableSitemap",children:"تفعيل خريطة الموقع"}),s.jsx(jf,{id:"enableSitemap",checked:t.seo.enableSitemap,onCheckedChange:h=>f("seo.enableSitemap",h)})]})]})})]})})]})]})}const os=un.databaseId,Eo="notifications",ant="notification_templates",IU="scheduled_notifications";async function ont(t=100){try{return(await tt.listDocuments(os,Eo,[Se.orderDesc("$createdAt"),Se.limit(t)])).documents}catch(e){return console.error("Error fetching all notifications:",e),[]}}async function lnt(t=50){try{const e=await la.get();return(await tt.listDocuments(os,Eo,[Se.equal("userId",e.$id),Se.orderDesc("$createdAt"),Se.limit(t)])).documents}catch(e){return console.error("Error fetching notifications:",e),[]}}async function cnt(){try{const t=await la.get();return(await tt.listDocuments(os,Eo,[Se.equal("userId",t.$id),Se.equal("isRead",!1),Se.limit(1e3)])).total}catch(t){return console.error("Error fetching unread count:",t),0}}async function mde(t){try{await tt.updateDocument(os,Eo,t,{isRead:!0})}catch(e){throw console.error("Error marking notification as read:",e),e}}async function unt(){try{const t=await la.get(),e=await tt.listDocuments(os,Eo,[Se.equal("userId",t.$id),Se.equal("isRead",!1),Se.limit(100)]);await Promise.all(e.documents.map(n=>tt.updateDocument(os,Eo,n.$id,{isRead:!0})))}catch(t){throw console.error("Error marking all as read:",t),t}}async function dnt(t){try{await tt.deleteDocument(os,Eo,t)}catch(e){throw console.error("Error deleting notification:",e),e}}async function kU(t,e,n,r="info",i){try{return await tt.createDocument(os,Eo,za.unique(),{userId:t,title:e,message:n,type:r,isRead:!1,link:i||null})}catch(a){throw console.error("Error creating notification:",a),a}}async function gde(t,e,n="info"){try{const r=await tt.listDocuments(os,un.collections.users,[Se.limit(1e3)]);let i=0,a=0;return await Promise.all(r.documents.map(async o=>{try{await kU(o.$id,t,e,n),i++}catch{a++}})),{success:i,failed:a}}catch(r){throw console.error("Error broadcasting notification:",r),r}}async function vde(){try{return(await tt.listDocuments(os,ant,[Se.orderDesc("$createdAt"),Se.limit(100)])).documents}catch(t){return console.error("Error fetching templates:",t),xde()}}function xde(){return[{$id:"welcome",name:"ترحيب بمستخدم جديد",title:"مرحباً بك في إيجي جو! 🎉",message:"مرحباً {userName}، نحن سعداء بانضمامك إلينا. استكشف منتجاتنا واستمتع بالتسوق!",type:"success",targetAudience:"customers",channels:["inApp","email"],variables:["userName"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"order_confirmed",name:"تأكيد طلب",title:"تم تأكيد طلبك ✅",message:"طلبك رقم {orderNumber} تم تأكيده بنجاح. سيتم شحنه قريباً.",type:"success",targetAudience:"customers",channels:["inApp","email","sms"],variables:["orderNumber"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"order_shipped",name:"تم شحن الطلب",title:"طلبك في الطريق 🚚",message:"طلبك رقم {orderNumber} تم شحنه. رقم التتبع: {trackingNumber}",type:"info",targetAudience:"customers",channels:["inApp","email","sms","push"],variables:["orderNumber","trackingNumber"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"commission_earned",name:"عمولة جديدة",title:"تهانينا! حصلت على عمولة جديدة 💰",message:"لقد حصلت على عمولة {amount} ج.م من طلب رقم {orderNumber}",type:"success",targetAudience:"affiliates",channels:["inApp","email","push"],variables:["amount","orderNumber"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"commission_paid",name:"تم دفع العمولة",title:"تم تحويل العمولة إلى حسابك 💸",message:"تم تحويل مبلغ {amount} ج.م إلى حسابك. رقم العملية: {transactionId}",type:"success",targetAudience:"affiliates",channels:["inApp","email"],variables:["amount","transactionId"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"promotion",name:"عرض ترويجي",title:"عرض خاص لفترة محدودة! 🎁",message:"احصل على خصم {discount}% على جميع المنتجات. استخدم كود: {couponCode}",type:"promotion",targetAudience:"all",channels:["inApp","email","push"],variables:["discount","couponCode"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"product_back_in_stock",name:"المنتج متوفر الآن",title:"المنتج الذي تنتظره متوفر الآن! 🎉",message:"{productName} عاد للمخزون. اطلبه الآن قبل نفاذ الكمية!",type:"info",targetAudience:"customers",channels:["inApp","email","push"],variables:["productName"],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()},{$id:"password_reset",name:"إعادة تعيين كلمة المرور",title:"طلب إعادة تعيين كلمة المرور",message:"تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني.",type:"info",targetAudience:"all",channels:["inApp","email"],variables:[],isActive:!0,usageCount:0,$createdAt:new Date().toISOString()}]}async function Fx(t,e,n){try{const i=(await vde()).find(l=>l.$id===t);if(!i)throw new Error("Template not found");let a=i.title,o=i.message;if(Object.entries(e).forEach(([l,c])=>{a=a.replace(`{${l}}`,c),o=o.replace(`{${l}}`,c)}),n&&n.length>0){let l=0,c=0;return await Promise.all(n.map(async u=>{try{await kU(u,a,o,i.type),l++}catch{c++}})),{success:l,failed:c}}return await gde(a,o,i.type)}catch(r){throw console.error("Error creating notification from template:",r),r}}async function fnt(t,e){try{return await tt.createDocument(os,IU,za.unique(),{...t,status:"scheduled",scheduledFor:e.toISOString(),readCount:0,clickCount:0,totalRecipients:0})}catch(n){console.error("Error scheduling notification:",n);const r=JSON.parse(localStorage.getItem("scheduled_notifications")||"[]"),i={id:Date.now().toString(),...t,status:"scheduled",scheduledFor:e.toISOString(),readCount:0,clickCount:0};return r.push(i),localStorage.setItem("scheduled_notifications",JSON.stringify(r)),i}}async function hnt(){try{return(await tt.listDocuments(os,IU,[Se.equal("status","scheduled"),Se.orderAsc("scheduledFor"),Se.limit(100)])).documents}catch(t){return console.error("Error fetching scheduled notifications:",t),JSON.parse(localStorage.getItem("scheduled_notifications")||"[]")}}async function pnt(t){try{await tt.updateDocument(os,IU,t,{status:"cancelled"})}catch(e){console.error("Error cancelling scheduled notification:",e);const r=JSON.parse(localStorage.getItem("scheduled_notifications")||"[]").filter(i=>i.id!==t);localStorage.setItem("scheduled_notifications",JSON.stringify(r))}}async function mnt(t){try{await mde(t);try{const e=await tt.getDocument(os,Eo,t);await tt.updateDocument(os,Eo,t,{readCount:(e.readCount||0)+1,readAt:new Date().toISOString()})}catch(e){console.log("Could not update read count:",e)}}catch(e){console.error("Error tracking notification read:",e)}}async function gnt(t){try{const e=await tt.getDocument(os,Eo,t);await tt.updateDocument(os,Eo,t,{clickCount:(e.clickCount||0)+1})}catch(e){console.error("Error tracking notification click:",e)}}async function vnt(){try{const e=(await tt.listDocuments(os,Eo,[Se.equal("status","sent"),Se.limit(1e3)])).documents,n=e.length,r=e.filter(a=>a.isRead).length,i=e.reduce((a,o)=>a+(o.clickCount||0),0);return{totalSent:n,totalRead:r,totalClicks:i,readRate:n>0?r/n*100:0,clickRate:n>0?i/n*100:0}}catch(t){return console.error("Error getting notification analytics:",t),{totalSent:0,totalRead:0,totalClicks:0,readRate:0,clickRate:0}}}async function xnt(t,e,n){try{await Fx("order_confirmed",{orderNumber:e,orderTotal:n.toFixed(2)},[t])}catch(r){console.error("Error sending order confirmation:",r)}}async function ynt(t,e,n){try{await Fx("commission_earned",{amount:e.toFixed(2),orderNumber:n},[t])}catch(r){console.error("Error sending commission notification:",r)}}async function bnt(t,e,n){try{await Fx("commission_paid",{amount:e.toFixed(2),transactionId:n},[t])}catch(r){console.error("Error sending commission paid notification:",r)}}async function wnt(t,e,n){try{await Fx("order_shipped",{orderNumber:e,trackingNumber:n},[t])}catch(r){console.error("Error sending order shipped notification:",r)}}async function _nt(t,e){try{await Fx("welcome",{userName:e},[t])}catch(n){console.error("Error sending welcome notification:",n)}}const Yy={getUserNotifications:lnt,getUnreadCount:cnt,markAsRead:mde,markAllAsRead:unt,deleteNotification:dnt,getAllNotifications:ont,createNotification:kU,broadcastNotification:gde,getNotificationTemplates:vde,getDefaultTemplates:xde,createFromTemplate:Fx,scheduleNotification:fnt,getScheduledNotifications:hnt,cancelScheduledNotification:pnt,trackNotificationRead:mnt,trackNotificationClick:gnt,getNotificationAnalytics:vnt,sendOrderConfirmationNotification:xnt,sendCommissionEarnedNotification:ynt,sendCommissionPaidNotification:bnt,sendOrderShippedNotification:wnt,sendWelcomeNotification:_nt};function Snt(){const{toast:t}=mr(),[e,n]=M.useState(!0),[r,i]=M.useState([]),[a,o]=M.useState([]),[l,c]=M.useState([]),[u,d]=M.useState(""),[f,h]=M.useState(""),[p,y]=M.useState("info"),[g,v]=M.useState("all"),[b,w]=M.useState(["inApp"]),[_,S]=M.useState(""),[j,A]=M.useState(!1),[C,N]=M.useState(""),[T,P]=M.useState(""),[D,O]=M.useState({totalNotifications:0,readRate:0,activeUsersToday:0,engagementRate:0,monthlyGrowth:0});M.useEffect(()=>{I()},[]);const I=async()=>{n(!0);try{await Promise.all([L(),q(),V()])}catch($){console.error("Error loading data:",$)}finally{n(!1)}},L=async()=>{try{const W=(await Yy.getAllNotifications()).map(le=>({id:le.$id,title:le.title,message:le.message,type:le.type,targetAudience:le.targetAudience,specificUsers:le.specificUsers,channels:le.channels,status:le.status,sentAt:le.sentAt,readCount:le.readCount,totalRecipients:le.totalRecipients,createdAt:le.$createdAt,clickCount:le.clickCount}));i(W),z(W)}catch($){console.error("Error loading notifications:",$),i([]),O({totalNotifications:0,readRate:0,activeUsersToday:0,engagementRate:0,monthlyGrowth:0})}},z=$=>{const W=$.length,le=$.reduce((Y,Ie)=>Y+Ie.totalRecipients,0),ie=$.reduce((Y,Ie)=>Y+Ie.readCount,0),re=le>0?ie/le*100:0,_e=new Date,pe=_e.getMonth(),Ne=pe===0?11:pe-1,je=$.filter(Y=>{const Ie=new Date(Y.createdAt);return Ie.getMonth()===pe&&Ie.getFullYear()===_e.getFullYear()}).length,Oe=$.filter(Y=>{const Ie=new Date(Y.createdAt),Xe=pe===0?_e.getFullYear()-1:_e.getFullYear();return Ie.getMonth()===Ne&&Ie.getFullYear()===Xe}).length,Ge=Oe>0?(je-Oe)/Oe*100:je>0?100:0,Pe=$.reduce((Y,Ie)=>Ie.clickCount||0,0),Fe=le>0?(ie+Pe)/le*100:0;O({totalNotifications:W,readRate:Math.round(re*10)/10,activeUsersToday:le,engagementRate:Math.round(Fe*10)/10,monthlyGrowth:Math.round(Ge*10)/10})},q=async()=>{try{const $=await Yy.getNotificationTemplates();o($)}catch($){console.error("Error loading templates:",$)}},V=async()=>{try{const $=await Yy.getScheduledNotifications();c($)}catch($){console.error("Error loading scheduled notifications:",$)}},F=async($=!1)=>{if(!u||!f){t({variant:"destructive",title:"خطأ",description:"يرجى ملء جميع الحقول المطلوبة"});return}if($&&(!C||!T)){t({variant:"destructive",title:"خطأ",description:"يرجى تحديد تاريخ ووقت الإرسال"});return}n(!0);try{if($){const W=new Date(`${C}T${T}`);await Yy.scheduleNotification({title:u,message:f,type:p,targetAudience:g,specificUsers:g==="specific"?_.split(",").map(le=>le.trim()):void 0,channels:b,isRead:!1,totalRecipients:0},W),t({title:"تم الجدولة بنجاح",description:`سيتم إرسال الإشعار في ${W.toLocaleString("ar-EG")}`}),V()}else{await new Promise(le=>setTimeout(le,1500));const W={id:Date.now().toString(),title:u,message:f,type:p,targetAudience:g,specificUsers:g==="specific"?_.split(",").map(le=>le.trim()):void 0,channels:b,status:"sent",sentAt:new Date().toISOString(),readCount:0,totalRecipients:g==="all"?1200:120,createdAt:new Date().toISOString()};i([W,...r]),t({title:"تم الإرسال بنجاح",description:`تم إرسال الإشعار إلى ${W.totalRecipients} مستخدم`})}d(""),h(""),y("info"),v("all"),w(["inApp"]),S(""),N(""),P("")}catch{t({variant:"destructive",title:"خطأ",description:"فشل في إرسال الإشعار"})}finally{n(!1)}},U=$=>{d($.title),h($.message),y($.type),v($.targetAudience),w($.channels),t({title:"تم تطبيق القالب",description:`تم تطبيق قالب "${$.name}"`})},H=$=>{switch($){case"info":return"bg-blue-500";case"success":return"bg-green-500";case"warning":return"bg-yellow-500";case"error":return"bg-red-500";case"promotion":return"bg-purple-500";default:return"bg-gray-500"}};return s.jsx(xo,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"إدارة الإشعارات"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"أرسل إشعارات للمستخدمين وتابع حالة الإشعارات المرسلة"})]}),s.jsxs(jt,{variant:"outline",className:"gap-1",children:[s.jsx(Yu,{className:"h-4 w-4"}),r.length," إشعار"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي الإشعارات"}),s.jsx(Yu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:D.totalNotifications}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.monthlyGrowth>0?"+":"",D.monthlyGrowth,"% من الشهر الماضي"]})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"معدل القراءة"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[D.readRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"من إجمالي المرسل"})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"إجمالي المستلمين"}),s.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsx("div",{className:"text-2xl font-bold",children:D.activeUsersToday.toLocaleString()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"مستخدم"})]})]}),s.jsxs(ce,{children:[s.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ce,{className:"text-sm font-medium",children:"معدل التفاعل"}),s.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(he,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[D.engagementRate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"قراءة + نقر"})]})]})]}),s.jsxs(vl,{defaultValue:"send",className:"space-y-4",children:[s.jsxs(No,{children:[s.jsx(mn,{value:"send",children:"إرسال إشعار جديد"}),s.jsx(mn,{value:"templates",children:"القوالب"}),s.jsx(mn,{value:"scheduled",children:"المجدولة"}),s.jsx(mn,{value:"history",children:"سجل الإشعارات"})]}),s.jsx(gn,{value:"send",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"إرسال إشعار جديد"}),s.jsx(on,{children:"أرسل إشعارات مخصصة للمستخدمين عبر قنوات متعددة"})]}),s.jsxs(he,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"title",children:"عنوان الإشعار *"}),s.jsx(st,{id:"title",placeholder:"أدخل عنوان الإشعار",value:u,onChange:$=>d($.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"message",children:"نص الرسالة *"}),s.jsx(_o,{id:"message",placeholder:"أدخل نص الرسالة...",rows:4,value:f,onChange:$=>h($.target.value)}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.length,"/500 حرف"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"نوع الإشعار"}),s.jsxs(ON,{value:p,onValueChange:$=>y($),children:[s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Tc,{value:"info",id:"info"}),s.jsxs(qe,{htmlFor:"info",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx($a,{className:"h-4 w-4 text-blue-500"}),"معلومات"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Tc,{value:"success",id:"success"}),s.jsxs(qe,{htmlFor:"success",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Fi,{className:"h-4 w-4 text-green-500"}),"نجاح"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Tc,{value:"warning",id:"warning"}),s.jsxs(qe,{htmlFor:"warning",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx($a,{className:"h-4 w-4 text-yellow-500"}),"تحذير"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Tc,{value:"promotion",id:"promotion"}),s.jsxs(qe,{htmlFor:"promotion",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(hw,{className:"h-4 w-4 text-purple-500"}),"عرض ترويجي"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"الجمهور المستهدف"}),s.jsxs(Lr,{value:g,onValueChange:$=>v($),children:[s.jsx(Mr,{children:s.jsx(qr,{placeholder:"اختر الجمهور المستهدف"})}),s.jsxs(Tr,{children:[s.jsx(At,{value:"all",children:"جميع المستخدمين"}),s.jsx(At,{value:"customers",children:"العملاء فقط"}),s.jsx(At,{value:"affiliates",children:"المسوقين بالعمولة"}),s.jsx(At,{value:"merchants",children:"التجار"}),s.jsx(At,{value:"specific",children:"مستخدمين محددين"})]})]})]}),g==="specific"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{htmlFor:"emails",children:"البريد الإلكتروني للمستخدمين"}),s.jsx(_o,{id:"emails",placeholder:"أدخل البريد الإلكتروني مفصولاً بفاصلة...",rows:3,value:_,onChange:$=>S($.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"قنوات الإرسال"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"inApp",checked:b.includes("inApp"),onCheckedChange:$=>{w($?[...b,"inApp"]:b.filter(W=>W!=="inApp"))}}),s.jsxs(qe,{htmlFor:"inApp",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Z$,{className:"h-4 w-4"}),"داخل التطبيق"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[s.jsx(Qc,{id:"email",checked:b.includes("email"),onCheckedChange:$=>{w($?[...b,"email"]:b.filter(W=>W!=="email"))}}),s.jsxs(qe,{htmlFor:"email",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(Kc,{className:"h-4 w-4"}),"البريد الإلكتروني"]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(qe,{children:"جدولة الإرسال (اختياري)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{children:s.jsx(st,{type:"date",value:C,onChange:$=>N($.target.value),min:new Date().toISOString().split("T")[0]})}),s.jsx("div",{children:s.jsx(st,{type:"time",value:T,onChange:$=>P($.target.value)})})]}),C&&T&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["سيتم الإرسال في: ",new Date(`${C}T${T}`).toLocaleString("ar-EG")]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(ge,{variant:"outline",onClick:()=>A(!0),disabled:!u||!f,children:[s.jsx($s,{className:"h-4 w-4 ml-2"}),"معاينة"]}),s.jsxs("div",{className:"space-x-2 rtl:space-x-reverse",children:[s.jsx(ge,{variant:"outline",onClick:()=>{d(""),h(""),y("info"),v("all"),w(["inApp"]),S("")},children:"إلغاء"}),s.jsx(ge,{onClick:()=>F(!1),disabled:e,children:e?s.jsx(s.Fragment,{children:"جاري الإرسال..."}):s.jsxs(s.Fragment,{children:[s.jsx(u4,{className:"h-4 w-4 ml-2"}),"إرسال فوراً"]})}),s.jsx(ge,{variant:"secondary",onClick:()=>F(!0),disabled:e,children:e?s.jsx(s.Fragment,{children:"جاري الجدولة..."}):s.jsxs(s.Fragment,{children:[s.jsx(a4,{className:"h-4 w-4 ml-2"}),"جدولة للإرسال"]})})]})]})]})]})}),s.jsx(gn,{value:"history",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"سجل الإشعارات المرسلة"}),s.jsx(on,{children:"عرض جميع الإشعارات المرسلة سابقاً"})]}),s.jsx(he,{children:s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"النوع"}),s.jsx(ut,{children:"العنوان"}),s.jsx(ut,{children:"الجمهور"}),s.jsx(ut,{children:"القنوات"}),s.jsx(ut,{children:"المستلمين"}),s.jsx(ut,{children:"معدل القراءة"}),s.jsx(ut,{children:"التاريخ"}),s.jsx(ut,{children:"الإجراءات"})]})}),s.jsx(ys,{children:r.map($=>s.jsxs(Vn,{children:[s.jsx(dt,{children:s.jsx(jt,{className:`${H($.type)} text-white`,children:$.type})}),s.jsx(dt,{className:"font-medium",children:$.title}),s.jsxs(dt,{children:[$.targetAudience==="all"&&"الجميع",$.targetAudience==="customers"&&"العملاء",$.targetAudience==="affiliates"&&"المسوقين",$.targetAudience==="merchants"&&"التجار",$.targetAudience==="specific"&&"محدد"]}),s.jsx(dt,{children:s.jsxs("div",{className:"flex gap-1",children:[$.channels.includes("inApp")&&s.jsx(Z$,{className:"h-4 w-4"}),$.channels.includes("email")&&s.jsx(Kc,{className:"h-4 w-4"})]})}),s.jsx(dt,{children:$.totalRecipients}),s.jsxs(dt,{children:[Math.round($.readCount/$.totalRecipients*100),"%"]}),s.jsx(dt,{className:"text-sm",children:new Date($.sentAt||$.createdAt).toLocaleDateString("ar-EG")}),s.jsx(dt,{children:s.jsx(ge,{variant:"ghost",size:"icon",children:s.jsx($s,{className:"h-4 w-4"})})})]},$.id))})]})})]})}),s.jsx(gn,{value:"templates",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"قوالب الإشعارات الجاهزة"}),s.jsx(on,{children:"استخدم القوالب الجاهزة للإشعارات الشائعة"})]}),s.jsx(he,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map($=>s.jsxs(ce,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[s.jsx(Ee,{children:s.jsxs(Ce,{className:"text-lg flex items-center gap-2",children:[s.jsx(jt,{className:`${H($.type)} text-white`,children:$.type}),$.name]})}),s.jsxs(he,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:$.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:$.message})]}),$.variables&&$.variables.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"المتغيرات:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:$.variables.map(W=>s.jsx(jt,{variant:"outline",className:"text-xs",children:`{${W}}`},W))})]}),s.jsxs("div",{className:"flex justify-between items-center mt-4",children:[s.jsx(jt,{variant:"secondary",children:$.targetAudience}),s.jsxs(ge,{size:"sm",onClick:()=>U($),children:[s.jsx(Rp,{className:"h-4 w-4 ml-2"}),"استخدام"]})]})]})]},$.$id))})})]})}),s.jsx(gn,{value:"scheduled",className:"space-y-4",children:s.jsxs(ce,{children:[s.jsxs(Ee,{children:[s.jsx(Ce,{children:"الإشعارات المجدولة"}),s.jsx(on,{children:"الإشعارات المقرر إرسالها لاحقاً"})]}),s.jsx(he,{children:l.length>0?s.jsxs(vs,{children:[s.jsx(xs,{children:s.jsxs(Vn,{children:[s.jsx(ut,{children:"العنوان"}),s.jsx(ut,{children:"النوع"}),s.jsx(ut,{children:"الجمهور"}),s.jsx(ut,{children:"موعد الإرسال"}),s.jsx(ut,{children:"الحالة"}),s.jsx(ut,{children:"الإجراءات"})]})}),s.jsx(ys,{children:l.map($=>s.jsxs(Vn,{children:[s.jsx(dt,{className:"font-medium",children:$.title}),s.jsx(dt,{children:s.jsx(jt,{className:`${H($.type)} text-white`,children:$.type})}),s.jsx(dt,{children:$.targetAudience}),s.jsx(dt,{className:"text-sm",children:new Date($.scheduledFor).toLocaleString("ar-EG")}),s.jsx(dt,{children:s.jsx(jt,{variant:"outline",children:"مجدول"})}),s.jsx(dt,{children:s.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>{confirm("هل تريد إلغاء هذا الإشعار المجدول?")&&(Yy.cancelScheduledNotification($.id||$.$id),V(),t({title:"تم الإلغاء",description:"تم إلغاء الإشعار المجدول"}))},children:s.jsx(fl,{className:"h-4 w-4"})})})]},$.id||$.$id))})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ui,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"لا توجد إشعارات مجدولة حالياً"})]})})]})})]}),s.jsx(_i,{open:j,onOpenChange:A,children:s.jsxs(di,{children:[s.jsxs(Si,{children:[s.jsx(ji,{children:"معاينة الإشعار"}),s.jsx(ga,{children:"هكذا سيظهر الإشعار للمستخدمين"})]}),s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${H(p)} text-white`,children:s.jsx(Yu,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold",children:u||"عنوان الإشعار"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f||"نص الرسالة"})]})]})})})]})})]})})}const pp=un.databaseId;async function jnt(t){try{const e=await tt.getDocument(pp,"users",t),n=await tt.listDocuments(pp,"orders",[Se.equal("userId",t),Se.limit(10),Se.orderDesc("$createdAt")]);let r=`معلومات المستخدم:
`;if(r+=`- الاسم: ${e.name}
`,r+=`- عدد الطلبات: ${n.total}
`,e.isAffiliate){const i=await tt.listDocuments(pp,"commissions",[Se.equal("affiliateId",t),Se.limit(100)]),a=i.documents.reduce((l,c)=>l+(c.amount||0),0),o=i.documents.filter(l=>l.status==="pending").reduce((l,c)=>l+(c.amount||0),0);r+=`- مسوق بالعمولة: نعم
`,r+=`- إجمالي العمولات: ${a} جنيه
`,r+=`- العمولات المعلقة: ${o} جنيه
`,r+=`- عدد الإحالات: ${i.total}
`}return n.total>0&&(r+=`
آخر الطلبات:
`,n.documents.slice(0,3).forEach((i,a)=>{r+=`${a+1}. طلب ${i.orderNumber} - ${i.status} - ${i.totalAmount} جنيه
`})),r}catch(e){return console.error("Error building user context:",e),"لا توجد بيانات كافية حالياً."}}async function Ent(){try{const[t,e,n,r]=await Promise.all([tt.listDocuments(pp,"users",[Se.limit(1e3)]),tt.listDocuments(pp,"orders",[Se.limit(1e3)]),tt.listDocuments(pp,"products",[Se.limit(1e3)]),tt.listDocuments(pp,"commissions",[Se.limit(1e3)])]),i=e.documents.reduce((A,C)=>C.status==="delivered"?A+(C.totalAmount||0):A,0),a=e.documents.filter(A=>A.status==="pending"||A.status==="processing").length,o=t.documents.filter(A=>A.isAffiliate),l=r.documents.filter(A=>A.status==="paid").reduce((A,C)=>A+(C.amount||0),0),c=new Map;e.documents.forEach(A=>{A.items?.forEach(C=>{const N=c.get(C.productId)||{count:0,revenue:0,name:C.name};N.count+=C.quantity||1,N.revenue+=(C.price||0)*(C.quantity||1),c.set(C.productId,N)})});const u=Array.from(c.entries()).sort((A,C)=>C[1].revenue-A[1].revenue).slice(0,5),d=new Map;r.documents.forEach(A=>{const C=d.get(A.affiliateId)||0;d.set(A.affiliateId,C+(A.amount||0))});const f=Array.from(d.entries()).sort((A,C)=>C[1]-A[1]).slice(0,5);let h=`📊 تقرير شامل عن الموقع:

`;h+=`📈 إحصائيات عامة:
`,h+=`- إجمالي المستخدمين: ${t.total}
`,h+=`- المسوقين بالعمولة: ${o.length}
`,h+=`- إجمالي الطلبات: ${e.total}
`,h+=`- الطلبات المعلقة: ${a}
`,h+=`- إجمالي الإيرادات: ${i.toFixed(2)} جنيه
`,h+=`- إجمالي العمولات المدفوعة: ${l.toFixed(2)} جنيه

`,h+=`🏆 أفضل المنتجات:
`,u.forEach(([A,C],N)=>{h+=`${N+1}. ${C.name} - ${C.count} مبيعة - ${C.revenue.toFixed(2)} جنيه
`}),h+=`
💼 أفضل المسوقين:
`;for(let A=0;A<Math.min(f.length,5);A++){const[C,N]=f[A],T=t.documents.find(P=>P.$id===C);h+=`${A+1}. ${T?.name||"مستخدم"} - ${N.toFixed(2)} جنيه عمولات
`}h+=`
📦 حالة المخزون:
`;const p=n.documents.filter(A=>(A.stock||0)<10);h+=`- منتجات منخفضة المخزون: ${p.length}
`,p.length>0&&(h+=`المنتجات:
`,p.slice(0,5).forEach(A=>{h+=`  • ${A.name} - ${A.stock||0} قطعة
`}));const y=new Date,g=new Date(y.getTime()-720*60*60*1e3),v=new Date(y.getTime()-1440*60*60*1e3),b=e.documents.filter(A=>new Date(A.$createdAt)>g),w=e.documents.filter(A=>{const C=new Date(A.$createdAt);return C>v&&C<=g}),_=b.reduce((A,C)=>A+(C.totalAmount||0),0),S=w.reduce((A,C)=>A+(C.totalAmount||0),0),j=S>0?((_-S)/S*100).toFixed(1):"∞";return h+=`
📊 النمو (آخر 30 يوم):
`,h+=`- الطلبات: ${b.length} (السابق: ${w.length})
`,h+=`- الإيرادات: ${_.toFixed(2)} جنيه (السابق: ${S.toFixed(2)} جنيه)
`,h+=`- معدل النمو: ${j}%
`,h}catch(t){return console.error("Error building admin context:",t),"حدث خطأ في جمع بيانات الموقع."}}const Nnt=new Ll().setEndpoint("https://fra.cloud.appwrite.io/v1").setProject("68d8b9db00134c41e7c8"),Ant=new Dwe(Nnt);function Cnt(){const[t,e]=M.useState(!1),[n,r]=M.useState([]),[i,a]=M.useState(""),[o,l]=M.useState(!1),[c,u]=M.useState(!1),[d,f]=M.useState(null),[h,p]=M.useState(!1),y=M.useRef(null),{user:g}=ur(),v=M.useRef([]),[b,w]=M.useState(null);M.useEffect(()=>{t&&g&&!b&&_()},[t,g]);const _=async()=>{if(g){p(!0);try{const P=g.labels?.includes("admin")||g.email==="admin@egygo.com";let D;P?D=await Ent():D=await jnt(g.$id),w(D),console.log("✅ Context loaded:",D.substring(0,100)+"...")}catch(P){console.error("Error loading context:",P)}finally{p(!1)}}};M.useEffect(()=>{if(console.log("🔍 useEffect triggered - initializing chat..."),typeof window>"u"){console.log("⚠️ Server-side render detected, skipping");return}if(v.current.length>0){console.log("✅ Chat already initialized, skipping");return}console.log("� Initializing chat history with system prompt...");try{const P=`أنت مساعد ذكي لموقع إيجي جو للتسوق الإلكتروني في مصر. 

معلومات عن الموقع:
- موقع تسوق إلكتروني مصري
- يبيع منتجات متنوعة بأسعار تنافسية
- شحن لجميع أنحاء مصر (مجاني فوق 500 جنيه)
- دفع عند الاستلام متاح
- برنامج تسويق بالعمولة (لحد 25%)
- برنامج للتجار لبيع منتجاتهم
- ضمان على المنتجات
- إرجاع مجاني خلال 14 يوم

قدراتك الخاصة:
✅ يمكنك رؤية بيانات المستخدم الكاملة (طلبات، عمولات، إحصائيات)
✅ يمكنك عمل تقارير شاملة للأدمن عن أداء الموقع
✅ يمكنك تحليل البيانات وإعطاء نصائح مخصصة
✅ يمكنك اقتراح خطط تطوير بناءً على نشاط المستخدم

الأوامر الخاصة:
• "راجع حسابي" → أعرض تحليل شامل لحساب المستخدم
• "اعمل تقرير" → أنشئ تقرير مفصل للأدمن عن الموقع
• "نصائح" → أعطي نصائح ذكية بناءً على البيانات
• "جدول تطوير" → أقترح خطة عمل مخصصة

تعليمات مهمة:
1. تحدث باللهجة المصرية الطبيعية (مثل: "ازيك"، "دلوقتي"، "عشان"، "لحد")
2. استخدم البيانات المتاحة لك لتقديم إجابات مخصصة ودقيقة
3. عند كتابة تقارير، نظمها بعناوين واضحة وأرقام محددة
4. أعطي توصيات قابلة للتنفيذ (actionable recommendations)
5. استخدم emojis مصرية (🇪🇬 ❤️ 🛍️ 💰 📊 📈 🏆)
6. عند رؤية بيانات المستخدم في [بيانات المستخدم]، حللها واستخدمها في إجابتك`;v.current=[{role:"system",content:P}],console.log("💬 Chat history initialized, length:",v.current.length),u(!0),f(null),console.log("✅ Chat initialization complete!")}catch(P){console.error("❌ Failed to initialize chat:",P),f("init-failed")}},[]),M.useEffect(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight)},[n]);const S=[{label:"📊 راجع حسابي",value:"راجع حسابي وقولي إيه الإحصائيات بتاعتي"},{label:"💡 نصائح ذكية",value:"اديني نصائح ذكية بناءً على نشاطي"},{label:"📈 جدول تطوير",value:"اعمل لي جدول تطوير مخصص"},{label:"🎯 اقتراحات",value:"اقترح علي حاجات تساعدني أحسن أدائي"}],j=[{label:"📊 تقرير شامل",value:"اعمل تقرير شامل عن أداء الموقع"},{label:"🏆 أفضل المسوقين",value:"اعرض أفضل 10 مسوقين بالعمولة"},{label:"📦 حالة المخزون",value:"راجع حالة المخزون والمنتجات المنخفضة"},{label:"💰 تحليل الإيرادات",value:"حلل الإيرادات وقولي فين المشاكل"}],A=P=>{a(P),setTimeout(()=>{document.querySelector("[data-send-button]")?.click()},100)},C=()=>{if(!g)return[{icon:s.jsx(cv,{className:"h-5 w-5"}),title:"سجل دخولك الآن",message:"سجل دخول عشان تقدر تتابع طلباتك وتستفيد من كل المميزات",action:{label:"تسجيل الدخول",link:"/login"}}];const P=[];return g.isAffiliate&&P.push({icon:s.jsx(br,{className:"h-5 w-5 text-orange-600"}),title:"زود أرباحك من التسويق",message:"ركز على المنتجات اللي فيها عمولة أعلى وشاركها على السوشيال ميديا بشكل منتظم",action:{label:"شوف أفضل المنتجات",link:"/affiliate/dashboard"}},{icon:s.jsx(br,{className:"h-5 w-5 text-orange-600"}),title:"استخدم الأدوات التسويقية",message:"عندنا بنرات وصور جاهزة تقدر تستخدمها في حملاتك التسويقية",action:{label:"شوف الأدوات",link:"/affiliate/creatives"}}),g.role==="merchant"&&P.push({icon:s.jsx(Zh,{className:"h-5 w-5 text-purple-600"}),title:"حسن صور منتجاتك",message:"المنتجات اللي فيها صور واضحة بتبيع أكتر بنسبة 70%. حط صور احترافية لمنتجاتك",action:{label:"إدارة المنتجات",link:"/admin/products"}},{icon:s.jsx(Zh,{className:"h-5 w-5 text-purple-600"}),title:"تابع أداء مبيعاتك",message:"راجع تقارير المبيعات بتاعتك واعرف أكتر المنتجات مبيعاً",action:{label:"شوف التقارير",link:"/merchant/dashboard"}}),g.role==="admin"&&P.push({icon:s.jsx(Fs,{className:"h-5 w-5 text-primary"}),title:"راجع الطلبات الجديدة",message:"فيه طلبات محتاجة مراجعة. اتأكد من معالجتها بسرعة عشان رضا العملاء",action:{label:"الطلبات",link:"/admin/orders"}},{icon:s.jsx(Fs,{className:"h-5 w-5 text-primary"}),title:"تحليل أداء الموقع",message:"راجع إحصائيات الموقع واعرف المنتجات الأكتر مبيعاً والأقسام الأكتر زيارة",action:{label:"لوحة التحكم",link:"/admin"}}),P.push({icon:s.jsx(J$,{className:"h-5 w-5 text-blue-600"}),title:"محتاج مساعدة؟",message:"أنا هنا عشان أساعدك! اسألني أي حاجة عن الموقع أو منتجاتنا"}),P};M.useEffect(()=>{if(t&&n.length===0){const P=g?`أهلاً ${g.name}! 👋

أنا مساعدك الذكي في إيجي جو. ازيك النهاردة؟ محتاج مساعدة في حاجة معينة؟`:`أهلاً بيك في إيجي جو! 👋

أنا المساعد الذكي بتاعنا. ممكن أساعدك في إيه النهاردة؟`;r([{id:"1",type:"bot",content:P,timestamp:new Date}]),setTimeout(()=>{const O=C().slice(0,2).map(I=>`💡 ${I.title}
${I.message}`).join(`

`);r(I=>[...I,{id:String(I.length+1),type:"bot",content:O,timestamp:new Date}])},1e3)}},[t,g]);const N=async()=>{if(console.log("📤 handleSendMessage called"),!i.trim()){console.log("⚠️ Empty input, aborting");return}const P=i;console.log("📝 User input:",P);const D={id:String(n.length+1),type:"user",content:P,timestamp:new Date};r(O=>[...O,D]),a(""),l(!0);try{console.log("✅ Using Appwrite Functions SDK...");const I=["راجع","شوف بياناتي","تقرير","نصائح","نصيحة","جدول تطوير","حسابي"].some(U=>P.includes(U));let L=P;I&&b?L=`${P}

[بيانات المستخدم]:
${b}`:I&&!b&&(await _(),b&&(L=`${P}

[بيانات المستخدم]:
${b}`)),v.current.push({role:"user",content:L});const z=await Ant.createExecution("openai-chat",JSON.stringify({messages:v.current}),!1,"/",xI.POST),V=JSON.parse(z.responseBody).message||"عذراً، ما قدرتش أفهم. جرب تاني 🙏";v.current.push({role:"assistant",content:V});const F={id:String(n.length+2),type:"bot",content:V,timestamp:new Date};r(U=>[...U,F])}catch(O){console.error("OpenAI API Error:",O);let I="عذراً، حصل خطأ في الاتصال. جرب تاني بعد شوية 🙏";O?.message?.includes("API key")||O?.message?.includes("401")?I="في مشكلة في إعدادات الـ API. يرجى التواصل مع الدعم 🔑":O?.message?.includes("quota")||O?.message?.includes("429")?I="وصلنا للحد الأقصى من الطلبات. جرب تاني بعد دقيقة ⏱️":(O?.message?.includes("network")||O?.message?.includes("fetch"))&&(I="في مشكلة في الاتصال بالإنترنت. تأكد من اتصالك وجرب تاني 🌐");const L={id:String(n.length+2),type:"bot",content:I,timestamp:new Date};r(z=>[...z,L])}finally{l(!1)}},T=()=>g?g.role==="admin"?s.jsxs(jt,{variant:"default",className:"bg-primary",children:[s.jsx(Fs,{className:"h-3 w-3 mr-1"}),"مدير"]}):g.role==="merchant"?s.jsxs(jt,{className:"bg-purple-600",children:[s.jsx(Zh,{className:"h-3 w-3 mr-1"}),"تاجر"]}):g.isAffiliate?s.jsxs(jt,{className:"bg-orange-600",children:[s.jsx(br,{className:"h-3 w-3 mr-1"}),"مسوق"]}):null:null;return s.jsxs(s.Fragment,{children:[!t&&s.jsx(ge,{onClick:()=>e(!0),className:"fixed bottom-6 left-6 h-14 w-14 rounded-full shadow-2xl z-50 hover:scale-110 transition-transform",size:"icon",children:s.jsx(FZ,{className:"h-6 w-6"})}),t&&s.jsxs(ce,{className:"fixed bottom-6 left-6 w-96 h-[600px] shadow-2xl z-50 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-primary text-primary-foreground rounded-t-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-foreground/20 flex items-center justify-center",children:s.jsx(J$,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"مساعد إيجي جو الذكي"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs opacity-90",children:"متاح دلوقتي • OpenAI"}),T()]})]})]}),s.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"hover:bg-primary-foreground/20 text-primary-foreground",children:s.jsx(tm,{className:"h-5 w-5"})})]}),s.jsx(O4,{className:"flex-1 p-4",ref:y,children:s.jsxs("div",{className:"space-y-4",children:[n.map(P=>s.jsx("div",{className:`flex ${P.type==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${P.type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:P.content}),s.jsx("span",{className:"text-xs opacity-70 mt-1 block",children:P.timestamp.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]})},P.id)),o&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-muted rounded-lg p-3",children:s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx(Da,{className:"h-4 w-4 animate-spin text-primary"}),s.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"جاري الكتابة..."})]})})})]})}),s.jsxs("div",{className:"p-4 border-t space-y-3",children:[n.length===0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-muted-foreground",children:"إجراءات سريعة:"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:(g&&g.labels?.includes("admin")?j:S).map(P=>s.jsx(ge,{variant:"outline",size:"sm",onClick:()=>A(P.value),disabled:o||h,className:"text-xs h-auto py-2 px-2 justify-start",children:P.label},P.label))})]}),h&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Da,{className:"h-3 w-3 animate-spin"}),s.jsx("span",{children:"جاري تحميل بياناتك..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(st,{placeholder:"اكتب رسالتك هنا...",value:i,onChange:P=>a(P.target.value),onKeyPress:P=>P.key==="Enter"&&!o&&N(),disabled:o,className:"flex-1"}),s.jsx(ge,{onClick:N,size:"icon",disabled:o||!i.trim(),"data-send-button":!0,children:s.jsx(u4,{className:"h-4 w-4"})})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:["مدعوم بـ OpenAI 🤖 ",b&&"• بيانات محدثة"]})]})]})]})}const yde=M.forwardRef(({...t},e)=>s.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));yde.displayName="Breadcrumb";const bde=M.forwardRef(({className:t,...e},n)=>s.jsx("ol",{ref:n,className:Nt("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));bde.displayName="BreadcrumbList";const rj=M.forwardRef(({className:t,...e},n)=>s.jsx("li",{ref:n,className:Nt("inline-flex items-center gap-1.5",t),...e}));rj.displayName="BreadcrumbItem";const LL=M.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?wQ:"a";return s.jsx(i,{ref:r,className:Nt("transition-colors hover:text-foreground",e),...n})});LL.displayName="BreadcrumbLink";const wde=M.forwardRef(({className:t,...e},n)=>s.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Nt("font-normal text-foreground",t),...e}));wde.displayName="BreadcrumbPage";const FL=({children:t,className:e,...n})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:Nt("[&>svg]:size-3.5",e),...n,children:t??s.jsx(TZ,{})});FL.displayName="BreadcrumbSeparator";const Mnt={"":"الرئيسية",products:"المنتجات",categories:"الفئات",cart:"سلة التسوق",checkout:"إتمام الطلب",orders:"طلباتي",wishlist:"المفضلة",affiliate:"الشراكة",merchant:"التاجر",admin:"الإدارة",account:"حسابي",login:"تسجيل الدخول",register:"إنشاء حساب"};function Tnt(){const e=ac().pathname.split("/").filter(Boolean);let n="";const r=e.map((i,a)=>{n+=`/${i}`;const o=a===e.length-1,l=Mnt[i]||decodeURIComponent(i);return o?s.jsx(rj,{children:s.jsx(wde,{children:l})},n):s.jsxs(rj,{children:[s.jsx(LL,{asChild:!0,children:s.jsx(ot,{to:n,children:l})}),s.jsx(FL,{})]},n)});return s.jsx(yde,{className:"py-2 px-2 md:px-0",children:s.jsxs(bde,{children:[s.jsxs(rj,{children:[s.jsx(LL,{asChild:!0,children:s.jsx(ot,{to:"/",children:"الرئيسية"})}),e.length>0&&s.jsx(FL,{})]}),r]})})}function _de(t,e="low"){return new Promise((n,r)=>{const i=new Image;if(i.onload=()=>n(),i.onerror=r,i.src=t,e==="high"&&typeof document<"u"){const a=document.createElement("link");a.rel="preload",a.as="image",a.href=t,document.head.appendChild(a)}})}async function Pnt(t,e="low"){const n=t.map(r=>_de(r,e));await Promise.allSettled(n)}class vQ{static preloadedResources=new Set;static preloadQueue=[];static isPreloading=!1;static preloadCSS(e){if(this.preloadedResources.has(e))return;const n=document.createElement("link");n.rel="preload",n.as="style",n.href=e,n.onload=()=>{n.rel="stylesheet"},document.head.appendChild(n),this.preloadedResources.add(e)}static preloadJS(e){if(this.preloadedResources.has(e))return;const n=document.createElement("link");n.rel="preload",n.as="script",n.href=e,document.head.appendChild(n),this.preloadedResources.add(e)}static preloadFont(e,n="font/woff2"){if(this.preloadedResources.has(e))return;const r=document.createElement("link");r.rel="preload",r.as="font",r.type=n,r.href=e,r.crossOrigin="anonymous",document.head.appendChild(r),this.preloadedResources.add(e)}static async preloadAPI(e){if(this.preloadedResources.has(e))return null;try{const n=await fetch(e,{method:"GET",headers:{Accept:"application/json"}});if(n.ok){const r=await n.json();return this.preloadedResources.add(e),r}}catch(n){console.warn("Failed to preload API data:",n)}return null}static async preloadImages(e){const n=e.filter(r=>!this.preloadedResources.has(r));n.length!==0&&(await Pnt(n,"low"),n.forEach(r=>this.preloadedResources.add(r)))}static queuePreload(e){this.preloadQueue.push(...e),this.processQueue()}static async processQueue(){if(!(this.isPreloading||this.preloadQueue.length===0)){for(this.isPreloading=!0;this.preloadQueue.length>0;){const e=this.preloadQueue.shift();e.endsWith(".css")?this.preloadCSS(e):e.endsWith(".js")?this.preloadJS(e):e.match(/\.(woff2?|ttf|otf)$/)?this.preloadFont(e):e.match(/\.(jpg|jpeg|png|webp|avif)$/)&&(await _de(e,"low"),this.preloadedResources.add(e)),await new Promise(n=>setTimeout(n,10))}this.isPreloading=!1}}}class xQ{static metrics={};static observers=[];static startTiming(e){this.metrics[e]=performance.now()}static endTiming(e){const n=this.metrics[e];if(!n)return 0;const r=performance.now()-n;return delete this.metrics[e],r>100&&console.warn(`Slow operation: ${e} took ${r.toFixed(2)}ms`),r}static async measureAsync(e,n){this.startTiming(e);try{const r=await n();return this.endTiming(e),r}catch(r){throw this.endTiming(e),r}}static measure(e,n){this.startTiming(e);try{const r=n();return this.endTiming(e),r}catch(r){throw this.endTiming(e),r}}static initWebVitals(){if(typeof window>"u")return;const e=new PerformanceObserver(i=>{const a=i.getEntries(),o=a[a.length-1];console.log("LCP:",o.startTime)});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e);const n=new PerformanceObserver(i=>{i.getEntries().forEach(o=>{console.log("FID:",o.processingStart-o.startTime)})});n.observe({entryTypes:["first-input"]}),this.observers.push(n);const r=new PerformanceObserver(i=>{let a=0;i.getEntries().forEach(l=>{l.hadRecentInput||(a+=l.value)}),console.log("CLS:",a)});r.observe({entryTypes:["layout-shift"]}),this.observers.push(r)}static cleanup(){this.observers.forEach(e=>e.disconnect()),this.observers=[]}}class WO{static dnsPrefetch(e){const n=document.createElement("link");n.rel="dns-prefetch",n.href=`//${e}`,document.head.appendChild(n)}static preconnect(e){const n=document.createElement("link");n.rel="preconnect",n.href=e,document.head.appendChild(n)}static prefetch(e){const n=document.createElement("link");n.rel="prefetch",n.href=e,document.head.appendChild(n)}static modulePreload(e){const n=document.createElement("link");n.rel="modulepreload",n.href=e,document.head.appendChild(n)}}class Dnt{static chunks={};static trackChunk(e,n){this.chunks[e]=n}static getStats(){const e=Object.values(this.chunks).reduce((i,a)=>i+a,0),n=Object.keys(this.chunks).length,r=Object.entries(this.chunks).reduce((i,[a,o])=>o>i.size?{name:a,size:o}:i,{name:"",size:0});return{totalSize:e,chunkCount:n,largestChunk:r,chunks:{...this.chunks}}}static logAnalysis(){const e=this.getStats();console.group("Bundle Analysis"),console.log(`Total Size: ${(e.totalSize/1024).toFixed(2)} KB`),console.log(`Chunk Count: ${e.chunkCount}`),console.log(`Largest Chunk: ${e.largestChunk.name} (${(e.largestChunk.size/1024).toFixed(2)} KB)`),console.table(e.chunks),console.groupEnd()}}class Rnt{static swRegistration=null;static async register(e="/sw.js"){if(!("serviceWorker"in navigator))return console.warn("Service Worker not supported"),null;try{return this.swRegistration=await navigator.serviceWorker.register(e),console.log("Service Worker registered:",this.swRegistration),this.swRegistration}catch(n){return console.error("Service Worker registration failed:",n),null}}static async update(){if(this.swRegistration)try{await this.swRegistration.update(),console.log("Service Worker updated")}catch(e){console.error("Service Worker update failed:",e)}}static async unregister(){if(this.swRegistration)try{await this.swRegistration.unregister(),console.log("Service Worker unregistered")}catch(e){console.error("Service Worker unregistration failed:",e)}}}function Ont(){xQ.initWebVitals(),WO.dnsPrefetch("fonts.googleapis.com"),WO.dnsPrefetch("cdn.egygo.com"),WO.preconnect("https://api.egygo.com"),vQ.preloadCSS("/fonts/inter.css"),vQ.preloadFont("/fonts/inter-var.woff2"),Rnt.register(),window.addEventListener("beforeunload",()=>{xQ.cleanup(),Dnt.logAnalysis()})}const Int=new Zge;Ont();const knt=({children:t})=>{const e=ac();return M.useEffect(()=>{XEe()},[]),s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(JEe,{}),s.jsx(F_e,{cartItemCount:0}),e.pathname!=="/"&&s.jsx(Tnt,{}),s.jsx("main",{className:"flex-1",children:t}),s.jsx(ZEe,{}),s.jsx(eNe,{}),s.jsx(Cnt,{})]})},Lnt=()=>s.jsx(BFe,{children:s.jsx(ute,{children:s.jsx(kSe,{children:s.jsx(I_e,{children:s.jsx(Jge,{client:Int,children:s.jsx(u_e,{children:s.jsx(g_e,{children:s.jsxs(Cge,{children:[s.jsx($he,{position:"top-center",richColors:!0,closeButton:!0}),s.jsx(cxe,{children:s.jsx(knt,{children:s.jsxs(txe,{children:[s.jsx(Ht,{path:"/",element:s.jsx(iNe,{})}),s.jsx(Ht,{path:"/enhanced",element:s.jsx(UFe,{})}),s.jsx(Ht,{path:"/products",element:s.jsx(fz,{})}),s.jsx(Ht,{path:"/product/:id",element:s.jsx(P2e,{})}),s.jsx(Ht,{path:"/categories",element:s.jsx(hz,{})}),s.jsx(Ht,{path:"/category",element:s.jsx(hz,{})}),s.jsx(Ht,{path:"/category/:slug",element:s.jsx(fz,{})}),s.jsx(Ht,{path:"/affiliate",element:s.jsx(GNe,{})}),s.jsx(Ht,{path:"/affiliate/dashboard",element:s.jsx(gz,{})}),s.jsx(Ht,{path:"/merchant",element:s.jsx(uMe,{})}),s.jsx(Ht,{path:"/deals",element:s.jsx(uJe,{})}),s.jsx(Ht,{path:"/cart",element:s.jsx(D2e,{})}),s.jsx(Ht,{path:"/checkout",element:s.jsx(H2e,{})}),s.jsx(Ht,{path:"/wishlist",element:s.jsx(aMe,{})}),s.jsx(Ht,{path:"/login",element:s.jsx(WNe,{})}),s.jsx(Ht,{path:"/register",element:s.jsx(XNe,{})}),s.jsx(Ht,{path:"/forgot-password",element:s.jsx(YNe,{})}),s.jsx(Ht,{path:"/account",element:s.jsx(Bz,{})}),s.jsx(Ht,{path:"/my-account",element:s.jsx(Bz,{})}),s.jsx(Ht,{path:"/settings",element:s.jsx(zJe,{})}),s.jsx(Ht,{path:"/orders",element:s.jsx(Mz,{})}),s.jsx(Ht,{path:"/my-orders",element:s.jsx(Mz,{})}),s.jsx(Ht,{path:"/orders/:orderId/track",element:s.jsx(cMe,{})}),s.jsx(Ht,{path:"/l/:linkCode",element:s.jsx(zFe,{})}),s.jsx(Ht,{path:"/affiliate/links",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(VFe,{})})}),s.jsx(Ht,{path:"/affiliate/analytics",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(OZe,{})})}),s.jsx(Ht,{path:"/affiliate/creatives",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(sJe,{})})}),s.jsx(Ht,{path:"/affiliate/coupons",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(cJe,{})})}),s.jsx(Ht,{path:"/affiliate/dashboard",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(gz,{})})}),s.jsx(Ht,{path:"/affiliate/withdraw",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(RJe,{})})}),s.jsx(Ht,{path:"/affiliate/resources",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(OJe,{})})}),s.jsx(Ht,{path:"/affiliate/support",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(IJe,{})})}),s.jsx(Ht,{path:"/update-affiliate-prefs",element:s.jsx(Kn,{requiredRole:"affiliate",children:s.jsx(lJe,{})})}),s.jsx(Ht,{path:"/admin",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(Sz,{})})}),s.jsx(Ht,{path:"/admin/dashboard",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(Sz,{})})}),s.jsx(Ht,{path:"/admin/pending-accounts",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(UCe,{})})}),s.jsx(Ht,{path:"/admin/analytics",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(KJe,{})})}),s.jsx(Ht,{path:"/admin/products",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(h2e,{})})}),s.jsx(Ht,{path:"/admin/products-advanced",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(oet,{})})}),s.jsx(Ht,{path:"/admin/categories",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(p2e,{})})}),s.jsx(Ht,{path:"/admin/users",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(Nz,{})})}),s.jsx(Ht,{path:"/admin/user-management",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(v2e,{})})}),s.jsx(Ht,{path:"/admin/orders",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(b2e,{})})}),s.jsx(Ht,{path:"/admin/affiliates",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(Nz,{})})}),s.jsx(Ht,{path:"/admin/commissions",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(_2e,{})})}),s.jsx(Ht,{path:"/admin/settings",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx($Je,{})})}),s.jsx(Ht,{path:"/admin/coupons",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(rnt,{})})}),s.jsx(Ht,{path:"/admin/shipping",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(int,{})})}),s.jsx(Ht,{path:"/admin/advanced-settings",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(snt,{})})}),s.jsx(Ht,{path:"/admin/notifications",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(Snt,{})})}),s.jsx(Ht,{path:"/merchant/dashboard",element:s.jsx(Kn,{requiredRole:"merchant",children:s.jsx(GCe,{})})}),s.jsx(Ht,{path:"/intermediary/dashboard",element:s.jsx(Kn,{requiredRole:"merchant",children:s.jsx(tMe,{})})}),s.jsx(Ht,{path:"/intermediary/import",element:s.jsx(Kn,{requiredRole:"merchant",children:s.jsx(fQ,{})})}),s.jsx(Ht,{path:"/admin/vendoor-import",element:s.jsx(Kn,{requiredRole:"admin",children:s.jsx(fQ,{})})}),s.jsx(Ht,{path:"/about",element:s.jsx(fJe,{})}),s.jsx(Ht,{path:"/contact",element:s.jsx(dJe,{})}),s.jsx(Ht,{path:"/shipping",element:s.jsx(hJe,{})}),s.jsx(Ht,{path:"/returns",element:s.jsx(W2e,{})}),s.jsx(Ht,{path:"/faq",element:s.jsx(DJe,{})}),s.jsx(Ht,{path:"/privacy",element:s.jsx(G2e,{})}),s.jsx(Ht,{path:"/terms",element:s.jsx(q2e,{})}),s.jsx(Ht,{path:"*",element:s.jsx(sNe,{})})]})})})]})})})})})})})});che.createRoot(document.getElementById("root")).render(s.jsx(Lnt,{}));

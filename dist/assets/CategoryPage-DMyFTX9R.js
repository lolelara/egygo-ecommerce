import{aX as w,r as l,j as e,a6 as n,s as h,aZ as y,a9 as C,cC as S,av as k,o as P,ab as z}from"./vendor-react-BMq-IxHG.js";import{B as c,e as a,l as B,C as E,f as L}from"./index-C03DQAFm.js";import{am as o}from"./vendor-other-C5r3s8Py.js";import{P as I}from"./loading-screen-Ct7dhCCw.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-GexG3wnZ.js";import"./vendor-animations-W1Z2cmit.js";import"./vendor-appwrite-BGb_FC-V.js";function G(){const{categoryId:d}=w(),[i,j]=l.useState(null),[v,u]=l.useState([]),[t,m]=l.useState("grid"),[g,f]=l.useState("featured"),[p,x]=l.useState(!0);l.useEffect(()=>{(async()=>{x(!0);try{await new Promise(r=>setTimeout(r,500)),j({id:d||"1",name:"إلكترونيات",description:"أحدث الأجهزة الإلكترونية والتقنية",image:"https://via.placeholder.com/1200x300",productCount:156}),u([{id:"1",name:"هاتف ذكي متطور",price:2999,originalPrice:3499,image:"https://via.placeholder.com/300x300",rating:4.5,reviews:234,inStock:!0,discount:14},{id:"2",name:"لابتوب للألعاب",price:5999,originalPrice:6999,image:"https://via.placeholder.com/300x300",rating:4.8,reviews:156,inStock:!0,discount:14},{id:"3",name:"سماعات لاسلكية",price:899,image:"https://via.placeholder.com/300x300",rating:4.3,reviews:89,inStock:!0},{id:"4",name:"ساعة ذكية",price:1299,originalPrice:1599,image:"https://via.placeholder.com/300x300",rating:4.6,reviews:312,inStock:!1,discount:19}])}catch(r){console.error("Error fetching category data:",r),o.error("حدث خطأ في تحميل البيانات")}finally{x(!1)}})()},[d]);const N=s=>{o.success("تمت الإضافة إلى السلة")},b=s=>{o.success("تمت الإضافة إلى المفضلة")};return p?e.jsx(I,{message:"جاري تحميل المنتجات..."}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"relative h-48 md:h-64 rounded-lg overflow-hidden mb-6",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:i.name}),e.jsx("p",{className:"text-lg",children:i.description}),e.jsxs(c,{variant:"secondary",className:"mt-4",children:[i.productCount," منتج"]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[e.jsx(n,{to:"/",className:"hover:text-primary",children:"الرئيسية"}),e.jsx(h,{className:"h-4 w-4"}),e.jsx(n,{to:"/categories",className:"hover:text-primary",children:"الفئات"}),e.jsx(h,{className:"h-4 w-4"}),e.jsx("span",{className:"text-foreground",children:i.name})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(a,{variant:"outline",size:"sm",className:"btn-hover-lift",children:[e.jsx(y,{className:"h-4 w-4 ml-2"}),"تصفية"]}),e.jsxs("select",{className:"px-3 py-1 border rounded-md text-sm",value:g,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"featured",children:"الأكثر رواجاً"}),e.jsx("option",{value:"price-low",children:"السعر: من الأقل للأعلى"}),e.jsx("option",{value:"price-high",children:"السعر: من الأعلى للأقل"}),e.jsx("option",{value:"rating",children:"التقييم"}),e.jsx("option",{value:"newest",children:"الأحدث"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:t==="grid"?"default":"outline",size:"icon",onClick:()=>m("grid"),children:e.jsx(C,{className:"h-4 w-4"})}),e.jsx(a,{variant:t==="list"?"default":"outline",size:"icon",onClick:()=>m("list"),children:e.jsx(S,{className:"h-4 w-4"})})]})]}),e.jsx(B,{className:"mb-6"}),e.jsx("div",{className:t==="grid"?"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6":"space-y-4",children:v.map(s=>e.jsxs(E,{className:`card-hover ${t==="list"?"flex":""}`,children:[e.jsx("div",{className:t==="list"?"w-48":"",children:e.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-t-lg",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"}),s.discount&&e.jsxs(c,{className:"absolute top-2 right-2",variant:"destructive",children:["-",s.discount,"%"]}),!s.inStock&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx(c,{variant:"secondary",children:"نفذ المخزون"})})]})}),e.jsxs(L,{className:`p-4 ${t==="list"?"flex-1":""}`,children:[e.jsx(n,{to:`/product/${s.id}`,children:e.jsx("h3",{className:"font-semibold mb-2 hover:text-primary",children:s.name})}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm ml-1",children:s.rating})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",s.reviews," تقييم)"]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("span",{className:"text-xl font-bold",children:[s.price," ج.م"]}),s.originalPrice&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[s.originalPrice," ج.م"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{size:"sm",className:"flex-1 btn-hover-lift",disabled:!s.inStock,onClick:()=>N(s.id),children:[e.jsx(P,{className:"h-4 w-4 ml-2"}),"أضف للسلة"]}),e.jsx(a,{size:"sm",variant:"outline",onClick:()=>b(s.id),children:e.jsx(z,{className:"h-4 w-4"})})]})]})]},s.id))}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",className:"btn-hover-lift",children:"السابق"}),e.jsx(a,{variant:"default",size:"sm",className:"btn-hover-lift",children:"1"}),e.jsx(a,{variant:"outline",size:"sm",className:"btn-hover-lift",children:"2"}),e.jsx(a,{variant:"outline",size:"sm",className:"btn-hover-lift",children:"3"}),e.jsx(a,{variant:"outline",size:"sm",className:"btn-hover-lift",children:"التالي"})]})})]})}export{G as default};

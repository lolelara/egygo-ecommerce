import{W as de,r as c,m as U,Y as O,j as e,ay as A,bp as me,aZ as Ne,s as le,ar as re,bq as ye,br as we,X as xe,bm as Ce,a7 as E,z as ke,bs as Se,o as Pe,af as Fe,ac as ze,bl as $e,aC as qe,bt as Ie,a8 as Le,bu as Te,az as ne}from"./vendor-react-CCFRLLzk.js";import{c as he,u as ue,C as P,h as F,x as Me,y as Re,r as $,f as o,D as ge,z as pe,A as Ae,E as Ee,F as Oe,T as De,G as Be,H as Q,v as q,a as Ke,J as Qe,K as ce,B as oe,M as W,w as We}from"./index-D7NOjX7I.js";import{T as Xe,a as Ze,b as X,c as Z}from"./tabs-DYtgkDIe.js";import{A as He,a as Ue}from"./avatar-CwtoJR-j.js";import{P as Ge}from"./progress-BMoObgzu.js";import{P as Je}from"./loading-screen-_cEj8hhw.js";import{S as Ve}from"./SEOHead-vAugBEQv.js";import"./vendor-ui-BA32w1ww.js";import"./vendor-query-j_rPqiug.js";import"./vendor-other-CzBBjgu5.js";import"./vendor-animations-CPHPqPXb.js";import"./vendor-appwrite-CuqfvTq9.js";function _e({productId:r}){const{user:t}=he(),{toast:n}=ue(),I=de(),[w,m]=c.useState(!1),[N,g]=c.useState(5),[C,x]=c.useState(""),{data:p,isLoading:j}=U({queryKey:q.reviews(r),queryFn:()=>Q.getProductReviews(r)}),k=(p==null?void 0:p.reviews)||[],h=(p==null?void 0:p.stats)||{totalReviews:0,averageRating:0,ratingDistribution:[]},f=O({mutationFn:Q.createReview,onSuccess:()=>{I.invalidateQueries({queryKey:q.reviews(r)}),m(!1),x(""),g(5),n({title:"âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…",description:"Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ! ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ø±Ø§Ø¬Ø¹ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­"})},onError:i=>{n({title:"Ø®Ø·Ø£",description:i.message||"ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",variant:"destructive"})}}),D=O({mutationFn:({id:i,userId:S})=>Q.deleteReview(i,S),onSuccess:()=>{I.invalidateQueries({queryKey:q.reviews(r)}),n({title:"ØªÙ… Ø§Ù„Ø­Ø°Ù",description:"ØªÙ… Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­"})},onError:i=>{n({title:"Ø®Ø·Ø£",description:i.message||"ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©",variant:"destructive"})}}),G=()=>{if(!t){n({title:"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",description:"Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¥Ø¶Ø§ÙØ© ØªÙ‚ÙŠÙŠÙ…",variant:"destructive"});return}f.mutate({productId:r,userId:t.$id,rating:N,comment:C.trim()||void 0})},L=i=>{t&&confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŸ")&&D.mutate({id:i,userId:t.$id})},T=k.find(i=>t&&i.userEmail===t.email);return j?e.jsx(P,{children:e.jsx(F,{className:"p-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(P,{children:[e.jsx(Me,{children:e.jsx(Re,{children:"ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬"})}),e.jsxs(F,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold mb-2",children:h.averageRating.toFixed(1)}),e.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[1,2,3,4,5].map(i=>e.jsx(A,{className:`h-6 w-6 ${i<=Math.round(h.averageRating)?"fill-yellow-400 text-yellow-400":"text-muted"}`},i))}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ",h.totalReviews," ØªÙ‚ÙŠÙŠÙ…"]})]}),e.jsx("div",{className:"space-y-2",children:h.ratingDistribution.map(i=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 w-16",children:[e.jsx("span",{className:"text-sm font-medium",children:i.stars}),e.jsx(A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"})]}),e.jsx(Ge,{value:i.percentage,className:"flex-1"}),e.jsx("span",{className:"text-sm text-muted-foreground w-12 text-right",children:i.count})]},i.stars))})]}),e.jsx($,{className:"my-6"}),t&&!T&&e.jsxs(o,{onClick:()=>m(!0),className:"w-full",children:[e.jsx(me,{className:"h-4 w-4 ml-2 rtl:ml-0 rtl:mr-2"}),"Ø£Ø¶Ù ØªÙ‚ÙŠÙŠÙ…Ùƒ"]}),!t&&e.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¥Ø¶Ø§ÙØ© ØªÙ‚ÙŠÙŠÙ…"})]})]}),e.jsx("div",{className:"space-y-4",children:k.length===0?e.jsx(P,{children:e.jsx(F,{className:"p-6 text-center text-muted-foreground",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ø¹Ø¯. ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠÙ‚ÙŠÙ…!"})}):k.map(i=>e.jsx(P,{children:e.jsxs(F,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(He,{children:e.jsx(Ue,{children:i.userName.substring(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:i.userName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(S=>e.jsx(A,{className:`h-4 w-4 ${S<=i.rating?"fill-yellow-400 text-yellow-400":"text-muted"}`},S))}),e.jsx("span",{className:"text-sm text-muted-foreground",children:i.date})]})]})]}),t&&i.userEmail===t.email&&e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>L(i.id),disabled:D.isPending,children:e.jsx(Ne,{className:"h-4 w-4 text-destructive"})})]}),i.comment&&e.jsx("p",{className:"text-muted-foreground",children:i.comment})]})},i.id))}),e.jsx(ge,{open:w,onOpenChange:m,children:e.jsxs(pe,{children:[e.jsxs(Ae,{children:[e.jsx(Ee,{children:"Ø£Ø¶Ù ØªÙ‚ÙŠÙŠÙ…Ùƒ"}),e.jsx(Oe,{children:"Ø´Ø§Ø±ÙƒÙ†Ø§ Ø±Ø£ÙŠÙƒ Ø­ÙˆÙ„ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(i=>e.jsx("button",{type:"button",onClick:()=>g(i),className:"focus:outline-none",children:e.jsx(A,{className:`h-8 w-8 cursor-pointer transition-colors ${i<=N?"fill-yellow-400 text-yellow-400":"text-muted hover:text-yellow-200"}`})},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx(De,{placeholder:"Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§...",value:C,onChange:i=>x(i.target.value),rows:4})]})]}),e.jsxs(Be,{children:[e.jsx(o,{variant:"outline",onClick:()=>m(!1),disabled:f.isPending,children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx(o,{onClick:G,disabled:f.isPending,children:f.isPending?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...":"Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"})]})]})})]})}function Ye({images:r}){var x,p,j,k;const[t,n]=c.useState(0),[I,w]=c.useState(!1),[m,N]=c.useState(!1),g=()=>{n(h=>(h+1)%r.length)},C=()=>{n(h=>(h-1+r.length)%r.length)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800 group",children:[e.jsx("img",{src:(x=r[t])==null?void 0:x.url,alt:(p=r[t])==null?void 0:p.alt,className:`w-full h-full object-contain transition-transform duration-300 ${m?"scale-150 cursor-zoom-out":"cursor-zoom-in"}`,onClick:()=>N(!m)}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"secondary",size:"icon",className:"absolute left-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 hover:bg-white",onClick:C,children:e.jsx(le,{className:"h-5 w-5"})}),e.jsx(o,{variant:"secondary",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 hover:bg-white",onClick:g,children:e.jsx(re,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(o,{variant:"secondary",size:"sm",className:"bg-white/90 hover:bg-white",onClick:()=>N(!m),children:[e.jsx(ye,{className:"h-4 w-4 ml-1"}),m?"ØªØµØºÙŠØ±":"ØªÙƒØ¨ÙŠØ±"]}),e.jsxs(o,{variant:"secondary",size:"sm",className:"bg-white/90 hover:bg-white",onClick:()=>w(!0),children:[e.jsx(we,{className:"h-4 w-4 ml-1"}),"Ø´Ø§Ø´Ø© ÙƒØ§Ù…Ù„Ø©"]})]}),r.length>1&&e.jsxs("div",{className:"absolute top-4 right-4 bg-black/60 text-white px-3 py-1 rounded-full text-sm",children:[t+1," / ",r.length]})]}),r.length>1&&e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-5 gap-2",children:r.map((h,f)=>e.jsx("button",{onClick:()=>n(f),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${t===f?"border-primary ring-2 ring-primary/20":"border-transparent hover:border-gray-300"}`,children:e.jsx("img",{src:h.url,alt:h.alt,className:"w-full h-full object-cover"})},f))})]}),e.jsx(ge,{open:I,onOpenChange:w,children:e.jsx(pe,{className:"max-w-7xl w-full h-[90vh] p-0",children:e.jsxs("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:[e.jsx(o,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 text-white hover:bg-white/20 z-10",onClick:()=>w(!1),children:e.jsx(xe,{className:"h-6 w-6"})}),e.jsx("img",{src:(j=r[t])==null?void 0:j.url,alt:(k=r[t])==null?void 0:k.alt,className:"max-w-full max-h-full object-contain"}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20",onClick:C,children:e.jsx(le,{className:"h-8 w-8"})}),e.jsx(o,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20",onClick:g,children:e.jsx(re,{className:"h-8 w-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-4 py-2 rounded-full",children:[t+1," / ",r.length]})]})]})})})]})}const H={black:{name:"Ø£Ø³ÙˆØ¯",hex:"#000000"},white:{name:"Ø£Ø¨ÙŠØ¶",hex:"#FFFFFF",border:!0},blue:{name:"Ø£Ø²Ø±Ù‚",hex:"#3B82F6"},red:{name:"Ø£Ø­Ù…Ø±",hex:"#EF4444"},green:{name:"Ø£Ø®Ø¶Ø±",hex:"#10B981"},yellow:{name:"Ø£ØµÙØ±",hex:"#FBBF24"},purple:{name:"Ø¨Ù†ÙØ³Ø¬ÙŠ",hex:"#A855F7"},pink:{name:"ÙˆØ±Ø¯ÙŠ",hex:"#EC4899"},gray:{name:"Ø±Ù…Ø§Ø¯ÙŠ",hex:"#6B7280"},brown:{name:"Ø¨Ù†ÙŠ",hex:"#92400E"}};function xs(){var V,_,Y,ee,se,ae,te;const{id:r}=Ce(),{user:t}=he(),{toast:n}=ue(),{addItem:I}=Ke(),w=de(),[m,N]=c.useState(0),[g,C]=c.useState(1),[x,p]=c.useState(""),[j,k]=c.useState(""),[h,f]=c.useState(!1),[D,G]=c.useState(!1),{data:L=[]}=U({queryKey:q.wishlist((t==null?void 0:t.$id)||""),queryFn:()=>W.getUserWishlist((t==null?void 0:t.$id)||""),enabled:!!(t!=null&&t.$id)}),T=c.useMemo(()=>L.some(a=>a.productId===r),[L,r]),i=c.useMemo(()=>L.find(a=>a.productId===r),[L,r]),S=O({mutationFn:()=>W.addToWishlist((t==null?void 0:t.$id)||"",r||""),onSuccess:()=>{w.invalidateQueries({queryKey:q.wishlist((t==null?void 0:t.$id)||"")}),n({title:"âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©",description:"ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©"})},onError:a=>{n({title:"Ø®Ø·Ø£",description:a.message||"ÙØ´Ù„ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù…ÙØ¶Ù„Ø©",variant:"destructive"})}}),B=O({mutationFn:()=>W.removeFromWishlist((i==null?void 0:i.id)||"",(t==null?void 0:t.$id)||""),onSuccess:()=>{w.invalidateQueries({queryKey:q.wishlist((t==null?void 0:t.$id)||"")}),n({title:"ØªÙ…Øª Ø§Ù„Ø¥Ø²Ø§Ù„Ø©",description:"ØªÙ… Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙØ¶Ù„Ø©"})},onError:a=>{n({title:"Ø®Ø·Ø£",description:a.message||"ÙØ´Ù„ ÙÙŠ Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ù…ÙØ¶Ù„Ø©",variant:"destructive"})}}),{data:s,isLoading:je}=U({queryKey:[...q.products,r],queryFn:()=>We.getById(r),enabled:!!r,retry:1,refetchOnWindowFocus:!1}),M=s==null?void 0:s.colorSizeInventory,b=c.useMemo(()=>{if(!(s!=null&&s.id)||!M)return[];try{if(M==="[]"||M==="")return[];const a=JSON.parse(M);if(Array.isArray(a)&&a.length>0)return console.log("ðŸ“¦ Product inventory loaded:",{inventory:a}),a}catch(a){console.error("âŒ Error parsing inventory:",a)}return[]},[s==null?void 0:s.id,M]),u=c.useMemo(()=>{if(!s)return 0;if(b.length>0){const l=b.reduce((d,y)=>d+(y.quantity||0),0);return console.log("ðŸ“¦ Total stock from inventory:",l),l}const a=s.stock||s.stockQuantity||0;return console.log("ðŸ“¦ Using stock field:",a),a},[s==null?void 0:s.id,b]),R=c.useMemo(()=>!b||b.length===0?[]:[...new Set(b.filter(l=>l.quantity>0&&l.color).map(l=>l.color.toLowerCase()))].map(l=>{var d,y,z;return{name:((d=H[l])==null?void 0:d.name)||l,value:l,hex:((y=H[l])==null?void 0:y.hex)||"#999999",border:(z=H[l])==null?void 0:z.border}}),[b]),K=c.useMemo(()=>{if(!b||b.length===0)return[];const a=[...new Set(b.filter(d=>d.quantity>0&&d.size).map(d=>d.size.toUpperCase()))],l=["XS","S","M","L","XL","XXL","XXXL"];return a.sort((d,y)=>{const z=l.indexOf(d),ie=l.indexOf(y);return z===-1?1:ie===-1?-1:z-ie})},[b]);if(je)return e.jsx(Je,{message:"Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬..."});if(!s)return e.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯"}),e.jsx(o,{asChild:!0,children:e.jsx(E,{to:"/products",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª"})})]});const v=(V=s.images)!=null&&V.length?s.images:[{url:Qe.product(s==null?void 0:s.name),alt:(s==null?void 0:s.name)||"Ù…Ù†ØªØ¬"}],J=s.originalPrice?Math.round((s.originalPrice-s.price)/s.originalPrice*100):0;c.useEffect(()=>{s!=null&&s.id&&ce.trackProductView(s.id,s.name)},[s==null?void 0:s.id]);const fe=()=>{var d,y;if(R.length>0&&!x){n({title:"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ†",description:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù„ÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©",variant:"destructive"});return}if(K.length>0&&!j){n({title:"ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù‚Ø§Ø³",description:"Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù‚Ø§Ø³ Ø§Ù„Ù…Ù†ØªØ¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©",variant:"destructive"});return}const a=x?(d=R.find(z=>z.value===x))==null?void 0:d.name:void 0;I({productId:s.id,name:s.name,price:s.price,originalPrice:s.originalPrice,image:((y=v[0])==null?void 0:y.url)||"",quantity:g,stockQuantity:u,inStock:u>0,color:a,size:j||void 0});const l=[a,j].filter(Boolean).join(" - ");ce.trackAddToCart(s.id,s.price),n({title:"âœ… ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚",description:`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${g} Ù…Ù† ${s.name}${l?` (${l})`:""} Ø¥Ù„Ù‰ Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚`})},be=()=>{if(!t){n({title:"ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",description:"ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙØ¶Ù„Ø©",variant:"destructive"});return}T?B.mutate():S.mutate()},ve=()=>{navigator.share?navigator.share({title:s.name,text:s.description,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),n({title:"ØªÙ… Ø§Ù„Ù†Ø³Ø®",description:"ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†ØªØ¬ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©"}))};return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{title:s.name,description:s.description,keywords:[s.name,((_=s.category)==null?void 0:_.name)||"","Ù…Ù†ØªØ¬","ØªØ³ÙˆÙ‚"],image:((Y=s.images)==null?void 0:Y[0])||"",type:"product"}),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(E,{to:"/",className:"hover:text-foreground",children:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}),e.jsx("span",{children:"/"}),e.jsx(E,{to:"/products",className:"hover:text-foreground",children:"Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª"}),e.jsx("span",{children:"/"}),(ee=s.category)!=null&&ee.slug?e.jsx(E,{to:`/category/${s.category.slug}`,className:"hover:text-foreground",children:s.category.name}):e.jsx("span",{className:"text-muted-foreground",children:((se=s.category)==null?void 0:se.name)||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-foreground",children:s.name})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{children:[e.jsx(Ye,{images:v}),J>0&&e.jsxs(oe,{className:"mt-4 bg-gradient-to-r from-red-500 to-orange-500 text-lg px-4 py-2",children:["ÙˆÙÙ‘Ø± ",(s.originalPrice-s.price).toFixed(2)," Ø¬.Ù… (",J,"% Ø®ØµÙ…)"]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((a,l)=>e.jsx(A,{className:`h-5 w-5 ${l<Math.floor(s.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},l)),e.jsxs("span",{className:"text-sm text-muted-foreground mr-2",children:["(",s.reviewCount," ØªÙ‚ÙŠÙŠÙ…)"]})]}),e.jsx($,{orientation:"vertical",className:"h-5"}),e.jsx(oe,{variant:u>0?"default":"destructive",children:u>0?`Ù…ØªÙˆÙØ± (${u})`:"ØºÙŠØ± Ù…ØªÙˆÙØ±"})]})]}),e.jsx($,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-baseline gap-3",children:[e.jsxs("span",{className:"text-4xl font-bold text-primary",children:[s.price.toLocaleString()," Ø¬.Ù…"]}),s.originalPrice&&e.jsxs("span",{className:"text-2xl text-muted-foreground line-through",children:[s.originalPrice.toLocaleString()," Ø¬.Ù…"]})]}),s.originalPrice&&e.jsxs("p",{className:"text-sm text-green-600",children:["ÙˆÙÙ‘Ø± ",(s.originalPrice-s.price).toLocaleString()," Ø¬.Ù…"]})]}),e.jsx($,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:s.description})]}),e.jsx($,{}),R.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold",children:["Ø§Ù„Ù„ÙˆÙ†: ",x&&e.jsx("span",{className:"text-primary",children:(ae=R.find(a=>a.value===x))==null?void 0:ae.name})]}),e.jsx("div",{className:"flex gap-3 flex-wrap",children:R.map(a=>e.jsx("button",{onClick:()=>p(a.value),className:`relative w-12 h-12 rounded-full transition-all ${x===a.value?"ring-2 ring-primary ring-offset-2 scale-110":"hover:scale-105"} ${a.border?"border-2 border-gray-300":""}`,style:{backgroundColor:a.hex},title:a.name,children:x===a.value&&e.jsx(ke,{className:"h-6 w-6 absolute inset-0 m-auto text-white drop-shadow-lg",style:{color:a.value==="white"?"#000000":"#ffffff"}})},a.value))})]}),K.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold",children:["Ø§Ù„Ù…Ù‚Ø§Ø³: ",j&&e.jsx("span",{className:"text-primary",children:j})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:K.map(a=>e.jsx("button",{onClick:()=>k(a),className:`px-6 py-3 rounded-lg border-2 font-medium transition-all ${j===a?"border-primary bg-primary text-primary-foreground":"border-muted hover:border-primary/50"}`,children:a},a))})]}),e.jsx($,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-semibold",children:"Ø§Ù„ÙƒÙ…ÙŠØ©:"}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>C(Math.max(1,g-1)),disabled:u===0,children:e.jsx(Se,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-4 font-semibold min-w-[3rem] text-center",children:g}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>C(Math.min(u,g+1)),disabled:u===0,children:e.jsx(me,{className:"h-4 w-4"})})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",u," Ù…ØªÙˆÙØ±)"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(o,{size:"lg",className:"w-full h-14 text-lg bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",onClick:fe,disabled:u===0,children:[e.jsx(Pe,{className:"ml-2 h-5 w-5"}),"Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© ðŸ›’"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(o,{size:"lg",variant:T?"default":"outline",onClick:be,disabled:S.isPending||B.isPending,className:"h-12",children:S.isPending||B.isPending?e.jsx(Fe,{className:"h-5 w-5 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:`h-5 w-5 ml-2 ${T?"fill-current":""}`}),T?"ÙÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©":"Ø£Ø¶Ù Ù„Ù„Ù…ÙØ¶Ù„Ø©"]})}),e.jsxs(o,{size:"lg",variant:"outline",onClick:ve,className:"h-12",children:[e.jsx($e,{className:"h-5 w-5 ml-2"}),"Ù…Ø´Ø§Ø±ÙƒØ©"]})]})]})]}),e.jsx(P,{className:"border-2",children:e.jsxs(F,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-green-50 dark:bg-green-950/20",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:e.jsx(qe,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ ðŸšš"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø®Ù„Ø§Ù„ 2-5 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 dark:bg-blue-950/20",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:e.jsx(Ie,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Ø¥Ø±Ø¬Ø§Ø¹ Ù…Ø¬Ø§Ù†ÙŠ ðŸ”„"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø®Ù„Ø§Ù„ 14 ÙŠÙˆÙ… Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-purple-50 dark:bg-purple-950/20",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:e.jsx(Le,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Ø¯ÙØ¹ Ø¢Ù…Ù† ðŸ”’"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ù…Ø´ÙØ±Ø© 100%"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-orange-50 dark:bg-orange-950/20",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:e.jsx(Te,{className:"h-5 w-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold",children:"Ù…Ù†ØªØ¬ Ø£ØµÙ„ÙŠ âœ“"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø£ØµØ§Ù„Ø©"})]})]})]})}),(t==null?void 0:t.role)!=="customer"&&e.jsx(P,{className:"bg-gradient-to-br from-primary/10 to-brand-purple/10",children:e.jsxs(F,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø´Ø±ÙƒØ§Ø¡"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:[s.affiliateCommission,"%"]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Ø§ÙƒØ³Ø¨ ",(s.price*s.affiliateCommission/100).toLocaleString()," ","Ø¬.Ù… Ø¹Ù„Ù‰ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹"]})]})})]})]}),e.jsxs(Xe,{defaultValue:"reviews",className:"space-y-8",children:[e.jsxs(Ze,{className:"grid w-full grid-cols-3",children:[e.jsxs(X,{value:"reviews",children:["Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª (",s.reviewCount,")"]}),e.jsx(X,{value:"specs",children:"Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª"}),e.jsx(X,{value:"shipping",children:"Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„Ø¥Ø±Ø¬Ø§Ø¹"})]}),e.jsx(Z,{value:"reviews",className:"space-y-6",children:e.jsx(_e,{productId:s.id})}),e.jsx(Z,{value:"specs",children:e.jsx(P,{children:e.jsx(F,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"Ø±Ù…Ø² Ø§Ù„Ù…Ù†ØªØ¬ (SKU)"}),e.jsx("span",{children:s.sku||"ØºÙŠØ± Ù…ØªÙˆÙØ±"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"Ø§Ù„ÙØ¦Ø©"}),e.jsx("span",{children:((te=s.category)==null?void 0:te.name)||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2 border-b",children:[e.jsx("span",{className:"font-semibold",children:"Ø§Ù„Ø­Ø§Ù„Ø©"}),e.jsx("span",{children:u>0?"Ù…ØªÙˆÙØ±":"ØºÙŠØ± Ù…ØªÙˆÙØ±"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[e.jsx("span",{className:"font-semibold",children:"Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªÙˆÙØ±Ø©"}),e.jsx("span",{children:u})]})]})})})}),e.jsx(Z,{value:"shipping",children:e.jsx(P,{children:e.jsxs(F,{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø´Ø­Ù†"}),e.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"â€¢ Ø§Ù„ØªÙˆØµÙŠÙ„ Ø®Ù„Ø§Ù„ 2-5 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„"}),e.jsx("li",{children:"â€¢ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ù…ØªØ§Ø­"}),e.jsx("li",{children:"â€¢ ØªØªØ¨Ø¹ Ø§Ù„Ø´Ø­Ù†Ø© Ù…ØªØ§Ø­ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª"}),e.jsx("li",{children:"â€¢ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø´Ø­Ù† ØªÙØ­Ø³Ø¨ Ø­Ø³Ø¨ Ø§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ù…Ù†Ø·Ù‚Ø©"})]})]}),e.jsx($,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹"}),e.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[e.jsx("li",{children:"â€¢ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹ Ø®Ù„Ø§Ù„ 14 ÙŠÙˆÙ… Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…"}),e.jsx("li",{children:"â€¢ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ Ø­Ø§Ù„ØªÙ‡ Ø§Ù„Ø£ØµÙ„ÙŠØ©"}),e.jsx("li",{children:"â€¢ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ ÙƒØ§Ù…Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø£Ùˆ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…Ù†ØªØ¬"}),e.jsx("li",{children:"â€¢ ØªÙƒÙ„ÙØ© Ø§Ù„Ø´Ø­Ù† Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹"})]})]})]})})})]})]}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-4",onClick:()=>f(!1),children:[e.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors z-10",children:e.jsx(xe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"absolute top-4 left-4 text-white text-sm bg-black/50 px-3 py-1 rounded-full",children:[m+1," / ",v.length]}),e.jsx("div",{className:"relative max-w-6xl max-h-[90vh] w-full h-full flex items-center justify-center",children:e.jsx("img",{src:v[m].url,alt:v[m].alt||s.name,className:"max-w-full max-h-full object-contain",onClick:a=>a.stopPropagation()})}),v.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a=>{a.stopPropagation(),N(l=>l>0?l-1:v.length-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(ne,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:a=>{a.stopPropagation(),N(l=>l<v.length-1?l+1:0)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:e.jsx(ne,{className:"w-6 h-6 text-white rotate-180"})})]}),v.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 bg-black/50 p-2 rounded-lg",children:v.map((a,l)=>e.jsx("button",{onClick:d=>{d.stopPropagation(),N(l)},className:`w-16 h-16 rounded overflow-hidden border-2 transition-all ${m===l?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:a.url,alt:a.alt||"",className:"w-full h-full object-cover"})},l))})]})]})]})}export{xs as default};

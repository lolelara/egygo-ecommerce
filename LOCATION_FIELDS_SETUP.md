# ๐บ๏ธ Location Fields Setup Guide

## Overview
ุชู ุฅุถุงูุฉ ุญููู ุงููุญุงูุธุฉ ูุงููุฑูุฒ ุฅูู ูููุฐุฌ ุงูุชุณุฌูู ููุงุนุฏุฉ ุงูุจูุงูุงุช.

---

## ๐ ุงูุญููู ุงููุถุงูุฉ

### 1. **governorate** (ุงููุญุงูุธุฉ)
- **ุงูููุน:** String
- **ุงูุญุฏ ุงูุฃูุตู:** 255 ุญุฑู
- **ุฅุฌุจุงุฑู:** ูุนู (ูููุณุชุฎุฏููู ุงูุฌุฏุฏ)
- **ุงุฎุชูุงุฑู:** ูููุณุชุฎุฏููู ุงูุญุงูููู

### 2. **city** (ุงููุฑูุฒ/ุงููุฏููุฉ)
- **ุงูููุน:** String
- **ุงูุญุฏ ุงูุฃูุตู:** 255 ุญุฑู
- **ุฅุฌุจุงุฑู:** ูุนู (ูููุณุชุฎุฏููู ุงูุฌุฏุฏ)
- **ุงุฎุชูุงุฑู:** ูููุณุชุฎุฏููู ุงูุญุงูููู

---

## ๐ Setup Instructions

### ุงูุฎุทูุฉ 1: ุชุดุบูู Script ุฅุถุงูุฉ ุงูุญููู

```bash
npm run setup:locations
```

ูุฐุง ุงูุฃูุฑ ุณูููู ุจู:
- โ ุฅุถุงูุฉ ุญูู `governorate` ุฅูู `userPreferences` collection
- โ ุฅุถุงูุฉ ุญูู `city` ุฅูู `userPreferences` collection

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุชุดุบูู ุงูุฃูุฑุ ูุฌุจ ุฃู ุชุฑู:
```
โ Governorate field added
โ City field added
โ Location fields added successfully!
```

---

## ๐ ุงูุจูุงูุงุช ุงููุชุงุญุฉ

### ุงููุญุงูุธุงุช (27 ูุญุงูุธุฉ)
```
ุงููุงูุฑุฉุ ุงูุฌูุฒุฉุ ุงูุฅุณููุฏุฑูุฉุ ุงูููููุจูุฉุ ุงูุดุฑููุฉุ ุงูุฏููููุฉุ
ุงูุจุญูุฑุฉุ ุงูุบุฑุจูุฉุ ุงููููููุฉุ ููุฑ ุงูุดูุฎุ ุฏููุงุทุ ุจูุฑุณุนูุฏุ
ุงูุฅุณูุงุนูููุฉุ ุงูุณููุณุ ุดูุงู ุณููุงุกุ ุฌููุจ ุณููุงุกุ ุงูููููุ
ุจูู ุณูููุ ุงููููุงุ ุฃุณููุทุ ุณููุงุฌุ ููุงุ ุงูุฃูุตุฑุ ุฃุณูุงูุ
ุงูุจุญุฑ ุงูุฃุญูุฑุ ุงููุงุฏู ุงูุฌุฏูุฏุ ูุทุฑูุญ
```

### ุงููุฑุงูุฒ (200+ ูุฑูุฒ/ูุฏููุฉ)
- ูู ูุญุงูุธุฉ ุชุญุชูู ุนูู ูุฑุงูุฒูุง ููุฏููุง
- ูุชู ุชุญููู ุงููุฑุงูุฒ ุฏููุงููููุงู ุนูุฏ ุงุฎุชูุงุฑ ุงููุญุงูุธุฉ

---

## ๐ป ุงุณุชุฎุฏุงู ุงูุญููู ูู ุงูููุฏ

### ูู ูููุฐุฌ ุงูุชุณุฌูู:

```typescript
const [formData, setFormData] = useState({
  // ... ุญููู ุฃุฎุฑู
  governorate: "",
  city: "",
});
```

### ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```typescript
await databases.createDocument(
  appwriteConfig.databaseId,
  'userPreferences',
  ID.unique(),
  {
    // ... ุญููู ุฃุฎุฑู
    governorate: formData.governorate,
    city: formData.city,
  }
);
```

### ุงุณุชุฑุฌุงุน ุงูุจูุงูุงุช:

```typescript
const user = await databases.getDocument(
  appwriteConfig.databaseId,
  'userPreferences',
  userId
);

console.log(user.governorate); // "ุงููุงูุฑุฉ"
console.log(user.city);        // "ูุฏููุฉ ูุตุฑ"
```

---

## ๐ฏ ุงููููุงุช ุงููุนุฏูุฉ

### 1. **client/lib/egypt-locations.ts**
- ูุงุฆูุฉ ูุงููุฉ ุจุงููุญุงูุธุงุช ูุงููุฑุงูุฒ
- ุฏูุงู ูุณุงุนุฏุฉ ููุญุตูู ุนูู ุงูุจูุงูุงุช

### 2. **client/pages/Register.tsx**
- ุฅุถุงูุฉ ุญููู ุงููุญุงูุธุฉ ูุงููุฑูุฒ
- Validation ููุญููู
- ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. **scripts/add-location-fields.ts**
- Script ูุฅุถุงูุฉ ุงูุญููู ุฅูู Collection
- ูููู ุชุดุบููู ุจุฃูุงู ุนุฏุฉ ูุฑุงุช

### 4. **package.json**
- ุฅุถุงูุฉ `setup:locations` script

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

### ูููุณุชุฎุฏููู ุงูุญุงูููู:
- ุงูุญููู **ุงุฎุชูุงุฑูุฉ** ูููุณุชุฎุฏููู ุงูุญุงูููู
- ูู ูุชู ุฅุฌุจุงุฑูู ุนูู ุฅุฏุฎุงู ุงูุจูุงูุงุช
- ูููู ุฅุถุงูุฉ ุตูุญุฉ ูุชุญุฏูุซ ุงูุจูุงูุงุช ูุงุญูุงู

### ูููุณุชุฎุฏููู ุงูุฌุฏุฏ:
- ุงูุญููู **ุฅุฌุจุงุฑูุฉ** ุนูุฏ ุงูุชุณุฌูู
- ูุง ูููู ุฅููุงู ุงูุชุณุฌูู ุจุฏูููุง
- ูุชู ุงูุชุญูู ูู ุงูุจูุงูุงุช ูุจู ุงูุญูุธ

---

## ๐ง Troubleshooting

### ุงููุดููุฉ: "Attribute already exists"
**ุงูุญู:** ุงูุญููู ููุฌูุฏุฉ ุจุงููุนูุ ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุงูุชุดุบูู

### ุงููุดููุฉ: "Collection not found"
**ุงูุญู:** ุชุฃูุฏ ูู ุชุดุบูู `npm run setup:preferences` ุฃููุงู

### ุงููุดููุฉ: "Invalid API key"
**ุงูุญู:** ุชุญูู ูู ููู `.env` ูุชุฃูุฏ ูู ูุฌูุฏ `APPWRITE_API_KEY`

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

```
โ 27 ูุญุงูุธุฉ
โ 200+ ูุฑูุฒ/ูุฏููุฉ
โ 2 ุญูู ุฌุฏูุฏ
โ Validation ูุงูู
โ Dynamic loading
โ Database ready
```

---

## ๐ ุงูุฎูุงุตุฉ

ุงูุขู ูุธุงู ุงูุชุณุฌูู ูุฏุนู:
- โ ุงุฎุชูุงุฑ ุงููุญุงูุธุฉ (ุฅุฌุจุงุฑู)
- โ ุงุฎุชูุงุฑ ุงููุฑูุฒ/ุงููุฏููุฉ (ุฅุฌุจุงุฑู)
- โ ุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ Validation ูุงูู
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** EgyGo Team  
**ุงูุชุงุฑูุฎ:** 2025-01-18
